/*! For license information please see main.268552b3.js.LICENSE.txt */
(()=>{var e={755:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},i=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var r,s=t.call(e,"constructor"),a=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!s&&!a)return!1;for(r in e);return"undefined"===typeof r||t.call(e,r)},o=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},l=function(e,n){if("__proto__"===n){if(!t.call(e,n))return;if(s)return s(e,n).value}return e[n]};e.exports=function e(){var t,n,r,s,A,c,u=arguments[0],d=1,h=arguments.length,p=!1;for("boolean"===typeof u&&(p=u,u=arguments[1]||{},d=2),(null==u||"object"!==typeof u&&"function"!==typeof u)&&(u={});d<h;++d)if(null!=(t=arguments[d]))for(n in t)r=l(u,n),u!==(s=l(t,n))&&(p&&s&&(i(s)||(A=a(s)))?(A?(A=!1,c=r&&a(r)?r:[]):c=r&&i(r)?r:{},o(u,{name:n,newValue:e(p,c,s)})):"undefined"!==typeof s&&o(u,{name:n,newValue:s}));return u}},1052:function(e){e.exports=function(){"use strict";var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},n.apply(this,arguments)};function r(e,t,n,r){function s(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function i(e){try{l(r.next(e))}catch(Ht){a(Ht)}}function o(e){try{l(r.throw(e))}catch(Ht){a(Ht)}}function l(e){e.done?n(e.value):s(e.value).then(i,o)}l((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,s,a,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(s=(s=i.trys).length>0&&s[s.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(Ht){a=[6,Ht],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function a(e,t,n){if(n||2===arguments.length)for(var r,s=0,a=t.length;s<a;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||t)}for(var i=function(){function e(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return e.prototype.add=function(t,n,r,s){return new e(this.left+t,this.top+n,this.width+r,this.height+s)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find((function(e){return 0!==e.width}));return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),o=function(e,t){return i.fromClientRect(e,t.getBoundingClientRect())},l=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),s=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new i(0,0,r,s)},A=function(e){for(var t=[],n=0,r=e.length;n<r;){var s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var a=e.charCodeAt(n++);56320===(64512&a)?t.push(((1023&s)<<10)+(1023&a)+65536):(t.push(s),n--)}else t.push(s)}return t},c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],s=-1,a="";++s<n;){var i=e[s];i<=65535?r.push(i):(i-=65536,r.push(55296+(i>>10),i%1024+56320)),(s+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="undefined"===typeof Uint8Array?[]:new Uint8Array(256),h=0;h<u.length;h++)d[u.charCodeAt(h)]=h;for(var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m="undefined"===typeof Uint8Array?[]:new Uint8Array(256),f=0;f<p.length;f++)m[p.charCodeAt(f)]=f;for(var g=function(e){var t,n,r,s,a,i=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);var A="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(i):new Array(i),c=Array.isArray(A)?A:new Uint8Array(A);for(t=0;t<o;t+=4)n=m[e.charCodeAt(t)],r=m[e.charCodeAt(t+1)],s=m[e.charCodeAt(t+2)],a=m[e.charCodeAt(t+3)],c[l++]=n<<2|r>>4,c[l++]=(15&r)<<4|s>>2,c[l++]=(3&s)<<6|63&a;return A},v=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},y=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},w=5,b=11,x=2,B=65536>>w,C=(1<<w)-1,k=B+(1024>>w)+32,S=65536>>b,E=(1<<b-w)-1,j=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},I=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},F=function(e,t){var n=g(e),r=Array.isArray(n)?y(n):new Uint32Array(n),s=Array.isArray(n)?v(n):new Uint16Array(n),a=24,i=j(s,a/2,r[4]/2),o=2===r[5]?j(s,(a+r[4])/2):I(r,Math.ceil((a+r[4])/4));return new Q(r[0],r[1],r[2],r[3],i,o)},Q=function(){function e(e,t,n,r,s,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=s,this.data=a}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>w])<<x)+(e&C),this.data[t];if(e<=65535)return t=((t=this.index[B+(e-55296>>w)])<<x)+(e&C),this.data[t];if(e<this.highStart)return t=k-S+(e>>b),t=this.index[t],t+=e>>w&E,t=((t=this.index[t])<<x)+(e&C),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",M="undefined"===typeof Uint8Array?[]:new Uint8Array(256),U=0;U<N.length;U++)M[N.charCodeAt(U)]=U;var T=50,D=1,H=2,L=3,P=4,O=5,R=7,V=8,K=9,z=10,_=11,G=12,W=13,Y=14,q=15,X=16,J=17,Z=18,$=19,ee=20,te=21,ne=22,re=23,se=24,ae=25,ie=26,oe=27,le=28,Ae=29,ce=30,ue=31,de=32,he=33,pe=34,me=35,fe=36,ge=37,ve=38,ye=39,we=40,be=41,xe=42,Be=43,Ce=[9001,65288],ke="!",Se="\xd7",Ee="\xf7",je=F("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Ie=[ce,fe],Fe=[D,H,L,O],Qe=[z,V],Ne=[oe,ie],Me=Fe.concat(Qe),Ue=[ve,ye,we,pe,me],Te=[q,W],De=function(e,t){void 0===t&&(t="strict");var n=[],r=[],s=[];return e.forEach((function(e,a){var i=je.get(e);if(i>T?(s.push(!0),i-=T):s.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(a),n.push(X);if(i===P||i===_){if(0===a)return r.push(a),n.push(ce);var o=n[a-1];return-1===Me.indexOf(o)?(r.push(r[a-1]),n.push(o)):(r.push(a),n.push(ce))}return r.push(a),i===ue?n.push("strict"===t?te:ge):i===xe||i===Ae?n.push(ce):i===Be?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(ge):n.push(ce):void n.push(i)})),[r,n,s]},He=function(e,t,n,r){var s=r[n];if(Array.isArray(e)?-1!==e.indexOf(s):e===s)for(var a=n;a<=r.length;){if((l=r[++a])===t)return!0;if(l!==z)break}if(s===z)for(a=n;a>0;){var i=r[--a];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var o=n;o<=r.length;){var l;if((l=r[++o])===t)return!0;if(l!==z)break}if(i!==z)break}return!1},Le=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==z)return r;n--}return 0},Pe=function(e,t,n,r,s){if(0===n[r])return Se;var a=r-1;if(Array.isArray(s)&&!0===s[a])return Se;var i=a-1,o=a+1,l=t[a],A=i>=0?t[i]:0,c=t[o];if(l===H&&c===L)return Se;if(-1!==Fe.indexOf(l))return ke;if(-1!==Fe.indexOf(c))return Se;if(-1!==Qe.indexOf(c))return Se;if(Le(a,t)===V)return Ee;if(je.get(e[a])===_)return Se;if((l===de||l===he)&&je.get(e[o])===_)return Se;if(l===R||c===R)return Se;if(l===K)return Se;if(-1===[z,W,q].indexOf(l)&&c===K)return Se;if(-1!==[J,Z,$,se,le].indexOf(c))return Se;if(Le(a,t)===ne)return Se;if(He(re,ne,a,t))return Se;if(He([J,Z],te,a,t))return Se;if(He(G,G,a,t))return Se;if(l===z)return Ee;if(l===re||c===re)return Se;if(c===X||l===X)return Ee;if(-1!==[W,q,te].indexOf(c)||l===Y)return Se;if(A===fe&&-1!==Te.indexOf(l))return Se;if(l===le&&c===fe)return Se;if(c===ee)return Se;if(-1!==Ie.indexOf(c)&&l===ae||-1!==Ie.indexOf(l)&&c===ae)return Se;if(l===oe&&-1!==[ge,de,he].indexOf(c)||-1!==[ge,de,he].indexOf(l)&&c===ie)return Se;if(-1!==Ie.indexOf(l)&&-1!==Ne.indexOf(c)||-1!==Ne.indexOf(l)&&-1!==Ie.indexOf(c))return Se;if(-1!==[oe,ie].indexOf(l)&&(c===ae||-1!==[ne,q].indexOf(c)&&t[o+1]===ae)||-1!==[ne,q].indexOf(l)&&c===ae||l===ae&&-1!==[ae,le,se].indexOf(c))return Se;if(-1!==[ae,le,se,J,Z].indexOf(c))for(var u=a;u>=0;){if((d=t[u])===ae)return Se;if(-1===[le,se].indexOf(d))break;u--}if(-1!==[oe,ie].indexOf(c))for(u=-1!==[J,Z].indexOf(l)?i:a;u>=0;){var d;if((d=t[u])===ae)return Se;if(-1===[le,se].indexOf(d))break;u--}if(ve===l&&-1!==[ve,ye,pe,me].indexOf(c)||-1!==[ye,pe].indexOf(l)&&-1!==[ye,we].indexOf(c)||-1!==[we,me].indexOf(l)&&c===we)return Se;if(-1!==Ue.indexOf(l)&&-1!==[ee,ie].indexOf(c)||-1!==Ue.indexOf(c)&&l===oe)return Se;if(-1!==Ie.indexOf(l)&&-1!==Ie.indexOf(c))return Se;if(l===se&&-1!==Ie.indexOf(c))return Se;if(-1!==Ie.concat(ae).indexOf(l)&&c===ne&&-1===Ce.indexOf(e[o])||-1!==Ie.concat(ae).indexOf(c)&&l===Z)return Se;if(l===be&&c===be){for(var h=n[a],p=1;h>0&&t[--h]===be;)p++;if(p%2!==0)return Se}return l===de&&c===he?Se:Ee},Oe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=De(e,t.lineBreak),r=n[0],s=n[1],a=n[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(s=s.map((function(e){return-1!==[ae,ce,xe].indexOf(e)?ge:e})));var i="keep-all"===t.wordBreak?a.map((function(t,n){return t&&e[n]>=19968&&e[n]<=40959})):void 0;return[r,s,i]},Re=function(){function e(e,t,n,r){this.codePoints=e,this.required=t===ke,this.start=n,this.end=r}return e.prototype.slice=function(){return c.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),Ve=function(e,t){var n=A(e),r=Oe(n,t),s=r[0],a=r[1],i=r[2],o=n.length,l=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var e=Se;c<o&&(e=Pe(n,a,s,++c,i))===Se;);if(e!==Se||c===o){var t=new Re(n,e,l,c);return l=c,{value:t,done:!1}}return{done:!0,value:null}}}},Ke=1,ze=2,_e=4,Ge=8,We=10,Ye=47,qe=92,Xe=9,Je=32,Ze=34,$e=61,et=35,tt=36,nt=37,rt=39,st=40,at=41,it=95,ot=45,lt=33,At=60,ct=62,ut=64,dt=91,ht=93,pt=61,mt=123,ft=63,gt=125,vt=124,yt=126,wt=128,bt=65533,xt=42,Bt=43,Ct=44,kt=58,St=59,Et=46,jt=0,It=8,Ft=11,Qt=14,Nt=31,Mt=127,Ut=-1,Tt=48,Dt=97,Ht=101,Lt=102,Pt=117,Ot=122,Rt=65,Vt=69,Kt=70,zt=85,_t=90,Gt=function(e){return e>=Tt&&e<=57},Wt=function(e){return e>=55296&&e<=57343},Yt=function(e){return Gt(e)||e>=Rt&&e<=Kt||e>=Dt&&e<=Lt},qt=function(e){return e>=Dt&&e<=Ot},Xt=function(e){return e>=Rt&&e<=_t},Jt=function(e){return qt(e)||Xt(e)},Zt=function(e){return e>=wt},$t=function(e){return e===We||e===Xe||e===Je},en=function(e){return Jt(e)||Zt(e)||e===it},tn=function(e){return en(e)||Gt(e)||e===ot},nn=function(e){return e>=jt&&e<=It||e===Ft||e>=Qt&&e<=Nt||e===Mt},rn=function(e,t){return e===qe&&t!==We},sn=function(e,t,n){return e===ot?en(t)||rn(t,n):!!en(e)||!(e!==qe||!rn(e,t))},an=function(e,t,n){return e===Bt||e===ot?!!Gt(t)||t===Et&&Gt(n):Gt(e===Et?t:e)},on=function(e){var t=0,n=1;e[t]!==Bt&&e[t]!==ot||(e[t]===ot&&(n=-1),t++);for(var r=[];Gt(e[t]);)r.push(e[t++]);var s=r.length?parseInt(c.apply(void 0,r),10):0;e[t]===Et&&t++;for(var a=[];Gt(e[t]);)a.push(e[t++]);var i=a.length,o=i?parseInt(c.apply(void 0,a),10):0;e[t]!==Vt&&e[t]!==Ht||t++;var l=1;e[t]!==Bt&&e[t]!==ot||(e[t]===ot&&(l=-1),t++);for(var A=[];Gt(e[t]);)A.push(e[t++]);var u=A.length?parseInt(c.apply(void 0,A),10):0;return n*(s+o*Math.pow(10,-i))*Math.pow(10,l*u)},ln={type:2},An={type:3},cn={type:4},un={type:13},dn={type:8},hn={type:21},pn={type:9},mn={type:10},fn={type:11},gn={type:12},vn={type:14},yn={type:23},wn={type:1},bn={type:25},xn={type:24},Bn={type:26},Cn={type:27},kn={type:28},Sn={type:29},En={type:31},jn={type:32},In=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(A(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==jn;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Ze:return this.consumeStringToken(Ze);case et:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(tn(t)||rn(n,r)){var s=sn(t,n,r)?ze:Ke;return{type:5,value:this.consumeName(),flags:s}}break;case tt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),un;break;case rt:return this.consumeStringToken(rt);case st:return ln;case at:return An;case xt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),vn;break;case Bt:if(an(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Ct:return cn;case ot:var a=e,i=this.peekCodePoint(0),o=this.peekCodePoint(1);if(an(a,i,o))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(sn(a,i,o))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(i===ot&&o===ct)return this.consumeCodePoint(),this.consumeCodePoint(),xn;break;case Et:if(an(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Ye:if(this.peekCodePoint(0)===xt)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===xt&&(l=this.consumeCodePoint())===Ye)return this.consumeToken();if(l===Ut)return this.consumeToken()}break;case kt:return Bn;case St:return Cn;case At:if(this.peekCodePoint(0)===lt&&this.peekCodePoint(1)===ot&&this.peekCodePoint(2)===ot)return this.consumeCodePoint(),this.consumeCodePoint(),bn;break;case ut:var A=this.peekCodePoint(0),u=this.peekCodePoint(1),d=this.peekCodePoint(2);if(sn(A,u,d))return{type:7,value:this.consumeName()};break;case dt:return kn;case qe:if(rn(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case ht:return Sn;case pt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),dn;break;case mt:return fn;case gt:return gn;case Pt:case zt:var h=this.peekCodePoint(0),p=this.peekCodePoint(1);return h!==Bt||!Yt(p)&&p!==ft||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case vt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),pn;if(this.peekCodePoint(0)===vt)return this.consumeCodePoint(),hn;break;case yt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),mn;break;case Ut:return jn}return $t(e)?(this.consumeWhiteSpace(),En):Gt(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):en(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:c(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return"undefined"===typeof e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Yt(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===ft&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(c.apply(void 0,e.map((function(e){return e===ft?Tt:e}))),16),end:parseInt(c.apply(void 0,e.map((function(e){return e===ft?Kt:e}))),16)};var r=parseInt(c.apply(void 0,e),16);if(this.peekCodePoint(0)===ot&&Yt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var s=[];Yt(t)&&s.length<6;)s.push(t),t=this.consumeCodePoint();return{type:30,start:r,end:parseInt(c.apply(void 0,s),16)}}return{type:30,start:r,end:r}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===st?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===st?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ut)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===rt||t===Ze){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ut||this.peekCodePoint(0)===at)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),yn)}for(;;){var r=this.consumeCodePoint();if(r===Ut||r===at)return{type:22,value:c.apply(void 0,e)};if($t(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ut||this.peekCodePoint(0)===at?(this.consumeCodePoint(),{type:22,value:c.apply(void 0,e)}):(this.consumeBadUrlRemnants(),yn);if(r===Ze||r===rt||r===st||nn(r))return this.consumeBadUrlRemnants(),yn;if(r===qe){if(!rn(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),yn;e.push(this.consumeEscapedCodePoint())}else e.push(r)}},e.prototype.consumeWhiteSpace=function(){for(;$t(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===at||e===Ut)return;rn(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var r=Math.min(t,e);n+=c.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),n},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var r=this._value[n];if(r===Ut||void 0===r||r===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(r===We)return this._value.splice(0,n),wn;if(r===qe){var s=this._value[n+1];s!==Ut&&void 0!==s&&(s===We?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):rn(r,s)&&(t+=this.consumeStringSlice(n),t+=c(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=_e,n=this.peekCodePoint(0);for(n!==Bt&&n!==ot||e.push(this.consumeCodePoint());Gt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===Et&&Gt(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Ge;Gt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===Vt||n===Ht)&&((r===Bt||r===ot)&&Gt(s)||Gt(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Ge;Gt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[on(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);return sn(r,s,a)?{type:15,number:t,flags:n,unit:this.consumeName()}:r===nt?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Yt(e)){for(var t=c(e);Yt(this.peekCodePoint(0))&&t.length<6;)t+=c(this.consumeCodePoint());$t(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||Wt(n)||n>1114111?bt:n}return e===Ut?bt:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(tn(t))e+=c(t);else{if(!rn(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=c(this.consumeEscapedCodePoint())}}},e}(),Fn=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new In;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(32===n.type||Pn(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return"undefined"===typeof e?jn:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),Qn=function(e){return 15===e.type},Nn=function(e){return 17===e.type},Mn=function(e){return 20===e.type},Un=function(e){return 0===e.type},Tn=function(e,t){return Mn(e)&&e.value===t},Dn=function(e){return 31!==e.type},Hn=function(e){return 31!==e.type&&4!==e.type},Ln=function(e){var t=[],n=[];return e.forEach((function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)})),n.length&&t.push(n),t},Pn=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},On=function(e){return 17===e.type||15===e.type},Rn=function(e){return 16===e.type||On(e)},Vn=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Kn={type:17,number:0,flags:_e},zn={type:16,number:50,flags:_e},_n={type:16,number:100,flags:_e},Gn=function(e,t,n){var r=e[0],s=e[1];return[Wn(r,t),Wn("undefined"!==typeof s?s:r,n)]},Wn=function(e,t){if(16===e.type)return e.number/100*t;if(Qn(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},Yn="deg",qn="grad",Xn="rad",Jn="turn",Zn={name:"angle",parse:function(e,t){if(15===t.type)switch(t.unit){case Yn:return Math.PI*t.number/180;case qn:return Math.PI/200*t.number;case Xn:return t.number;case Jn:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},$n=function(e){return 15===e.type&&(e.unit===Yn||e.unit===qn||e.unit===Xn||e.unit===Jn)},er=function(e){switch(e.filter(Mn).map((function(e){return e.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Kn,Kn];case"to top":case"bottom":return tr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Kn,_n];case"to right":case"left":return tr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[_n,_n];case"to bottom":case"top":return tr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[_n,Kn];case"to left":case"right":return tr(270)}return 0},tr=function(e){return Math.PI*e/180},nr={name:"color",parse:function(e,t){if(18===t.type){var n=cr[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var r=t.value.substring(0,1),s=t.value.substring(1,2),a=t.value.substring(2,3);return ar(parseInt(r+r,16),parseInt(s+s,16),parseInt(a+a,16),1)}if(4===t.value.length){r=t.value.substring(0,1),s=t.value.substring(1,2),a=t.value.substring(2,3);var i=t.value.substring(3,4);return ar(parseInt(r+r,16),parseInt(s+s,16),parseInt(a+a,16),parseInt(i+i,16)/255)}if(6===t.value.length)return r=t.value.substring(0,2),s=t.value.substring(2,4),a=t.value.substring(4,6),ar(parseInt(r,16),parseInt(s,16),parseInt(a,16),1);if(8===t.value.length)return r=t.value.substring(0,2),s=t.value.substring(2,4),a=t.value.substring(4,6),i=t.value.substring(6,8),ar(parseInt(r,16),parseInt(s,16),parseInt(a,16),parseInt(i,16)/255)}if(20===t.type){var o=dr[t.value.toUpperCase()];if("undefined"!==typeof o)return o}return dr.TRANSPARENT}},rr=function(e){return 0===(255&e)},sr=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,s=255&e>>24;return t<255?"rgba("+s+","+r+","+n+","+t/255+")":"rgb("+s+","+r+","+n+")"},ar=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(255*r))>>>0},ir=function(e,t){if(17===e.type)return e.number;if(16===e.type){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},or=function(e,t){var n=t.filter(Hn);if(3===n.length){var r=n.map(ir),s=r[0],a=r[1],i=r[2];return ar(s,a,i,1)}if(4===n.length){var o=n.map(ir),l=(s=o[0],a=o[1],i=o[2],o[3]);return ar(s,a,i,l)}return 0};function lr(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var Ar=function(e,t){var n=t.filter(Hn),r=n[0],s=n[1],a=n[2],i=n[3],o=(17===r.type?tr(r.number):Zn.parse(e,r))/(2*Math.PI),l=Rn(s)?s.number/100:0,A=Rn(a)?a.number/100:0,c="undefined"!==typeof i&&Rn(i)?Wn(i,1):1;if(0===l)return ar(255*A,255*A,255*A,1);var u=A<=.5?A*(l+1):A+l-A*l,d=2*A-u,h=lr(d,u,o+1/3),p=lr(d,u,o),m=lr(d,u,o-1/3);return ar(255*h,255*p,255*m,c)},cr={hsl:Ar,hsla:Ar,rgb:or,rgba:or},ur=function(e,t){return nr.parse(e,Fn.create(t).parseComponentValue())},dr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},hr={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Mn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},pr={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},mr=function(e,t){var n=nr.parse(e,t[0]),r=t[1];return r&&Rn(r)?{color:n,stop:r}:{color:n,stop:null}},fr=function(e,t){var n=e[0],r=e[e.length-1];null===n.stop&&(n.stop=Kn),null===r.stop&&(r.stop=_n);for(var s=[],a=0,i=0;i<e.length;i++){var o=e[i].stop;if(null!==o){var l=Wn(o,t);l>a?s.push(l):s.push(a),a=l}else s.push(null)}var A=null;for(i=0;i<s.length;i++){var c=s[i];if(null===c)null===A&&(A=i);else if(null!==A){for(var u=i-A,d=(c-s[A-1])/(u+1),h=1;h<=u;h++)s[A+h-1]=d*h;A=null}}return e.map((function(e,n){return{color:e.color,stop:Math.max(Math.min(1,s[n]/t),0)}}))},gr=function(e,t,n){var r=t/2,s=n/2,a=Wn(e[0],t)-r,i=s-Wn(e[1],n);return(Math.atan2(i,a)+2*Math.PI)%(2*Math.PI)},vr=function(e,t,n){var r="number"===typeof e?e:gr(e,t,n),s=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),a=t/2,i=n/2,o=s/2,l=Math.sin(r-Math.PI/2)*o,A=Math.cos(r-Math.PI/2)*o;return[s,a-A,a+A,i-l,i+l]},yr=function(e,t){return Math.sqrt(e*e+t*t)},wr=function(e,t,n,r,s){return[[0,0],[0,t],[e,0],[e,t]].reduce((function(e,t){var a=t[0],i=t[1],o=yr(n-a,r-i);return(s?o<e.optimumDistance:o>e.optimumDistance)?{optimumCorner:t,optimumDistance:o}:e}),{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},br=function(e,t,n,r,s){var a=0,i=0;switch(e.size){case 0:0===e.shape?a=i=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-s)):1===e.shape&&(a=Math.min(Math.abs(t),Math.abs(t-r)),i=Math.min(Math.abs(n),Math.abs(n-s)));break;case 2:if(0===e.shape)a=i=Math.min(yr(t,n),yr(t,n-s),yr(t-r,n),yr(t-r,n-s));else if(1===e.shape){var o=Math.min(Math.abs(n),Math.abs(n-s))/Math.min(Math.abs(t),Math.abs(t-r)),l=wr(r,s,t,n,!0),A=l[0],c=l[1];i=o*(a=yr(A-t,(c-n)/o))}break;case 1:0===e.shape?a=i=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-s)):1===e.shape&&(a=Math.max(Math.abs(t),Math.abs(t-r)),i=Math.max(Math.abs(n),Math.abs(n-s)));break;case 3:if(0===e.shape)a=i=Math.max(yr(t,n),yr(t,n-s),yr(t-r,n),yr(t-r,n-s));else if(1===e.shape){o=Math.max(Math.abs(n),Math.abs(n-s))/Math.max(Math.abs(t),Math.abs(t-r));var u=wr(r,s,t,n,!1);A=u[0],c=u[1],i=o*(a=yr(A-t,(c-n)/o))}}return Array.isArray(e.size)&&(a=Wn(e.size[0],r),i=2===e.size.length?Wn(e.size[1],s):a),[a,i]},xr=function(e,t){var n=tr(180),r=[];return Ln(t).forEach((function(t,s){if(0===s){var a=t[0];if(20===a.type&&-1!==["top","left","right","bottom"].indexOf(a.value))return void(n=er(t));if($n(a))return void(n=(Zn.parse(e,a)+tr(270))%tr(360))}var i=mr(e,t);r.push(i)})),{angle:n,stops:r,type:1}},Br="closest-side",Cr="farthest-side",kr="closest-corner",Sr="farthest-corner",Er="circle",jr="ellipse",Ir="cover",Fr="contain",Qr=function(e,t){var n=0,r=3,s=[],a=[];return Ln(t).forEach((function(t,i){var o=!0;if(0===i?o=t.reduce((function(e,t){if(Mn(t))switch(t.value){case"center":return a.push(zn),!1;case"top":case"left":return a.push(Kn),!1;case"right":case"bottom":return a.push(_n),!1}else if(Rn(t)||On(t))return a.push(t),!1;return e}),o):1===i&&(o=t.reduce((function(e,t){if(Mn(t))switch(t.value){case Er:return n=0,!1;case jr:return n=1,!1;case Fr:case Br:return r=0,!1;case Cr:return r=1,!1;case kr:return r=2,!1;case Ir:case Sr:return r=3,!1}else if(On(t)||Rn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e}),o)),o){var l=mr(e,t);s.push(l)}})),{size:r,shape:n,stops:s,position:a,type:2}},Nr=function(e){return 1===e.type},Mr=function(e){return 2===e.type},Ur={name:"image",parse:function(e,t){if(22===t.type){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(18===t.type){var r=Hr[t.name];if("undefined"===typeof r)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Tr(e){return!(20===e.type&&"none"===e.value)&&(18!==e.type||!!Hr[e.name])}var Dr,Hr={"linear-gradient":function(e,t){var n=tr(180),r=[];return Ln(t).forEach((function(t,s){if(0===s){var a=t[0];if(20===a.type&&"to"===a.value)return void(n=er(t));if($n(a))return void(n=Zn.parse(e,a))}var i=mr(e,t);r.push(i)})),{angle:n,stops:r,type:1}},"-moz-linear-gradient":xr,"-ms-linear-gradient":xr,"-o-linear-gradient":xr,"-webkit-linear-gradient":xr,"radial-gradient":function(e,t){var n=0,r=3,s=[],a=[];return Ln(t).forEach((function(t,i){var o=!0;if(0===i){var l=!1;o=t.reduce((function(e,t){if(l)if(Mn(t))switch(t.value){case"center":return a.push(zn),e;case"top":case"left":return a.push(Kn),e;case"right":case"bottom":return a.push(_n),e}else(Rn(t)||On(t))&&a.push(t);else if(Mn(t))switch(t.value){case Er:return n=0,!1;case jr:return n=1,!1;case"at":return l=!0,!1;case Br:return r=0,!1;case Ir:case Cr:return r=1,!1;case Fr:case kr:return r=2,!1;case Sr:return r=3,!1}else if(On(t)||Rn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e}),o)}if(o){var A=mr(e,t);s.push(A)}})),{size:r,shape:n,stops:s,position:a,type:2}},"-moz-radial-gradient":Qr,"-ms-radial-gradient":Qr,"-o-radial-gradient":Qr,"-webkit-radial-gradient":Qr,"-webkit-gradient":function(e,t){var n=tr(180),r=[],s=1,a=0,i=3,o=[];return Ln(t).forEach((function(t,n){var a=t[0];if(0===n){if(Mn(a)&&"linear"===a.value)return void(s=1);if(Mn(a)&&"radial"===a.value)return void(s=2)}if(18===a.type)if("from"===a.name){var i=nr.parse(e,a.values[0]);r.push({stop:Kn,color:i})}else if("to"===a.name)i=nr.parse(e,a.values[0]),r.push({stop:_n,color:i});else if("color-stop"===a.name){var o=a.values.filter(Hn);if(2===o.length){i=nr.parse(e,o[1]);var l=o[0];Nn(l)&&r.push({stop:{type:16,number:100*l.number,flags:l.flags},color:i})}}})),1===s?{angle:(n+tr(180))%tr(360),stops:r,type:s}:{size:i,shape:a,stops:r,position:o,type:s}}},Lr={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter((function(e){return Hn(e)&&Tr(e)})).map((function(t){return Ur.parse(e,t)}))}},Pr={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Mn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Or={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Ln(t).map((function(e){return e.filter(Rn)})).map(Vn)}},Rr={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Ln(t).map((function(e){return e.filter(Mn).map((function(e){return e.value})).join(" ")})).map(Vr)}},Vr=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(Dr||(Dr={}));var Kr,zr={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Ln(t).map((function(e){return e.filter(_r)}))}},_r=function(e){return Mn(e)||Rn(e)},Gr=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Wr=Gr("top"),Yr=Gr("right"),qr=Gr("bottom"),Xr=Gr("left"),Jr=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return Vn(t.filter(Rn))}}},Zr=Jr("top-left"),$r=Jr("top-right"),es=Jr("bottom-right"),ts=Jr("bottom-left"),ns=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},rs=ns("top"),ss=ns("right"),as=ns("bottom"),is=ns("left"),os=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Qn(t)?t.number:0}}},ls=os("top"),As=os("right"),cs=os("bottom"),us=os("left"),ds={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},hs={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return"rtl"===t?1:0}},ps={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Mn).reduce((function(e,t){return e|ms(t.value)}),0)}},ms=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},fs={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},gs={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(Kr||(Kr={}));var vs,ys={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"strict"===t?Kr.STRICT:Kr.NORMAL}},ws={name:"line-height",initialValue:"normal",prefix:!1,type:4},bs=function(e,t){return Mn(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:Rn(e)?Wn(e,t):t},xs={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Ur.parse(e,t)}},Bs={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return"inside"===t?0:1}},Cs={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},ks=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Ss=ks("top"),Es=ks("right"),js=ks("bottom"),Is=ks("left"),Fs={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Mn).map((function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}}))}},Qs={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},Ns=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Ms=Ns("top"),Us=Ns("right"),Ts=Ns("bottom"),Ds=Ns("left"),Hs={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Ls={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Ps={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Tn(t[0],"none")?[]:Ln(t).map((function(t){for(var n={color:dr.TRANSPARENT,offsetX:Kn,offsetY:Kn,blur:Kn},r=0,s=0;s<t.length;s++){var a=t[s];On(a)?(0===r?n.offsetX=a:1===r?n.offsetY=a:n.blur=a,r++):n.color=nr.parse(e,a)}return n}))}},Os={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Rs={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var n=Vs[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},Vs={matrix:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number}));return 6===t.length?t:null},matrix3d:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number})),n=t[0],r=t[1];t[2],t[3];var s=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var i=t[12],o=t[13];return t[14],t[15],16===t.length?[n,r,s,a,i,o]:null}},Ks={type:16,number:50,flags:_e},zs=[Ks,Ks],_s={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Rn);return 2!==n.length?zs:[n[0],n[1]]}},Gs={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(vs||(vs={}));for(var Ws={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return vs.BREAK_ALL;case"keep-all":return vs.KEEP_ALL;default:return vs.NORMAL}}},Ys={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(Nn(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},qs={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Xs={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Nn(t)?t.number:1}},Js={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Zs={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Mn).map((function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(e){return 0!==e}))}},$s={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach((function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:r.push(n.join(" ")),n.length=0}})),n.length&&r.push(n.join(" ")),r.map((function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"}))}},ea={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ta={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return Nn(t)?t.number:Mn(t)&&"bold"===t.value?700:400}},na={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Mn).map((function(e){return e.value}))}},ra={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},sa=function(e,t){return 0!==(e&t)},aa={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},ia={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var r=[],s=t.filter(Dn),a=0;a<s.length;a++){var i=s[a],o=s[a+1];if(20===i.type){var l=o&&Nn(o)?o.number:1;r.push({counter:i.value,increment:l})}}return r}},oa={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],r=t.filter(Dn),s=0;s<r.length;s++){var a=r[s],i=r[s+1];if(Mn(a)&&"none"!==a.value){var o=i&&Nn(i)?i.number:0;n.push({counter:a.value,reset:o})}}return n}},la={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Qn).map((function(t){return qs.parse(e,t)}))}},Aa={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var r=[],s=t.filter(Un);if(s.length%2!==0)return null;for(var a=0;a<s.length;a+=2){var i=s[a].value,o=s[a+1].value;r.push({open:i,close:o})}return r}},ca=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},ua={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Tn(t[0],"none")?[]:Ln(t).map((function(t){for(var n={color:255,offsetX:Kn,offsetY:Kn,blur:Kn,spread:Kn,inset:!1},r=0,s=0;s<t.length;s++){var a=t[s];Tn(a,"inset")?n.inset=!0:On(a)?(0===r?n.offsetX=a:1===r?n.offsetY=a:2===r?n.blur=a:n.spread=a,r++):n.color=nr.parse(e,a)}return n}))}},da={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(Mn).forEach((function(e){switch(e.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2)}})),n.forEach((function(e){-1===r.indexOf(e)&&r.push(e)})),r}},ha={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},pa={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Qn(t)?t.number:0}},ma=function(){function e(e,t){var n,r;this.animationDuration=va(e,la,t.animationDuration),this.backgroundClip=va(e,hr,t.backgroundClip),this.backgroundColor=va(e,pr,t.backgroundColor),this.backgroundImage=va(e,Lr,t.backgroundImage),this.backgroundOrigin=va(e,Pr,t.backgroundOrigin),this.backgroundPosition=va(e,Or,t.backgroundPosition),this.backgroundRepeat=va(e,Rr,t.backgroundRepeat),this.backgroundSize=va(e,zr,t.backgroundSize),this.borderTopColor=va(e,Wr,t.borderTopColor),this.borderRightColor=va(e,Yr,t.borderRightColor),this.borderBottomColor=va(e,qr,t.borderBottomColor),this.borderLeftColor=va(e,Xr,t.borderLeftColor),this.borderTopLeftRadius=va(e,Zr,t.borderTopLeftRadius),this.borderTopRightRadius=va(e,$r,t.borderTopRightRadius),this.borderBottomRightRadius=va(e,es,t.borderBottomRightRadius),this.borderBottomLeftRadius=va(e,ts,t.borderBottomLeftRadius),this.borderTopStyle=va(e,rs,t.borderTopStyle),this.borderRightStyle=va(e,ss,t.borderRightStyle),this.borderBottomStyle=va(e,as,t.borderBottomStyle),this.borderLeftStyle=va(e,is,t.borderLeftStyle),this.borderTopWidth=va(e,ls,t.borderTopWidth),this.borderRightWidth=va(e,As,t.borderRightWidth),this.borderBottomWidth=va(e,cs,t.borderBottomWidth),this.borderLeftWidth=va(e,us,t.borderLeftWidth),this.boxShadow=va(e,ua,t.boxShadow),this.color=va(e,ds,t.color),this.direction=va(e,hs,t.direction),this.display=va(e,ps,t.display),this.float=va(e,fs,t.cssFloat),this.fontFamily=va(e,$s,t.fontFamily),this.fontSize=va(e,ea,t.fontSize),this.fontStyle=va(e,ra,t.fontStyle),this.fontVariant=va(e,na,t.fontVariant),this.fontWeight=va(e,ta,t.fontWeight),this.letterSpacing=va(e,gs,t.letterSpacing),this.lineBreak=va(e,ys,t.lineBreak),this.lineHeight=va(e,ws,t.lineHeight),this.listStyleImage=va(e,xs,t.listStyleImage),this.listStylePosition=va(e,Bs,t.listStylePosition),this.listStyleType=va(e,Cs,t.listStyleType),this.marginTop=va(e,Ss,t.marginTop),this.marginRight=va(e,Es,t.marginRight),this.marginBottom=va(e,js,t.marginBottom),this.marginLeft=va(e,Is,t.marginLeft),this.opacity=va(e,Xs,t.opacity);var s=va(e,Fs,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=va(e,Qs,t.overflowWrap),this.paddingTop=va(e,Ms,t.paddingTop),this.paddingRight=va(e,Us,t.paddingRight),this.paddingBottom=va(e,Ts,t.paddingBottom),this.paddingLeft=va(e,Ds,t.paddingLeft),this.paintOrder=va(e,da,t.paintOrder),this.position=va(e,Ls,t.position),this.textAlign=va(e,Hs,t.textAlign),this.textDecorationColor=va(e,Js,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=va(e,Zs,null!==(r=t.textDecorationLine)&&void 0!==r?r:t.textDecoration),this.textShadow=va(e,Ps,t.textShadow),this.textTransform=va(e,Os,t.textTransform),this.transform=va(e,Rs,t.transform),this.transformOrigin=va(e,_s,t.transformOrigin),this.visibility=va(e,Gs,t.visibility),this.webkitTextStrokeColor=va(e,ha,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=va(e,pa,t.webkitTextStrokeWidth),this.wordBreak=va(e,Ws,t.wordBreak),this.zIndex=va(e,Ys,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return rr(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return sa(this.display,4)||sa(this.display,33554432)||sa(this.display,268435456)||sa(this.display,536870912)||sa(this.display,67108864)||sa(this.display,134217728)},e}(),fa=function(){function e(e,t){this.content=va(e,aa,t.content),this.quotes=va(e,Aa,t.quotes)}return e}(),ga=function(){function e(e,t){this.counterIncrement=va(e,ia,t.counterIncrement),this.counterReset=va(e,oa,t.counterReset)}return e}(),va=function(e,t,n){var r=new In,s=null!==n&&"undefined"!==typeof n?n.toString():t.initialValue;r.write(s);var a=new Fn(r.read());switch(t.type){case 2:var i=a.parseComponentValue();return t.parse(e,Mn(i)?i.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return Zn.parse(e,a.parseComponentValue());case"color":return nr.parse(e,a.parseComponentValue());case"image":return Ur.parse(e,a.parseComponentValue());case"length":var o=a.parseComponentValue();return On(o)?o:Kn;case"length-percentage":var l=a.parseComponentValue();return Rn(l)?l:Kn;case"time":return qs.parse(e,a.parseComponentValue())}}},ya="data-html2canvas-debug",wa=function(e){switch(e.getAttribute(ya)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},ba=function(e,t){var n=wa(e);return 1===n||t===n},xa=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,ba(t,3),this.styles=new ma(e,window.getComputedStyle(t,null)),Ao(t)&&(this.styles.animationDuration.some((function(e){return e>0}))&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=o(this.context,t),ba(t,4)&&(this.flags|=16)}return e}(),Ba="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Ca="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ka="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Sa=0;Sa<Ca.length;Sa++)ka[Ca.charCodeAt(Sa)]=Sa;for(var Ea=function(e){var t,n,r,s,a,i=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);var A="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(i):new Array(i),c=Array.isArray(A)?A:new Uint8Array(A);for(t=0;t<o;t+=4)n=ka[e.charCodeAt(t)],r=ka[e.charCodeAt(t+1)],s=ka[e.charCodeAt(t+2)],a=ka[e.charCodeAt(t+3)],c[l++]=n<<2|r>>4,c[l++]=(15&r)<<4|s>>2,c[l++]=(3&s)<<6|63&a;return A},ja=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},Ia=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},Fa=5,Qa=11,Na=2,Ma=65536>>Fa,Ua=(1<<Fa)-1,Ta=Ma+(1024>>Fa)+32,Da=65536>>Qa,Ha=(1<<Qa-Fa)-1,La=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Pa=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Oa=function(e,t){var n=Ea(e),r=Array.isArray(n)?Ia(n):new Uint32Array(n),s=Array.isArray(n)?ja(n):new Uint16Array(n),a=24,i=La(s,a/2,r[4]/2),o=2===r[5]?La(s,(a+r[4])/2):Pa(r,Math.ceil((a+r[4])/4));return new Ra(r[0],r[1],r[2],r[3],i,o)},Ra=function(){function e(e,t,n,r,s,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=s,this.data=a}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>Fa])<<Na)+(e&Ua),this.data[t];if(e<=65535)return t=((t=this.index[Ma+(e-55296>>Fa)])<<Na)+(e&Ua),this.data[t];if(e<this.highStart)return t=Ta-Da+(e>>Qa),t=this.index[t],t+=e>>Fa&Ha,t=((t=this.index[t])<<Na)+(e&Ua),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Va="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ka="undefined"===typeof Uint8Array?[]:new Uint8Array(256),za=0;za<Va.length;za++)Ka[Va.charCodeAt(za)]=za;var _a,Ga=1,Wa=2,Ya=3,qa=4,Xa=5,Ja=7,Za=8,$a=9,ei=10,ti=11,ni=12,ri=13,si=14,ai=15,ii=function(e){for(var t=[],n=0,r=e.length;n<r;){var s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var a=e.charCodeAt(n++);56320===(64512&a)?t.push(((1023&s)<<10)+(1023&a)+65536):(t.push(s),n--)}else t.push(s)}return t},oi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],s=-1,a="";++s<n;){var i=e[s];i<=65535?r.push(i):(i-=65536,r.push(55296+(i>>10),i%1024+56320)),(s+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},li=Oa(Ba),Ai="\xd7",ci="\xf7",ui=function(e){return li.get(e)},di=function(e,t,n){var r=n-2,s=t[r],a=t[n-1],i=t[n];if(a===Wa&&i===Ya)return Ai;if(a===Wa||a===Ya||a===qa)return ci;if(i===Wa||i===Ya||i===qa)return ci;if(a===Za&&-1!==[Za,$a,ti,ni].indexOf(i))return Ai;if((a===ti||a===$a)&&(i===$a||i===ei))return Ai;if((a===ni||a===ei)&&i===ei)return Ai;if(i===ri||i===Xa)return Ai;if(i===Ja)return Ai;if(a===Ga)return Ai;if(a===ri&&i===si){for(;s===Xa;)s=t[--r];if(s===si)return Ai}if(a===ai&&i===ai){for(var o=0;s===ai;)o++,s=t[--r];if(o%2===0)return Ai}return ci},hi=function(e){var t=ii(e),n=t.length,r=0,s=0,a=t.map(ui);return{next:function(){if(r>=n)return{done:!0,value:null};for(var e=Ai;r<n&&(e=di(t,a,++r))===Ai;);if(e!==Ai||r===n){var i=oi.apply(null,t.slice(s,r));return s=r,{value:i,done:!1}}return{done:!0,value:null}}}},pi=function(e){for(var t,n=hi(e),r=[];!(t=n.next()).done;)t.value&&r.push(t.value.slice());return r},mi=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var s=n.getBoundingClientRect(),a=Math.round(s.height);if(e.body.removeChild(r),a===t)return!0}}return!1},fi=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"===typeof"".repeat?"&#128104;".repeat(10):"";var r=t.firstChild,s=A(r.data).map((function(e){return c(e)})),a=0,i={},o=s.every((function(e,t){n.setStart(r,a),n.setEnd(r,a+e.length);var s=n.getBoundingClientRect();a+=e.length;var o=s.x>i.x||s.y>i.y;return i=s,0===t||o}));return e.body.removeChild(t),o},gi=function(){return"undefined"!==typeof(new Image).crossOrigin},vi=function(){return"string"===typeof(new XMLHttpRequest).responseType},yi=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(Ht){return!1}return!0},wi=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},bi=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var s=new Image,a=t.toDataURL();s.src=a;var i=xi(n,n,0,0,s);return r.fillStyle="red",r.fillRect(0,0,n,n),Bi(i).then((function(t){r.drawImage(t,0,0);var s=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var i=e.createElement("div");return i.style.backgroundImage="url("+a+")",i.style.height=n+"px",wi(s)?Bi(xi(n,n,0,0,i)):Promise.reject(!1)})).then((function(e){return r.drawImage(e,0,0),wi(r.getImageData(0,0,n,n).data)})).catch((function(){return!1}))},xi=function(e,t,n,r,s){var a="http://www.w3.org/2000/svg",i=document.createElementNS(a,"svg"),o=document.createElementNS(a,"foreignObject");return i.setAttributeNS(null,"width",e.toString()),i.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",n.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),i.appendChild(o),o.appendChild(s),i},Bi=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Ci={get SUPPORT_RANGE_BOUNDS(){var e=mi(document);return Object.defineProperty(Ci,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Ci.SUPPORT_RANGE_BOUNDS&&fi(document);return Object.defineProperty(Ci,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=yi(document);return Object.defineProperty(Ci,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"===typeof Array.from&&"function"===typeof window.fetch?bi(document):Promise.resolve(!1);return Object.defineProperty(Ci,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=gi();return Object.defineProperty(Ci,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=vi();return Object.defineProperty(Ci,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ci,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"===typeof Intl||!Intl.Segmenter);return Object.defineProperty(Ci,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},ki=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),Si=function(e,t,n,r){var s=Qi(t,n),a=[],o=0;return s.forEach((function(t){if(n.textDecorationLine.length||t.trim().length>0)if(Ci.SUPPORT_RANGE_BOUNDS){var s=ji(r,o,t.length).getClientRects();if(s.length>1){var l=Ii(t),A=0;l.forEach((function(t){a.push(new ki(t,i.fromDOMRectList(e,ji(r,A+o,t.length).getClientRects()))),A+=t.length}))}else a.push(new ki(t,i.fromDOMRectList(e,s)))}else{var c=r.splitText(t.length);a.push(new ki(t,Ei(e,r))),r=c}else Ci.SUPPORT_RANGE_BOUNDS||(r=r.splitText(t.length));o+=t.length})),a},Ei=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var s=t.parentNode;if(s){s.replaceChild(r,t);var a=o(e,r);return r.firstChild&&s.replaceChild(r.firstChild,r),a}}return i.EMPTY},ji=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var s=r.createRange();return s.setStart(e,t),s.setEnd(e,t+n),s},Ii=function(e){if(Ci.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map((function(e){return e.segment}))}return pi(e)},Fi=function(e,t){if(Ci.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map((function(e){return e.segment}))}return Mi(e,t)},Qi=function(e,t){return 0!==t.letterSpacing?Ii(e):Fi(e,t)},Ni=[32,160,4961,65792,65793,4153,4241],Mi=function(e,t){for(var n,r=Ve(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),s=[],a=function(){if(n.value){var e=n.value.slice(),t=A(e),r="";t.forEach((function(e){-1===Ni.indexOf(e)?r+=c(e):(r.length&&s.push(r),s.push(c(e)),r="")})),r.length&&s.push(r)}};!(n=r.next()).done;)a();return s},Ui=function(){function e(e,t,n){this.text=Ti(t.data,n.textTransform),this.textBounds=Si(e,this.text,n,t)}return e}(),Ti=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Di,Hi);case 2:return e.toUpperCase();default:return e}},Di=/(^|\s|:|-|\(|\))([a-z])/g,Hi=function(e,t,n){return e.length>0?t+n.toUpperCase():e},Li=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return t(n,e),n}(xa),Pi=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return t(n,e),n}(xa),Oi=function(e){function n(t,n){var r=e.call(this,t,n)||this,s=new XMLSerializer,a=o(t,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return t(n,e),n}(xa),Ri=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(xa),Vi=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.start=n.start,r.reversed="boolean"===typeof n.reversed&&!0===n.reversed,r}return t(n,e),n}(xa),Ki=[{type:15,flags:0,unit:"px",number:3}],zi=[{type:16,flags:0,number:50}],_i=function(e){return e.width>e.height?new i(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new i(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Gi=function(e){var t=e.type===qi?new Array(e.value.length+1).join("\u2022"):e.value;return 0===t.length?e.placeholder||"":t},Wi="checkbox",Yi="radio",qi="password",Xi=707406591,Ji=function(e){function n(t,n){var r=e.call(this,t,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=Gi(n),r.type!==Wi&&r.type!==Yi||(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=_i(r.bounds)),r.type){case Wi:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Ki;break;case Yi:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=zi}return r}return t(n,e),n}(xa),Zi=function(e){function n(t,n){var r=e.call(this,t,n)||this,s=n.options[n.selectedIndex||0];return r.value=s&&s.text||"",r}return t(n,e),n}(xa),$i=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(xa),eo=function(e){function n(t,n){var r=e.call(this,t,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=so(t,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?ur(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):dr.TRANSPARENT,a=n.contentWindow.document.body?ur(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):dr.TRANSPARENT;r.backgroundColor=rr(s)?rr(a)?r.styles.backgroundColor:a:s}}catch(Ht){}return r}return t(n,e),n}(xa),to=["OL","UL","MENU"],no=function(e,t,n,r){for(var s=t.firstChild,a=void 0;s;s=a)if(a=s.nextSibling,oo(s)&&s.data.trim().length>0)n.textNodes.push(new Ui(e,s,n.styles));else if(lo(s))if(So(s)&&s.assignedNodes)s.assignedNodes().forEach((function(t){return no(e,t,n,r)}));else{var i=ro(e,s);i.styles.isVisible()&&(ao(s,i,r)?i.flags|=4:io(i.styles)&&(i.flags|=2),-1!==to.indexOf(s.tagName)&&(i.flags|=8),n.elements.push(i),s.slot,s.shadowRoot?no(e,s.shadowRoot,i,r):Co(s)||fo(s)||ko(s)||no(e,s,i,r))}},ro=function(e,t){return wo(t)?new Li(e,t):vo(t)?new Pi(e,t):fo(t)?new Oi(e,t):uo(t)?new Ri(e,t):ho(t)?new Vi(e,t):po(t)?new Ji(e,t):ko(t)?new Zi(e,t):Co(t)?new $i(e,t):bo(t)?new eo(e,t):new xa(e,t)},so=function(e,t){var n=ro(e,t);return n.flags|=4,no(e,t,n,n),n},ao=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||go(e)&&n.styles.isTransparent()},io=function(e){return e.isPositioned()||e.isFloating()},oo=function(e){return e.nodeType===Node.TEXT_NODE},lo=function(e){return e.nodeType===Node.ELEMENT_NODE},Ao=function(e){return lo(e)&&"undefined"!==typeof e.style&&!co(e)},co=function(e){return"object"===typeof e.className},uo=function(e){return"LI"===e.tagName},ho=function(e){return"OL"===e.tagName},po=function(e){return"INPUT"===e.tagName},mo=function(e){return"HTML"===e.tagName},fo=function(e){return"svg"===e.tagName},go=function(e){return"BODY"===e.tagName},vo=function(e){return"CANVAS"===e.tagName},yo=function(e){return"VIDEO"===e.tagName},wo=function(e){return"IMG"===e.tagName},bo=function(e){return"IFRAME"===e.tagName},xo=function(e){return"STYLE"===e.tagName},Bo=function(e){return"SCRIPT"===e.tagName},Co=function(e){return"TEXTAREA"===e.tagName},ko=function(e){return"SELECT"===e.tagName},So=function(e){return"SLOT"===e.tagName},Eo=function(e){return e.tagName.indexOf("-")>0},jo=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach((function(e){return t.counters[e].pop()}))},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset,s=!0;null!==n&&n.forEach((function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(s=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)}));var a=[];return s&&r.forEach((function(e){var n=t.counters[e.counter];a.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)})),a},e}(),Io={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Fo={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},Qo={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},No={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},Mo=function(e,t,n,r,s,a){return e<t||e>n?Go(e,s,a.length>0):r.integers.reduce((function(t,n,s){for(;e>=n;)e-=n,t+=r.values[s];return t}),"")+a},Uo=function(e,t,n,r){var s="";do{n||e--,s=r(e)+s,e/=t}while(e*t>=t);return s},To=function(e,t,n,r,s){var a=n-t+1;return(e<0?"-":"")+(Uo(Math.abs(e),a,r,(function(e){return c(Math.floor(e%a)+t)}))+s)},Do=function(e,t,n){void 0===n&&(n=". ");var r=t.length;return Uo(Math.abs(e),r,!1,(function(e){return t[Math.floor(e%r)]}))+n},Ho=1,Lo=2,Po=4,Oo=8,Ro=function(e,t,n,r,s,a){if(e<-9999||e>9999)return Go(e,4,s.length>0);var i=Math.abs(e),o=s;if(0===i)return t[0]+o;for(var l=0;i>0&&l<=4;l++){var A=i%10;0===A&&sa(a,Ho)&&""!==o?o=t[A]+o:A>1||1===A&&0===l||1===A&&1===l&&sa(a,Lo)||1===A&&1===l&&sa(a,Po)&&e>100||1===A&&l>1&&sa(a,Oo)?o=t[A]+(l>0?n[l-1]:"")+o:1===A&&l>0&&(o=n[l-1]+o),i=Math.floor(i/10)}return(e<0?r:"")+o},Vo="\u5341\u767e\u5343\u842c",Ko="\u62fe\u4f70\u4edf\u842c",zo="\u30de\u30a4\u30ca\u30b9",_o="\ub9c8\uc774\ub108\uc2a4",Go=function(e,t,n){var r=n?". ":"",s=n?"\u3001":"",a=n?", ":"",i=n?" ":"";switch(t){case 0:return"\u2022"+i;case 1:return"\u25e6"+i;case 2:return"\u25fe"+i;case 5:var o=To(e,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return Do(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",s);case 6:return Mo(e,1,3999,Io,3,r).toLowerCase();case 7:return Mo(e,1,3999,Io,3,r);case 8:return To(e,945,969,!1,r);case 9:return To(e,97,122,!1,r);case 10:return To(e,65,90,!1,r);case 11:return To(e,1632,1641,!0,r);case 12:case 49:return Mo(e,1,9999,Fo,3,r);case 35:return Mo(e,1,9999,Fo,3,r).toLowerCase();case 13:return To(e,2534,2543,!0,r);case 14:case 30:return To(e,6112,6121,!0,r);case 15:return Do(e,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",s);case 16:return Do(e,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",s);case 17:case 48:return Ro(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Vo,"\u8ca0",s,Lo|Po|Oo);case 47:return Ro(e,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396",Ko,"\u8ca0",s,Ho|Lo|Po|Oo);case 42:return Ro(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Vo,"\u8d1f",s,Lo|Po|Oo);case 41:return Ro(e,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396",Ko,"\u8d1f",s,Ho|Lo|Po|Oo);case 26:return Ro(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07",zo,s,0);case 25:return Ro(e,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07",zo,s,Ho|Lo|Po);case 31:return Ro(e,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",_o,a,Ho|Lo|Po);case 33:return Ro(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",_o,a,0);case 32:return Ro(e,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",_o,a,Ho|Lo|Po);case 18:return To(e,2406,2415,!0,r);case 20:return Mo(e,1,19999,No,3,r);case 21:return To(e,2790,2799,!0,r);case 22:return To(e,2662,2671,!0,r);case 22:return Mo(e,1,10999,Qo,3,r);case 23:return Do(e,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Do(e,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return To(e,3302,3311,!0,r);case 28:return Do(e,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",s);case 29:return Do(e,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",s);case 34:return To(e,3792,3801,!0,r);case 37:return To(e,6160,6169,!0,r);case 38:return To(e,4160,4169,!0,r);case 39:return To(e,2918,2927,!0,r);case 40:return To(e,1776,1785,!0,r);case 43:return To(e,3046,3055,!0,r);case 44:return To(e,3174,3183,!0,r);case 45:return To(e,3664,3673,!0,r);case 46:return To(e,3872,3881,!0,r);default:return To(e,48,57,!0,r)}},Wo="data-html2canvas-ignore",Yo=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new jo,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var n=this,a=Xo(e,t);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,l=a.contentWindow,A=l.document,c=$o(a).then((function(){return r(n,void 0,void 0,(function(){var e,n;return s(this,(function(r){switch(r.label){case 0:return this.scrolledElements.forEach(sl),l&&(l.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||l.scrollY===t.top&&l.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-t.left,l.scrollY-t.top,0,0))),e=this.options.onclone,"undefined"===typeof(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Zo(A)]:[3,4];case 3:r.sent(),r.label=4;case 4:return"function"===typeof e?[2,Promise.resolve().then((function(){return e(A,n)})).then((function(){return a}))]:[2,a]}}))}))}));return A.open(),A.write(nl(document.doctype)+"<html></html>"),rl(this.referenceElement.ownerDocument,i,o),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),c},e.prototype.createElementClone=function(e){if(ba(e,2),vo(e))return this.createCanvasClone(e);if(yo(e))return this.createVideoClone(e);if(xo(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return wo(t)&&(wo(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),Eo(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return tl(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce((function(e,t){return t&&"string"===typeof t.cssText?e+t.cssText:e}),""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(Ht){if(this.context.logger.error("Unable to access cssRules property",Ht),"SecurityError"!==Ht.name)throw Ht}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(Ht){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var s=e.getContext("2d"),a=r.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var i=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(i){var o=i.getContextAttributes();!1===(null===o||void 0===o?void 0:o.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return r}catch(Ht){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch(Ht){this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},e.prototype.appendChildNode=function(e,t,n){lo(t)&&(Bo(t)||t.hasAttribute(Wo)||"function"===typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&lo(t)&&xo(t)||e.appendChild(this.cloneNode(t,n))},e.prototype.cloneChildNodes=function(e,t,n){for(var r=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(lo(s)&&So(s)&&"function"===typeof s.assignedNodes){var a=s.assignedNodes();a.length&&a.forEach((function(e){return r.appendChildNode(t,e,n)}))}else this.appendChildNode(t,s,n)},e.prototype.cloneNode=function(e,t){if(oo(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&lo(e)&&(Ao(e)||co(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var s=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),i=n.getComputedStyle(e,":after");this.referenceElement===e&&Ao(r)&&(this.clonedReferenceElement=r),go(r)&&cl(r);var o=this.counters.parse(new ga(this.context,s)),l=this.resolvePseudoContent(e,r,a,_a.BEFORE);Eo(e)&&(t=!0),yo(e)||this.cloneChildNodes(e,r,t),l&&r.insertBefore(l,r.firstChild);var A=this.resolvePseudoContent(e,r,i,_a.AFTER);return A&&r.appendChild(A),this.counters.pop(o),(s&&(this.options.copyStyles||co(e))&&!bo(e)||t)&&tl(s,r),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(Co(e)||ko(e))&&(Co(r)||ko(r))&&(r.value=e.value),r}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,r){var s=this;if(n){var a=n.content,i=t.ownerDocument;if(i&&a&&"none"!==a&&"-moz-alt-content"!==a&&"none"!==n.display){this.counters.parse(new ga(this.context,n));var o=new fa(this.context,n),l=i.createElement("html2canvaspseudoelement");tl(n,l),o.content.forEach((function(t){if(0===t.type)l.appendChild(i.createTextNode(t.value));else if(22===t.type){var n=i.createElement("img");n.src=t.value,n.style.opacity="1",l.appendChild(n)}else if(18===t.type){if("attr"===t.name){var r=t.values.filter(Mn);r.length&&l.appendChild(i.createTextNode(e.getAttribute(r[0].value)||""))}else if("counter"===t.name){var a=t.values.filter(Hn),A=a[0],c=a[1];if(A&&Mn(A)){var u=s.counters.getCounterValue(A.value),d=c&&Mn(c)?Cs.parse(s.context,c.value):3;l.appendChild(i.createTextNode(Go(u,d,!1)))}}else if("counters"===t.name){var h=t.values.filter(Hn),p=(A=h[0],h[1]);if(c=h[2],A&&Mn(A)){var m=s.counters.getCounterValues(A.value),f=c&&Mn(c)?Cs.parse(s.context,c.value):3,g=p&&0===p.type?p.value:"",v=m.map((function(e){return Go(e,f,!1)})).join(g);l.appendChild(i.createTextNode(v))}}}else if(20===t.type)switch(t.value){case"open-quote":l.appendChild(i.createTextNode(ca(o.quotes,s.quoteDepth++,!0)));break;case"close-quote":l.appendChild(i.createTextNode(ca(o.quotes,--s.quoteDepth,!1)));break;default:l.appendChild(i.createTextNode(t.value))}})),l.className=ol+" "+ll;var A=r===_a.BEFORE?" "+ol:" "+ll;return co(t)?t.className.baseValue+=A:t.className+=A,l}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(_a||(_a={}));var qo,Xo=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(Wo,"true"),e.body.appendChild(n),n},Jo=function(e){return new Promise((function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()}))},Zo=function(e){return Promise.all([].slice.call(e.images,0).map(Jo))},$o=function(e){return new Promise((function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var s=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var n=setInterval((function(){s.body.childNodes.length>0&&"complete"===s.readyState&&(clearInterval(n),t(e))}),50)}}))},el=["all","d","content"],tl=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);-1===el.indexOf(r)&&t.style.setProperty(r,e.getPropertyValue(r))}return t},nl=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},rl=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},sl=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},al=":before",il=":after",ol="___html2canvas___pseudoelement_before",ll="___html2canvas___pseudoelement_after",Al='{\n    content: "" !important;\n    display: none !important;\n}',cl=function(e){ul(e,"."+ol+al+Al+"\n         ."+ll+il+Al)},ul=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},dl=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),hl=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:wl(e)||gl(e)?((this._cache[e]=this.loadImage(e)).catch((function(){})),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,a,i=this;return s(this,(function(s){switch(s.label){case 0:return t=dl.isSameOrigin(e),n=!vl(e)&&!0===this._options.useCORS&&Ci.SUPPORT_CORS_IMAGES&&!t,r=!vl(e)&&!t&&!wl(e)&&"string"===typeof this._options.proxy&&Ci.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||vl(e)||wl(e)||r||n?(a=e,r?[4,this.proxy(a)]:[3,2]):[2];case 1:a=s.sent(),s.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise((function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,(yl(a)||n)&&(r.crossOrigin="anonymous"),r.src=a,!0===r.complete&&setTimeout((function(){return e(r)}),500),i._options.imageTimeout>0&&setTimeout((function(){return t("Timed out ("+i._options.imageTimeout+"ms) loading image")}),i._options.imageTimeout)}))];case 3:return[2,s.sent()]}}))}))},e.prototype.has=function(e){return"undefined"!==typeof this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise((function(s,a){var i=Ci.SUPPORT_RESPONSE_TYPE?"blob":"text",o=new XMLHttpRequest;o.onload=function(){if(200===o.status)if("text"===i)s(o.response);else{var e=new FileReader;e.addEventListener("load",(function(){return s(e.result)}),!1),e.addEventListener("error",(function(e){return a(e)}),!1),e.readAsDataURL(o.response)}else a("Failed to proxy resource "+r+" with status code "+o.status)},o.onerror=a;var l=n.indexOf("?")>-1?"&":"?";if(o.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+i),"text"!==i&&o instanceof XMLHttpRequest&&(o.responseType=i),t._options.imageTimeout){var A=t._options.imageTimeout;o.timeout=A,o.ontimeout=function(){return a("Timed out ("+A+"ms) proxying "+r)}}o.send()}))},e}(),pl=/^data:image\/svg\+xml/i,ml=/^data:image\/.*;base64,/i,fl=/^data:image\/.*/i,gl=function(e){return Ci.SUPPORT_SVG_DRAWING||!bl(e)},vl=function(e){return fl.test(e)},yl=function(e){return ml.test(e)},wl=function(e){return"blob"===e.substr(0,4)},bl=function(e){return"svg"===e.substr(-3).toLowerCase()||pl.test(e)},xl=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),Bl=function(e,t,n){return new xl(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},Cl=function(){function e(e,t,n,r){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return e.prototype.subdivide=function(t,n){var r=Bl(this.start,this.startControl,t),s=Bl(this.startControl,this.endControl,t),a=Bl(this.endControl,this.end,t),i=Bl(r,s,t),o=Bl(s,a,t),l=Bl(i,o,t);return n?new e(this.start,r,i,l):new e(l,o,a,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),kl=function(e){return 1===e.type},Sl=function(){function e(e){var t=e.styles,n=e.bounds,r=Gn(t.borderTopLeftRadius,n.width,n.height),s=r[0],a=r[1],i=Gn(t.borderTopRightRadius,n.width,n.height),o=i[0],l=i[1],A=Gn(t.borderBottomRightRadius,n.width,n.height),c=A[0],u=A[1],d=Gn(t.borderBottomLeftRadius,n.width,n.height),h=d[0],p=d[1],m=[];m.push((s+o)/n.width),m.push((h+c)/n.width),m.push((a+p)/n.height),m.push((l+u)/n.height);var f=Math.max.apply(Math,m);f>1&&(s/=f,a/=f,o/=f,l/=f,c/=f,u/=f,h/=f,p/=f);var g=n.width-o,v=n.height-u,y=n.width-c,w=n.height-p,b=t.borderTopWidth,x=t.borderRightWidth,B=t.borderBottomWidth,C=t.borderLeftWidth,k=Wn(t.paddingTop,e.bounds.width),S=Wn(t.paddingRight,e.bounds.width),E=Wn(t.paddingBottom,e.bounds.width),j=Wn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?El(n.left+C/3,n.top+b/3,s-C/3,a-b/3,qo.TOP_LEFT):new xl(n.left+C/3,n.top+b/3),this.topRightBorderDoubleOuterBox=s>0||a>0?El(n.left+g,n.top+b/3,o-x/3,l-b/3,qo.TOP_RIGHT):new xl(n.left+n.width-x/3,n.top+b/3),this.bottomRightBorderDoubleOuterBox=c>0||u>0?El(n.left+y,n.top+v,c-x/3,u-B/3,qo.BOTTOM_RIGHT):new xl(n.left+n.width-x/3,n.top+n.height-B/3),this.bottomLeftBorderDoubleOuterBox=h>0||p>0?El(n.left+C/3,n.top+w,h-C/3,p-B/3,qo.BOTTOM_LEFT):new xl(n.left+C/3,n.top+n.height-B/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?El(n.left+2*C/3,n.top+2*b/3,s-2*C/3,a-2*b/3,qo.TOP_LEFT):new xl(n.left+2*C/3,n.top+2*b/3),this.topRightBorderDoubleInnerBox=s>0||a>0?El(n.left+g,n.top+2*b/3,o-2*x/3,l-2*b/3,qo.TOP_RIGHT):new xl(n.left+n.width-2*x/3,n.top+2*b/3),this.bottomRightBorderDoubleInnerBox=c>0||u>0?El(n.left+y,n.top+v,c-2*x/3,u-2*B/3,qo.BOTTOM_RIGHT):new xl(n.left+n.width-2*x/3,n.top+n.height-2*B/3),this.bottomLeftBorderDoubleInnerBox=h>0||p>0?El(n.left+2*C/3,n.top+w,h-2*C/3,p-2*B/3,qo.BOTTOM_LEFT):new xl(n.left+2*C/3,n.top+n.height-2*B/3),this.topLeftBorderStroke=s>0||a>0?El(n.left+C/2,n.top+b/2,s-C/2,a-b/2,qo.TOP_LEFT):new xl(n.left+C/2,n.top+b/2),this.topRightBorderStroke=s>0||a>0?El(n.left+g,n.top+b/2,o-x/2,l-b/2,qo.TOP_RIGHT):new xl(n.left+n.width-x/2,n.top+b/2),this.bottomRightBorderStroke=c>0||u>0?El(n.left+y,n.top+v,c-x/2,u-B/2,qo.BOTTOM_RIGHT):new xl(n.left+n.width-x/2,n.top+n.height-B/2),this.bottomLeftBorderStroke=h>0||p>0?El(n.left+C/2,n.top+w,h-C/2,p-B/2,qo.BOTTOM_LEFT):new xl(n.left+C/2,n.top+n.height-B/2),this.topLeftBorderBox=s>0||a>0?El(n.left,n.top,s,a,qo.TOP_LEFT):new xl(n.left,n.top),this.topRightBorderBox=o>0||l>0?El(n.left+g,n.top,o,l,qo.TOP_RIGHT):new xl(n.left+n.width,n.top),this.bottomRightBorderBox=c>0||u>0?El(n.left+y,n.top+v,c,u,qo.BOTTOM_RIGHT):new xl(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=h>0||p>0?El(n.left,n.top+w,h,p,qo.BOTTOM_LEFT):new xl(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||a>0?El(n.left+C,n.top+b,Math.max(0,s-C),Math.max(0,a-b),qo.TOP_LEFT):new xl(n.left+C,n.top+b),this.topRightPaddingBox=o>0||l>0?El(n.left+Math.min(g,n.width-x),n.top+b,g>n.width+x?0:Math.max(0,o-x),Math.max(0,l-b),qo.TOP_RIGHT):new xl(n.left+n.width-x,n.top+b),this.bottomRightPaddingBox=c>0||u>0?El(n.left+Math.min(y,n.width-C),n.top+Math.min(v,n.height-B),Math.max(0,c-x),Math.max(0,u-B),qo.BOTTOM_RIGHT):new xl(n.left+n.width-x,n.top+n.height-B),this.bottomLeftPaddingBox=h>0||p>0?El(n.left+C,n.top+Math.min(w,n.height-B),Math.max(0,h-C),Math.max(0,p-B),qo.BOTTOM_LEFT):new xl(n.left+C,n.top+n.height-B),this.topLeftContentBox=s>0||a>0?El(n.left+C+j,n.top+b+k,Math.max(0,s-(C+j)),Math.max(0,a-(b+k)),qo.TOP_LEFT):new xl(n.left+C+j,n.top+b+k),this.topRightContentBox=o>0||l>0?El(n.left+Math.min(g,n.width+C+j),n.top+b+k,g>n.width+C+j?0:o-C+j,l-(b+k),qo.TOP_RIGHT):new xl(n.left+n.width-(x+S),n.top+b+k),this.bottomRightContentBox=c>0||u>0?El(n.left+Math.min(y,n.width-(C+j)),n.top+Math.min(v,n.height+b+k),Math.max(0,c-(x+S)),u-(B+E),qo.BOTTOM_RIGHT):new xl(n.left+n.width-(x+S),n.top+n.height-(B+E)),this.bottomLeftContentBox=h>0||p>0?El(n.left+C+j,n.top+w,Math.max(0,h-(C+j)),p-(B+E),qo.BOTTOM_LEFT):new xl(n.left+C+j,n.top+n.height-(B+E))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(qo||(qo={}));var El=function(e,t,n,r,s){var a=(Math.sqrt(2)-1)/3*4,i=n*a,o=r*a,l=e+n,A=t+r;switch(s){case qo.TOP_LEFT:return new Cl(new xl(e,A),new xl(e,A-o),new xl(l-i,t),new xl(l,t));case qo.TOP_RIGHT:return new Cl(new xl(e,t),new xl(e+i,t),new xl(l,A-o),new xl(l,A));case qo.BOTTOM_RIGHT:return new Cl(new xl(l,t),new xl(l,t+o),new xl(e+i,A),new xl(e,A));case qo.BOTTOM_LEFT:default:return new Cl(new xl(l,A),new xl(l-i,A),new xl(e,t+o),new xl(e,t))}},jl=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Il=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Fl=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Ql=function(){function e(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return e}(),Nl=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),Ml=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),Ul=function(e){return 0===e.type},Tl=function(e){return 1===e.type},Dl=function(e){return 2===e.type},Hl=function(e,t){return e.length===t.length&&e.some((function(e,n){return e===t[n]}))},Ll=function(e,t,n,r,s){return e.map((function(e,a){switch(a){case 0:return e.add(t,n);case 1:return e.add(t+r,n);case 2:return e.add(t+r,n+s);case 3:return e.add(t,n+s)}return e}))},Pl=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Ol=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Sl(this.container),this.container.styles.opacity<1&&this.effects.push(new Ml(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Ql(n,r,s))}if(0!==this.container.styles.overflowX){var a=jl(this.curves),i=Fl(this.curves);Hl(a,i)?this.effects.push(new Nl(a,6)):(this.effects.push(new Nl(a,2)),this.effects.push(new Nl(i,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,r=this.effects.slice(0);n;){var s=n.effects.filter((function(e){return!Tl(e)}));if(t||0!==n.container.styles.position||!n.parent){if(r.unshift.apply(r,s),t=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var a=jl(n.curves),i=Fl(n.curves);Hl(a,i)||r.unshift(new Nl(i,6))}}else r.unshift.apply(r,s);n=n.parent}return r.filter((function(t){return sa(t.target,e)}))},e}(),Rl=function(e,t,n,r){e.container.elements.forEach((function(s){var a=sa(s.flags,4),i=sa(s.flags,2),o=new Ol(s,e);sa(s.styles.display,2048)&&r.push(o);var l=sa(s.flags,8)?[]:r;if(a||i){var A=a||s.styles.isPositioned()?n:t,c=new Pl(o);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var u=s.styles.zIndex.order;if(u<0){var d=0;A.negativeZIndex.some((function(e,t){return u>e.element.container.styles.zIndex.order?(d=t,!1):d>0})),A.negativeZIndex.splice(d,0,c)}else if(u>0){var h=0;A.positiveZIndex.some((function(e,t){return u>=e.element.container.styles.zIndex.order?(h=t+1,!1):h>0})),A.positiveZIndex.splice(h,0,c)}else A.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else s.styles.isFloating()?A.nonPositionedFloats.push(c):A.nonPositionedInlineLevel.push(c);Rl(o,c,a?c:n,l)}else s.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),Rl(o,t,n,l);sa(s.flags,8)&&Vl(s,l)}))},Vl=function(e,t){for(var n=e instanceof Vi?e.start:1,r=e instanceof Vi&&e.reversed,s=0;s<t.length;s++){var a=t[s];a.container instanceof Ri&&"number"===typeof a.container.value&&0!==a.container.value&&(n=a.container.value),a.listValue=Go(n,a.container.styles.listStyleType,!0),n+=r?-1:1}},Kl=function(e){var t=new Ol(e,null),n=new Pl(t),r=[];return Rl(t,n,n,r),Vl(t.container,r),n},zl=function(e,t){switch(t){case 0:return ql(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return ql(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return ql(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return ql(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},_l=function(e,t){switch(t){case 0:return ql(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return ql(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return ql(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return ql(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},Gl=function(e,t){switch(t){case 0:return ql(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return ql(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return ql(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return ql(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Wl=function(e,t){switch(t){case 0:return Yl(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return Yl(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return Yl(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return Yl(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},Yl=function(e,t){var n=[];return kl(e)?n.push(e.subdivide(.5,!1)):n.push(e),kl(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},ql=function(e,t,n,r){var s=[];return kl(e)?s.push(e.subdivide(.5,!1)):s.push(e),kl(n)?s.push(n.subdivide(.5,!0)):s.push(n),kl(r)?s.push(r.subdivide(.5,!0).reverse()):s.push(r),kl(t)?s.push(t.subdivide(.5,!1).reverse()):s.push(t),s},Xl=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Jl=function(e){var t=e.styles,n=e.bounds,r=Wn(t.paddingLeft,n.width),s=Wn(t.paddingRight,n.width),a=Wn(t.paddingTop,n.width),i=Wn(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+s),-(t.borderTopWidth+t.borderBottomWidth+a+i))},Zl=function(e,t){return 0===e?t.bounds:2===e?Jl(t):Xl(t)},$l=function(e,t){return 0===e?t.bounds:2===e?Jl(t):Xl(t)},eA=function(e,t,n){var r=Zl(sA(e.styles.backgroundOrigin,t),e),s=$l(sA(e.styles.backgroundClip,t),e),a=rA(sA(e.styles.backgroundSize,t),n,r),i=a[0],o=a[1],l=Gn(sA(e.styles.backgroundPosition,t),r.width-i,r.height-o);return[aA(sA(e.styles.backgroundRepeat,t),l,a,r,s),Math.round(r.left+l[0]),Math.round(r.top+l[1]),i,o]},tA=function(e){return Mn(e)&&e.value===Dr.AUTO},nA=function(e){return"number"===typeof e},rA=function(e,t,n){var r=t[0],s=t[1],a=t[2],i=e[0],o=e[1];if(!i)return[0,0];if(Rn(i)&&o&&Rn(o))return[Wn(i,n.width),Wn(o,n.height)];var l=nA(a);if(Mn(i)&&(i.value===Dr.CONTAIN||i.value===Dr.COVER))return nA(a)?n.width/n.height<a!==(i.value===Dr.COVER)?[n.width,n.width/a]:[n.height*a,n.height]:[n.width,n.height];var A=nA(r),c=nA(s),u=A||c;if(tA(i)&&(!o||tA(o)))return A&&c?[r,s]:l||u?u&&l?[A?r:s*a,c?s:r/a]:[A?r:n.width,c?s:n.height]:[n.width,n.height];if(l){var d=0,h=0;return Rn(i)?d=Wn(i,n.width):Rn(o)&&(h=Wn(o,n.height)),tA(i)?d=h*a:o&&!tA(o)||(h=d/a),[d,h]}var p=null,m=null;if(Rn(i)?p=Wn(i,n.width):o&&Rn(o)&&(m=Wn(o,n.height)),null===p||o&&!tA(o)||(m=A&&c?p/r*s:n.height),null!==m&&tA(i)&&(p=A&&c?m/s*r:n.width),null!==p&&null!==m)return[p,m];throw new Error("Unable to calculate background-size for element")},sA=function(e,t){var n=e[t];return"undefined"===typeof n?e[0]:n},aA=function(e,t,n,r,s){var a=t[0],i=t[1],o=n[0],l=n[1];switch(e){case 2:return[new xl(Math.round(r.left),Math.round(r.top+i)),new xl(Math.round(r.left+r.width),Math.round(r.top+i)),new xl(Math.round(r.left+r.width),Math.round(l+r.top+i)),new xl(Math.round(r.left),Math.round(l+r.top+i))];case 3:return[new xl(Math.round(r.left+a),Math.round(r.top)),new xl(Math.round(r.left+a+o),Math.round(r.top)),new xl(Math.round(r.left+a+o),Math.round(r.height+r.top)),new xl(Math.round(r.left+a),Math.round(r.height+r.top))];case 1:return[new xl(Math.round(r.left+a),Math.round(r.top+i)),new xl(Math.round(r.left+a+o),Math.round(r.top+i)),new xl(Math.round(r.left+a+o),Math.round(r.top+i+l)),new xl(Math.round(r.left+a),Math.round(r.top+i+l))];default:return[new xl(Math.round(s.left),Math.round(s.top)),new xl(Math.round(s.left+s.width),Math.round(s.top)),new xl(Math.round(s.left+s.width),Math.round(s.height+s.top)),new xl(Math.round(s.left),Math.round(s.height+s.top))]}},iA="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",oA="Hidden Text",lA=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),r.src=iA,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(oA)),n.appendChild(s),n.appendChild(r);var i=r.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(oA)),n.style.lineHeight="normal",r.style.verticalAlign="super";var o=r.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:i,middle:o}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return"undefined"===typeof this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),AA=function(){function e(e,t){this.context=e,this.options=t}return e}(),cA=1e4,uA=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new lA(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return t(n,e),n.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach((function(e){return t.applyEffect(e)}))},n.prototype.applyEffect=function(e){this.ctx.save(),Dl(e)&&(this.ctx.globalAlpha=e.opacity),Ul(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),Tl(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},n.prototype.renderNode=function(e){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return sa(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var r=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):Ii(e.text).reduce((function(t,s){return r.ctx.fillText(s,t,e.bounds.top+n),t+r.ctx.measureText(s).width}),e.bounds.left)},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter((function(e){return"normal"===e||"small-caps"===e})).join(""),n=fA(e.fontFamily).join(", "),r=Qn(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,r,n].join(" "),n,r]},n.prototype.renderTextNode=function(e,t){return r(this,void 0,void 0,(function(){var n,r,a,i,o,l,A,c,u=this;return s(this,(function(s){return n=this.createFontStyle(t),r=n[0],a=n[1],i=n[2],this.ctx.font=r,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",o=this.fontMetrics.getMetrics(a,i),l=o.baseline,A=o.middle,c=t.paintOrder,e.textBounds.forEach((function(e){c.forEach((function(n){switch(n){case 0:u.ctx.fillStyle=sr(t.color),u.renderTextWithLetterSpacing(e,t.letterSpacing,l);var r=t.textShadow;r.length&&e.text.trim().length&&(r.slice(0).reverse().forEach((function(n){u.ctx.shadowColor=sr(n.color),u.ctx.shadowOffsetX=n.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=n.offsetY.number*u.options.scale,u.ctx.shadowBlur=n.blur.number,u.renderTextWithLetterSpacing(e,t.letterSpacing,l)})),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),t.textDecorationLine.length&&(u.ctx.fillStyle=sr(t.textDecorationColor||t.color),t.textDecorationLine.forEach((function(t){switch(t){case 1:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+l),e.bounds.width,1);break;case 2:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:u.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+A),e.bounds.width,1)}})));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(u.ctx.strokeStyle=sr(t.webkitTextStrokeColor),u.ctx.lineWidth=t.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+l)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter"}}))})),[2]}))}))},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=Jl(e),s=Fl(t);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return r(this,void 0,void 0,(function(){var t,r,a,o,l,A,c,u,d,h,p,m,f,g,v,y,w,b;return s(this,(function(s){switch(s.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,r=e.curves,a=t.styles,o=0,l=t.textNodes,s.label=1;case 1:return o<l.length?(A=l[o],[4,this.renderTextNode(A,a)]):[3,4];case 2:s.sent(),s.label=3;case 3:return o++,[3,1];case 4:if(!(t instanceof Li))return[3,8];s.label=5;case 5:return s.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return v=s.sent(),this.renderReplacedElement(t,r,v),[3,8];case 7:return s.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof Pi&&this.renderReplacedElement(t,r,t.canvas),!(t instanceof Oi))return[3,12];s.label=9;case 9:return s.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return v=s.sent(),this.renderReplacedElement(t,r,v),[3,12];case 11:return s.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof eo&&t.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:c=s.sent(),t.width&&t.height&&this.ctx.drawImage(c,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),s.label=14;case 14:if(t instanceof Ji&&(u=Math.min(t.bounds.width,t.bounds.height),t.type===Wi?t.checked&&(this.ctx.save(),this.path([new xl(t.bounds.left+.39363*u,t.bounds.top+.79*u),new xl(t.bounds.left+.16*u,t.bounds.top+.5549*u),new xl(t.bounds.left+.27347*u,t.bounds.top+.44071*u),new xl(t.bounds.left+.39694*u,t.bounds.top+.5649*u),new xl(t.bounds.left+.72983*u,t.bounds.top+.23*u),new xl(t.bounds.left+.84*u,t.bounds.top+.34085*u),new xl(t.bounds.left+.39363*u,t.bounds.top+.79*u)]),this.ctx.fillStyle=sr(Xi),this.ctx.fill(),this.ctx.restore()):t.type===Yi&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+u/2,t.bounds.top+u/2,u/4,0,2*Math.PI,!0),this.ctx.fillStyle=sr(Xi),this.ctx.fill(),this.ctx.restore())),dA(t)&&t.value.length){switch(d=this.createFontStyle(a),w=d[0],h=d[1],p=this.fontMetrics.getMetrics(w,h).baseline,this.ctx.font=w,this.ctx.fillStyle=sr(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=pA(t.styles.textAlign),b=Jl(t),m=0,t.styles.textAlign){case 1:m+=b.width/2;break;case 2:m+=b.width}f=b.add(m,0,0,-b.height/2+1),this.ctx.save(),this.path([new xl(b.left,b.top),new xl(b.left+b.width,b.top),new xl(b.left+b.width,b.top+b.height),new xl(b.left,b.top+b.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ki(t.value,f),a.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!sa(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(g=t.styles.listStyleImage).type)return[3,18];v=void 0,y=g.url,s.label=15;case 15:return s.trys.push([15,17,,18]),[4,this.context.cache.match(y)];case 16:return v=s.sent(),this.ctx.drawImage(v,t.bounds.left-(v.width+10),t.bounds.top),[3,18];case 17:return s.sent(),this.context.logger.error("Error loading list-style-image "+y),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(w=this.createFontStyle(a)[0],this.ctx.font=w,this.ctx.fillStyle=sr(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",b=new i(t.bounds.left,t.bounds.top+Wn(t.styles.paddingTop,t.bounds.width),t.bounds.width,bs(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ki(e.listValue,b),a.letterSpacing,bs(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),s.label=20;case 20:return[2]}}))}))},n.prototype.renderStackContent=function(e){return r(this,void 0,void 0,(function(){var t,n,r,a,i,o,l,A,c,u,d,h,p,m,f;return s(this,(function(s){switch(s.label){case 0:return sa(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:s.sent(),t=0,n=e.negativeZIndex,s.label=2;case 2:return t<n.length?(f=n[t],[4,this.renderStack(f)]):[3,5];case 3:s.sent(),s.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:s.sent(),r=0,a=e.nonInlineLevel,s.label=7;case 7:return r<a.length?(f=a[r],[4,this.renderNode(f)]):[3,10];case 8:s.sent(),s.label=9;case 9:return r++,[3,7];case 10:i=0,o=e.nonPositionedFloats,s.label=11;case 11:return i<o.length?(f=o[i],[4,this.renderStack(f)]):[3,14];case 12:s.sent(),s.label=13;case 13:return i++,[3,11];case 14:l=0,A=e.nonPositionedInlineLevel,s.label=15;case 15:return l<A.length?(f=A[l],[4,this.renderStack(f)]):[3,18];case 16:s.sent(),s.label=17;case 17:return l++,[3,15];case 18:c=0,u=e.inlineLevel,s.label=19;case 19:return c<u.length?(f=u[c],[4,this.renderNode(f)]):[3,22];case 20:s.sent(),s.label=21;case 21:return c++,[3,19];case 22:d=0,h=e.zeroOrAutoZIndexOrTransformedOrOpacity,s.label=23;case 23:return d<h.length?(f=h[d],[4,this.renderStack(f)]):[3,26];case 24:s.sent(),s.label=25;case 25:return d++,[3,23];case 26:p=0,m=e.positiveZIndex,s.label=27;case 27:return p<m.length?(f=m[p],[4,this.renderStack(f)]):[3,30];case 28:s.sent(),s.label=29;case 29:return p++,[3,27];case 30:return[2]}}))}))},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach((function(e,n){var r=kl(e)?e.start:e;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),kl(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}))},n.prototype.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},n.prototype.resizeImage=function(e,t,n){var r;if(e.width===t&&e.height===n)return e;var s=(null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document).createElement("canvas");return s.width=Math.max(1,t),s.height=Math.max(1,n),s.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),s},n.prototype.renderBackgroundImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,a,i,o;return s(this,(function(l){switch(l.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var a,i,o,l,A,c,u,d,h,p,m,f,g,v,y,w,b,x,B,C,k,S,E,j,I,F,Q,N,M,U,T;return s(this,(function(s){switch(s.label){case 0:if(0!==n.type)return[3,5];a=void 0,i=n.url,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,r.context.cache.match(i)];case 2:return a=s.sent(),[3,4];case 3:return s.sent(),r.context.logger.error("Error loading background-image "+i),[3,4];case 4:return a&&(o=eA(e,t,[a.width,a.height,a.width/a.height]),w=o[0],S=o[1],E=o[2],B=o[3],C=o[4],v=r.ctx.createPattern(r.resizeImage(a,B,C),"repeat"),r.renderRepeat(w,v,S,E)),[3,6];case 5:Nr(n)?(l=eA(e,t,[null,null,null]),w=l[0],S=l[1],E=l[2],B=l[3],C=l[4],A=vr(n.angle,B,C),c=A[0],u=A[1],d=A[2],h=A[3],p=A[4],(m=document.createElement("canvas")).width=B,m.height=C,f=m.getContext("2d"),g=f.createLinearGradient(u,h,d,p),fr(n.stops,c).forEach((function(e){return g.addColorStop(e.stop,sr(e.color))})),f.fillStyle=g,f.fillRect(0,0,B,C),B>0&&C>0&&(v=r.ctx.createPattern(m,"repeat"),r.renderRepeat(w,v,S,E))):Mr(n)&&(y=eA(e,t,[null,null,null]),w=y[0],b=y[1],x=y[2],B=y[3],C=y[4],k=0===n.position.length?[zn]:n.position,S=Wn(k[0],B),E=Wn(k[k.length-1],C),j=br(n,S,E,B,C),I=j[0],F=j[1],I>0&&F>0&&(Q=r.ctx.createRadialGradient(b+S,x+E,0,b+S,x+E,I),fr(n.stops,2*I).forEach((function(e){return Q.addColorStop(e.stop,sr(e.color))})),r.path(w),r.ctx.fillStyle=Q,I!==F?(N=e.bounds.left+.5*e.bounds.width,M=e.bounds.top+.5*e.bounds.height,T=1/(U=F/I),r.ctx.save(),r.ctx.translate(N,M),r.ctx.transform(1,0,0,U,0,0),r.ctx.translate(-N,-M),r.ctx.fillRect(b,T*(x-M)+M,B,C*T),r.ctx.restore()):r.ctx.fill())),s.label=6;case 6:return t--,[2]}}))},r=this,a=0,i=e.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return a<i.length?(o=i[a],[5,n(o)]):[3,4];case 2:l.sent(),l.label=3;case 3:return a++,[3,1];case 4:return[2]}}))}))},n.prototype.renderSolidBorder=function(e,t,n){return r(this,void 0,void 0,(function(){return s(this,(function(r){return this.path(zl(n,t)),this.ctx.fillStyle=sr(e),this.ctx.fill(),[2]}))}))},n.prototype.renderDoubleBorder=function(e,t,n,a){return r(this,void 0,void 0,(function(){var r,i;return s(this,(function(s){switch(s.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,a)]:[3,2];case 1:return s.sent(),[2];case 2:return r=_l(a,n),this.path(r),this.ctx.fillStyle=sr(e),this.ctx.fill(),i=Gl(a,n),this.path(i),this.ctx.fill(),[2]}}))}))},n.prototype.renderNodeBackgroundAndBorders=function(e){return r(this,void 0,void 0,(function(){var t,n,r,a,i,o,l,A,c=this;return s(this,(function(s){switch(s.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!rr(t.backgroundColor)||t.backgroundImage.length,r=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],a=hA(sA(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),rr(t.backgroundColor)||(this.ctx.fillStyle=sr(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:s.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach((function(t){c.ctx.save();var n=jl(e.curves),r=t.inset?0:cA,s=Ll(n,-r+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(c.path(n),c.ctx.clip(),c.mask(s)):(c.mask(n),c.ctx.clip(),c.path(s)),c.ctx.shadowOffsetX=t.offsetX.number+r,c.ctx.shadowOffsetY=t.offsetY.number,c.ctx.shadowColor=sr(t.color),c.ctx.shadowBlur=t.blur.number,c.ctx.fillStyle=t.inset?sr(t.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()})),s.label=2;case 2:i=0,o=0,l=r,s.label=3;case 3:return o<l.length?0!==(A=l[o]).style&&!rr(A.color)&&A.width>0?2!==A.style?[3,5]:[4,this.renderDashedDottedBorder(A.color,A.width,i,e.curves,2)]:[3,11]:[3,13];case 4:return s.sent(),[3,11];case 5:return 3!==A.style?[3,7]:[4,this.renderDashedDottedBorder(A.color,A.width,i,e.curves,3)];case 6:return s.sent(),[3,11];case 7:return 4!==A.style?[3,9]:[4,this.renderDoubleBorder(A.color,A.width,i,e.curves)];case 8:return s.sent(),[3,11];case 9:return[4,this.renderSolidBorder(A.color,i,e.curves)];case 10:s.sent(),s.label=11;case 11:i++,s.label=12;case 12:return o++,[3,3];case 13:return[2]}}))}))},n.prototype.renderDashedDottedBorder=function(e,t,n,a,i){return r(this,void 0,void 0,(function(){var r,o,l,A,c,u,d,h,p,m,f,g,v,y,w,b;return s(this,(function(s){return this.ctx.save(),r=Wl(a,n),o=zl(a,n),2===i&&(this.path(o),this.ctx.clip()),kl(o[0])?(l=o[0].start.x,A=o[0].start.y):(l=o[0].x,A=o[0].y),kl(o[1])?(c=o[1].end.x,u=o[1].end.y):(c=o[1].x,u=o[1].y),d=0===n||2===n?Math.abs(l-c):Math.abs(A-u),this.ctx.beginPath(),3===i?this.formatPath(r):this.formatPath(o.slice(0,2)),h=t<3?3*t:2*t,p=t<3?2*t:t,3===i&&(h=t,p=t),m=!0,d<=2*h?m=!1:d<=2*h+p?(h*=f=d/(2*h+p),p*=f):(g=Math.floor((d+p)/(h+p)),v=(d-g*h)/(g-1),p=(y=(d-(g+1)*h)/g)<=0||Math.abs(p-v)<Math.abs(p-y)?v:y),m&&(3===i?this.ctx.setLineDash([0,h+p]):this.ctx.setLineDash([h,p])),3===i?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=sr(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===i&&(kl(o[0])&&(w=o[3],b=o[0],this.ctx.beginPath(),this.formatPath([new xl(w.end.x,w.end.y),new xl(b.start.x,b.start.y)]),this.ctx.stroke()),kl(o[1])&&(w=o[1],b=o[2],this.ctx.beginPath(),this.formatPath([new xl(w.end.x,w.end.y),new xl(b.start.x,b.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},n.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=sr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=Kl(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}}))}))},n}(AA),dA=function(e){return e instanceof $i||e instanceof Zi||e instanceof Ji&&e.type!==Yi&&e.type!==Wi},hA=function(e,t){switch(e){case 0:return jl(t);case 2:return Il(t);default:return Fl(t)}},pA=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},mA=["-apple-system","system-ui"],fA=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter((function(e){return-1===mA.indexOf(e)})):e},gA=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return t(n,e),n.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t,n;return s(this,(function(r){switch(r.label){case 0:return t=xi(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,vA(t)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=sr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},n}(AA),vA=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},yA=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.debug?console.debug.apply(console,a([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!==typeof window&&window.console&&"function"===typeof console.info&&console.info.apply(console,a([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.warn?console.warn.apply(console,a([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.error?console.error.apply(console,a([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),wA=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new yA({id:this.instanceName,enabled:t.logging}),this.cache=null!==(r=t.cache)&&void 0!==r?r:new hl(this,t)}return e.instanceCount=1,e}(),bA=function(e,t){return void 0===t&&(t={}),xA(e,t)};"undefined"!==typeof window&&dl.setContext(window);var xA=function(e,t){return r(void 0,void 0,void 0,(function(){var r,a,A,c,u,d,h,p,m,f,g,v,y,w,b,x,B,C,k,S,E,j,I,F,Q,N,M,U,T,D,H,L,P,O,R,V,K,z;return s(this,(function(s){switch(s.label){case 0:if(!e||"object"!==typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(r=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(a=r.defaultView))throw new Error("Document is not attached to a Window");return A={allowTaint:null!==(j=t.allowTaint)&&void 0!==j&&j,imageTimeout:null!==(I=t.imageTimeout)&&void 0!==I?I:15e3,proxy:t.proxy,useCORS:null!==(F=t.useCORS)&&void 0!==F&&F},c=n({logging:null===(Q=t.logging)||void 0===Q||Q,cache:t.cache},A),u={windowWidth:null!==(N=t.windowWidth)&&void 0!==N?N:a.innerWidth,windowHeight:null!==(M=t.windowHeight)&&void 0!==M?M:a.innerHeight,scrollX:null!==(U=t.scrollX)&&void 0!==U?U:a.pageXOffset,scrollY:null!==(T=t.scrollY)&&void 0!==T?T:a.pageYOffset},d=new i(u.scrollX,u.scrollY,u.windowWidth,u.windowHeight),h=new wA(c,d),p=null!==(D=t.foreignObjectRendering)&&void 0!==D&&D,m={allowTaint:null!==(H=t.allowTaint)&&void 0!==H&&H,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:p,copyStyles:p},h.logger.debug("Starting document clone with size "+d.width+"x"+d.height+" scrolled to "+-d.left+","+-d.top),f=new Yo(h,e,m),(g=f.clonedReferenceElement)?[4,f.toIFrame(r,d)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=s.sent(),y=go(g)||mo(g)?l(g.ownerDocument):o(h,g),w=y.width,b=y.height,x=y.left,B=y.top,C=BA(h,g,t.backgroundColor),k={canvas:t.canvas,backgroundColor:C,scale:null!==(P=null!==(L=t.scale)&&void 0!==L?L:a.devicePixelRatio)&&void 0!==P?P:1,x:(null!==(O=t.x)&&void 0!==O?O:0)+x,y:(null!==(R=t.y)&&void 0!==R?R:0)+B,width:null!==(V=t.width)&&void 0!==V?V:Math.ceil(w),height:null!==(K=t.height)&&void 0!==K?K:Math.ceil(b)},p?(h.logger.debug("Document cloned, using foreign object rendering"),[4,new gA(h,k).render(g)]):[3,3];case 2:return S=s.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+x+","+B+" with size "+w+"x"+b+" using computed rendering"),h.logger.debug("Starting DOM parsing"),E=so(h,g),C===E.styles.backgroundColor&&(E.styles.backgroundColor=dr.TRANSPARENT),h.logger.debug("Starting renderer for element at "+k.x+","+k.y+" with size "+k.width+"x"+k.height),[4,new uA(h,k).render(E)];case 4:S=s.sent(),s.label=5;case 5:return(null===(z=t.removeContainer)||void 0===z||z)&&(Yo.destroy(v)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,S]}}))}))},BA=function(e,t,n){var r=t.ownerDocument,s=r.documentElement?ur(e,getComputedStyle(r.documentElement).backgroundColor):dr.TRANSPARENT,a=r.body?ur(e,getComputedStyle(r.body).backgroundColor):dr.TRANSPARENT,i="string"===typeof n?ur(e,n):null===n?dr.TRANSPARENT:4294967295;return t===r.documentElement?rr(s)?rr(a)?i:a:s:i};return bA}()},4814:e=>{var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,s=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,i=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,l=/^\s+|\s+$/g,A="";function c(e){return e?e.replace(l,A):A}e.exports=function(e,l){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];l=l||{};var u=1,d=1;function h(e){var t=e.match(n);t&&(u+=t.length);var r=e.lastIndexOf("\n");d=~r?e.length-r:d+e.length}function p(){var e={line:u,column:d};return function(t){return t.position=new m(e),y(),t}}function m(e){this.start=e,this.end={line:u,column:d},this.source=l.source}m.prototype.content=e;var f=[];function g(t){var n=new Error(l.source+":"+u+":"+d+": "+t);if(n.reason=t,n.filename=l.source,n.line=u,n.column=d,n.source=e,!l.silent)throw n;f.push(n)}function v(t){var n=t.exec(e);if(n){var r=n[0];return h(r),e=e.slice(r.length),n}}function y(){v(r)}function w(e){var t;for(e=e||[];t=b();)!1!==t&&e.push(t);return e}function b(){var t=p();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;A!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,A===e.charAt(n-1))return g("End of comment missing");var r=e.slice(2,n-2);return d+=2,h(r),e=e.slice(n),d+=2,t({type:"comment",comment:r})}}function x(){var e=p(),n=v(s);if(n){if(b(),!v(a))return g("property missing ':'");var r=v(i),l=e({type:"declaration",property:c(n[0].replace(t,A)),value:r?c(r[0].replace(t,A)):A});return v(o),l}}return y(),function(){var e,t=[];for(w(t);e=x();)!1!==e&&(t.push(e),w(t));return t}()}},3191:(e,t,n)=>{var r=n(9794),s=function(e){var t="",n=Object.keys(e);return n.forEach((function(s,a){var i=e[s];(function(e){return/[height|width]$/.test(e)})(s=r(s))&&"number"===typeof i&&(i+="px"),t+=!0===i?s:!1===i?"not "+s:"("+s+": "+i+")",a<n.length-1&&(t+=" and ")})),t};e.exports=function(e){var t="";return"string"===typeof e?e:e instanceof Array?(e.forEach((function(n,r){t+=s(n),r<e.length-1&&(t+=", ")})),t):s(e)}},4267:(e,t,n)=>{var r=NaN,s="[object Symbol]",a=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,A=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,d=c||u||Function("return this")(),h=Object.prototype.toString,p=Math.max,m=Math.min,f=function(){return d.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&h.call(e)==s}(e))return r;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=o.test(e);return n||l.test(e)?A(e.slice(2),n?2:8):i.test(e)?r:+e}e.exports=function(e,t,n){var r,s,a,i,o,l,A=0,c=!1,u=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=r,a=s;return r=s=void 0,A=t,i=e.apply(a,n)}function y(e){var n=e-l;return void 0===l||n>=t||n<0||u&&e-A>=a}function w(){var e=f();if(y(e))return b(e);o=setTimeout(w,function(e){var n=t-(e-l);return u?m(n,a-(e-A)):n}(e))}function b(e){return o=void 0,d&&r?h(e):(r=s=void 0,i)}function x(){var e=f(),n=y(e);if(r=arguments,s=this,l=e,n){if(void 0===o)return function(e){return A=e,o=setTimeout(w,t),c?h(e):i}(l);if(u)return o=setTimeout(w,t),h(l)}return void 0===o&&(o=setTimeout(w,t)),i}return t=v(t)||0,g(n)&&(c=!!n.leading,a=(u="maxWait"in n)?p(v(n.maxWait)||0,t):a,d="trailing"in n?!!n.trailing:d),x.cancel=function(){void 0!==o&&clearTimeout(o),A=0,r=l=s=o=void 0},x.flush=function(){return void 0===o?i:b(f())},x}},4635:(e,t,n)=>{var r=n(4759).Symbol;e.exports=r},1570:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}},1516:e=>{e.exports=function(e,t,n,r){var s=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++s]);++s<a;)n=t(n,e[s],s,e);return n}},9508:e=>{e.exports=function(e){return e.split("")}},1443:e=>{var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},2022:(e,t,n)=>{var r=n(4635),s=n(1581),a=n(5336),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?s(e):a(e)}},2106:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},4978:e=>{e.exports=function(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(n=n>s?s:n)<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(s);++r<s;)a[r]=e[r+t];return a}},1582:(e,t,n)=>{var r=n(4635),s=n(1570),a=n(2279),i=n(184),o=r?r.prototype:void 0,l=o?o.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return s(t,e)+"";if(i(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},6914:(e,t,n)=>{var r=n(8798),s=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(s,""):e}},6212:(e,t,n)=>{var r=n(4978);e.exports=function(e,t,n){var s=e.length;return n=void 0===n?s:n,!t&&n>=s?e:r(e,t,n)}},6689:(e,t,n)=>{var r=n(6212),s=n(1536),a=n(78),i=n(4008);e.exports=function(e){return function(t){t=i(t);var n=s(t)?a(t):void 0,o=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return o[e]()+l}}},9189:(e,t,n)=>{var r=n(1516),s=n(1454),a=n(1047),i=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return r(a(s(t).replace(i,"")),e,"")}}},2269:(e,t,n)=>{var r=n(2106)({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=r},6658:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},1581:(e,t,n)=>{var r=n(4635),s=Object.prototype,a=s.hasOwnProperty,i=s.toString,o=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,o),n=e[o];try{e[o]=void 0;var r=!0}catch(l){}var s=i.call(e);return r&&(t?e[o]=n:delete e[o]),s}},1536:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},8300:e=>{var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},5336:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},4759:(e,t,n)=>{var r=n(6658),s="object"==typeof self&&self&&self.Object===Object&&self,a=r||s||Function("return this")();e.exports=a},78:(e,t,n)=>{var r=n(9508),s=n(1536),a=n(9892);e.exports=function(e){return s(e)?a(e):r(e)}},8798:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},9892:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",s="\\ud83c[\\udffb-\\udfff]",a="[^"+t+"]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+s+")"+"?",A="[\\ufe0e\\ufe0f]?",c=A+l+("(?:\\u200d(?:"+[a,i,o].join("|")+")"+A+l+")*"),u="(?:"+[a+r+"?",r,i,o,n].join("|")+")",d=RegExp(s+"(?="+s+")|"+u+c,"g");e.exports=function(e){return e.match(d)||[]}},3315:e=>{var t="\\ud800-\\udfff",n="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",s="A-Z\\xc0-\\xd6\\xd8-\\xde",a="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",i="["+a+"]",o="\\d+",l="["+n+"]",A="["+r+"]",c="[^"+t+a+o+n+r+s+"]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",h="["+s+"]",p="(?:"+A+"|"+c+")",m="(?:"+h+"|"+c+")",f="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",g="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",v="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",y="[\\ufe0e\\ufe0f]?",w=y+v+("(?:\\u200d(?:"+["[^"+t+"]",u,d].join("|")+")"+y+v+")*"),b="(?:"+[l,u,d].join("|")+")"+w,x=RegExp([h+"?"+A+"+"+f+"(?="+[i,h,"$"].join("|")+")",m+"+"+g+"(?="+[i,h+p,"$"].join("|")+")",h+"?"+p+"+"+f,h+"+"+g,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",o,b].join("|"),"g");e.exports=function(e){return e.match(x)||[]}},6808:(e,t,n)=>{var r=n(6014),s=n(9189)((function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)}));e.exports=s},6014:(e,t,n)=>{var r=n(4008),s=n(3414);e.exports=function(e){return s(r(e).toLowerCase())}},5491:(e,t,n)=>{var r=n(4567),s=n(4378),a=n(2588),i=Math.max,o=Math.min;e.exports=function(e,t,n){var l,A,c,u,d,h,p=0,m=!1,f=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,r=A;return l=A=void 0,p=t,u=e.apply(r,n)}function y(e){var n=e-h;return void 0===h||n>=t||n<0||f&&e-p>=c}function w(){var e=s();if(y(e))return b(e);d=setTimeout(w,function(e){var n=t-(e-h);return f?o(n,c-(e-p)):n}(e))}function b(e){return d=void 0,g&&l?v(e):(l=A=void 0,u)}function x(){var e=s(),n=y(e);if(l=arguments,A=this,h=e,n){if(void 0===d)return function(e){return p=e,d=setTimeout(w,t),m?v(e):u}(h);if(f)return clearTimeout(d),d=setTimeout(w,t),v(h)}return void 0===d&&(d=setTimeout(w,t)),u}return t=a(t)||0,r(n)&&(m=!!n.leading,c=(f="maxWait"in n)?i(a(n.maxWait)||0,t):c,g="trailing"in n?!!n.trailing:g),x.cancel=function(){void 0!==d&&clearTimeout(d),p=0,l=h=A=d=void 0},x.flush=function(){return void 0===d?u:b(s())},x}},1454:(e,t,n)=>{var r=n(2269),s=n(4008),a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,i=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=s(e))&&e.replace(a,r).replace(i,"")}},2279:e=>{var t=Array.isArray;e.exports=t},4567:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},9248:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},184:(e,t,n)=>{var r=n(2022),s=n(9248);e.exports=function(e){return"symbol"==typeof e||s(e)&&"[object Symbol]"==r(e)}},4378:(e,t,n)=>{var r=n(4759);e.exports=function(){return r.Date.now()}},2588:(e,t,n)=>{var r=n(6914),s=n(4567),a=n(184),i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,A=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(s(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=s(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=o.test(e);return n||l.test(e)?A(e.slice(2),n?2:8):i.test(e)?NaN:+e}},4008:(e,t,n)=>{var r=n(1582);e.exports=function(e){return null==e?"":r(e)}},3414:(e,t,n)=>{var r=n(6689)("toUpperCase");e.exports=r},1047:(e,t,n)=>{var r=n(1443),s=n(8300),a=n(4008),i=n(3315);e.exports=function(e,t,n){return e=a(e),void 0===(t=n?void 0:t)?s(e)?i(e):r(e):e.match(t)||[]}},6705:(e,t,n)=>{var r;!function(s,a,i){if(s){for(var o,l={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},A={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},c={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},u={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},d=1;d<20;++d)l[111+d]="f"+d;for(d=0;d<=9;++d)l[d+96]=d.toString();y.prototype.bind=function(e,t,n){var r=this;return e=e instanceof Array?e:[e],r._bindMultiple.call(r,e,t,n),r},y.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},y.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},y.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},y.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(v(t,this.target))return!1;if("composedPath"in e&&"function"===typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},y.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},y.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(l[t]=e[t]);o=null},y.init=function(){var e=y(a);for(var t in e)"_"!==t.charAt(0)&&(y[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},y.init(),s.Mousetrap=y,e.exports&&(e.exports=y),void 0===(r=function(){return y}.call(t,n,t,e))||(e.exports=r)}function h(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function p(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return l[e.which]?l[e.which]:A[e.which]?A[e.which]:String.fromCharCode(e.which).toLowerCase()}function m(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function f(e,t,n){return n||(n=function(){if(!o)for(var e in o={},l)e>95&&e<112||l.hasOwnProperty(e)&&(o[l[e]]=e);return o}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function g(e,t){var n,r,s,a=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),s=0;s<n.length;++s)r=n[s],u[r]&&(r=u[r]),t&&"keypress"!=t&&c[r]&&(r=c[r],a.push("shift")),m(r)&&a.push(r);return{key:r,modifiers:a,action:t=f(r,a,t)}}function v(e,t){return null!==e&&e!==a&&(e===t||v(e.parentNode,t))}function y(e){var t=this;if(e=e||a,!(t instanceof y))return new y(e);t.target=e,t._callbacks={},t._directMap={};var n,r={},s=!1,i=!1,o=!1;function l(e){e=e||{};var t,n=!1;for(t in r)e[t]?n=!0:r[t]=0;n||(o=!1)}function A(e,n,s,a,i,o){var l,A,c,u,d=[],h=s.type;if(!t._callbacks[e])return[];for("keyup"==h&&m(e)&&(n=[e]),l=0;l<t._callbacks[e].length;++l)if(A=t._callbacks[e][l],(a||!A.seq||r[A.seq]==A.level)&&h==A.action&&("keypress"==h&&!s.metaKey&&!s.ctrlKey||(c=n,u=A.modifiers,c.sort().join(",")===u.sort().join(",")))){var p=!a&&A.combo==i,f=a&&A.seq==a&&A.level==o;(p||f)&&t._callbacks[e].splice(l,1),d.push(A)}return d}function c(e,n,r,s){t.stopCallback(n,n.target||n.srcElement,r,s)||!1===e(n,r)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(n))}function u(e){"number"!==typeof e.which&&(e.which=e.keyCode);var n=p(e);n&&("keyup"!=e.type||s!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):s=!1)}function d(e,t,a,i){function A(t){return function(){o=t,++r[e],clearTimeout(n),n=setTimeout(l,1e3)}}function u(t){c(a,t,e),"keyup"!==i&&(s=p(t)),setTimeout(l,10)}r[e]=0;for(var d=0;d<t.length;++d){var h=d+1===t.length?u:A(i||g(t[d+1]).action);f(t[d],h,i,e,d)}}function f(e,n,r,s,a){t._directMap[e+":"+r]=n;var i,o=(e=e.replace(/\s+/g," ")).split(" ");o.length>1?d(e,o,n,r):(i=g(e,r),t._callbacks[i.key]=t._callbacks[i.key]||[],A(i.key,i.modifiers,{type:i.action},s,e,a),t._callbacks[i.key][s?"unshift":"push"]({callback:n,modifiers:i.modifiers,action:i.action,seq:s,level:a,combo:e}))}t._handleKey=function(e,t,n){var r,s=A(e,t,n),a={},u=0,d=!1;for(r=0;r<s.length;++r)s[r].seq&&(u=Math.max(u,s[r].level));for(r=0;r<s.length;++r)if(s[r].seq){if(s[r].level!=u)continue;d=!0,a[s[r].seq]=1,c(s[r].callback,n,s[r].combo,s[r].seq)}else d||c(s[r].callback,n,s[r].combo);var h="keypress"==n.type&&i;n.type!=o||m(e)||h||l(a),i=d&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)f(e[r],t,n)},h(e,"keypress",u),h(e,"keydown",u),h(e,"keyup",u)}}("undefined"!==typeof window?window:null,"undefined"!==typeof window?document:null)},8240:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.DebounceInput=void 0;var s=o(n(9950)),a=o(n(4267)),i=["element","onChange","value","minLength","debounceTimeout","forceNotifyByEnter","forceNotifyOnBlur","onKeyDown","onBlur","inputRef"];function o(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(s,arguments,a)}else n=s.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}(this,n)}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(A,e);var t,n,r,o=h(A);function A(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,A),f(p(t=o.call(this,e)),"onChange",(function(e){e.persist();var n=t.state.value,r=t.props.minLength;t.setState({value:e.target.value},(function(){var s=t.state.value;s.length>=r?t.notify(e):n.length>s.length&&t.notify(c(c({},e),{},{target:c(c({},e.target),{},{value:""})}))}))})),f(p(t),"onKeyDown",(function(e){"Enter"===e.key&&t.forceNotify(e);var n=t.props.onKeyDown;n&&(e.persist(),n(e))})),f(p(t),"onBlur",(function(e){t.forceNotify(e);var n=t.props.onBlur;n&&(e.persist(),n(e))})),f(p(t),"createNotifier",(function(e){if(e<0)t.notify=function(){return null};else if(0===e)t.notify=t.doNotify;else{var n=(0,a.default)((function(e){t.isDebouncing=!1,t.doNotify(e)}),e);t.notify=function(e){t.isDebouncing=!0,n(e)},t.flush=function(){return n.flush()},t.cancel=function(){t.isDebouncing=!1,n.cancel()}}})),f(p(t),"doNotify",(function(){t.props.onChange.apply(void 0,arguments)})),f(p(t),"forceNotify",(function(e){var n=t.props.debounceTimeout;if(t.isDebouncing||!(n>0)){t.cancel&&t.cancel();var r=t.state.value,s=t.props.minLength;r.length>=s?t.doNotify(e):t.doNotify(c(c({},e),{},{target:c(c({},e.target),{},{value:r})}))}})),t.isDebouncing=!1,t.state={value:"undefined"===typeof e.value||null===e.value?"":e.value};var n=t.props.debounceTimeout;return t.createNotifier(n),t}return t=A,(n=[{key:"componentDidUpdate",value:function(e){if(!this.isDebouncing){var t=this.props,n=t.value,r=t.debounceTimeout,s=e.debounceTimeout,a=e.value,i=this.state.value;"undefined"!==typeof n&&a!==n&&i!==n&&this.setState({value:n}),r!==s&&this.createNotifier(r)}}},{key:"componentWillUnmount",value:function(){this.flush&&this.flush()}},{key:"render",value:function(){var e,t,n=this.props,r=n.element,a=(n.onChange,n.value,n.minLength,n.debounceTimeout,n.forceNotifyByEnter),o=n.forceNotifyOnBlur,A=n.onKeyDown,u=n.onBlur,d=n.inputRef,h=l(n,i),p=this.state.value;e=a?{onKeyDown:this.onKeyDown}:A?{onKeyDown:A}:{},t=o?{onBlur:this.onBlur}:u?{onBlur:u}:{};var m=d?{ref:d}:{};return s.default.createElement(r,c(c(c(c({},h),{},{onChange:this.onChange,value:p},e),t),m))}}])&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),A}(s.default.PureComponent);t.DebounceInput=g,f(g,"defaultProps",{element:"input",type:"text",onKeyDown:void 0,onBlur:void 0,value:void 0,minLength:0,debounceTimeout:100,forceNotifyByEnter:!0,forceNotifyOnBlur:!0,inputRef:void 0})},3639:(e,t,n)=>{"use strict";var r=n(8240).DebounceInput;r.DebounceInput=r,e.exports=r},8345:(e,t,n)=>{"use strict";var r=n(9950),s=n(5340);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){A(e,t),A(e+"Capture",t)}function A(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function m(e,t,n,r,s,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){f[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];f[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){f[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){f[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){f[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){f[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){f[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){f[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){f[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function y(e,t,n,r){var s=f.hasOwnProperty(t)?f[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!u.call(p,e)||!u.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,v);f[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,v);f[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,v);f[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){f[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),f.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){f[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),x=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),E=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var U=Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=U&&e[U]||e["@@iterator"])?e:null}var D,H=Object.assign;function L(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var P=!1;function O(e,t){if(!e||P)return"";P=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(A){var r=A}Reflect.construct(e,[],t)}else{try{t.call()}catch(A){r=A}e.call(t.prototype)}else{try{throw Error()}catch(A){r=A}e()}}catch(A){if(A&&r&&"string"===typeof A.stack){for(var s=A.stack.split("\n"),a=r.stack.split("\n"),i=s.length-1,o=a.length-1;1<=i&&0<=o&&s[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(s[i]!==a[o]){if(1!==i||1!==o)do{if(i--,0>--o||s[i]!==a[o]){var l="\n"+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{P=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function R(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=O(e.type,!1);case 11:return e=O(e.type.render,!1);case 1:return e=O(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case B:return"Fragment";case x:return"Portal";case k:return"Profiler";case C:return"StrictMode";case I:return"Suspense";case F:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function K(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function _(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function q(e,t){var n=t.checked;return H({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+z(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return H({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:z(n)}}function ae(e,t){var n=z(t.value),r=z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ae,ce,ue=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((Ae=Ae||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ae.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function fe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Be=null,Ce=null;function ke(e){if(e=ys(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=bs(t),xe(e.stateNode,e.type,t))}}function Se(e){Be?Ce?Ce.push(e):Ce=[e]:Be=e}function Ee(){if(Be){var e=Be,t=Ce;if(Ce=Be=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function je(e,t){return e(t)}function Ie(){}var Fe=!1;function Qe(e,t,n){if(Fe)return e(t,n);Fe=!0;try{return je(e,t,n)}finally{Fe=!1,(null!==Be||null!==Ce)&&(Ie(),Ee())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=bs(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Me=!1;if(c)try{var Ue={};Object.defineProperty(Ue,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Ue,Ue),window.removeEventListener("test",Ue,Ue)}catch(ce){Me=!1}function Te(e,t,n,r,s,a,i,o,l){var A=Array.prototype.slice.call(arguments,3);try{t.apply(n,A)}catch(c){this.onError(c)}}var De=!1,He=null,Le=!1,Pe=null,Oe={onError:function(e){De=!0,He=e}};function Re(e,t,n,r,s,a,i,o,l){De=!1,He=null,Te.apply(Oe,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ke(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ze(e){if(Ve(e)!==e)throw Error(a(188))}function _e(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var i=s.alternate;if(null===i){if(null!==(r=s.return)){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ze(s),e;if(i===r)return ze(s),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var We=s.unstable_scheduleCallback,Ye=s.unstable_cancelCallback,qe=s.unstable_shouldYield,Xe=s.unstable_requestPaint,Je=s.unstable_now,Ze=s.unstable_getCurrentPriorityLevel,$e=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,at=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var At=64,ct=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,i=268435455&n;if(0!==i){var o=i&~s;0!==o?r=ut(o):0!==(a&=i)&&(r=ut(a))}else 0!==(i=n&~s)?r=ut(i):0!==a&&(r=ut(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(a=t&-t)||16===s&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-it(t)),r|=e[n],t&=~s;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=At;return 0===(4194240&(At<<=1))&&(At=64),e}function ft(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var yt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,xt,Bt,Ct,kt,St=!1,Et=[],jt=null,It=null,Ft=null,Qt=new Map,Nt=new Map,Mt=[],Ut="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tt(e,t){switch(e){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":Qt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Dt(e,t,n,r,s,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},null!==t&&(null!==(t=ys(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Ht(e){var t=vs(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ke(n)))return e.blockedOn=t,void kt(e.priority,(function(){Bt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ys(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Pt(e,t,n){Lt(e)&&n.delete(t)}function Ot(){St=!1,null!==jt&&Lt(jt)&&(jt=null),null!==It&&Lt(It)&&(It=null),null!==Ft&&Lt(Ft)&&(Ft=null),Qt.forEach(Pt),Nt.forEach(Pt)}function Rt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ot)))}function Vt(e){function t(t){return Rt(t,e)}if(0<Et.length){Rt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==jt&&Rt(jt,e),null!==It&&Rt(It,e),null!==Ft&&Rt(Ft,e),Qt.forEach(t),Nt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Ht(n),null===n.blockedOn&&Mt.shift()}var Kt=w.ReactCurrentBatchConfig,zt=!0;function _t(e,t,n,r){var s=yt,a=Kt.transition;Kt.transition=null;try{yt=1,Wt(e,t,n,r)}finally{yt=s,Kt.transition=a}}function Gt(e,t,n,r){var s=yt,a=Kt.transition;Kt.transition=null;try{yt=4,Wt(e,t,n,r)}finally{yt=s,Kt.transition=a}}function Wt(e,t,n,r){if(zt){var s=qt(e,t,n,r);if(null===s)zr(e,t,r,Yt,n),Tt(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return jt=Dt(jt,e,t,n,r,s),!0;case"dragenter":return It=Dt(It,e,t,n,r,s),!0;case"mouseover":return Ft=Dt(Ft,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Qt.set(a,Dt(Qt.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Nt.set(a,Dt(Nt.get(a)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Tt(e,r),4&t&&-1<Ut.indexOf(e)){for(;null!==s;){var a=ys(s);if(null!==a&&bt(a),null===(a=qt(e,t,n,r))&&zr(e,t,r,Yt,n),a===s)break;s=a}null!==s&&r.stopPropagation()}else zr(e,t,r,null,n)}}var Yt=null;function qt(e,t,n,r){if(Yt=null,null!==(e=vs(e=be(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ke(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,s="value"in Jt?Jt.value:Jt.textContent,a=s.length;for(e=0;e<r&&n[e]===s[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===s[a-t];t++);return $t=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(s):s[i]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return H(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(An),un=H({},An,{view:0,detail:0}),dn=sn(un),hn=H({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(hn),mn=sn(H({},hn,{dataTransfer:0})),fn=sn(H({},un,{relatedTarget:0})),gn=sn(H({},An,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=H({},An,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=sn(vn),wn=sn(H({},An,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Bn[e])&&!!t[e]}function kn(){return Cn}var Sn=H({},un,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=sn(Sn),jn=sn(H({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=sn(H({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Fn=sn(H({},An,{propertyName:0,elapsedTime:0,pseudoElement:0})),Qn=H({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=sn(Qn),Mn=[9,13,27,32],Un=c&&"CompositionEvent"in window,Tn=null;c&&"documentMode"in document&&(Tn=document.documentMode);var Dn=c&&"TextEvent"in window&&!Tn,Hn=c&&(!Un||Tn&&8<Tn&&11>=Tn),Ln=String.fromCharCode(32),Pn=!1;function On(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function _n(e,t,n,r){Se(r),0<(t=Gr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Wn=null;function Yn(e){Lr(e,0)}function qn(e){if(W(ws(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(c){var Zn;if(c){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Jn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Wn=Gn=null)}function nr(e){if("value"===e.propertyName&&qn(Wn)){var t=[];_n(t,Wn,e,be(e)),Qe(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Wn)}function ar(e,t){if("click"===e)return qn(t)}function ir(e,t){if("input"===e||"change"===e)return qn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!u.call(t,s)||!or(e[s],t[s]))return!1}return!0}function Ar(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=Ar(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ar(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=void 0===r.end?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=cr(n,a);var i=cr(n,r);s&&i&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,fr=null,gr=null,vr=null,yr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==fr||fr!==Y(r)||("selectionStart"in(r=fr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Gr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},Br={},Cr={};function kr(e){if(Br[e])return Br[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return Br[e]=n[t];return e}c&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Sr=kr("animationend"),Er=kr("animationiteration"),jr=kr("animationstart"),Ir=kr("transitionend"),Fr=new Map,Qr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Fr.set(e,t),l(t,[e])}for(var Mr=0;Mr<Qr.length;Mr++){var Ur=Qr[Mr];Nr(Ur.toLowerCase(),"on"+(Ur[0].toUpperCase()+Ur.slice(1)))}Nr(Sr,"onAnimationEnd"),Nr(Er,"onAnimationIteration"),Nr(jr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Ir,"onTransitionEnd"),A("onMouseEnter",["mouseout","mouseover"]),A("onMouseLeave",["mouseout","mouseover"]),A("onPointerEnter",["pointerout","pointerover"]),A("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Hr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,i,o,l,A){if(Re.apply(this,arguments),De){if(!De)throw Error(a(198));var c=He;De=!1,He=null,Le||(Le=!0,Pe=c)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,A=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break e;Hr(s,o,A),a=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,A=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break e;Hr(s,o,A),a=l}}}if(Le)throw e=Pe,Le=!1,Pe=null,e}function Pr(e,t){var n=t[ms];void 0===n&&(n=t[ms]=new Set);var r=e+"__bubble";n.has(r)||(Kr(t,e,2,!1),n.add(r))}function Or(e,t,n){var r=0;t&&(r|=4),Kr(n,e,r,t)}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Rr]){e[Rr]=!0,i.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Or(t,!1,e),Or(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Rr]||(t[Rr]=!0,Or("selectionchange",!1,t))}}function Kr(e,t,n,r){switch(Xt(t)){case 1:var s=_t;break;case 4:s=Gt;break;default:s=Wt}n=s.bind(null,t,n,e),s=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function zr(e,t,n,r,s){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;i=i.return}for(;null!==o;){if(null===(i=vs(o)))return;if(5===(l=i.tag)||6===l){r=a=i;continue e}o=o.parentNode}}r=r.return}Qe((function(){var r=a,s=be(n),i=[];e:{var o=Fr.get(e);if(void 0!==o){var l=cn,A=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":A="focus",l=fn;break;case"focusout":A="blur",l=fn;break;case"beforeblur":case"afterblur":l=fn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Sr:case Er:case jr:l=gn;break;case Ir:l=Fn;break;case"scroll":l=dn;break;case"wheel":l=Nn;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=jn}var c=0!==(4&t),u=!c&&"scroll"===e,d=c?null!==o?o+"Capture":null:o;c=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==d&&(null!=(m=Ne(p,d))&&c.push(_r(p,m,h)))),u)break;p=p.return}0<c.length&&(o=new l(o,A,null,n,s),i.push({event:o,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(A=n.relatedTarget||n.fromElement)||!vs(A)&&!A[ps])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(A=(A=n.relatedTarget||n.toElement)?vs(A):null)&&(A!==(u=Ve(A))||5!==A.tag&&6!==A.tag)&&(A=null)):(l=null,A=r),l!==A)){if(c=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=jn,m="onPointerLeave",d="onPointerEnter",p="pointer"),u=null==l?o:ws(l),h=null==A?o:ws(A),(o=new c(m,p+"leave",l,n,s)).target=u,o.relatedTarget=h,m=null,vs(s)===r&&((c=new c(d,p+"enter",A,n,s)).target=h,c.relatedTarget=u,m=c),u=m,l&&A)e:{for(d=A,p=0,h=c=l;h;h=Wr(h))p++;for(h=0,m=d;m;m=Wr(m))h++;for(;0<p-h;)c=Wr(c),p--;for(;0<h-p;)d=Wr(d),h--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Wr(c),d=Wr(d)}c=null}else c=null;null!==l&&Yr(i,o,l,c,!1),null!==A&&null!==u&&Yr(i,u,A,c,!0)}if("select"===(l=(o=r?ws(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var f=Xn;else if(zn(o))if(Jn)f=ir;else{f=sr;var g=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(f=ar);switch(f&&(f=f(e,r))?_n(i,f,n,s):(g&&g(e,o,r),"focusout"===e&&(g=o._wrapperState)&&g.controlled&&"number"===o.type&&ee(o,"number",o.value)),g=r?ws(r):window,e){case"focusin":(zn(g)||"true"===g.contentEditable)&&(fr=g,gr=r,vr=null);break;case"focusout":vr=gr=fr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,wr(i,n,s);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(i,n,s)}var v;if(Un)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Vn?On(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Hn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Vn&&(v=en()):(Zt="value"in(Jt=s)?Jt.value:Jt.textContent,Vn=!0)),0<(g=Gr(r,y)).length&&(y=new wn(y,e,null,n,s),i.push({event:y,listeners:g}),v?y.data=v:null!==(v=Rn(n))&&(y.data=v))),(v=Dn?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(Pn=!0,Ln);case"textInput":return(e=t.data)===Ln&&Pn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Un&&On(e,t)?(e=en(),$t=Zt=Jt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(s=new wn("onBeforeInput","beforeinput",null,n,s),i.push({event:s,listeners:r}),s.data=v))}Lr(i,t)}))}function _r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,a=s.stateNode;5===s.tag&&null!==a&&(s=a,null!=(a=Ne(e,n))&&r.unshift(_r(e,a,s)),null!=(a=Ne(e,t))&&r.push(_r(e,a,s))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,s){for(var a=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,A=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==A&&(o=A,s?null!=(l=Ne(n,a))&&i.unshift(_r(n,l,o)):s||null!=(l=Ne(n,a))&&i.push(_r(n,l,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var qr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(qr,"\n").replace(Xr,"")}function Zr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function $r(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,as="function"===typeof Promise?Promise:void 0,is="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof as?function(e){return as.resolve(null).then(e).catch(os)}:rs;function os(e){setTimeout((function(){throw e}))}function ls(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);Vt(t)}function As(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function cs(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var us=Math.random().toString(36).slice(2),ds="__reactFiber$"+us,hs="__reactProps$"+us,ps="__reactContainer$"+us,ms="__reactEvents$"+us,fs="__reactListeners$"+us,gs="__reactHandles$"+us;function vs(e){var t=e[ds];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ps]||n[ds]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=cs(e);null!==e;){if(n=e[ds])return n;e=cs(e)}return t}n=(e=n).parentNode}return null}function ys(e){return!(e=e[ds]||e[ps])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ws(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function bs(e){return e[hs]||null}var xs=[],Bs=-1;function Cs(e){return{current:e}}function ks(e){0>Bs||(e.current=xs[Bs],xs[Bs]=null,Bs--)}function Ss(e,t){Bs++,xs[Bs]=e.current,e.current=t}var Es={},js=Cs(Es),Is=Cs(!1),Fs=Es;function Qs(e,t){var n=e.type.contextTypes;if(!n)return Es;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,a={};for(s in n)a[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ns(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ms(){ks(Is),ks(js)}function Us(e,t,n){if(js.current!==Es)throw Error(a(168));Ss(js,t),Ss(Is,n)}function Ts(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(a(108,K(e)||"Unknown",s));return H({},n,r)}function Ds(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Es,Fs=js.current,Ss(js,e),Ss(Is,Is.current),!0}function Hs(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ts(e,t,Fs),r.__reactInternalMemoizedMergedChildContext=e,ks(Is),ks(js),Ss(js,e)):ks(Is),Ss(Is,n)}var Ls=null,Ps=!1,Os=!1;function Rs(e){null===Ls?Ls=[e]:Ls.push(e)}function Vs(){if(!Os&&null!==Ls){Os=!0;var e=0,t=yt;try{var n=Ls;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ls=null,Ps=!1}catch(s){throw null!==Ls&&(Ls=Ls.slice(e+1)),We($e,Vs),s}finally{yt=t,Os=!1}}return null}var Ks=[],zs=0,_s=null,Gs=0,Ws=[],Ys=0,qs=null,Xs=1,Js="";function Zs(e,t){Ks[zs++]=Gs,Ks[zs++]=_s,_s=e,Gs=t}function $s(e,t,n){Ws[Ys++]=Xs,Ws[Ys++]=Js,Ws[Ys++]=qs,qs=e;var r=Xs;e=Js;var s=32-it(r)-1;r&=~(1<<s),n+=1;var a=32-it(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Xs=1<<32-it(t)+s|n<<s|r,Js=a+e}else Xs=1<<a|n<<s|r,Js=e}function ea(e){null!==e.return&&(Zs(e,1),$s(e,1,0))}function ta(e){for(;e===_s;)_s=Ks[--zs],Ks[zs]=null,Gs=Ks[--zs],Ks[zs]=null;for(;e===qs;)qs=Ws[--Ys],Ws[Ys]=null,Js=Ws[--Ys],Ws[Ys]=null,Xs=Ws[--Ys],Ws[Ys]=null}var na=null,ra=null,sa=!1,aa=null;function ia(e,t){var n=QA(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=As(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==qs?{id:Xs,overflow:Js}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=QA(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Aa(e){if(sa){var t=ra;if(t){var n=t;if(!oa(e,t)){if(la(e))throw Error(a(418));t=As(n.nextSibling);var r=na;t&&oa(e,t)?ia(r,n):(e.flags=-4097&e.flags|2,sa=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,sa=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ua(e){if(e!==na)return!1;if(!sa)return ca(e),sa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw da(),Error(a(418));for(;t;)ia(e,t),t=As(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=As(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?As(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ra;e;)e=As(e.nextSibling)}function ha(){ra=na=null,sa=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var ma=w.ReactCurrentBatchConfig;function fa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var s=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=s.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function va(e){return(0,e._init)(e._payload)}function ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=MA(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=HA(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function A(e,t,n,r){var a=n.type;return a===B?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===N&&va(a)===t.type)?((r=s(t,n.props)).ref=fa(e,t,n),r.return=e,r):((r=UA(n.type,n.key,n.props,null,e.mode,r)).ref=fa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=LA(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function u(e,t,n,r,a){return null===t||7!==t.tag?((t=TA(n,e.mode,r,a)).return=e,t):((t=s(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=HA(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=UA(t.type,t.key,t.props,null,e.mode,n)).ref=fa(e,null,t),n.return=e,n;case x:return(t=LA(t,e.mode,n)).return=e,t;case N:return d(e,(0,t._init)(t._payload),n)}if(te(t)||T(t))return(t=TA(t,e.mode,n,null)).return=e,t;ga(e,t)}return null}function h(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===s?A(e,t,n,r):null;case x:return n.key===s?c(e,t,n,r):null;case N:return h(e,t,(s=n._init)(n._payload),r)}if(te(n)||T(n))return null!==s?null:u(e,t,n,r,null);ga(e,n)}return null}function p(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return A(t,e=e.get(null===r.key?n:r.key)||null,r,s);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case N:return p(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||T(r))return u(t,e=e.get(n)||null,r,s,null);ga(t,r)}return null}function m(s,a,o,l){for(var A=null,c=null,u=a,m=a=0,f=null;null!==u&&m<o.length;m++){u.index>m?(f=u,u=null):f=u.sibling;var g=h(s,u,o[m],l);if(null===g){null===u&&(u=f);break}e&&u&&null===g.alternate&&t(s,u),a=i(g,a,m),null===c?A=g:c.sibling=g,c=g,u=f}if(m===o.length)return n(s,u),sa&&Zs(s,m),A;if(null===u){for(;m<o.length;m++)null!==(u=d(s,o[m],l))&&(a=i(u,a,m),null===c?A=u:c.sibling=u,c=u);return sa&&Zs(s,m),A}for(u=r(s,u);m<o.length;m++)null!==(f=p(u,s,m,o[m],l))&&(e&&null!==f.alternate&&u.delete(null===f.key?m:f.key),a=i(f,a,m),null===c?A=f:c.sibling=f,c=f);return e&&u.forEach((function(e){return t(s,e)})),sa&&Zs(s,m),A}function f(s,o,l,A){var c=T(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var u=c=null,m=o,f=o=0,g=null,v=l.next();null!==m&&!v.done;f++,v=l.next()){m.index>f?(g=m,m=null):g=m.sibling;var y=h(s,m,v.value,A);if(null===y){null===m&&(m=g);break}e&&m&&null===y.alternate&&t(s,m),o=i(y,o,f),null===u?c=y:u.sibling=y,u=y,m=g}if(v.done)return n(s,m),sa&&Zs(s,f),c;if(null===m){for(;!v.done;f++,v=l.next())null!==(v=d(s,v.value,A))&&(o=i(v,o,f),null===u?c=v:u.sibling=v,u=v);return sa&&Zs(s,f),c}for(m=r(s,m);!v.done;f++,v=l.next())null!==(v=p(m,s,f,v.value,A))&&(e&&null!==v.alternate&&m.delete(null===v.key?f:v.key),o=i(v,o,f),null===u?c=v:u.sibling=v,u=v);return e&&m.forEach((function(e){return t(s,e)})),sa&&Zs(s,f),c}return function e(r,a,i,l){if("object"===typeof i&&null!==i&&i.type===B&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case b:e:{for(var A=i.key,c=a;null!==c;){if(c.key===A){if((A=i.type)===B){if(7===c.tag){n(r,c.sibling),(a=s(c,i.props.children)).return=r,r=a;break e}}else if(c.elementType===A||"object"===typeof A&&null!==A&&A.$$typeof===N&&va(A)===c.type){n(r,c.sibling),(a=s(c,i.props)).ref=fa(r,c,i),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}i.type===B?((a=TA(i.props.children,r.mode,l,i.key)).return=r,r=a):((l=UA(i.type,i.key,i.props,null,r.mode,l)).ref=fa(r,a,i),l.return=r,r=l)}return o(r);case x:e:{for(c=i.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){n(r,a.sibling),(a=s(a,i.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=LA(i,r.mode,l)).return=r,r=a}return o(r);case N:return e(r,a,(c=i._init)(i._payload),l)}if(te(i))return m(r,a,i,l);if(T(i))return f(r,a,i,l);ga(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(n(r,a.sibling),(a=s(a,i)).return=r,r=a):(n(r,a),(a=HA(i,r.mode,l)).return=r,r=a),o(r)):n(r,a)}}var wa=ya(!0),ba=ya(!1),xa=Cs(null),Ba=null,Ca=null,ka=null;function Sa(){ka=Ca=Ba=null}function Ea(e){var t=xa.current;ks(xa),e._currentValue=t}function ja(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){Ba=e,ka=Ca=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yo=!0),e.firstContext=null)}function Fa(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===Ca){if(null===Ba)throw Error(a(308));Ca=e,Ba.dependencies={lanes:0,firstContext:e}}else Ca=Ca.next=e;return t}var Qa=null;function Na(e){null===Qa?Qa=[e]:Qa.push(e)}function Ma(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Na(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ua(e,r)}function Ua(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ta=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ha(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function La(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&jl)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ua(e,n)}return null===(s=r.interleaved)?(t.next=t,Na(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ua(e,n)}function Oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Ra(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?s=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?s=a=t:a=a.next=t}else s=a=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Va(e,t,n,r){var s=e.updateQueue;Ta=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,A=l.next;l.next=null,null===i?a=A:i.next=A,i=l;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===o?c.firstBaseUpdate=A:o.next=A,c.lastBaseUpdate=l))}if(null!==a){var u=s.baseState;for(i=0,c=A=l=null,o=a;;){var d=o.lane,h=o.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,h=n,m.tag){case 1:if("function"===typeof(p=m.payload)){u=p.call(h,u,d);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(h,u,d):p)||void 0===d)break e;u=H({},u,d);break e;case 2:Ta=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=s.effects)?s.effects=[o]:d.push(o))}else h={eventTime:h,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(A=c=h,l=u):c=c.next=h,i|=d;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(d=o).next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}if(null===c&&(l=u),s.baseState=l,s.firstBaseUpdate=A,s.lastBaseUpdate=c,null!==(t=s.shared.interleaved)){s=t;do{i|=s.lane,s=s.next}while(s!==t)}else null===a&&(s.shared.lanes=0);Dl|=i,e.lanes=i,e.memoizedState=u}}function Ka(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(a(191,s));s.call(r)}}}var za={},_a=Cs(za),Ga=Cs(za),Wa=Cs(za);function Ya(e){if(e===za)throw Error(a(174));return e}function qa(e,t){switch(Ss(Wa,t),Ss(Ga,e),Ss(_a,za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ks(_a),Ss(_a,t)}function Xa(){ks(_a),ks(Ga),ks(Wa)}function Ja(e){Ya(Wa.current);var t=Ya(_a.current),n=le(t,e.type);t!==n&&(Ss(Ga,e),Ss(_a,n))}function Za(e){Ga.current===e&&(ks(_a),ks(Ga))}var $a=Cs(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ni(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ri=w.ReactCurrentDispatcher,si=w.ReactCurrentBatchConfig,ai=0,ii=null,oi=null,li=null,Ai=!1,ci=!1,ui=0,di=0;function hi(){throw Error(a(321))}function pi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function mi(e,t,n,r,s,i){if(ai=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=null===e||null===e.memoizedState?Zi:$i,e=n(r,s),ci){i=0;do{if(ci=!1,ui=0,25<=i)throw Error(a(301));i+=1,li=oi=null,t.updateQueue=null,ri.current=eo,e=n(r,s)}while(ci)}if(ri.current=Ji,t=null!==oi&&null!==oi.next,ai=0,li=oi=ii=null,Ai=!1,t)throw Error(a(300));return e}function fi(){var e=0!==ui;return ui=0,e}function gi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function vi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(a(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function yi(e,t){return"function"===typeof t?t(e):t}function wi(e){var t=vi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=oi,s=r.baseQueue,i=n.pending;if(null!==i){if(null!==s){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(null!==s){i=s.next,r=r.baseState;var l=o=null,A=null,c=i;do{var u=c.lane;if((ai&u)===u)null!==A&&(A=A.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===A?(l=A=d,o=r):A=A.next=d,ii.lanes|=u,Dl|=u}c=c.next}while(null!==c&&c!==i);null===A?o=r:A.next=l,or(r,t.memoizedState)||(yo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=A,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{i=s.lane,ii.lanes|=i,Dl|=i,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function bi(e){var t=vi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{i=e(i,o.action),o=o.next}while(o!==s);or(i,t.memoizedState)||(yo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function xi(){}function Bi(e,t){var n=ii,r=vi(),s=t(),i=!or(r.memoizedState,s);if(i&&(r.memoizedState=s,yo=!0),r=r.queue,Ti(Si.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(n.flags|=2048,Fi(9,ki.bind(null,n,r,s,t),void 0,null),null===Il)throw Error(a(349));0!==(30&ai)||Ci(n,t,s)}return s}function Ci(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ki(e,t,n,r){t.value=n,t.getSnapshot=r,Ei(t)&&ji(e)}function Si(e,t,n){return n((function(){Ei(t)&&ji(e)}))}function Ei(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function ji(e){var t=Ua(e,1);null!==t&&nA(t,e,1,-1)}function Ii(e){var t=gi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},t.queue=e,e=e.dispatch=Wi.bind(null,ii,e),[t.memoizedState,e]}function Fi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Qi(){return vi().memoizedState}function Ni(e,t,n,r){var s=gi();ii.flags|=e,s.memoizedState=Fi(1|t,n,void 0,void 0===r?null:r)}function Mi(e,t,n,r){var s=vi();r=void 0===r?null:r;var a=void 0;if(null!==oi){var i=oi.memoizedState;if(a=i.destroy,null!==r&&pi(r,i.deps))return void(s.memoizedState=Fi(t,n,a,r))}ii.flags|=e,s.memoizedState=Fi(1|t,n,a,r)}function Ui(e,t){return Ni(8390656,8,e,t)}function Ti(e,t){return Mi(2048,8,e,t)}function Di(e,t){return Mi(4,2,e,t)}function Hi(e,t){return Mi(4,4,e,t)}function Li(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Pi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mi(4,4,Li.bind(null,t,e),n)}function Oi(){}function Ri(e,t){var n=vi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vi(e,t){var n=vi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ki(e,t,n){return 0===(21&ai)?(e.baseState&&(e.baseState=!1,yo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),ii.lanes|=n,Dl|=n,e.baseState=!0),t)}function zi(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=si.transition;si.transition={};try{e(!1),t()}finally{yt=n,si.transition=r}}function _i(){return vi().memoizedState}function Gi(e,t,n){var r=tA(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yi(e))qi(t,n);else if(null!==(n=Ma(e,t,n,r))){nA(n,e,r,eA()),Xi(n,t,r)}}function Wi(e,t,n){var r=tA(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yi(e))qi(t,s);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=a(i,n);if(s.hasEagerState=!0,s.eagerState=o,or(o,i)){var l=t.interleaved;return null===l?(s.next=s,Na(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(A){}null!==(n=Ma(e,t,s,r))&&(nA(n,e,r,s=eA()),Xi(n,t,r))}}function Yi(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function qi(e,t){ci=Ai=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Ji={readContext:Fa,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},Zi={readContext:Fa,useCallback:function(e,t){return gi().memoizedState=[e,void 0===t?null:t],e},useContext:Fa,useEffect:Ui,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ni(4194308,4,Li.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ni(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ni(4,2,e,t)},useMemo:function(e,t){var n=gi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gi.bind(null,ii,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},gi().memoizedState=e},useState:Ii,useDebugValue:Oi,useDeferredValue:function(e){return gi().memoizedState=e},useTransition:function(){var e=Ii(!1),t=e[0];return e=zi.bind(null,e[1]),gi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ii,s=gi();if(sa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Il)throw Error(a(349));0!==(30&ai)||Ci(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Ui(Si.bind(null,r,i,e),[e]),r.flags|=2048,Fi(9,ki.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=gi(),t=Il.identifierPrefix;if(sa){var n=Js;t=":"+t+"R"+(n=(Xs&~(1<<32-it(Xs)-1)).toString(32)+n),0<(n=ui++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=di++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$i={readContext:Fa,useCallback:Ri,useContext:Fa,useEffect:Ti,useImperativeHandle:Pi,useInsertionEffect:Di,useLayoutEffect:Hi,useMemo:Vi,useReducer:wi,useRef:Qi,useState:function(){return wi(yi)},useDebugValue:Oi,useDeferredValue:function(e){return Ki(vi(),oi.memoizedState,e)},useTransition:function(){return[wi(yi)[0],vi().memoizedState]},useMutableSource:xi,useSyncExternalStore:Bi,useId:_i,unstable_isNewReconciler:!1},eo={readContext:Fa,useCallback:Ri,useContext:Fa,useEffect:Ti,useImperativeHandle:Pi,useInsertionEffect:Di,useLayoutEffect:Hi,useMemo:Vi,useReducer:bi,useRef:Qi,useState:function(){return bi(yi)},useDebugValue:Oi,useDeferredValue:function(e){var t=vi();return null===oi?t.memoizedState=e:Ki(t,oi.memoizedState,e)},useTransition:function(){return[bi(yi)[0],vi().memoizedState]},useMutableSource:xi,useSyncExternalStore:Bi,useId:_i,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=H({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:H({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eA(),s=tA(e),a=La(r,s);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,s))&&(nA(t,e,s,r),Oa(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eA(),s=tA(e),a=La(r,s);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,s))&&(nA(t,e,s,r),Oa(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eA(),r=tA(e),s=La(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Pa(e,s,r))&&(nA(t,e,r,n),Oa(t,e,r))}};function so(e,t,n,r,s,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(s,a))}function ao(e,t,n){var r=!1,s=Es,a=t.contextType;return"object"===typeof a&&null!==a?a=Fa(a):(s=Ns(t)?Fs:js.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Qs(e,s):Es),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function io(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Da(e);var a=t.contextType;"object"===typeof a&&null!==a?s.context=Fa(a):(a=Ns(t)?Fs:js.current,s.context=Qs(e,a)),s.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(no(e,t,a,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&ro.enqueueReplaceState(s,s.state,null),Va(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=R(r),r=r.return}while(r);var s=n}catch(a){s="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:s,digest:null}}function Ao(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function co(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var uo="function"===typeof WeakMap?WeakMap:Map;function ho(e,t,n){(n=La(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zl||(zl=!0,_l=r),co(0,t)},n}function po(e,t,n){(n=La(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){co(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){co(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new uo;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=kA.bind(null,e,t,n),t.then(e,e))}function fo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function go(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=La(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var vo=w.ReactCurrentOwner,yo=!1;function wo(e,t,n,r){t.child=null===e?ba(t,null,n,r):wa(t,e.child,n,r)}function bo(e,t,n,r,s){n=n.render;var a=t.ref;return Ia(t,s),r=mi(e,t,n,r,a,s),n=fi(),null===e||yo?(sa&&n&&ea(t),t.flags|=1,wo(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zo(e,t,s))}function xo(e,t,n,r,s){if(null===e){var a=n.type;return"function"!==typeof a||NA(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=UA(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Bo(e,t,a,r,s))}if(a=e.child,0===(e.lanes&s)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return zo(e,t,s)}return t.flags|=1,(e=MA(a,r)).ref=t.ref,e.return=t,t.child=e}function Bo(e,t,n,r,s){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(yo=!1,t.pendingProps=r=a,0===(e.lanes&s))return t.lanes=e.lanes,zo(e,t,s);0!==(131072&e.flags)&&(yo=!0)}}return So(e,t,n,r,s)}function Co(e,t,n){var r=t.pendingProps,s=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ss(Ml,Nl),Nl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ss(Ml,Nl),Nl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ss(Ml,Nl),Nl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ss(Ml,Nl),Nl|=r;return wo(e,t,s,n),t.child}function ko(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function So(e,t,n,r,s){var a=Ns(n)?Fs:js.current;return a=Qs(t,a),Ia(t,s),n=mi(e,t,n,r,a,s),r=fi(),null===e||yo?(sa&&r&&ea(t),t.flags|=1,wo(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zo(e,t,s))}function Eo(e,t,n,r,s){if(Ns(n)){var a=!0;Ds(t)}else a=!1;if(Ia(t,s),null===t.stateNode)Ko(e,t),ao(t,n,r),oo(t,n,r,s),r=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,A=n.contextType;"object"===typeof A&&null!==A?A=Fa(A):A=Qs(t,A=Ns(n)?Fs:js.current);var c=n.getDerivedStateFromProps,u="function"===typeof c||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==r||l!==A)&&io(t,i,r,A),Ta=!1;var d=t.memoizedState;i.state=d,Va(t,r,i,s),l=t.memoizedState,o!==r||d!==l||Is.current||Ta?("function"===typeof c&&(no(t,n,c,r),l=t.memoizedState),(o=Ta||so(t,n,o,r,d,l,A))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=A,r=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Ha(e,t),o=t.memoizedProps,A=t.type===t.elementType?o:to(t.type,o),i.props=A,u=t.pendingProps,d=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=Fa(l):l=Qs(t,l=Ns(n)?Fs:js.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==u||d!==l)&&io(t,i,r,l),Ta=!1,d=t.memoizedState,i.state=d,Va(t,r,i,s);var p=t.memoizedState;o!==u||d!==p||Is.current||Ta?("function"===typeof h&&(no(t,n,h,r),p=t.memoizedState),(A=Ta||so(t,n,A,r,d,p,l)||!1)?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=A):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return jo(e,t,n,r,a,s)}function jo(e,t,n,r,s,a){ko(e,t);var i=0!==(128&t.flags);if(!r&&!i)return s&&Hs(t,n,!1),zo(e,t,a);r=t.stateNode,vo.current=t;var o=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=wa(t,e.child,null,a),t.child=wa(t,null,o,a)):wo(e,t,o,a),t.memoizedState=r.state,s&&Hs(t,n,!0),t.child}function Io(e){var t=e.stateNode;t.pendingContext?Us(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Us(0,t.context,!1),qa(e,t.containerInfo)}function Fo(e,t,n,r,s){return ha(),pa(s),t.flags|=256,wo(e,t,n,r),t.child}var Qo,No,Mo,Uo,To={dehydrated:null,treeContext:null,retryLane:0};function Do(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ho(e,t,n){var r,s=t.pendingProps,i=$a.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Ss($a,1&i),null===e)return Aa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,o?(s=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=DA(l,s,0,null),e=TA(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Do(n),t.memoizedState=To,e):Lo(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,s,i,o){if(n)return 256&t.flags?(t.flags&=-257,Po(e,t,o,r=Ao(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=DA({mode:"visible",children:r.children},s,0,null),(i=TA(i,s,o,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&wa(t,e.child,null,o),t.child.memoizedState=Do(o),t.memoizedState=To,i);if(0===(1&t.mode))return Po(e,t,o,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var l=r.dgst;return r=l,Po(e,t,o,r=Ao(i=Error(a(419)),r,void 0))}if(l=0!==(o&e.childLanes),yo||l){if(null!==(r=Il)){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|o))?0:s)&&s!==i.retryLane&&(i.retryLane=s,Ua(e,s),nA(r,e,s,-1))}return mA(),Po(e,t,o,r=Ao(Error(a(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=EA.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ra=As(s.nextSibling),na=t,sa=!0,aa=null,null!==e&&(Ws[Ys++]=Xs,Ws[Ys++]=Js,Ws[Ys++]=qs,Xs=e.id,Js=e.overflow,qs=t),t=Lo(t,r.children),t.flags|=4096,t)}(e,t,l,s,r,i,n);if(o){o=s.fallback,l=t.mode,r=(i=e.child).sibling;var A={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==i?((s=t.child).childLanes=0,s.pendingProps=A,t.deletions=null):(s=MA(i,A)).subtreeFlags=14680064&i.subtreeFlags,null!==r?o=MA(r,o):(o=TA(o,l,n,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,l=null===(l=e.child.memoizedState)?Do(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=To,s}return e=(o=e.child).sibling,s=MA(o,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Lo(e,t){return(t=DA({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Po(e,t,n,r){return null!==r&&pa(r),wa(t,e.child,null,n),(e=Lo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Oo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ja(e.return,t,n)}function Ro(e,t,n,r,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Vo(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(wo(e,t,r.children,n),0!==(2&(r=$a.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Oo(e,n,t);else if(19===e.tag)Oo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ss($a,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===ei(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Ro(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===ei(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Ro(t,!0,n,null,a);break;case"together":Ro(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ko(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=MA(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=MA(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function _o(e,t){if(!sa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Go(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wo(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(t),null;case 1:case 17:return Ns(t.type)&&Ms(),Go(t),null;case 3:return r=t.stateNode,Xa(),ks(Is),ks(js),ni(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(iA(aa),aa=null))),No(e,t),Go(t),null;case 5:Za(t);var s=Ya(Wa.current);if(n=t.type,null!==e&&null!=t.stateNode)Mo(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Go(t),null}if(e=Ya(_a.current),ua(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ds]=t,r[hs]=i,e=0!==(1&t.mode),n){case"dialog":Pr("cancel",r),Pr("close",r);break;case"iframe":case"object":case"embed":Pr("load",r);break;case"video":case"audio":for(s=0;s<Tr.length;s++)Pr(Tr[s],r);break;case"source":Pr("error",r);break;case"img":case"image":case"link":Pr("error",r),Pr("load",r);break;case"details":Pr("toggle",r);break;case"input":X(r,i),Pr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Pr("invalid",r);break;case"textarea":se(r,i),Pr("invalid",r)}for(var l in ve(n,i),s=null,i)if(i.hasOwnProperty(l)){var A=i[l];"children"===l?"string"===typeof A?r.textContent!==A&&(!0!==i.suppressHydrationWarning&&Zr(r.textContent,A,e),s=["children",A]):"number"===typeof A&&r.textContent!==""+A&&(!0!==i.suppressHydrationWarning&&Zr(r.textContent,A,e),s=["children",""+A]):o.hasOwnProperty(l)&&null!=A&&"onScroll"===l&&Pr("scroll",r)}switch(n){case"input":G(r),$(r,i,!0);break;case"textarea":G(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=$r)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ds]=t,e[hs]=r,Qo(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":Pr("cancel",e),Pr("close",e),s=r;break;case"iframe":case"object":case"embed":Pr("load",e),s=r;break;case"video":case"audio":for(s=0;s<Tr.length;s++)Pr(Tr[s],e);s=r;break;case"source":Pr("error",e),s=r;break;case"img":case"image":case"link":Pr("error",e),Pr("load",e),s=r;break;case"details":Pr("toggle",e),s=r;break;case"input":X(e,r),s=q(e,r),Pr("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=H({},r,{value:void 0}),Pr("invalid",e);break;case"textarea":se(e,r),s=re(e,r),Pr("invalid",e)}for(i in ve(n,s),A=s)if(A.hasOwnProperty(i)){var c=A[i];"style"===i?fe(e,c):"dangerouslySetInnerHTML"===i?null!=(c=c?c.__html:void 0)&&ue(e,c):"children"===i?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=c&&"onScroll"===i&&Pr("scroll",e):null!=c&&y(e,i,c,l))}switch(n){case"input":G(e),$(e,r,!1);break;case"textarea":G(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+z(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Go(t),null;case 6:if(e&&null!=t.stateNode)Uo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ya(Wa.current),Ya(_a.current),ua(t)){if(r=t.stateNode,n=t.memoizedProps,r[ds]=t,(i=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ds]=t,t.stateNode=r}return Go(t),null;case 13:if(ks($a),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(sa&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))da(),ha(),t.flags|=98560,i=!1;else if(i=ua(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[ds]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Go(t),i=!1}else null!==aa&&(iA(aa),aa=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&$a.current)?0===Ul&&(Ul=3):mA())),null!==t.updateQueue&&(t.flags|=4),Go(t),null);case 4:return Xa(),No(e,t),null===e&&Vr(t.stateNode.containerInfo),Go(t),null;case 10:return Ea(t.type._context),Go(t),null;case 19:if(ks($a),null===(i=t.memoizedState))return Go(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)_o(i,!1);else{if(0!==Ul||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,_o(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ss($a,1&$a.current|2),t.child}e=e.sibling}null!==i.tail&&Je()>Vl&&(t.flags|=128,r=!0,_o(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ei(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),_o(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!sa)return Go(t),null}else 2*Je()-i.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,_o(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Je(),t.sibling=null,n=$a.current,Ss($a,r?1&n|2:1&n),t):(Go(t),null);case 22:case 23:return uA(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Nl)&&(Go(t),6&t.subtreeFlags&&(t.flags|=8192)):Go(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Yo(e,t){switch(ta(t),t.tag){case 1:return Ns(t.type)&&Ms(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xa(),ks(Is),ks(js),ni(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(ks($a),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ks($a),null;case 4:return Xa(),null;case 10:return Ea(t.type._context),null;case 22:case 23:return uA(),null;default:return null}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},No=function(){},Mo=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ya(_a.current);var a,i=null;switch(n){case"input":s=q(e,s),r=q(e,r),i=[];break;case"select":s=H({},s,{value:void 0}),r=H({},r,{value:void 0}),i=[];break;case"textarea":s=re(e,s),r=re(e,r),i=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(c in ve(n,r),n=null,s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&null!=s[c])if("style"===c){var l=s[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var A=r[c];if(l=null!=s?s[c]:void 0,r.hasOwnProperty(c)&&A!==l&&(null!=A||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||A&&A.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in A)A.hasOwnProperty(a)&&l[a]!==A[a]&&(n||(n={}),n[a]=A[a])}else n||(i||(i=[]),i.push(c,n)),n=A;else"dangerouslySetInnerHTML"===c?(A=A?A.__html:void 0,l=l?l.__html:void 0,null!=A&&l!==A&&(i=i||[]).push(c,A)):"children"===c?"string"!==typeof A&&"number"!==typeof A||(i=i||[]).push(c,""+A):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=A&&"onScroll"===c&&Pr("scroll",e),i||l===A||(i=[])):(i=i||[]).push(c,A))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}},Uo=function(e,t,n,r){n!==r&&(t.flags|=4)};var qo=!1,Xo=!1,Jo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function $o(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){CA(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){CA(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,void 0!==a&&el(t,n,a)}s=s.next}while(s!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ds],delete t[hs],delete t[ms],delete t[fs],delete t[gs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function Al(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Al(e,t,n),e=e.sibling;null!==e;)Al(e,t,n),e=e.sibling}var cl=null,ul=!1;function dl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(st,n)}catch(o){}switch(n.tag){case 5:Xo||$o(n,t);case 6:var r=cl,s=ul;cl=null,dl(e,t,n),ul=s,null!==(cl=r)&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?ls(e.parentNode,n):1===e.nodeType&&ls(e,n),Vt(e)):ls(cl,n.stateNode));break;case 4:r=cl,s=ul,cl=n.stateNode.containerInfo,ul=!0,dl(e,t,n),cl=r,ul=s;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&el(n,t,i),s=s.next}while(s!==r)}dl(e,t,n);break;case 1:if(!Xo&&($o(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){CA(n,t,o)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Xo=(r=Xo)||null!==n.memoizedState,dl(e,t,n),Xo=r):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach((function(t){var r=jA.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,ul=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===cl)throw Error(a(160));hl(i,o,s),cl=null,ul=!1;var A=s.alternate;null!==A&&(A.return=null),s.return=null}catch(c){CA(s,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fl(t,e),t=t.sibling}function fl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),gl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(f){CA(e,e.return,f)}try{nl(5,e,e.return)}catch(f){CA(e,e.return,f)}}break;case 1:ml(t,e),gl(e),512&r&&null!==n&&$o(n,n.return);break;case 5:if(ml(t,e),gl(e),512&r&&null!==n&&$o(n,n.return),32&e.flags){var s=e.stateNode;try{de(s,"")}catch(f){CA(e,e.return,f)}}if(4&r&&null!=(s=e.stateNode)){var i=e.memoizedProps,o=null!==n?n.memoizedProps:i,l=e.type,A=e.updateQueue;if(e.updateQueue=null,null!==A)try{"input"===l&&"radio"===i.type&&null!=i.name&&J(s,i),ye(l,o);var c=ye(l,i);for(o=0;o<A.length;o+=2){var u=A[o],d=A[o+1];"style"===u?fe(s,d):"dangerouslySetInnerHTML"===u?ue(s,d):"children"===u?de(s,d):y(s,u,d,c)}switch(l){case"input":Z(s,i);break;case"textarea":ae(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?ne(s,!!i.multiple,p,!1):h!==!!i.multiple&&(null!=i.defaultValue?ne(s,!!i.multiple,i.defaultValue,!0):ne(s,!!i.multiple,i.multiple?[]:"",!1))}s[hs]=i}catch(f){CA(e,e.return,f)}}break;case 6:if(ml(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(a(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(f){CA(e,e.return,f)}}break;case 3:if(ml(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(f){CA(e,e.return,f)}break;case 4:default:ml(t,e),gl(e);break;case 13:ml(t,e),gl(e),8192&(s=e.child).flags&&(i=null!==s.memoizedState,s.stateNode.isHidden=i,!i||null!==s.alternate&&null!==s.alternate.memoizedState||(Rl=Je())),4&r&&pl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(c=Xo)||u,ml(t,e),Xo=c):ml(t,e),gl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!u&&0!==(1&e.mode))for(Zo=e,u=e.child;null!==u;){for(d=Zo=u;null!==Zo;){switch(p=(h=Zo).child,h.tag){case 0:case 11:case 14:case 15:nl(4,h,h.return);break;case 1:$o(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(f){CA(r,n,f)}}break;case 5:$o(h,h.return);break;case 22:if(null!==h.memoizedState){bl(d);continue}}null!==p?(p.return=h,Zo=p):bl(d)}u=u.sibling}e:for(u=null,d=e;;){if(5===d.tag){if(null===u){u=d;try{s=d.stateNode,c?"function"===typeof(i=s.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=d.stateNode,o=void 0!==(A=d.memoizedProps.style)&&null!==A&&A.hasOwnProperty("display")?A.display:null,l.style.display=me("display",o))}catch(f){CA(e,e.return,f)}}}else if(6===d.tag){if(null===u)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(f){CA(e,e.return,f)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),gl(e),4&r&&pl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(de(s,""),r.flags&=-33),Al(e,ol(e),s);break;case 3:case 4:var i=r.stateNode.containerInfo;ll(e,ol(e),i);break;default:throw Error(a(161))}}catch(o){CA(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Zo=e,yl(e,t,n)}function yl(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var s=Zo,a=s.child;if(22===s.tag&&r){var i=null!==s.memoizedState||qo;if(!i){var o=s.alternate,l=null!==o&&null!==o.memoizedState||Xo;o=qo;var A=Xo;if(qo=i,(Xo=l)&&!A)for(Zo=s;null!==Zo;)l=(i=Zo).child,22===i.tag&&null!==i.memoizedState?xl(s):null!==l?(l.return=i,Zo=l):xl(s);for(;null!==a;)Zo=a,yl(a,t,n),a=a.sibling;Zo=s,qo=o,Xo=A}wl(e)}else 0!==(8772&s.subtreeFlags)&&null!==a?(a.return=s,Zo=a):wl(e)}}function wl(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xo)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Ka(t,i,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ka(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var A=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&n.focus();break;case"img":A.src&&(n.src=A.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&Vt(d)}}}break;default:throw Error(a(163))}Xo||512&t.flags&&sl(t)}catch(h){CA(t,t.return,h)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function bl(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function xl(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){CA(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(l){CA(t,s,l)}}var a=t.return;try{sl(t)}catch(l){CA(t,a,l)}break;case 5:var i=t.return;try{sl(t)}catch(l){CA(t,i,l)}}}catch(l){CA(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var Bl,Cl=Math.ceil,kl=w.ReactCurrentDispatcher,Sl=w.ReactCurrentOwner,El=w.ReactCurrentBatchConfig,jl=0,Il=null,Fl=null,Ql=0,Nl=0,Ml=Cs(0),Ul=0,Tl=null,Dl=0,Hl=0,Ll=0,Pl=null,Ol=null,Rl=0,Vl=1/0,Kl=null,zl=!1,_l=null,Gl=null,Wl=!1,Yl=null,ql=0,Xl=0,Jl=null,Zl=-1,$l=0;function eA(){return 0!==(6&jl)?Je():-1!==Zl?Zl:Zl=Je()}function tA(e){return 0===(1&e.mode)?1:0!==(2&jl)&&0!==Ql?Ql&-Ql:null!==ma.transition?(0===$l&&($l=mt()),$l):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nA(e,t,n,r){if(50<Xl)throw Xl=0,Jl=null,Error(a(185));gt(e,n,r),0!==(2&jl)&&e===Il||(e===Il&&(0===(2&jl)&&(Hl|=n),4===Ul&&oA(e,Ql)),rA(e,r),1===n&&0===jl&&0===(1&t.mode)&&(Vl=Je()+500,Ps&&Vs()))}function rA(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-it(a),o=1<<i,l=s[i];-1===l?0!==(o&n)&&0===(o&r)||(s[i]=ht(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=dt(e,e===Il?Ql:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ps=!0,Rs(e)}(lA.bind(null,e)):Rs(lA.bind(null,e)),is((function(){0===(6&jl)&&Vs()})),n=null;else{switch(wt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=IA(n,sA.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sA(e,t){if(Zl=-1,$l=0,0!==(6&jl))throw Error(a(327));var n=e.callbackNode;if(xA()&&e.callbackNode!==n)return null;var r=dt(e,e===Il?Ql:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=fA(e,r);else{t=r;var s=jl;jl|=2;var i=pA();for(Il===e&&Ql===t||(Kl=null,Vl=Je()+500,dA(e,t));;)try{vA();break}catch(l){hA(e,l)}Sa(),kl.current=i,jl=s,null!==Fl?t=0:(Il=null,Ql=0,t=Ul)}if(0!==t){if(2===t&&(0!==(s=pt(e))&&(r=s,t=aA(e,s))),1===t)throw n=Tl,dA(e,0),oA(e,r),rA(e,Je()),n;if(6===t)oA(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!or(a(),s))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=fA(e,r))&&(0!==(i=pt(e))&&(r=i,t=aA(e,i))),1===t))throw n=Tl,dA(e,0),oA(e,r),rA(e,Je()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:bA(e,Ol,Kl);break;case 3:if(oA(e,r),(130023424&r)===r&&10<(t=Rl+500-Je())){if(0!==dt(e,0))break;if(((s=e.suspendedLanes)&r)!==r){eA(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(bA.bind(null,e,Ol,Kl),t);break}bA(e,Ol,Kl);break;case 4:if(oA(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-it(r);i=1<<o,(o=t[o])>s&&(s=o),r&=~i}if(r=s,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=rs(bA.bind(null,e,Ol,Kl),r);break}bA(e,Ol,Kl);break;default:throw Error(a(329))}}}return rA(e,Je()),e.callbackNode===n?sA.bind(null,e):null}function aA(e,t){var n=Pl;return e.current.memoizedState.isDehydrated&&(dA(e,t).flags|=256),2!==(e=fA(e,t))&&(t=Ol,Ol=n,null!==t&&iA(t)),e}function iA(e){null===Ol?Ol=e:Ol.push.apply(Ol,e)}function oA(e,t){for(t&=~Ll,t&=~Hl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function lA(e){if(0!==(6&jl))throw Error(a(327));xA();var t=dt(e,0);if(0===(1&t))return rA(e,Je()),null;var n=fA(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=aA(e,r))}if(1===n)throw n=Tl,dA(e,0),oA(e,t),rA(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bA(e,Ol,Kl),rA(e,Je()),null}function AA(e,t){var n=jl;jl|=1;try{return e(t)}finally{0===(jl=n)&&(Vl=Je()+500,Ps&&Vs())}}function cA(e){null!==Yl&&0===Yl.tag&&0===(6&jl)&&xA();var t=jl;jl|=1;var n=El.transition,r=yt;try{if(El.transition=null,yt=1,e)return e()}finally{yt=r,El.transition=n,0===(6&(jl=t))&&Vs()}}function uA(){Nl=Ml.current,ks(Ml)}function dA(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==Fl)for(n=Fl.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ms();break;case 3:Xa(),ks(Is),ks(js),ni();break;case 5:Za(r);break;case 4:Xa();break;case 13:case 19:ks($a);break;case 10:Ea(r.type._context);break;case 22:case 23:uA()}n=n.return}if(Il=e,Fl=e=MA(e.current,null),Ql=Nl=t,Ul=0,Tl=null,Ll=Hl=Dl=0,Ol=Pl=null,null!==Qa){for(t=0;t<Qa.length;t++)if(null!==(r=(n=Qa[t]).interleaved)){n.interleaved=null;var s=r.next,a=n.pending;if(null!==a){var i=a.next;a.next=s,r.next=i}n.pending=r}Qa=null}return e}function hA(e,t){for(;;){var n=Fl;try{if(Sa(),ri.current=Ji,Ai){for(var r=ii.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}Ai=!1}if(ai=0,li=oi=ii=null,ci=!1,ui=0,Sl.current=null,null===n||null===n.return){Ul=1,Tl=t,Fl=null;break}e:{var i=e,o=n.return,l=n,A=t;if(t=Ql,l.flags|=32768,null!==A&&"object"===typeof A&&"function"===typeof A.then){var c=A,u=l,d=u.tag;if(0===(1&u.mode)&&(0===d||11===d||15===d)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=fo(o);if(null!==p){p.flags&=-257,go(p,o,l,0,t),1&p.mode&&mo(i,c,t),A=c;var m=(t=p).updateQueue;if(null===m){var f=new Set;f.add(A),t.updateQueue=f}else m.add(A);break e}if(0===(1&t)){mo(i,c,t),mA();break e}A=Error(a(426))}else if(sa&&1&l.mode){var g=fo(o);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),go(g,o,l,0,t),pa(lo(A,l));break e}}i=A=lo(A,l),4!==Ul&&(Ul=2),null===Pl?Pl=[i]:Pl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Ra(i,ho(0,A,t));break e;case 1:l=A;var v=i.type,y=i.stateNode;if(0===(128&i.flags)&&("function"===typeof v.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Gl||!Gl.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t,Ra(i,po(i,l,t));break e}}i=i.return}while(null!==i)}wA(n)}catch(w){t=w,Fl===n&&null!==n&&(Fl=n=n.return);continue}break}}function pA(){var e=kl.current;return kl.current=Ji,null===e?Ji:e}function mA(){0!==Ul&&3!==Ul&&2!==Ul||(Ul=4),null===Il||0===(268435455&Dl)&&0===(268435455&Hl)||oA(Il,Ql)}function fA(e,t){var n=jl;jl|=2;var r=pA();for(Il===e&&Ql===t||(Kl=null,dA(e,t));;)try{gA();break}catch(s){hA(e,s)}if(Sa(),jl=n,kl.current=r,null!==Fl)throw Error(a(261));return Il=null,Ql=0,Ul}function gA(){for(;null!==Fl;)yA(Fl)}function vA(){for(;null!==Fl&&!qe();)yA(Fl)}function yA(e){var t=Bl(e.alternate,e,Nl);e.memoizedProps=e.pendingProps,null===t?wA(e):Fl=t,Sl.current=null}function wA(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Wo(n,t,Nl)))return void(Fl=n)}else{if(null!==(n=Yo(n,t)))return n.flags&=32767,void(Fl=n);if(null===e)return Ul=6,void(Fl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Fl=t);Fl=t=e}while(null!==t);0===Ul&&(Ul=5)}function bA(e,t,n){var r=yt,s=El.transition;try{El.transition=null,yt=1,function(e,t,n,r){do{xA()}while(null!==Yl);if(0!==(6&jl))throw Error(a(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-it(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}(e,i),e===Il&&(Fl=Il=null,Ql=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Wl||(Wl=!0,IA(tt,(function(){return xA(),null}))),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=El.transition,El.transition=null;var o=yt;yt=1;var l=jl;jl|=4,Sl.current=null,function(e,t){if(es=zt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(b){n=null;break e}var o=0,l=-1,A=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==s&&3!==d.nodeType||(l=o+s),d!==i||0!==r&&3!==d.nodeType||(A=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===s&&(l=o),h===i&&++u===r&&(A=o),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===l||-1===A?null:{start:l,end:A}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},zt=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var f=m.memoizedProps,g=m.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?f:to(t.type,f),g);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(b){CA(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}m=tl,tl=!1}(e,n),fl(n,e),pr(ts),zt=!!es,ts=es=null,e.current=n,vl(n,e,s),Xe(),jl=l,yt=o,El.transition=i}else e.current=n;if(Wl&&(Wl=!1,Yl=e,ql=s),i=e.pendingLanes,0===i&&(Gl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rA(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(zl)throw zl=!1,e=_l,_l=null,e;0!==(1&ql)&&0!==e.tag&&xA(),i=e.pendingLanes,0!==(1&i)?e===Jl?Xl++:(Xl=0,Jl=e):Xl=0,Vs()}(e,t,n,r)}finally{El.transition=s,yt=r}return null}function xA(){if(null!==Yl){var e=wt(ql),t=El.transition,n=yt;try{if(El.transition=null,yt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,ql=0,0!==(6&jl))throw Error(a(331));var s=jl;for(jl|=4,Zo=e.current;null!==Zo;){var i=Zo,o=i.child;if(0!==(16&Zo.flags)){var l=i.deletions;if(null!==l){for(var A=0;A<l.length;A++){var c=l[A];for(Zo=c;null!==Zo;){var u=Zo;switch(u.tag){case 0:case 11:case 15:nl(8,u,i)}var d=u.child;if(null!==d)d.return=u,Zo=d;else for(;null!==Zo;){var h=(u=Zo).sibling,p=u.return;if(al(u),u===c){Zo=null;break}if(null!==h){h.return=p,Zo=h;break}Zo=p}}}var m=i.alternate;if(null!==m){var f=m.child;if(null!==f){m.child=null;do{var g=f.sibling;f.sibling=null,f=g}while(null!==f)}}Zo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(i=Zo).flags))switch(i.tag){case 0:case 11:case 15:nl(9,i,i.return)}var v=i.sibling;if(null!==v){v.return=i.return,Zo=v;break e}Zo=i.return}}var y=e.current;for(Zo=y;null!==Zo;){var w=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Zo=w;else e:for(o=y;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(x){CA(l,l.return,x)}if(l===o){Zo=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,Zo=b;break e}Zo=l.return}}if(jl=s,Vs(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(st,e)}catch(x){}r=!0}return r}finally{yt=n,El.transition=t}}return!1}function BA(e,t,n){e=Pa(e,t=ho(0,t=lo(n,t),1),1),t=eA(),null!==e&&(gt(e,1,t),rA(e,t))}function CA(e,t,n){if(3===e.tag)BA(e,e,n);else for(;null!==t;){if(3===t.tag){BA(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Pa(t,e=po(t,e=lo(n,e),1),1),e=eA(),null!==t&&(gt(t,1,e),rA(t,e));break}}t=t.return}}function kA(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eA(),e.pingedLanes|=e.suspendedLanes&n,Il===e&&(Ql&n)===n&&(4===Ul||3===Ul&&(130023424&Ql)===Ql&&500>Je()-Rl?dA(e,0):Ll|=n),rA(e,t)}function SA(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eA();null!==(e=Ua(e,t))&&(gt(e,t,n),rA(e,n))}function EA(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),SA(e,n)}function jA(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),SA(e,n)}function IA(e,t){return We(e,t)}function FA(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function QA(e,t,n,r){return new FA(e,t,n,r)}function NA(e){return!(!(e=e.prototype)||!e.isReactComponent)}function MA(e,t){var n=e.alternate;return null===n?((n=QA(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function UA(e,t,n,r,s,i){var o=2;if(r=e,"function"===typeof e)NA(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case B:return TA(n.children,s,i,t);case C:o=8,s|=8;break;case k:return(e=QA(12,n,t,2|s)).elementType=k,e.lanes=i,e;case I:return(e=QA(13,n,t,s)).elementType=I,e.lanes=i,e;case F:return(e=QA(19,n,t,s)).elementType=F,e.lanes=i,e;case M:return DA(n,s,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case E:o=9;break e;case j:o=11;break e;case Q:o=14;break e;case N:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=QA(o,n,t,s)).elementType=e,t.type=r,t.lanes=i,t}function TA(e,t,n,r){return(e=QA(7,e,r,t)).lanes=n,e}function DA(e,t,n,r){return(e=QA(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function HA(e,t,n){return(e=QA(6,e,null,t)).lanes=n,e}function LA(e,t,n){return(t=QA(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function PA(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ft(0),this.expirationTimes=ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function OA(e,t,n,r,s,a,i,o,l){return e=new PA(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=QA(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function RA(e){if(!e)return Es;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ns(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ns(n))return Ts(e,n,t)}return t}function VA(e,t,n,r,s,a,i,o,l){return(e=OA(n,r,!0,e,0,a,0,o,l)).context=RA(null),n=e.current,(a=La(r=eA(),s=tA(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,s),e.current.lanes=s,gt(e,s,r),rA(e,r),e}function KA(e,t,n,r){var s=t.current,a=eA(),i=tA(s);return n=RA(n),null===t.context?t.context=n:t.pendingContext=n,(t=La(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(s,t,i))&&(nA(e,s,i,a),Oa(e,s,i)),i}function zA(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function _A(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function GA(e,t){_A(e,t),(e=e.alternate)&&_A(e,t)}Bl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Is.current)yo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yo=!1,function(e,t,n){switch(t.tag){case 3:Io(t),ha();break;case 5:Ja(t);break;case 1:Ns(t.type)&&Ds(t);break;case 4:qa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ss(xa,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ss($a,1&$a.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ho(e,t,n):(Ss($a,1&$a.current),null!==(e=zo(e,t,n))?e.sibling:null);Ss($a,1&$a.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vo(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ss($a,$a.current),r)break;return null;case 22:case 23:return t.lanes=0,Co(e,t,n)}return zo(e,t,n)}(e,t,n);yo=0!==(131072&e.flags)}else yo=!1,sa&&0!==(1048576&t.flags)&&$s(t,Gs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ko(e,t),e=t.pendingProps;var s=Qs(t,js.current);Ia(t,n),s=mi(null,t,r,e,s,n);var i=fi();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ns(r)?(i=!0,Ds(t)):i=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Da(t),s.updater=ro,t.stateNode=s,s._reactInternals=t,oo(t,r,e,n),t=jo(null,t,r,!0,i,n)):(t.tag=0,sa&&i&&ea(t),wo(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ko(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return NA(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===j)return 11;if(e===Q)return 14}return 2}(r),e=to(r,e),s){case 0:t=So(null,t,r,e,n);break e;case 1:t=Eo(null,t,r,e,n);break e;case 11:t=bo(null,t,r,e,n);break e;case 14:t=xo(null,t,r,to(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,So(e,t,r,s=t.elementType===r?s:to(r,s),n);case 1:return r=t.type,s=t.pendingProps,Eo(e,t,r,s=t.elementType===r?s:to(r,s),n);case 3:e:{if(Io(t),null===e)throw Error(a(387));r=t.pendingProps,s=(i=t.memoizedState).element,Ha(e,t),Va(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Fo(e,t,r,n,s=lo(Error(a(423)),t));break e}if(r!==s){t=Fo(e,t,r,n,s=lo(Error(a(424)),t));break e}for(ra=As(t.stateNode.containerInfo.firstChild),na=t,sa=!0,aa=null,n=ba(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===s){t=zo(e,t,n);break e}wo(e,t,r,n)}t=t.child}return t;case 5:return Ja(t),null===e&&Aa(t),r=t.type,s=t.pendingProps,i=null!==e?e.memoizedProps:null,o=s.children,ns(r,s)?o=null:null!==i&&ns(r,i)&&(t.flags|=32),ko(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&Aa(t),null;case 13:return Ho(e,t,n);case 4:return qa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wa(t,null,r,n):wo(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,bo(e,t,r,s=t.elementType===r?s:to(r,s),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Ss(xa,r._currentValue),r._currentValue=o,null!==i)if(or(i.value,o)){if(i.children===s.children&&!Is.current){t=zo(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var A=l.firstContext;null!==A;){if(A.context===r){if(1===i.tag){(A=La(-1,n&-n)).tag=2;var c=i.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?A.next=A:(A.next=u.next,u.next=A),c.pending=A}}i.lanes|=n,null!==(A=i.alternate)&&(A.lanes|=n),ja(i.return,n,t),l.lanes|=n;break}A=A.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),ja(o,n,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}wo(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ia(t,n),r=r(s=Fa(s)),t.flags|=1,wo(e,t,r,n),t.child;case 14:return s=to(r=t.type,t.pendingProps),xo(e,t,r,s=to(r.type,s),n);case 15:return Bo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:to(r,s),Ko(e,t),t.tag=1,Ns(r)?(e=!0,Ds(t)):e=!1,Ia(t,n),ao(t,r,s),oo(t,r,s,n),jo(null,t,r,!0,e,n);case 19:return Vo(e,t,n);case 22:return Co(e,t,n)}throw Error(a(156,t.tag))};var WA="function"===typeof reportError?reportError:function(e){console.error(e)};function YA(e){this._internalRoot=e}function qA(e){this._internalRoot=e}function XA(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function JA(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ZA(){}function $A(e,t,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if("function"===typeof s){var o=s;s=function(){var e=zA(i);o.call(e)}}KA(t,i,e,s)}else i=function(e,t,n,r,s){if(s){if("function"===typeof r){var a=r;r=function(){var e=zA(i);a.call(e)}}var i=VA(t,r,e,0,null,!1,0,"",ZA);return e._reactRootContainer=i,e[ps]=i.current,Vr(8===e.nodeType?e.parentNode:e),cA(),i}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var o=r;r=function(){var e=zA(l);o.call(e)}}var l=OA(e,0,!1,null,0,!1,0,"",ZA);return e._reactRootContainer=l,e[ps]=l.current,Vr(8===e.nodeType?e.parentNode:e),cA((function(){KA(t,l,n,r)})),l}(n,t,e,s,r);return zA(i)}qA.prototype.render=YA.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));KA(e,t,null,null)},qA.prototype.unmount=YA.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cA((function(){KA(null,e,null,null)})),t[ps]=null}},qA.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Ht(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(vt(t,1|n),rA(t,Je()),0===(6&jl)&&(Vl=Je()+500,Vs()))}break;case 13:cA((function(){var t=Ua(e,1);if(null!==t){var n=eA();nA(t,e,1,n)}})),GA(e,1)}},xt=function(e){if(13===e.tag){var t=Ua(e,134217728);if(null!==t)nA(t,e,134217728,eA());GA(e,134217728)}},Bt=function(e){if(13===e.tag){var t=tA(e),n=Ua(e,t);if(null!==n)nA(n,e,t,eA());GA(e,t)}},Ct=function(){return yt},kt=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},xe=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=bs(r);if(!s)throw Error(a(90));W(r),Z(r,s)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},je=AA,Ie=cA;var ec={usingClientEntryPoint:!1,Events:[ys,ws,bs,Se,Ee,AA]},tc={findFiberByHostInstance:vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=_e(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{st=rc.inject(nc),at=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!XA(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!XA(e))throw Error(a(299));var n=!1,r="",s=WA;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=OA(e,1,!1,null,0,n,0,r,s),e[ps]=t.current,Vr(8===e.nodeType?e.parentNode:e),new YA(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=_e(t))?null:e.stateNode},t.flushSync=function(e){return cA(e)},t.hydrate=function(e,t,n){if(!JA(t))throw Error(a(200));return $A(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!XA(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,s=!1,i="",o=WA;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=VA(t,null,e,1,null!=n?n:null,s,0,i,o),e[ps]=t.current,Vr(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new qA(t)},t.render=function(e,t,n){if(!JA(t))throw Error(a(200));return $A(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!JA(e))throw Error(a(40));return!!e._reactRootContainer&&(cA((function(){$A(null,null,e,!1,(function(){e._reactRootContainer=null,e[ps]=null}))})),!0)},t.unstable_batchedUpdates=AA,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!JA(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return $A(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},1352:(e,t,n)=>{"use strict";var r=n(7119);t.H=r.createRoot,r.hydrateRoot},7119:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(8345)},8577:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),s=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),A=Symbol.for("react.context"),c=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case o:case i:case d:case h:return e;default:switch(e=e&&e.$$typeof){case c:case A:case u:case m:case p:case l:return e;default:return t}}case s:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=u,t.isFragment=function(e){return g(e)===a},t.isMemo=function(e){return g(e)===p}},6429:(e,t,n)=>{"use strict";e.exports=n(8577)},8984:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},r.apply(this,arguments)},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,s,a,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(s=(s=i.trys).length>0&&s[s.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(o){a=[6,o],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CommandOrchestrator=t.getStateFromTextArea=t.TextAreaTextApi=void 0;var i=n(3087),o=n(1398),l=n(5611),A=n(3631),c=function(){function e(e){this.textAreaRef=e}return e.prototype.replaceSelection=function(e){var t=this.textAreaRef.current;return o.insertText(t,e),u(t)},e.prototype.setSelectionRange=function(e){var t=this.textAreaRef.current;return t.focus(),t.selectionStart=e.start,t.selectionEnd=e.end,u(t)},e.prototype.getState=function(){return u(this.textAreaRef.current)},e}();function u(e){return{selection:{start:e.selectionStart,end:e.selectionEnd},text:e.value,selectedText:e.value.slice(e.selectionStart,e.selectionEnd)}}t.TextAreaTextApi=c,t.getStateFromTextArea=u;var d=function(){function e(e,t,n,s){var a=this;if(this.getCommand=function(e){var t=a.commandMap[e];if(!t)throw new Error("Cannot execute command. Command not found: "+e);return t},this.handlePossibleKeyCommand=function(e){for(var t=0,n=a.keyActivatedCommands;t<n.length;t++){var r=n[t];if(a.getCommand(r).handleKeyCommand(e))return a.executeCommand(r).then((function(e){})),!0}return!1},s&&!s.saveImage)throw new Error("paste options are incomplete. saveImage are required ");this.commandMap=r(r({},i.getDefaultCommandMap()),e||{}),this.pasteOptions=s,this.keyActivatedCommands=l.extractKeyActivatedCommands(e),this.textAreaRef=t,this.textApi=new c(t),this.l18n=n}return e.prototype.executeCommand=function(e,t){return s(this,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return this.isExecuting?[2]:(this.isExecuting=!0,n=this.commandMap[e],[4,n.execute({initialState:u(this.textAreaRef.current),textApi:this.textApi,l18n:this.l18n,context:t})]);case 1:return r.sent(),this.isExecuting=!1,[2]}}))}))},e.prototype.executePasteCommand=function(e){return s(this,void 0,void 0,(function(){return a(this,(function(t){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||A.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:e})]:[2]}))}))},e.prototype.executeDropCommand=function(e){return s(this,void 0,void 0,(function(){return a(this,(function(t){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||A.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:e})]:[2]}))}))},e.prototype.executeSelectImageCommand=function(e){return s(this,void 0,void 0,(function(){return a(this,(function(t){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||A.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:e})]:[2]}))}))},e.prototype.getCommandByName=function(e){return this.commandMap[e]},e}();t.CommandOrchestrator=d},5611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractKeyActivatedCommands=void 0,t.extractKeyActivatedCommands=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&e[n].handleKeyCommand&&t.push(n);return t}},6057:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boldCommand=void 0;var r=n(6439);t.boldCommand={buttonProps:{"aria-label":"Add bold text"},execute:function(e){var t=e.initialState,n=e.textApi,s=r.selectWord({text:t.text,selection:t.selection}),a=n.setSelectionRange(s),i=n.replaceSelection("**"+a.selectedText+"**");n.setSelectionRange({start:i.selection.end-2-a.selectedText.length,end:i.selection.end-2})},handleKeyCommand:function(e){return(e.ctrlKey||e.metaKey)&&"b"==e.key}}},7127:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.codeCommand=void 0;var r=n(6439);t.codeCommand={buttonProps:{"aria-label":"Insert code"},execute:function(e){var t=e.initialState,n=e.textApi,s=r.selectWord({text:t.text,selection:t.selection}),a=n.setSelectionRange(s);if(-1!==a.selectedText.indexOf("\n")){var i=r.getBreaksNeededForEmptyLineBefore(a.text,a.selection.start),o=Array(i+1).join("\n"),l=r.getBreaksNeededForEmptyLineAfter(a.text,a.selection.end),A=Array(l+1).join("\n");n.replaceSelection(o+"```\n"+a.selectedText+"\n```"+A);var c=a.selection.start+i+4,u=c+a.selectedText.length;n.setSelectionRange({start:c,end:u})}else{n.replaceSelection("`"+a.selectedText+"`");var d=a.selection.start+1,h=d+a.selectedText.length;n.setSelectionRange({start:d,end:h})}}}},3631:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultSaveImageCommandName=t.getDefaultCommandMap=t.getDefaultToolbarCommands=void 0;var r=n(5755),s=n(6057),a=n(3624),i=n(7245),o=n(3380),l=n(912),A=n(7127),c=n(6255),u=n(4095),d=n(9052);t.getDefaultToolbarCommands=function(){return[["header","bold","italic","strikethrough"],["link","quote","code","image"],["unordered-list","ordered-list","checked-list"]]},t.getDefaultCommandMap=function(){return{header:r.headerCommand,bold:s.boldCommand,italic:a.italicCommand,strikethrough:i.strikeThroughCommand,link:o.linkCommand,quote:l.quoteCommand,code:A.codeCommand,image:u.imageCommand,"unordered-list":c.unorderedListCommand,"ordered-list":c.orderedListCommand,"checked-list":c.checkedListCommand,"save-image":d.saveImageCommand}},t.getDefaultSaveImageCommandName=function(){return"save-image"}},5755:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.headerCommand=void 0;var r=n(6439);t.headerCommand={buttonProps:{"aria-label":"Add header"},execute:function(e){!function(e,t,n){var s=r.selectWord({text:e.text,selection:e.selection}),a=t.setSelectionRange(s),i=t.replaceSelection(""+n+a.selectedText);t.setSelectionRange({start:i.selection.end-a.selectedText.length,end:i.selection.end})}(e.initialState,e.textApi,"### ")}}},4095:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imageCommand=void 0;var r=n(6439);t.imageCommand={buttonProps:{"aria-label":"Add image"},execute:function(e){var t=e.initialState,n=e.textApi,s=n.setSelectionRange(r.selectWord({text:t.text,selection:t.selection})),a=s.selectedText||"https://example.com/your-image.png";n.replaceSelection("![]("+a+")"),n.setSelectionRange({start:s.selection.start+4,end:s.selection.start+4+a.length})}}},3624:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.italicCommand=void 0;var r=n(6439);t.italicCommand={buttonProps:{"aria-label":"Add italic text"},execute:function(e){var t=e.initialState,n=e.textApi,s=r.selectWord({text:t.text,selection:t.selection}),a=n.setSelectionRange(s),i=n.replaceSelection("*"+a.selectedText+"*");n.setSelectionRange({start:i.selection.end-1-a.selectedText.length,end:i.selection.end-1})},handleKeyCommand:function(e){return(e.ctrlKey||e.metaKey)&&"i"==e.key}}},3380:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linkCommand=void 0;var r=n(6439);t.linkCommand={buttonProps:{"aria-label":"Add a link"},execute:function(e){var t=e.initialState,n=e.textApi,s=r.selectWord({text:t.text,selection:t.selection}),a=n.setSelectionRange(s),i=n.replaceSelection("["+a.selectedText+"](url)");n.setSelectionRange({start:i.selection.end-6-a.selectedText.length,end:i.selection.end-6})},handleKeyCommand:function(e){return(e.ctrlKey||e.metaKey)&&"k"==e.key}}},6255:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkedListCommand=t.orderedListCommand=t.unorderedListCommand=t.makeList=t.insertBeforeEachLine=void 0;var r=n(6439);function s(e,t){var n=e.split(/\n/),r=0;return{modifiedText:n.map((function(e,n){if("string"===typeof t)return r+=t.length,t+e;if("function"===typeof t){var s=t(e,n);return r+=s.length,t(e,n)+e}throw Error("insertion is expected to be either a string or a function")})).join("\n"),insertionLength:r}}t.insertBeforeEachLine=s;t.makeList=function(e,t,n){var a=r.selectWord({text:e.text,selection:e.selection}),i=t.setSelectionRange(a),o=r.getBreaksNeededForEmptyLineBefore(i.text,i.selection.start),l=Array(o+1).join("\n"),A=r.getBreaksNeededForEmptyLineAfter(i.text,i.selection.end),c=Array(A+1).join("\n"),u=s(i.selectedText,n);t.replaceSelection(""+l+u.modifiedText+c);var d=-1===i.selectedText.indexOf("\n")?u.insertionLength:0,h=i.selection.start+o+d,p=h+u.modifiedText.length-d;t.setSelectionRange({start:h,end:p})},t.unorderedListCommand={buttonProps:{"aria-label":"Add unordered list"},execute:function(e){var n=e.initialState,r=e.textApi;t.makeList(n,r,"- ")}},t.orderedListCommand={buttonProps:{"aria-label":"Add ordered list"},execute:function(e){var n=e.initialState,r=e.textApi;t.makeList(n,r,(function(e,t){return t+1+". "}))}},t.checkedListCommand={buttonProps:{"aria-label":"Add checked list"},execute:function(e){var n=e.initialState,r=e.textApi;t.makeList(n,r,(function(e,t){return"- [ ] "}))}}},912:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.quoteCommand=void 0;var r=n(6439);t.quoteCommand={buttonProps:{"aria-label":"Insert a quote"},execute:function(e){var t=e.initialState,n=e.textApi,s=r.selectWord({text:t.text,selection:t.selection}),a=n.setSelectionRange(s),i=r.getBreaksNeededForEmptyLineBefore(a.text,a.selection.start),o=Array(i+1).join("\n"),l=r.getBreaksNeededForEmptyLineAfter(a.text,a.selection.end),A=Array(l+1).join("\n");n.replaceSelection(o+"> "+a.selectedText+A);var c=a.selection.start+i+2,u=c+a.selectedText.length;n.setSelectionRange({start:c,end:u})}}},9052:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,s,a,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(s=(s=i.trys).length>0&&s[s.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(o){a=[6,o],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.saveImageCommand=void 0;var a=n(2215),i=n(6439);function o(e){var t=[];for(var n in e){var r=e[n];"file"===r.kind&&t.push(r.getAsFile())}return t}t.saveImageCommand={execute:function(e){e.initialState;var t=e.textApi,n=e.context,l=e.l18n;return r(this,void 0,void 0,(function(){var e,r,A,c,u,d,h,p,m,f,g,v,y,w,b,x,B,C,k,S,E,j;return s(this,(function(s){switch(s.label){case 0:if(!n)throw new Error("wrong context");for(f in r=(e=n).event,A=e.pasteOptions,c=A.saveImage,u=A.multiple,d=A.accept,h=function(e){return void 0!==e.event.clipboardData}(n)?o(r.clipboardData.items):function(e){return void 0!==e.event.dataTransfer}(n)?o(r.dataTransfer.items):function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[0]);return t}(r.target.files),p=function(e,t){var n=t.multiple,r=t.accept,s=e;if(n||(s=s.slice(0,1)),r){var a=r.split(","),i=new Set(a.filter((function(e){return/^\.\w+/.test(e)})).map((function(e){return e.split(".")[1]}))),o=new Set(a.filter((function(e){return/^[-\w.]+\/[-\w.]+$/.test(e)}))),l=new Set(a.filter((function(e){return/(audio|video|image)\/\*/.test(e)})).map((function(e){return e.split("/")[0]})));s=s.filter((function(e){return i.has(e.name.split(".")[1])||o.has(e.type)||l.has(e.type.split("/")[0])}))}return s}(h,{multiple:u,accept:d}),m=[],p)m.push(f);g=0,s.label=1;case 1:return g<m.length?(v=m[g],y=t.getState(),w=i.getBreaksNeededForEmptyLineBefore(y.text,y.selection.start),b=Array(w+1).join("\n"),x=b+"!["+l.uploadingImage+"]()",t.replaceSelection(x),B=h[v],[4,a.readFileAsync(B)]):[3,5];case 2:return C=s.sent(),[4,c(C,B).next()];case 3:k=s.sent().value,S=t.getState(),S.text.substr(y.selection.start,x.length)===x&&(t.setSelectionRange({start:y.selection.start,end:y.selection.start+x.length}),j=(E=k?b+"![image]("+k+")":"").length-x.length,t.replaceSelection(E),t.setSelectionRange({start:S.selection.start+j,end:S.selection.end+j})),s.label=4;case 4:return g++,[3,1];case 5:return[2]}}))}))}}},7245:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.strikeThroughCommand=void 0;var r=n(6439);t.strikeThroughCommand={buttonProps:{"aria-label":"Add strikethrough text"},execute:function(e){var t=e.initialState,n=e.textApi,s=r.selectWord({text:t.text,selection:t.selection}),a=n.setSelectionRange(s),i=n.replaceSelection("~~"+a.selectedText+"~~");n.setSelectionRange({start:i.selection.end-2-a.selectedText.length,end:i.selection.end-2})}}},5244:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.Preview=void 0;var s=n(9950),a=n(342),i=function(e){function t(t){var n=e.call(this,t)||this;return n.state={loading:!0},n}return r(t,e),t.prototype.componentDidMount=function(){this.generatePreview()},t.prototype.componentDidUpdate=function(e,t){this.props.markdown!==e.markdown&&this.generatePreview()},t.prototype.generatePreview=function(){var e=this,t=this.props,n=t.markdown;(0,t.generateMarkdownPreview)(n).then((function(t){e.setState({preview:t,loading:!1})}))},t.prototype.render=function(){var e,t=this.props,n=t.classes,r=t.minHeight,i=t.loadingPreview,o=t.refObject,l=t.heightUnits,A=this.state,c=A.preview,u=A.loading,d=u?i:c;e="string"===typeof d?s.createElement("div",{className:"mde-preview-content",dangerouslySetInnerHTML:{__html:d||"<p>&nbsp;</p>"},ref:o}):s.createElement("div",{className:"mde-preview-content"},d);var h=r&&l?r+10+l:r+10;return s.createElement("div",{className:a.classNames("mde-preview",n,{loading:u}),style:{minHeight:h},"data-testid":"mde-preview"},e)},t}(s.Component);t.Preview=i},5319:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},s.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,s,a,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(s=(s=i.trys).length>0&&s[s.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(o){a=[6,o],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReactMde=void 0;var o=n(9950),l=n(3904),A=n(3631),c=n(8546),u=n(3014),d=n(342),h=n(8984),p={accept:"image/*",multiple:!1},m=function(e){function t(t){var n,r=e.call(this,t)||this;r.handleTextChange=function(e){(0,r.props.onChange)(e)},r.handlePaste=function(e){return a(r,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return(t=this.props.paste)&&t.saveImage?[4,this.commandOrchestrator.executePasteCommand(e)]:[2];case 1:return n.sent(),[2]}}))}))},r.handleDrop=function(e){return a(r,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return(t=this.props.paste)&&t.saveImage?[4,this.commandOrchestrator.executeDropCommand(e)]:[2];case 1:return n.sent(),[2]}}))}))},r.handleImageSelection=function(e){return a(r,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return(t=this.props.paste)&&t.saveImage?[4,this.commandOrchestrator.executeSelectImageCommand(e)]:[2];case 1:return n.sent(),[2]}}))}))},r.handleTabChange=function(e){(0,r.props.onTabChange)(e)},r.handleCommand=function(e){return a(r,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.commandOrchestrator.executeCommand(e)];case 1:return t.sent(),[2]}}))}))},r.finalRefs=s({},t.refs||{}),r.finalRefs.textarea||(r.finalRefs.textarea=o.createRef()),r.finalRefs.preview||(r.finalRefs.preview=o.createRef()),r.commandOrchestrator=new h.CommandOrchestrator(r.props.commands,r.finalRefs.textarea,r.props.l18n,r.props.paste?s(s({},p),r.props.paste):void 0);var l=Math.min(t.maxEditorHeight,t.minEditorHeight);return r.state={editorHeight:null!==(n=t.initialEditorHeight)&&void 0!==n?n:l},r}return r(t,e),t.prototype.render=function(){var e,t,n=this,r=this.props,s=r.getIcon,a=r.toolbarCommands,i=r.classes,A=r.loadingPreview,c=r.readOnly,u=r.disablePreview,h=r.value,m=r.l18n,f=r.minPreviewHeight,g=r.heightUnits,v=r.childProps,y=r.selectedTab,w=r.generateMarkdownPreview,b=r.loadSuggestions,x=r.suggestionTriggerCharacters,B=r.textAreaComponent,C=v||{},k=a.map((function(e){return e.map((function(e){var t=n.commandOrchestrator.getCommand(e);return{commandName:e,buttonContent:t.icon?t.icon(s):s(e),buttonProps:t.buttonProps,buttonComponentClass:t.buttonComponentClass}}))}));return o.createElement("div",{className:d.classNames("react-mde","react-mde-tabbed-layout",null===i||void 0===i?void 0:i.reactMde)},o.createElement(l.Toolbar,{classes:null===i||void 0===i?void 0:i.toolbar,buttons:k,onCommand:this.handleCommand,onTabChange:this.handleTabChange,tab:y,readOnly:c,disablePreview:u,l18n:m,buttonProps:C.commandButtons,writeButtonProps:C.writeButton,previewButtonProps:C.previewButton}),o.createElement("div",{className:d.classNames({invisible:"write"!==y})},o.createElement(l.TextArea,{classes:null===i||void 0===i?void 0:i.textArea,suggestionsDropdownClasses:null===i||void 0===i?void 0:i.suggestionsDropdown,suggestionsAutoplace:this.props.suggestionsAutoplace,refObject:this.finalRefs.textarea,onChange:this.handleTextChange,onPaste:this.handlePaste,onDrop:this.handleDrop,readOnly:c,textAreaComponent:B,textAreaProps:v&&v.textArea,height:this.state.editorHeight,heightUnits:this.props.heightUnits,value:h,suggestionTriggerCharacters:x,loadSuggestions:b,onPossibleKeyCommand:this.commandOrchestrator.handlePossibleKeyCommand}),this.props.paste&&o.createElement("label",{className:d.classNames("image-tip")},o.createElement("input",{className:d.classNames("image-input"),type:"file",accept:null!==(e=this.props.paste.accept)&&void 0!==e?e:p.accept,multiple:null!==(t=this.props.paste.multiple)&&void 0!==t?t:p.multiple,onChange:this.handleImageSelection}),o.createElement("span",null,m.pasteDropSelect))),"write"!==y&&o.createElement(l.Preview,{classes:null===i||void 0===i?void 0:i.preview,refObject:this.finalRefs.preview,loadingPreview:A,minHeight:f,heightUnits:g,generateMarkdownPreview:w,markdown:h}))},t.defaultProps={commands:A.getDefaultCommandMap(),toolbarCommands:A.getDefaultToolbarCommands(),getIcon:function(e){return o.createElement(u.SvgIcon,{icon:e})},readOnly:!1,l18n:c.enL18n,minEditorHeight:200,maxEditorHeight:500,minPreviewHeight:200,heightUnits:"px",selectedTab:"write",disablePreview:!1,suggestionTriggerCharacters:["@"],suggestionsAutoplace:!1},t}(o.Component);t.ReactMde=m},224:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SuggestionsDropdown=void 0;var r=n(9950),s=n(342);t.SuggestionsDropdown=function(e){var t=e.classes,n=e.suggestions,a=e.caret,i=e.onSuggestionSelected,o=e.suggestionsAutoplace,l=e.focusIndex,A=e.textAreaRef,c=function(e){e.preventDefault();var t=parseInt(e.currentTarget.attributes["data-index"].value);i(t)},u=function(e){return e.preventDefault()},d=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),h=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),p=a.left-A.current.scrollLeft,m=a.top-A.current.scrollTop,f={};return o&&m+A.current.getBoundingClientRect().top>h/2?f.bottom=A.current.offsetHeight-m:f.top=m,o&&p+A.current.getBoundingClientRect().left>d/2?f.right=A.current.offsetWidth-p:f.left=p,r.createElement("ul",{className:s.classNames("mde-suggestions",t),style:f},n.map((function(e,t){return r.createElement("li",{onClick:c,onMouseDown:u,key:t,"aria-selected":l===t?"true":"false","data-index":""+t},e.preview)})))}},4176:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},s.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.TextArea=void 0;var a=n(9950),i=n(342),o=n(9238),l=n(1398),A=n(6868),c=n(224),u=function(e){function t(t){var n=e.call(this,t)||this;return n.currentLoadSuggestionsPromise=Promise.resolve(void 0),n.suggestionsPromiseIndex=0,n.getTextArea=function(){return n.props.refObject.current},n.handleOnChange=function(e){(0,n.props.onChange)(e.target.value)},n.handleBlur=function(){n.state.mention&&n.setState({mention:{status:"inactive",suggestions:[]}})},n.startLoadingSuggestions=function(e){var t=++n.suggestionsPromiseIndex,r=n.props.loadSuggestions;n.currentLoadSuggestionsPromise=n.currentLoadSuggestionsPromise.then((function(){return r(e,n.state.mention.triggeredBy)})).then((function(e){if("inactive"!==n.state.mention.status)return n.suggestionsPromiseIndex===t&&(e&&e.length?n.setState({mention:s(s({},n.state.mention),{status:"active",suggestions:e,focusIndex:0})}):n.setState({mention:{status:"inactive",suggestions:[]}}),n.suggestionsPromiseIndex=0),Promise.resolve()}))},n.loadEmptySuggestion=function(e,t){var r=o.getCaretCoordinates(e,t);n.startLoadingSuggestions(""),n.setState({mention:{status:"loading",startPosition:e.selectionStart+1,caret:r,suggestions:[],triggeredBy:t}})},n.handleSuggestionSelected=function(e){var t=n.state.mention;n.getTextArea().selectionStart=t.startPosition-1;n.props.value.substr(n.getTextArea().selectionStart,n.getTextArea().selectionEnd-n.getTextArea().selectionStart);l.insertText(n.getTextArea(),t.suggestions[e].value+" "),n.setState({mention:{status:"inactive",suggestions:[]}})},n.handleKeyDown=function(e){if(n.props.onPossibleKeyCommand&&n.props.onPossibleKeyCommand(e))return e.preventDefault(),n.suggestionsPromiseIndex=0,void n.setState({mention:{status:"inactive",suggestions:[]}});if(n.suggestionsEnabled()){var t=e.key,r=e.shiftKey,a=e.currentTarget.selectionStart,i=n.state.mention;switch(i.status){case"loading":case"active":if("Escape"===t||"Backspace"===t&&a<=n.state.mention.startPosition)n.suggestionsPromiseIndex=0,n.setState({mention:{status:"inactive",suggestions:[]}});else if("active"!==i.status||"ArrowUp"!==t&&"ArrowDown"!==t||r)"Enter"===t&&"active"===i.status&&i.suggestions.length&&(e.preventDefault(),n.handleSuggestionSelected(i.focusIndex));else{e.preventDefault();var o="ArrowUp"===t?-1:1;n.setState({mention:s(s({},i),{focusIndex:A.mod(i.focusIndex+o,i.suggestions.length)})})}}}},n.handleKeyUp=function(e){var t=e.key,r=n.state.mention,a=n.props,i=a.suggestionTriggerCharacters,o=a.value;switch(r.status){case"loading":case"active":if("Backspace"===t){var l=o.substr(r.startPosition,n.getTextArea().selectionStart-r.startPosition);n.startLoadingSuggestions(l),"loading"!==r.status&&n.setState({mention:s(s({},n.state.mention),{status:"loading"})})}break;case"inactive":if("Backspace"===t){var A=o.charAt(n.getTextArea().selectionStart-1);i.includes(o.charAt(n.getTextArea().selectionStart-1))&&n.loadEmptySuggestion(e.currentTarget,A)}}},n.handleKeyPress=function(e){var t=n.props,r=t.suggestionTriggerCharacters,a=t.value,i=n.state.mention,o=e.key;switch(i.status){case"loading":case"active":if(" "===o)return void n.setState({mention:s(s({},n.state.mention),{status:"inactive"})});var l=a.substr(i.startPosition,n.getTextArea().selectionStart-i.startPosition)+o;n.startLoadingSuggestions(l),"loading"!==i.status&&n.setState({mention:s(s({},n.state.mention),{status:"loading"})});break;case"inactive":if(-1===r.indexOf(e.key)||!/\s|\(|\[|^.{0}$/.test(a.charAt(n.getTextArea().selectionStart-1)))return;n.loadEmptySuggestion(e.currentTarget,e.key)}},n.state={mention:{status:"inactive",suggestions:[]}},n}return r(t,e),t.prototype.suggestionsEnabled=function(){return this.props.suggestionTriggerCharacters&&this.props.suggestionTriggerCharacters.length&&this.props.loadSuggestions},t.prototype.render=function(){var e=this,t=this.props,n=t.classes,r=t.readOnly,o=t.textAreaProps,l=t.height,A=t.heightUnits,u=t.value,d=t.suggestionTriggerCharacters,h=t.loadSuggestions,p=t.suggestionsDropdownClasses,m=t.textAreaComponent,f=t.onPaste,g=t.onDrop,v=d&&d.length&&h,y=this.state.mention,w=m||"textarea",b=l&&A?l+A:l;return a.createElement("div",{className:"mde-textarea-wrapper"},a.createElement(w,s({className:i.classNames("mde-text",n),style:{height:b},ref:this.props.refObject,readOnly:r,value:u,"data-testid":"text-area"},o,{onChange:function(t){var n;null===(n=null===o||void 0===o?void 0:o.onChange)||void 0===n||n.call(o,t),e.handleOnChange(t)},onBlur:function(t){var n;null===(n=null===o||void 0===o?void 0:o.onBlur)||void 0===n||n.call(o,t),v&&e.handleBlur()},onKeyDown:function(t){var n;null===(n=null===o||void 0===o?void 0:o.onKeyDown)||void 0===n||n.call(o,t),e.handleKeyDown(t)},onKeyUp:function(t){var n;null===(n=null===o||void 0===o?void 0:o.onKeyUp)||void 0===n||n.call(o,t),v&&e.handleKeyUp(t)},onKeyPress:function(t){var n;null===(n=null===o||void 0===o?void 0:o.onKeyPress)||void 0===n||n.call(o,t),v&&e.handleKeyPress(t)},onPaste:function(e){var t;null===(t=null===o||void 0===o?void 0:o.onPaste)||void 0===t||t.call(o,e),f(e)},onDragOver:function(e){e.preventDefault(),e.stopPropagation()},onDrop:function(e){var t;null===(t=null===o||void 0===o?void 0:o.onDrop)||void 0===t||t.call(o,e),g(e),e.preventDefault()}})),"active"===y.status&&y.suggestions.length&&a.createElement(c.SuggestionsDropdown,{classes:p,caret:y.caret,suggestions:y.suggestions,onSuggestionSelected:this.handleSuggestionSelected,suggestionsAutoplace:this.props.suggestionsAutoplace,focusIndex:y.focusIndex,textAreaRef:this.props.refObject}))},t}(a.Component);t.TextArea=u},9391:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},s.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Toolbar=void 0;var a=n(9950),i=n(342),o=n(3212),l=n(8851),A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleTabChange=function(e){(0,t.props.onTabChange)(e)},t}return r(t,e),t.prototype.render=function(){var e=this,t=this.props.l18n,n=this.props,r=n.classes,A=n.children,c=n.buttons,u=n.onCommand,d=n.readOnly,h=n.disablePreview,p=n.writeButtonProps,m=n.previewButtonProps,f=n.buttonProps;if((!c||0===c.length)&&!A)return null;var g=a.createElement("div",{className:"mde-tabs"},a.createElement("button",s({type:"button",className:i.classNames({selected:"write"===this.props.tab}),onClick:function(){return e.handleTabChange("write")}},p),t.write),a.createElement("button",s({type:"button",className:i.classNames({selected:"preview"===this.props.tab}),onClick:function(){return e.handleTabChange("preview")}},m),t.preview));return a.createElement("div",{className:i.classNames("mde-header",r)},!h&&g,c.map((function(t,n){return a.createElement(o.ToolbarButtonGroup,{key:n,hidden:"preview"===e.props.tab},t.map((function(e,t){return a.createElement(l.ToolbarButton,{key:t,name:e.commandName,buttonContent:e.buttonContent,buttonProps:s(s({},f||{}),e.buttonProps),onClick:function(){return u(e.commandName)},readOnly:d,buttonComponentClass:e.buttonComponentClass})})))})))},t}(a.Component);t.Toolbar=A},8851:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ToolbarButton=void 0;var s=n(9950),a={tabIndex:-1};t.ToolbarButton=function(e){var t=e.buttonComponentClass,n=e.buttonContent,i=e.buttonProps,o=e.onClick,l=e.readOnly,A=e.name,c=r(r({},a),i||{}),u=t||"button";return s.createElement("li",{className:"mde-header-item"},s.createElement(u,r(r({"data-name":A},c),{onClick:o,disabled:l,type:"button"}),n))}},3212:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToolbarButtonGroup=void 0;var r=n(9950),s=n(342);t.ToolbarButtonGroup=function(e){return r.createElement("ul",{className:s.classNames("mde-header-group",{hidden:e.hidden})},e.children)}},3904:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),s(n(3212),t),s(n(8851),t),s(n(3629),t),s(n(5244),t),s(n(4176),t),s(n(9391),t),s(n(5319),t),s(n(224),t)},3629:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MdeFontAwesomeIcon=void 0;var r=n(9950);t.MdeFontAwesomeIcon=function(e){var t=e.icon,n=t;switch(t){case"header":n="heading";break;case"quote":n="quote-right";break;case"unordered-list":case"checked-list":n="tasks";break;case"ordered-list":n="list-ol";break;default:n=t}return r.createElement("i",{className:"fas fa-"+n,"aria-hidden":"true"})}},5325:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SvgIcon=void 0;var r=n(9950),s=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"tasks",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M208 132h288c8.8 0 16-7.2 16-16V76c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zM64 368c-26.5 0-48.6 21.5-48.6 48s22.1 48 48.6 48 48-21.5 48-48-21.5-48-48-48zm92.5-299l-72.2 72.2-15.6 15.6c-4.7 4.7-12.9 4.7-17.6 0L3.5 109.4c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.3c4.7-4.7 12.3-4.7 17 0l17 16.5c4.6 4.7 4.6 12.3-.1 17zm0 159.6l-72.2 72.2-15.7 15.7c-4.7 4.7-12.9 4.7-17.6 0L3.5 269c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.7c4.7-4.7 12.3-4.7 17 0l17 17c4.6 4.6 4.6 12.2-.1 16.9z"})),a=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ol",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),i=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ul",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M96 96c0 26.51-21.49 48-48 48S0 122.51 0 96s21.49-48 48-48 48 21.49 48 48zM48 208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm0 160c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm96-236h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),o=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"image",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"})),l=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"code",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})),A=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"quote-right",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M512 80v128c0 137.018-63.772 236.324-193.827 271.172-15.225 4.08-30.173-7.437-30.173-23.199v-33.895c0-10.057 6.228-19.133 15.687-22.55C369.684 375.688 408 330.054 408 256h-72c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h128c26.51 0 48 21.49 48 48zM176 32H48C21.49 32 0 53.49 0 80v128c0 26.51 21.49 48 48 48h72c0 74.054-38.316 119.688-104.313 143.528C6.228 402.945 0 412.021 0 422.078v33.895c0 15.762 14.948 27.279 30.173 23.199C160.228 444.324 224 345.018 224 208V80c0-26.51-21.49-48-48-48z"})),c=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"link",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"})),u=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"strikethrough",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z"})),d=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"italic",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z"})),h=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"heading",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M496 80V48c0-8.837-7.163-16-16-16H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.621v128H154.379V96H192c8.837 0 16-7.163 16-16V48c0-8.837-7.163-16-16-16H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.275v320H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.621V288H357.62v128H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.275V96H480c8.837 0 16-7.163 16-16z"})),p=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"bold",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z"}));t.SvgIcon=function(e){switch(e.icon){case"header":return h;case"bold":return p;case"italic":return d;case"strikethrough":return u;case"link":return c;case"quote":return A;case"code":return l;case"image":return o;case"unordered-list":return i;case"ordered-list":return a;case"checked-list":return s;default:return null}}},3014:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),s(n(3629),t),s(n(5325),t)},3087:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultToolbarCommands=t.getDefaultCommandMap=t.MdeFontAwesomeIcon=t.SvgIcon=t.MarkdownUtil=t.ToolbarButtonGroup=t.Toolbar=t.Preview=t.SuggestionsDropdown=t.TextArea=void 0;var r=n(6439);t.MarkdownUtil=r;var s=n(3904);Object.defineProperty(t,"TextArea",{enumerable:!0,get:function(){return s.TextArea}}),Object.defineProperty(t,"SuggestionsDropdown",{enumerable:!0,get:function(){return s.SuggestionsDropdown}}),Object.defineProperty(t,"Preview",{enumerable:!0,get:function(){return s.Preview}}),Object.defineProperty(t,"Toolbar",{enumerable:!0,get:function(){return s.Toolbar}}),Object.defineProperty(t,"ToolbarButtonGroup",{enumerable:!0,get:function(){return s.ToolbarButtonGroup}});var a=n(3014);Object.defineProperty(t,"SvgIcon",{enumerable:!0,get:function(){return a.SvgIcon}}),Object.defineProperty(t,"MdeFontAwesomeIcon",{enumerable:!0,get:function(){return a.MdeFontAwesomeIcon}});var i=n(3631);Object.defineProperty(t,"getDefaultCommandMap",{enumerable:!0,get:function(){return i.getDefaultCommandMap}}),Object.defineProperty(t,"getDefaultToolbarCommands",{enumerable:!0,get:function(){return i.getDefaultToolbarCommands}}),t.default=s.ReactMde},8546:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enL18n=void 0,t.enL18n={write:"Write",preview:"Preview",uploadingImage:"Uploading image...",pasteDropSelect:"Attach files by dragging & dropping, selecting or pasting them."}},342:(e,t)=>{"use strict";function n(e){return"string"===typeof e}function r(e){return Array.isArray(e)&&e.length>0}function s(e){return"object"===typeof e}Object.defineProperty(t,"__esModule",{value:!0}),t.classNames=void 0,t.classNames=function e(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];for(var i=[],o=0;o<t.length;o++){var l=t[o];if(l)if(n(l))i.push(l);else if(r(l)){var A=e.apply(null,l);A&&i.push(A)}else if(s(l))for(var c in l)l.hasOwnProperty(c)&&l[c]&&i.push(c)}return i.join(" ")}},1398:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.insertText=void 0,t.insertText=function(e,t){if(e.focus(),document.selection){var n=document.selection.createRange();return n.text=t,n.collapse(!1),void n.select()}if(!document.execCommand("insertText",!1,t)){var r=e.selectionStart,s=e.selectionEnd;if("function"===typeof e.setRangeText)e.setRangeText(t);else if(function(e){if("TEXTAREA"!==e.nodeName)return!1;var t;if("undefined"===typeof t){var n=document.createElement("textarea");n.value="1",t=!!n.firstChild}return t}(e)){var a=document.createTextNode(t),i=e.firstChild;if(i){for(var o=0,l=null,A=null,c=document.createRange();i&&(null===l||null===A);){var u=i.nodeValue.length;r>=o&&r<=o+u&&c.setStart(l=i,r-o),s>=o&&s<=o+u&&c.setEnd(A=i,s-o),o+=u,i=i.nextSibling}r!==s&&c.deleteContents(),c.insertNode(a)}else e.appendChild(a)}else{var d=e.value;e.value=d.slice(0,r)+t+d.slice(s)}e.setSelectionRange(r+t.length,r+t.length);var h=document.createEvent("UIEvent");h.initEvent("input",!0,!1),e.dispatchEvent(h)}}},6439:(e,t)=>{"use strict";function n(e,t){if(!e)throw Error("Argument 'text' should be truthy");for(var n=function(e){return" "===e||10===e.charCodeAt(0)},r=0,s=e.length,a=t;a-1>-1;a--)if(n(e[a-1])){r=a;break}for(a=t;a<e.length;a++)if(n(e[a])){s=a;break}return{start:r,end:s}}Object.defineProperty(t,"__esModule",{value:!0}),t.getBreaksNeededForEmptyLineAfter=t.getBreaksNeededForEmptyLineBefore=t.selectWord=t.getSurroundingWord=void 0,t.getSurroundingWord=n,t.selectWord=function(e){var t=e.text,r=e.selection;return t&&t.length&&r.start===r.end?n(t,r.start):r},t.getBreaksNeededForEmptyLineBefore=function(e,t){if(void 0===e&&(e=""),0===t)return 0;for(var n=2,r=!0,s=t-1;s>=0&&n>=0;s--)switch(e.charCodeAt(s)){case 32:continue;case 10:n--,r=!1;break;default:return n}return r?0:n},t.getBreaksNeededForEmptyLineAfter=function(e,t){if(void 0===e&&(e=""),t===e.length-1)return 0;for(var n=2,r=!0,s=t;s<e.length&&n>=0;s++)switch(e.charCodeAt(s)){case 32:continue;case 10:n--,r=!1;break;default:return n}return r?0:n}},6868:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mod=void 0,t.mod=function(e,t){return(e%t+t)%t}},9238:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCaretCoordinates=void 0;var n=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],r="undefined"!==typeof window,s=r&&null!=window.mozInnerScreenX;t.getCaretCoordinates=function(e,t){if(!r)throw new Error("getCaretCoordinates should only be called in a browser");var a=document.createElement("div");a.id="input-textarea-caret-position-mirror-div",document.body.appendChild(a);var i=a.style,o=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle;i.whiteSpace="pre-wrap",i.wordWrap="break-word",i.position="absolute",i.visibility="hidden",n.forEach((function(e){i[e]=o[e]})),s?e.scrollHeight>parseInt(o.height)&&(i.overflowY="scroll"):i.overflow="hidden",a.textContent=e.value.substring(0,e.selectionStart),t&&(a.textContent+=t);var l=document.createElement("span");l.textContent=e.value.substring(e.selectionEnd)||".",a.appendChild(l);var A={top:l.offsetTop+parseInt(o.borderTopWidth),left:l.offsetLeft+parseInt(o.borderLeftWidth),lineHeight:parseInt(o.lineHeight)};return document.body.removeChild(a),A}},2215:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,r,s,a,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(s=(s=i.trys).length>0&&s[s.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(o){a=[6,o],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.readFileAsync=void 0,t.readFileAsync=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){return[2,new Promise((function(t,n){var r=new FileReader;r.onload=function(){if("string"===typeof r.result)throw new Error("reader.result is expected to be an ArrayBuffer");t(r.result)},r.onerror=n,r.readAsArrayBuffer(e)}))]}))}))}},2654:(e,t,n)=>{"use strict";var r=n(9950),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,n){var r,a={},A=null,c=null;for(r in void 0!==n&&(A=""+n),void 0!==t.key&&(A=""+t.key),void 0!==t.ref&&(c=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:s,type:e,key:A,ref:c,props:a,_owner:o.current}}t.Fragment=a,t.jsx=A,t.jsxs=A},2049:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,f={};function g(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||p}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var w=y.prototype=new v;w.constructor=y,m(w,g.prototype),w.isPureReactComponent=!0;var b=Array.isArray,x=Object.prototype.hasOwnProperty,B={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var s,a={},i=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)x.call(t,s)&&!C.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var A=Array(l),c=0;c<l;c++)A[c]=arguments[c+2];a.children=A}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===a[s]&&(a[s]=l[s]);return{$$typeof:n,type:e,key:i,ref:o,props:a,_owner:B.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function j(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,s,a,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===a?"."+j(l,0):a,b(i)?(s="",null!=e&&(s=e.replace(E,"$&/")+"/"),I(i,t,s,"",(function(e){return e}))):null!=i&&(S(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,s+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(E,"$&/")+"/")+e)),t.push(i)),1;if(l=0,a=""===a?".":a+":",b(e))for(var A=0;A<e.length;A++){var c=a+j(o=e[A],A);l+=I(o,t,s,c,i)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),A=0;!(o=e.next()).done;)l+=I(o=o.value,t,s,c=a+j(o,A++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function F(e,t,n){if(null==e)return e;var r=[],s=0;return I(e,r,"","",(function(e){return t.call(n,e,s++)})),r}function Q(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},M={transition:null},U={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:M,ReactCurrentOwner:B};function T(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:F,forEach:function(e,t,n){F(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return F(e,(function(){t++})),t},toArray:function(e){return F(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=s,t.Profiler=i,t.PureComponent=y,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,t.act=T,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=m({},e.props),a=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=B.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(A in t)x.call(t,A)&&!C.hasOwnProperty(A)&&(s[A]=void 0===t[A]&&void 0!==l?l[A]:t[A])}var A=arguments.length-2;if(1===A)s.children=r;else if(1<A){l=Array(A);for(var c=0;c<A;c++)l[c]=arguments[c+2];s.children=l}return{$$typeof:n,type:e.type,key:a,ref:i,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:A,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:Q}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=T,t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.3.1"},9950:(e,t,n)=>{"use strict";e.exports=n(2049)},4414:(e,t,n)=>{"use strict";e.exports=n(2654)},1761:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<a(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,i=s>>>1;r<i;){var o=2*(r+1)-1,l=e[o],A=o+1,c=e[A];if(0>a(l,n))A<s&&0>a(c,l)?(e[r]=c,e[A]=n,r=A):(e[r]=l,e[o]=n,r=o);else{if(!(A<s&&0>a(c,n)))break e;e[r]=c,e[A]=n,r=A}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var A=[],c=[],u=1,d=null,h=3,p=!1,m=!1,f=!1,g="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)s(c);else{if(!(t.startTime<=e))break;s(c),t.sortIndex=t.expirationTime,n(A,t)}t=r(c)}}function b(e){if(f=!1,w(e),!m)if(null!==r(A))m=!0,M(x);else{var t=r(c);null!==t&&U(b,t.startTime-e)}}function x(e,n){m=!1,f&&(f=!1,v(S),S=-1),p=!0;var a=h;try{for(w(n),d=r(A);null!==d&&(!(d.expirationTime>n)||e&&!I());){var i=d.callback;if("function"===typeof i){d.callback=null,h=d.priorityLevel;var o=i(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(A)&&s(A),w(n)}else s(A);d=r(A)}if(null!==d)var l=!0;else{var u=r(c);null!==u&&U(b,u.startTime-n),l=!1}return l}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var B,C=!1,k=null,S=-1,E=5,j=-1;function I(){return!(t.unstable_now()-j<E)}function F(){if(null!==k){var e=t.unstable_now();j=e;var n=!0;try{n=k(!0,e)}finally{n?B():(C=!1,k=null)}}else C=!1}if("function"===typeof y)B=function(){y(F)};else if("undefined"!==typeof MessageChannel){var Q=new MessageChannel,N=Q.port2;Q.port1.onmessage=F,B=function(){N.postMessage(null)}}else B=function(){g(F,0)};function M(e){k=e,C||(C=!0,B())}function U(e,n){S=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,M(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(A)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,s,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>i?(e.sortIndex=a,n(c,e),null===r(A)&&e===r(c)&&(f?(v(S),S=-1):f=!0,U(b,a-i))):(e.sortIndex=o,n(A,e),m||p||(m=!0,M(x))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5340:(e,t,n)=>{"use strict";e.exports=n(1761)},403:e=>{e.exports=function(e,t,n,r){var s=n?n.call(r,e,t):void 0;if(void 0!==s)return!!s;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),l=0;l<a.length;l++){var A=a[l];if(!o(A))return!1;var c=e[A],u=t[A];if(!1===(s=n?n.call(r,c,u,A):void 0)||void 0===s&&c!==u)return!1}return!0}},9794:e=>{e.exports=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()}},6999:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(n(4814));t.default=function(e,t){var n=null;if(!e||"string"!==typeof e)return n;var r=(0,s.default)(e),a="function"===typeof t;return r.forEach((function(e){if("declaration"===e.type){var r=e.property,s=e.value;a?t(r,s,e):s&&((n=n||{})[r]=s)}})),n}},8738:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function s(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,a(n)))}return e}function a(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return s.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=i(t,n));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(s.default=s,e.exports=s):void 0===(n=function(){return s}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&s&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>i[e]=()=>r[e]));return i.default=()=>r,n.d(a,i),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{boolean:()=>Wd,booleanish:()=>Yd,commaOrSpaceSeparated:()=>$d,commaSeparated:()=>Zd,number:()=>Xd,overloadedBoolean:()=>qd,spaceSeparated:()=>Jd});var t={};n.r(t),n.d(t,{attentionMarkers:()=>Nm,contentInitial:()=>Sm,disable:()=>Mm,document:()=>km,flow:()=>jm,flowInitial:()=>Em,insideSpan:()=>Qm,string:()=>Im,text:()=>Fm});var r=n(1352);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function a(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function i(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=n(9950);const c={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};function u(e){if(Array.isArray(e))return e}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){return u(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,a,i,o=[],l=!0,A=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){A=!0,s=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(A)throw s}}return o}}(e,t)||h(e,t)||p()}function f(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var g=n(8738),v=n.n(g);const y=(0,A.createContext)({});function w(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function b(e){return Math.min(1,Math.max(0,e))}function x(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function B(e){return e<=1?"".concat(100*Number(e),"%"):e}function C(e){return 1===e.length?"0"+e:String(e)}function k(e,t,n){e=w(e,255),t=w(t,255),n=w(n,255);var r=Math.max(e,t,n),s=Math.min(e,t,n),a=0,i=0,o=(r+s)/2;if(r===s)i=0,a=0;else{var l=r-s;switch(i=o>.5?l/(2-r-s):l/(r+s),r){case e:a=(t-n)/l+(t<n?6:0);break;case t:a=(n-e)/l+2;break;case n:a=(e-t)/l+4}a/=6}return{h:a,s:i,l:o}}function S(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function E(e,t,n){e=w(e,255),t=w(t,255),n=w(n,255);var r=Math.max(e,t,n),s=Math.min(e,t,n),a=0,i=r,o=r-s,l=0===r?0:o/r;if(r===s)a=0;else{switch(r){case e:a=(t-n)/o+(t<n?6:0);break;case t:a=(n-e)/o+2;break;case n:a=(e-t)/o+4}a/=6}return{h:a,s:l,v:i}}function j(e,t,n,r){var s=[C(Math.round(e).toString(16)),C(Math.round(t).toString(16)),C(Math.round(n).toString(16))];return r&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function I(e){return Math.round(255*parseFloat(e)).toString(16)}function F(e){return Q(e)/255}function Q(e){return parseInt(e,16)}var N={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function M(e){var t,n,r,s={r:0,g:0,b:0},a=1,i=null,o=null,l=null,A=!1,c=!1;return"string"===typeof e&&(e=function(e){if(e=e.trim().toLowerCase(),0===e.length)return!1;var t=!1;if(N[e])e=N[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=H.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=H.rgba.exec(e),n)return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=H.hsl.exec(e),n)return{h:n[1],s:n[2],l:n[3]};if(n=H.hsla.exec(e),n)return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=H.hsv.exec(e),n)return{h:n[1],s:n[2],v:n[3]};if(n=H.hsva.exec(e),n)return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=H.hex8.exec(e),n)return{r:Q(n[1]),g:Q(n[2]),b:Q(n[3]),a:F(n[4]),format:t?"name":"hex8"};if(n=H.hex6.exec(e),n)return{r:Q(n[1]),g:Q(n[2]),b:Q(n[3]),format:t?"name":"hex"};if(n=H.hex4.exec(e),n)return{r:Q(n[1]+n[1]),g:Q(n[2]+n[2]),b:Q(n[3]+n[3]),a:F(n[4]+n[4]),format:t?"name":"hex8"};if(n=H.hex3.exec(e),n)return{r:Q(n[1]+n[1]),g:Q(n[2]+n[2]),b:Q(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(L(e.r)&&L(e.g)&&L(e.b)?(t=e.r,n=e.g,r=e.b,s={r:255*w(t,255),g:255*w(n,255),b:255*w(r,255)},A=!0,c="%"===String(e.r).substr(-1)?"prgb":"rgb"):L(e.h)&&L(e.s)&&L(e.v)?(i=B(e.s),o=B(e.v),s=function(e,t,n){e=6*w(e,360),t=w(t,100),n=w(n,100);var r=Math.floor(e),s=e-r,a=n*(1-t),i=n*(1-s*t),o=n*(1-(1-s)*t),l=r%6;return{r:255*[n,i,a,a,o,n][l],g:255*[o,n,n,i,a,a][l],b:255*[a,a,o,n,n,i][l]}}(e.h,i,o),A=!0,c="hsv"):L(e.h)&&L(e.s)&&L(e.l)&&(i=B(e.s),l=B(e.l),s=function(e,t,n){var r,s,a;if(e=w(e,360),t=w(t,100),n=w(n,100),0===t)s=n,a=n,r=n;else{var i=n<.5?n*(1+t):n+t-n*t,o=2*n-i;r=S(o,i,e+1/3),s=S(o,i,e),a=S(o,i,e-1/3)}return{r:255*r,g:255*s,b:255*a}}(e.h,i,l),A=!0,c="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(a=e.a)),a=x(a),{ok:A,format:e.format||c,r:Math.min(255,Math.max(s.r,0)),g:Math.min(255,Math.max(s.g,0)),b:Math.min(255,Math.max(s.b,0)),a:a}}var U="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),T="[\\s|\\(]+(".concat(U,")[,|\\s]+(").concat(U,")[,|\\s]+(").concat(U,")\\s*\\)?"),D="[\\s|\\(]+(".concat(U,")[,|\\s]+(").concat(U,")[,|\\s]+(").concat(U,")[,|\\s]+(").concat(U,")\\s*\\)?"),H={CSS_UNIT:new RegExp(U),rgb:new RegExp("rgb"+T),rgba:new RegExp("rgba"+D),hsl:new RegExp("hsl"+T),hsla:new RegExp("hsla"+D),hsv:new RegExp("hsv"+T),hsva:new RegExp("hsva"+D),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function L(e){return Boolean(H.CSS_UNIT.exec(String(e)))}var P=2,O=.16,R=.05,V=.05,K=.15,z=5,_=4,G=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function W(e){var t=E(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function Y(e){var t=e.r,n=e.g,r=e.b;return"#".concat(j(t,n,r,!1))}function q(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-P*t:Math.round(e.h)+P*t:n?Math.round(e.h)+P*t:Math.round(e.h)-P*t)<0?r+=360:r>=360&&(r-=360),r}function X(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-O*t:t===_?e.s+O:e.s+R*t)>1&&(r=1),n&&t===z&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function J(e,t,n){var r;return(r=n?e.v+V*t:e.v-K*t)>1&&(r=1),Number(r.toFixed(2))}function Z(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=M(e),s=z;s>0;s-=1){var a=W(r),i=Y(M({h:q(a,s,!0),s:X(a,s,!0),v:J(a,s,!0)}));n.push(i)}n.push(Y(r));for(var o=1;o<=_;o+=1){var l=W(r),A=Y(M({h:q(l,o),s:X(l,o),v:J(l,o)}));n.push(A)}return"dark"===t.theme?G.map((function(e){var r=e.index,s=e.opacity;return Y(function(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}(M(t.backgroundColor||"#141414"),M(n[r]),100*s))})):n}var $={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},ee={},te={};Object.keys($).forEach((function(e){ee[e]=Z($[e]),ee[e].primary=ee[e][5],te[e]=Z($[e],{theme:"dark",backgroundColor:"#141414"}),te[e].primary=te[e][5]}));ee.red,ee.volcano,ee.gold,ee.orange,ee.yellow,ee.lime,ee.green,ee.cyan,ee.blue,ee.geekblue,ee.purple,ee.magenta,ee.grey;var ne={},re=[];function se(e,t){}function ae(e,t){}function ie(e,t,n){t||ne[n]||(e(!1,n),ne[n]=!0)}function oe(e,t){ie(se,e,t)}oe.preMessage=function(e){re.push(e)},oe.resetWarned=function(){ne={}},oe.noteOnce=function(e,t){ie(ae,e,t)};const le=oe;function Ae(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}function ce(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}var ue="data-rc-order",de="data-rc-priority",he="rc-util-key",pe=new Map;function me(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):he}function fe(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function ge(e){return Array.from((pe.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function ve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Ae())return null;var n=t.csp,r=t.prepend,s=t.priority,a=void 0===s?0:s,i=function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(r),o="prependQueue"===i,l=document.createElement("style");l.setAttribute(ue,i),o&&a&&l.setAttribute(de,"".concat(a)),null!==n&&void 0!==n&&n.nonce&&(l.nonce=null===n||void 0===n?void 0:n.nonce),l.innerHTML=e;var A=fe(t),c=A.firstChild;if(r){if(o){var u=(t.styles||ge(A)).filter((function(e){if(!["prepend","prependQueue"].includes(e.getAttribute(ue)))return!1;var t=Number(e.getAttribute(de)||0);return a>=t}));if(u.length)return A.insertBefore(l,u[u.length-1].nextSibling),l}A.insertBefore(l,c)}else A.appendChild(l);return l}function ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=fe(t);return(t.styles||ge(n)).find((function(n){return n.getAttribute(me(t))===e}))}function we(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ye(e,t);n&&fe(t).removeChild(n)}function be(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=fe(n),s=ge(r),a=l(l({},n),{},{styles:s});!function(e,t){var n=pe.get(e);if(!n||!ce(document,n)){var r=ve("",t),s=r.parentNode;pe.set(e,s),e.removeChild(r)}}(r,a);var i=ye(t,a);if(i){var o,A,c;if(null!==(o=a.csp)&&void 0!==o&&o.nonce&&i.nonce!==(null===(A=a.csp)||void 0===A?void 0:A.nonce))i.nonce=null===(c=a.csp)||void 0===c?void 0:c.nonce;return i.innerHTML!==e&&(i.innerHTML=e),i}var u=ve(e,a);return u.setAttribute(me(a),t),u}var xe=n(6808),Be=n.n(xe);function Ce(e){return"object"===s(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===s(e.icon)||"function"===typeof e.icon)}function ke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else delete t[n],t[Be()(n)]=r;return t}),{})}function Se(e,t,n){return n?A.createElement(e.tag,l(l({key:t},ke(e.attrs)),n),(e.children||[]).map((function(n,r){return Se(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))):A.createElement(e.tag,l({key:t},ke(e.attrs)),(e.children||[]).map((function(n,r){return Se(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})))}function Ee(e){return Z(e)[0]}function je(e){return e?Array.isArray(e)?e:[e]:[]}var Ie=["icon","className","onClick","style","primaryColor","secondaryColor"],Fe={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var Qe=function(e){var t=e.icon,n=e.className,r=e.onClick,s=e.style,a=e.primaryColor,i=e.secondaryColor,o=f(e,Ie),c=Fe;if(a&&(c={primaryColor:a,secondaryColor:i||Ee(a)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"\n.anticon {\n  display: inline-flex;\n  alignItems: center;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",t=(0,A.useContext)(y).csp;(0,A.useEffect)((function(){be(e,"@ant-design-icons",{prepend:!0,csp:t})}),[])}(),function(e,t){le(e,"[@ant-design/icons] ".concat(t))}(Ce(t),"icon should be icon definiton, but got ".concat(t)),!Ce(t))return null;var u=t;return u&&"function"===typeof u.icon&&(u=l(l({},u),{},{icon:u.icon(c.primaryColor,c.secondaryColor)})),Se(u.icon,"svg-".concat(u.name),l({className:n,onClick:r,style:s,"data-icon":u.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},o))};Qe.displayName="IconReact",Qe.getTwoToneColors=function(){return l({},Fe)},Qe.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;Fe.primaryColor=t,Fe.secondaryColor=n||Ee(t),Fe.calculated=!!n};const Ne=Qe;function Me(e){var t=m(je(e),2),n=t[0],r=t[1];return Ne.setTwoToneColors({primaryColor:n,secondaryColor:r})}var Ue=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Me("#1890ff");var Te=A.forwardRef((function(e,t){var n=e.className,r=e.icon,s=e.spin,a=e.rotate,o=e.tabIndex,c=e.onClick,u=e.twoToneColor,d=f(e,Ue),h=A.useContext(y),p=h.prefixCls,g=void 0===p?"anticon":p,w=h.rootClassName,b=v()(w,g,i(i({},"".concat(g,"-").concat(r.name),!!r.name),"".concat(g,"-spin"),!!s||"loading"===r.name),n),x=o;void 0===x&&c&&(x=-1);var B=a?{msTransform:"rotate(".concat(a,"deg)"),transform:"rotate(".concat(a,"deg)")}:void 0,C=m(je(u),2),k=C[0],S=C[1];return A.createElement("span",l(l({role:"img","aria-label":r.name},d),{},{ref:t,tabIndex:x,onClick:c,className:b}),A.createElement(Ne,{icon:r,primaryColor:k,secondaryColor:S,style:B}))}));Te.displayName="AntdIcon",Te.getTwoToneColor=function(){var e=Ne.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},Te.setTwoToneColor=Me;const De=Te;var He=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:c}))};const Le=A.forwardRef(He);function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pe.apply(null,arguments)}const Oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};var Re=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Oe}))};const Ve=A.forwardRef(Re);const Ke={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};var ze=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Ke}))};const _e=A.forwardRef(ze);const Ge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"};var We=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Ge}))};const Ye=A.forwardRef(We);const qe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};var Xe=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:qe}))};const Je=A.forwardRef(Xe);function Ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function et(e,t,n){return t&&$e(e.prototype,t),n&&$e(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tt(e,t){return tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tt(e,t)}function nt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tt(e,t)}function rt(e){return rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rt(e)}function st(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(st=function(){return!!e})()}function at(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function it(e,t){if(t&&("object"==s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return at(e)}function ot(e){var t=st();return function(){var n,r=rt(e);if(t){var s=rt(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return it(this,n)}}function lt(){lt=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",A=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var s=t&&t.prototype instanceof v?t:v,i=Object.create(s.prototype),o=new Q(r||[]);return a(i,"_invoke",{value:E(e,n,o)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",p="suspendedYield",m="executing",f="completed",g={};function v(){}function y(){}function w(){}var b={};c(b,o,(function(){return this}));var x=Object.getPrototypeOf,B=x&&x(x(N([])));B&&B!==n&&r.call(B,o)&&(b=B);var C=w.prototype=v.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,i,o,l){var A=d(e[a],e,i);if("throw"!==A.type){var c=A.arg,u=c.value;return u&&"object"==s(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(u).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,l)}))}l(A.arg)}var i;a(this,"_invoke",{value:function(e,r){function s(){return new t((function(t,s){n(e,r,t,s)}))}return i=i?i.then(s,s):s()}})}function E(t,n,r){var s=h;return function(a,i){if(s===m)throw Error("Generator is already running");if(s===f){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var l=j(o,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(s===h)throw s=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);s=m;var A=d(t,n,r);if("normal"===A.type){if(s=r.done?f:p,A.arg===g)continue;return{value:A.arg,done:r.done}}"throw"===A.type&&(s=f,r.method="throw",r.arg=A.arg)}}}function j(t,n){var r=n.method,s=t.iterator[r];if(s===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,j(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=d(s,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function F(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Q(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function n(){for(;++a<t.length;)if(r.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(s(t)+" is not iterable")}return y.prototype=w,a(C,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:y,configurable:!0}),y.displayName=c(w,A,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,c(e,A,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},k(S.prototype),c(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,s,a){void 0===a&&(a=Promise);var i=new S(u(e,n,r,s),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(C),c(C,A,"Generator"),c(C,o,(function(){return this})),c(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,Q.prototype={constructor:Q,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(F),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function s(r,s){return o.type="throw",o.arg=t,n.next=r,s&&(n.method="next",n.arg=e),!!s}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return s("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),A=r.call(i,"finallyLoc");if(l&&A){if(this.prev<i.catchLoc)return s(i.catchLoc,!0);if(this.prev<i.finallyLoc)return s(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return s(i.catchLoc,!0)}else{if(!A)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return s(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n];if(s.tryLoc<=this.prev&&r.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var a=s;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),F(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var s=r.arg;F(n)}return s}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function At(e,t,n,r,s,a,i){try{var o=e[a](i),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,s)}function ct(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var a=e.apply(t,n);function i(e){At(a,r,s,i,o,"next",e)}function o(e){At(a,r,s,i,o,"throw",e)}i(void 0)}))}}var ut,dt=n(7119),ht=l({},n.t(dt,2)),pt=ht.version,mt=ht.render,ft=ht.unmountComponentAtNode;try{Number((pt||"").split(".")[0])>=18&&(ut=ht.createRoot)}catch(bC){}function gt(e){var t=ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===s(t)&&(t.usingClientEntryPoint=e)}var vt="__rc_react_root__";function yt(e,t){ut?function(e,t){gt(!0);var n=t[vt]||ut(t);gt(!1),n.render(e),t[vt]=n}(e,t):function(e,t){mt(e,t)}(e,t)}function wt(e){return bt.apply(this,arguments)}function bt(){return bt=ct(lt().mark((function e(t){return lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){var e;null===(e=t[vt])||void 0===e||e.unmount(),delete t[vt]})));case 1:case"end":return e.stop()}}),e)}))),bt.apply(this,arguments)}function xt(e){ft(e)}function Bt(){return Bt=ct(lt().mark((function e(t){return lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===ut){e.next=2;break}return e.abrupt("return",wt(t));case 2:xt(t);case 3:case"end":return e.stop()}}),e)}))),Bt.apply(this,arguments)}function Ct(e){return e instanceof HTMLElement||e instanceof SVGElement}function kt(e){var t,n=function(e){return e&&"object"===s(e)&&Ct(e.nativeElement)?e.nativeElement:Ct(e)?e:null}(e);return n||(e instanceof A.Component?null===(t=dt.findDOMNode)||void 0===t?void 0:t.call(dt,e):null)}var St=n(6429);function Et(e,t,n){var r=A.useRef({});return"value"in r.current&&!n(r.current.condition,t)||(r.current.value=e(),r.current.condition=t),r.current.value}var jt=function(e,t){"function"===typeof e?e(t):"object"===s(e)&&e&&"current"in e&&(e.current=t)},It=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);return r.length<=1?r[0]:function(e){t.forEach((function(t){jt(t,e)}))}},Ft=function(e){var t,n,r=(0,St.isMemo)(e)?e.type.type:e.type;return!!("function"!==typeof r||null!==(t=r.prototype)&&void 0!==t&&t.render||r.$$typeof===St.ForwardRef)&&!!("function"!==typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render||e.$$typeof===St.ForwardRef)};function Qt(e){return(0,A.isValidElement)(e)&&!(0,St.isFragment)(e)}Number(A.version.split(".")[0]);var Nt=A.createContext({});const Mt=function(e){nt(n,e);var t=ot(n);function n(){return Ze(this,n),t.apply(this,arguments)}return et(n,[{key:"render",value:function(){return this.props.children}}]),n}(A.Component);function Ut(e){var t=A.useRef();t.current=e;var n=A.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return n}var Tt=Ae()?A.useLayoutEffect:A.useEffect,Dt=function(e,t){var n=A.useRef(!0);Tt((function(){return e(n.current)}),t),Tt((function(){return n.current=!1,function(){n.current=!0}}),[])},Ht=function(e,t){Dt((function(t){if(!t)return e()}),t)};const Lt=Dt;function Pt(e){var t=A.useRef(!1),n=m(A.useState(e),2),r=n[0],s=n[1];return A.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[r,function(e,n){n&&t.current||s(e)}]}function Ot(e){return void 0!==e}function Rt(e,t){var n=t||{},r=n.defaultValue,s=n.value,a=n.onChange,i=n.postState,o=m(Pt((function(){return Ot(s)?s:Ot(r)?"function"===typeof r?r():r:"function"===typeof e?e():e})),2),l=o[0],A=o[1],c=void 0!==s?s:l,u=i?i(c):c,d=Ut(a),h=m(Pt([c]),2),p=h[0],f=h[1];return Ht((function(){var e=p[0];l!==e&&d(l,e)}),[p]),Ht((function(){Ot(s)||A(s)}),[s]),[u,Ut((function(e,t){A(e,t),f([c],t)}))]}function Vt(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Kt(e){return function(e){if(Array.isArray(e))return d(e)}(e)||Vt(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}function _t(e,t,n,r){if(!t.length)return n;var s,a,i=u(s=t)||Vt(s)||h(s)||p(),o=i[0],A=i.slice(1);return a=e||"number"!==typeof o?Array.isArray(e)?Kt(e):l({},e):[],r&&void 0===n&&1===A.length?delete a[o][A[0]]:a[o]=_t(a[o],A,n,r),a}function Gt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!zt(e,t.slice(0,-1))?e:_t(e,t,n,r)}function Wt(e){return Array.isArray(e)?[]:{}}var Yt="undefined"===typeof Reflect?Object.keys:Reflect.ownKeys;function qt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Wt(t[0]);return t.forEach((function(e){!function t(n,a){var i,o=new Set(a),l=zt(e,n),A=Array.isArray(l);if(A||"object"===s(i=l)&&null!==i&&Object.getPrototypeOf(i)===Object.prototype){if(!o.has(l)){o.add(l);var c=zt(r,n);A?r=Gt(r,n,[]):c&&"object"===s(c)||(r=Gt(r,n,Wt(l))),Yt(l).forEach((function(e){t([].concat(Kt(n),[e]),o)}))}}else r=Gt(r,n,l)}([])})),r}var Xt="none",Jt="appear",Zt="enter",$t="leave",en="none",tn="prepare",nn="start",rn="active",sn="end",an="prepared";function on(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var ln=function(e,t){var n={animationend:on("Animation","AnimationEnd"),transitionend:on("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(Ae(),"undefined"!==typeof window?window:{}),An={};if(Ae()){var cn=document.createElement("div");An=cn.style}var un={};function dn(e){if(un[e])return un[e];var t=ln[e];if(t)for(var n=Object.keys(t),r=n.length,s=0;s<r;s+=1){var a=n[s];if(Object.prototype.hasOwnProperty.call(t,a)&&a in An)return un[e]=t[a],un[e]}return""}var hn=dn("animationend"),pn=dn("transitionend"),mn=!(!hn||!pn),fn=hn||"animationend",gn=pn||"transitionend";function vn(e,t){if(!e)return null;if("object"===s(e)){var n=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[n]}return"".concat(e,"-").concat(t)}const yn=function(e){var t=(0,A.useRef)();function n(t){t&&(t.removeEventListener(gn,e),t.removeEventListener(fn,e))}return A.useEffect((function(){return function(){n(t.current)}}),[]),[function(r){t.current&&t.current!==r&&n(t.current),r&&r!==t.current&&(r.addEventListener(gn,e),r.addEventListener(fn,e),t.current=r)},n]};const wn=Ae()?A.useLayoutEffect:A.useEffect;var bn=function(e){return+setTimeout(e,16)},xn=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(bn=function(e){return window.requestAnimationFrame(e)},xn=function(e){return window.cancelAnimationFrame(e)});var Bn=0,Cn=new Map;function kn(e){Cn.delete(e)}var Sn=function(e){var t=Bn+=1;return function n(r){if(0===r)kn(t),e();else{var s=bn((function(){n(r-1)}));Cn.set(t,s)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};Sn.cancel=function(e){var t=Cn.get(e);return kn(e),xn(t)};const En=Sn;var jn=[tn,nn,rn,sn],In=[tn,an],Fn=!1,Qn=!0;function Nn(e){return e===rn||e===sn}const Mn=function(e,t,n){var r=m(Pt(en),2),s=r[0],a=r[1],i=function(){var e=A.useRef(null);function t(){En.cancel(e.current)}return A.useEffect((function(){return function(){t()}}),[]),[function n(r){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var a=En((function(){s<=1?r({isCanceled:function(){return a!==e.current}}):n(r,s-1)}));e.current=a},t]}(),o=m(i,2),l=o[0],c=o[1];var u=t?In:jn;return wn((function(){if(s!==en&&s!==sn){var e=u.indexOf(s),t=u[e+1],r=n(s);r===Fn?a(t,!0):t&&l((function(e){function n(){e.isCanceled()||a(t,!0)}!0===r?n():Promise.resolve(r).then(n)}))}}),[e,s]),A.useEffect((function(){return function(){c()}}),[]),[function(){a(tn,!0)},s]};function Un(e,t,n,r){var s=r.motionEnter,a=void 0===s||s,o=r.motionAppear,c=void 0===o||o,u=r.motionLeave,d=void 0===u||u,h=r.motionDeadline,p=r.motionLeaveImmediately,f=r.onAppearPrepare,g=r.onEnterPrepare,v=r.onLeavePrepare,y=r.onAppearStart,w=r.onEnterStart,b=r.onLeaveStart,x=r.onAppearActive,B=r.onEnterActive,C=r.onLeaveActive,k=r.onAppearEnd,S=r.onEnterEnd,E=r.onLeaveEnd,j=r.onVisibleChanged,I=m(Pt(),2),F=I[0],Q=I[1],N=function(e){var t=m(A.useReducer((function(e){return e+1}),0),2)[1],n=A.useRef(e);return[Ut((function(){return n.current})),Ut((function(e){n.current="function"===typeof e?e(n.current):e,t()}))]}(Xt),M=m(N,2),U=M[0],T=M[1],D=m(Pt(null),2),H=D[0],L=D[1],P=U(),O=(0,A.useRef)(!1),R=(0,A.useRef)(null);function V(){return n()}var K=(0,A.useRef)(!1);function z(){T(Xt),L(null,!0)}var _=Ut((function(e){var t=U();if(t!==Xt){var n=V();if(!e||e.deadline||e.target===n){var r,s=K.current;t===Jt&&s?r=null===k||void 0===k?void 0:k(n,e):t===Zt&&s?r=null===S||void 0===S?void 0:S(n,e):t===$t&&s&&(r=null===E||void 0===E?void 0:E(n,e)),s&&!1!==r&&z()}}})),G=m(yn(_),1)[0],W=function(e){switch(e){case Jt:return i(i(i({},tn,f),nn,y),rn,x);case Zt:return i(i(i({},tn,g),nn,w),rn,B);case $t:return i(i(i({},tn,v),nn,b),rn,C);default:return{}}},Y=A.useMemo((function(){return W(P)}),[P]),q=m(Mn(P,!e,(function(e){if(e===tn){var t=Y[tn];return t?t(V()):Fn}var n;J in Y&&L((null===(n=Y[J])||void 0===n?void 0:n.call(Y,V(),null))||null);return J===rn&&P!==Xt&&(G(V()),h>0&&(clearTimeout(R.current),R.current=setTimeout((function(){_({deadline:!0})}),h))),J===an&&z(),Qn})),2),X=q[0],J=q[1],Z=Nn(J);K.current=Z,wn((function(){Q(t);var n,r=O.current;O.current=!0,!r&&t&&c&&(n=Jt),r&&t&&a&&(n=Zt),(r&&!t&&d||!r&&p&&!t&&d)&&(n=$t);var s=W(n);n&&(e||s[tn])?(T(n),X()):T(Xt)}),[t]),(0,A.useEffect)((function(){(P===Jt&&!c||P===Zt&&!a||P===$t&&!d)&&T(Xt)}),[c,a,d]),(0,A.useEffect)((function(){return function(){O.current=!1,clearTimeout(R.current)}}),[]);var $=A.useRef(!1);(0,A.useEffect)((function(){F&&($.current=!0),void 0!==F&&P===Xt&&(($.current||F)&&(null===j||void 0===j||j(F)),$.current=!0)}),[F,P]);var ee=H;return Y[tn]&&J===nn&&(ee=l({transition:"none"},ee)),[P,J,ee,null!==F&&void 0!==F?F:t]}const Tn=function(e){var t=e;"object"===s(e)&&(t=e.transitionSupport);var n=A.forwardRef((function(e,n){var r=e.visible,s=void 0===r||r,a=e.removeOnLeave,o=void 0===a||a,c=e.forceRender,u=e.children,d=e.motionName,h=e.leavedClassName,p=e.eventProps,f=function(e,n){return!(!e.motionName||!t||!1===n)}(e,A.useContext(Nt).motion),g=(0,A.useRef)(),y=(0,A.useRef)();var w=m(Un(f,s,(function(){try{return g.current instanceof HTMLElement?g.current:kt(y.current)}catch(bC){return null}}),e),4),b=w[0],x=w[1],B=w[2],C=w[3],k=A.useRef(C);C&&(k.current=!0);var S,E=A.useCallback((function(e){g.current=e,jt(n,e)}),[n]),j=l(l({},p),{},{visible:s});if(u)if(b===Xt)S=C?u(l({},j),E):!o&&k.current&&h?u(l(l({},j),{},{className:h}),E):c||!o&&!h?u(l(l({},j),{},{style:{display:"none"}}),E):null;else{var I;x===tn?I="prepare":Nn(x)?I="active":x===nn&&(I="start");var F=vn(d,"".concat(b,"-").concat(I));S=u(l(l({},j),{},{className:v()(vn(d,b),i(i({},F,F&&I),d,"string"===typeof d)),style:B}),E)}else S=null;A.isValidElement(S)&&Ft(S)&&(S.ref||(S=A.cloneElement(S,{ref:E})));return A.createElement(Mt,{ref:y},S)}));return n.displayName="CSSMotion",n}(mn);var Dn="add",Hn="keep",Ln="remove",Pn="removed";function On(e){var t;return l(l({},t=e&&"object"===s(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function Rn(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(On)}var Vn=["component","children","onVisibleChanged","onAllRemoved"],Kn=["status"],zn=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];const _n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tn,n=function(e){nt(r,e);var n=ot(r);function r(){var e;Ze(this,r);for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return i(at(e=n.call.apply(n,[this].concat(s))),"state",{keyEntities:[]}),i(at(e),"removeKey",(function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:l(l({},e),{},{status:Pn})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==Pn})).length})),e}return et(r,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,r=this.props,s=r.component,a=r.children,i=r.onVisibleChanged,o=r.onAllRemoved,c=f(r,Vn),u=s||A.Fragment,d={};return zn.forEach((function(e){d[e]=c[e],delete c[e]})),delete c.keys,A.createElement(u,c,n.map((function(n,r){var s=n.status,c=f(n,Kn),u=s===Dn||s===Hn;return A.createElement(t,Pe({},d,{key:c.key,visible:u,eventProps:c,onVisibleChanged:function(t){(null===i||void 0===i||i(t,{key:c.key}),t)||0===e.removeKey(c.key)&&o&&o()}}),(function(e,t){return a(l(l({},e),{},{index:r}),t)}))})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,s=Rn(n),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,s=t.length,a=Rn(e),i=Rn(t);a.forEach((function(e){for(var t=!1,a=r;a<s;a+=1){var o=i[a];if(o.key===e.key){r<a&&(n=n.concat(i.slice(r,a).map((function(e){return l(l({},e),{},{status:Dn})}))),r=a),n.push(l(l({},o),{},{status:Hn})),r+=1,t=!0;break}}t||n.push(l(l({},e),{},{status:Ln}))})),r<s&&(n=n.concat(i.slice(r).map((function(e){return l(l({},e),{},{status:Dn})}))));var o={};n.forEach((function(e){var t=e.key;o[t]=(o[t]||0)+1}));var A=Object.keys(o).filter((function(e){return o[e]>1}));return A.forEach((function(e){n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==Ln})),n.forEach((function(t){t.key===e&&(t.status=Hn)}))})),n}(r,s);return{keyEntities:a.filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==Pn||e.status!==Ln}))}}}]),r}(A.Component);return i(n,"defaultProps",{component:"div"}),n}(mn),Gn=Tn;var Wn=function(e){nt(n,e);var t=ot(n);function n(){var e;Ze(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).closeTimer=null,e.close=function(t){t&&t.stopPropagation(),e.clearCloseTimer();var n=e.props,r=n.onClose,s=n.noticeKey;r&&r(s)},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=window.setTimeout((function(){e.close()}),1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},e}return et(n,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.updateMark!==e.updateMark||this.props.visible!==e.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,r=t.className,s=t.closable,a=t.closeIcon,o=t.style,l=t.onClick,c=t.children,u=t.holder,d="".concat(n,"-notice"),h=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{}),p=A.createElement("div",Pe({className:v()(d,r,i({},"".concat(d,"-closable"),s)),style:o,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:l},h),A.createElement("div",{className:"".concat(d,"-content")},c),s?A.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(d,"-close")},a||A.createElement("span",{className:"".concat(d,"-close-x")})):null);return u?dt.createPortal(p,u):p}}]),n}(A.Component);function Yn(e){var t=A.useRef({}),n=m(A.useState([]),2),r=n[0],s=n[1];return[function(n){var r=!0;e.add(n,(function(e,n){var a=n.key;if(e&&(!t.current[a]||r)){var i=A.createElement(Wn,Pe({},n,{holder:e}));t.current[a]=i,s((function(e){var t=e.findIndex((function(e){return e.key===n.key}));if(-1===t)return[].concat(Kt(e),[i]);var r=Kt(e);return r[t]=i,r}))}r=!1}))},A.createElement(A.Fragment,null,r)]}Wn.defaultProps={onClose:function(){},duration:1.5};var qn=["getContainer"],Xn=0,Jn=Date.now();function Zn(){var e=Xn;return Xn+=1,"rcNotification_".concat(Jn,"_").concat(e)}var $n=function(e){nt(n,e);var t=ot(n);function n(){var e;Ze(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={notices:[]},e.hookRefs=new Map,e.add=function(t,n){var r,s=null!==(r=t.key)&&void 0!==r?r:Zn(),a=l(l({},t),{},{key:s}),i=e.props.maxCount;e.setState((function(e){var t=e.notices,r=t.map((function(e){return e.notice.key})).indexOf(s),o=t.concat();return-1!==r?o.splice(r,1,{notice:a,holderCallback:n}):(i&&t.length>=i&&(a.key=o[0].notice.key,a.updateMark=Zn(),a.userPassKey=s,o.shift()),o.push({notice:a,holderCallback:n})),{notices:o}}))},e.remove=function(t){e.setState((function(e){return{notices:e.notices.filter((function(e){var n=e.notice,r=n.key,s=n.userPassKey;return(null!==s&&void 0!==s?s:r)!==t}))}}))},e.noticePropsMap={},e}return et(n,[{key:"getTransitionName",value:function(){var e=this.props,t=e.prefixCls,n=e.animation,r=this.props.transitionName;return!r&&n&&(r="".concat(t,"-").concat(n)),r}},{key:"render",value:function(){var e=this,t=this.state.notices,n=this.props,r=n.prefixCls,s=n.className,a=n.closeIcon,i=n.style,o=[];return t.forEach((function(n,s){var i=n.notice,A=n.holderCallback,c=s===t.length-1?i.updateMark:void 0,u=i.key,d=i.userPassKey,h=l(l(l({prefixCls:r,closeIcon:a},i),i.props),{},{key:u,noticeKey:d||u,updateMark:c,onClose:function(t){var n;e.remove(t),null===(n=i.onClose)||void 0===n||n.call(i)},onClick:i.onClick,children:i.content});o.push(u),e.noticePropsMap[u]={props:h,holderCallback:A}})),A.createElement("div",{className:v()(r,s),style:i},A.createElement(_n,{keys:o,motionName:this.getTransitionName(),onVisibleChanged:function(t,n){var r=n.key;t||delete e.noticePropsMap[r]}},(function(t){var n=t.key,s=t.className,a=t.style,i=t.visible,o=e.noticePropsMap[n],c=o.props,u=o.holderCallback;return u?A.createElement("div",{key:n,className:v()(s,"".concat(r,"-hook-holder")),style:l({},a),ref:function(t){"undefined"!==typeof n&&(t?(e.hookRefs.set(n,t),u(t,c)):e.hookRefs.delete(n))}}):A.createElement(Wn,Pe({},c,{className:v()(s,null===c||void 0===c?void 0:c.className),style:l(l({},a),null===c||void 0===c?void 0:c.style),visible:i}))})))}}]),n}(A.Component);$n.newInstance=void 0,$n.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},$n.newInstance=function(e,t){var n=e||{},r=n.getContainer,s=f(n,qn),a=document.createElement("div");r?r().appendChild(a):document.body.appendChild(a);var i=!1;yt(A.createElement($n,Pe({},s,{ref:function(e){i||(i=!0,t({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){!function(e){Bt.apply(this,arguments)}(a),a.parentNode&&a.parentNode.removeChild(a)},useNotification:function(){return Yn(e)}}))}})),a)};const er=$n,tr=(0,A.createContext)(void 0);const nr={placeholder:"Select time",rangePlaceholder:["Start time","End time"]};var rr={lang:Pe({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),timePickerLocale:Pe({},nr)};var sr="${label} is not a valid ${type}";const ar={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:rr,TimePicker:nr,Calendar:rr,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:sr,method:sr,array:sr,object:sr,number:sr,date:sr,boolean:sr,integer:sr,float:sr,regexp:sr,email:sr,url:sr,hex:sr},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}};var ir=Pe({},ar.Modal);function or(e){ir=e?Pe(Pe({},ir),e):Pe({},ar.Modal)}const lr=(0,A.createContext)(void 0);const Ar=function(e){var t=e.locale,n=void 0===t?{}:t,r=e.children;e._ANT_MARK__;A.useEffect((function(){return or(n&&n.Modal),function(){or()}}),[n]);var s=A.useMemo((function(){return Pe(Pe({},n),{exist:!0})}),[n]);return A.createElement(lr.Provider,{value:s},r)},cr=ar;const ur=function(e){var t=e.componentName,n=void 0===t?"global":t,r=e.defaultLocale,s=e.children,a=A.useContext(lr),i=A.useMemo((function(){var e,t=r||cr[n],s=null!==(e=null===a||void 0===a?void 0:a[n])&&void 0!==e?e:{};return Pe(Pe({},t instanceof Function?t():t),s||{})}),[n,r,a]);return s(i,A.useMemo((function(){var e=a&&a.locale;return a&&a.exist&&!e?cr.locale:e}),[a]),a)};const dr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};var hr=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:dr}))};const pr=A.forwardRef(hr);const mr={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};var fr=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:mr}))};const gr=A.forwardRef(fr);const vr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};var yr=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:vr}))};const wr=A.forwardRef(yr);const br={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};var xr=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:br}))};const Br=A.forwardRef(xr);const Cr={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};var kr=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Cr}))};const Sr=A.forwardRef(kr);var Er,jr=A.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")}}),Ir=jr.Consumer;var Fr,Qr,Nr,Mr=3,Ur=1,Tr="",Dr="move-up",Hr=!1,Lr=!1;function Pr(){return Ur++}function Or(e,t){var n=e.prefixCls,r=e.getPopupContainer,s=os(),a=s.getPrefixCls,i=s.getRootPrefixCls,o=s.getIconPrefixCls,l=a("message",n||Tr),A=i(e.rootPrefixCls,l),c=o();if(Er)t({prefixCls:l,rootPrefixCls:A,iconPrefixCls:c,instance:Er});else{var u={prefixCls:l,transitionName:Hr?Dr:"".concat(A,"-").concat(Dr),style:{top:Fr},getContainer:Qr||r,maxCount:Nr};er.newInstance(u,(function(e){Er?t({prefixCls:l,rootPrefixCls:A,iconPrefixCls:c,instance:Er}):(Er=e,t({prefixCls:l,rootPrefixCls:A,iconPrefixCls:c,instance:e}))}))}}var Rr={info:Br,success:pr,error:gr,warning:wr,loading:Sr},Vr=Object.keys(Rr);function Kr(e,t,n){var r=void 0!==e.duration?e.duration:Mr,s=Rr[e.type],a=v()("".concat(t,"-custom-content"),i(i({},"".concat(t,"-").concat(e.type),e.type),"".concat(t,"-rtl"),!0===Lr));return{key:e.key,duration:r,style:e.style||{},className:e.className,content:A.createElement(cs,{iconPrefixCls:n},A.createElement("div",{className:a},e.icon||s&&A.createElement(s,null),A.createElement("span",null,e.content))),onClose:e.onClose,onClick:e.onClick}}var zr={open:function(e){var t=e.key||Pr(),n=new Promise((function(n){var r=function(){return"function"===typeof e.onClose&&e.onClose(),n(!0)};Or(e,(function(n){var s=n.prefixCls,a=n.iconPrefixCls;n.instance.notice(Kr(Pe(Pe({},e),{key:t,onClose:r}),s,a))}))})),r=function(){var n;Er&&(Er.removeNotice(t),null===(n=e.onClose)||void 0===n||n.call(e))};return r.then=function(e,t){return n.then(e,t)},r.promise=n,r},config:function(e){void 0!==e.top&&(Fr=e.top,Er=null),void 0!==e.duration&&(Mr=e.duration),void 0!==e.prefixCls&&(Tr=e.prefixCls),void 0!==e.getContainer&&(Qr=e.getContainer,Er=null),void 0!==e.transitionName&&(Dr=e.transitionName,Er=null,Hr=!0),void 0!==e.maxCount&&(Nr=e.maxCount,Er=null),void 0!==e.rtl&&(Lr=e.rtl)},destroy:function(e){if(Er)if(e){(0,Er.removeNotice)(e)}else{var t=Er.destroy;t(),Er=null}}};function _r(e,t){e[t]=function(n,r,s){return function(e){return"[object Object]"===Object.prototype.toString.call(e)&&!!e.content}(n)?e.open(Pe(Pe({},n),{type:t})):("function"===typeof r&&(s=r,r=void 0),e.open({content:n,duration:r,type:t,onClose:s}))}}Vr.forEach((function(e){return _r(zr,e)})),zr.warn=zr.warning,zr.useMessage=function(e,t){return function(){var n,r,s=null,a=m(Yn({add:function(e,t){null===s||void 0===s||s.component.add(e,t)}}),2),i=a[0],o=a[1];var l=A.useRef({});return l.current.open=function(a){var o=a.prefixCls,l=n("message",o),A=n(),c=a.key||Pr(),u=new Promise((function(n){var o=function(){return"function"===typeof a.onClose&&a.onClose(),n(!0)};e(Pe(Pe({},a),{prefixCls:l,rootPrefixCls:A,getPopupContainer:r}),(function(e){var n=e.prefixCls,r=e.instance;s=r,i(t(Pe(Pe({},a),{key:c,onClose:o}),n))}))})),d=function(){s&&s.removeNotice(c)};return d.then=function(e,t){return u.then(e,t)},d.promise=u,d},Vr.forEach((function(e){return _r(l.current,e)})),[l.current,A.createElement(Ir,{key:"holder"},(function(e){return n=e.getPrefixCls,r=e.getPopupContainer,o}))]}}(Or,Kr);const Gr=zr;var Wr=function(){function e(t,n){var r;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"===typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var s=M(t);this.originalInput=t,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=n.format)&&void 0!==r?r:s.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=x(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){return 0===this.toHsl().s},e.prototype.toHsv=function(){var e=E(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=E(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=k(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=k(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),j(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,n,r,s){var a=[C(Math.round(e).toString(16)),C(Math.round(t).toString(16)),C(Math.round(n).toString(16)),C(I(r))];return s&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toHexShortString=function(e){return void 0===e&&(e=!1),1===this.a?this.toHexString(e):this.toHex8String(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*w(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*w(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+j(this.r,this.g,this.b,!1),t=0,n=Object.entries(N);t<n.length;t++){var r=n[t],s=r[0];if(e===r[1])return s}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var n=!1,r=this.a<1&&this.a>=0;return t||!r||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=b(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=b(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=b(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=b(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var r=this.toRgb(),s=new e(t).toRgb(),a=n/100;return new e({r:(s.r-r.r)*a+r.r,g:(s.g-r.g)*a+r.g,b:(s.b-r.b)*a+r.b,a:(s.a-r.a)*a+r.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var r=this.toHsl(),s=360/n,a=[this];for(r.h=(r.h-(s*t>>1)+720)%360;--t;)r.h=(r.h+s)%360,a.push(new e(r));return a},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),r=n.h,s=n.s,a=n.v,i=[],o=1/t;t--;)i.push(new e({h:r,s:s,v:a})),a=(a+o)%1;return i},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),s=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/s,g:(n.g*n.a+r.g*r.a*(1-n.a))/s,b:(n.b*n.a+r.b*r.a*(1-n.a))/s,a:s})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,s=[this],a=360/t,i=1;i<t;i++)s.push(new e({h:(r+i*a)%360,s:n.s,l:n.l}));return s},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();var Yr="-ant-".concat(Date.now(),"-").concat(Math.random());function qr(e,t){var n=function(e,t){var n={},r=function(e,t){var n=e.clone();return(n=(null===t||void 0===t?void 0:t(n))||n).toRgbString()},s=function(e,t){var s=new Wr(e),a=Z(s.toRgbString());n["".concat(t,"-color")]=r(s),n["".concat(t,"-color-disabled")]=a[1],n["".concat(t,"-color-hover")]=a[4],n["".concat(t,"-color-active")]=a[6],n["".concat(t,"-color-outline")]=s.clone().setAlpha(.2).toRgbString(),n["".concat(t,"-color-deprecated-bg")]=a[0],n["".concat(t,"-color-deprecated-border")]=a[2]};if(t.primaryColor){s(t.primaryColor,"primary");var a=new Wr(t.primaryColor),i=Z(a.toRgbString());i.forEach((function(e,t){n["primary-".concat(t+1)]=e})),n["primary-color-deprecated-l-35"]=r(a,(function(e){return e.lighten(35)})),n["primary-color-deprecated-l-20"]=r(a,(function(e){return e.lighten(20)})),n["primary-color-deprecated-t-20"]=r(a,(function(e){return e.tint(20)})),n["primary-color-deprecated-t-50"]=r(a,(function(e){return e.tint(50)})),n["primary-color-deprecated-f-12"]=r(a,(function(e){return e.setAlpha(.12*e.getAlpha())}));var o=new Wr(i[0]);n["primary-color-active-deprecated-f-30"]=r(o,(function(e){return e.setAlpha(.3*e.getAlpha())})),n["primary-color-active-deprecated-d-02"]=r(o,(function(e){return e.darken(2)}))}t.successColor&&s(t.successColor,"success"),t.warningColor&&s(t.warningColor,"warning"),t.errorColor&&s(t.errorColor,"error"),t.infoColor&&s(t.infoColor,"info");var l=Object.keys(n).map((function(t){return"--".concat(e,"-").concat(t,": ").concat(n[t],";")}));return"\n  :root {\n    ".concat(l.join("\n"),"\n  }\n  ").trim()}(e,t);Ae()&&be(n,"".concat(Yr,"-dynamic-theme"))}var Xr=A.createContext(!1),Jr=function(e){var t=e.children,n=e.disabled,r=A.useContext(Xr);return A.createElement(Xr.Provider,{value:null!==n&&void 0!==n?n:r},t)};const Zr=Xr;var $r=A.createContext(void 0),es=function(e){var t=e.children,n=e.size;return A.createElement($r.Consumer,null,(function(e){return A.createElement($r.Provider,{value:n||e},t)}))};const ts=$r;var ns,rs,ss=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form"];function as(){return ns||"ant"}function is(){return rs||"anticon"}var os=function(){return{getPrefixCls:function(e,t){return t||(e?"".concat(as(),"-").concat(e):as())},getIconPrefixCls:is,getRootPrefixCls:function(e,t){return e||(ns||(t&&t.includes("-")?t.replace(/^(.*)-[^-]*$/,"$1"):as()))}}},ls=function(e){var t=e.children,n=e.csp,r=e.autoInsertSpaceInButton,s=e.form,a=e.locale,i=e.componentSize,o=e.direction,l=e.space,c=e.virtual,u=e.dropdownMatchSelectWidth,d=e.legacyLocale,h=e.parentContext,p=e.iconPrefixCls,m=e.componentDisabled,f=A.useCallback((function(t,n){var r=e.prefixCls;if(n)return n;var s=r||h.getPrefixCls("");return t?"".concat(s,"-").concat(t):s}),[h.getPrefixCls,e.prefixCls]),g=Pe(Pe({},h),{csp:n,autoInsertSpaceInButton:r,locale:a||d,direction:o,space:l,virtual:c,dropdownMatchSelectWidth:u,getPrefixCls:f});ss.forEach((function(t){var n=e[t];n&&(g[t]=n)}));var v=Et((function(){return g}),g,(function(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some((function(n){return e[n]!==t[n]}))})),w=A.useMemo((function(){return{prefixCls:p,csp:n}}),[p,n]),b=t,x=A.useMemo((function(){var e,t,n,r;return qt((null===(e=ar.Form)||void 0===e?void 0:e.defaultValidateMessages)||{},(null===(n=null===(t=v.locale)||void 0===t?void 0:t.Form)||void 0===n?void 0:n.defaultValidateMessages)||{},(null===(r=v.form)||void 0===r?void 0:r.validateMessages)||{},(null===s||void 0===s?void 0:s.validateMessages)||{})}),[v,null===s||void 0===s?void 0:s.validateMessages]);return Object.keys(x).length>0&&(b=A.createElement(tr.Provider,{value:x},t)),a&&(b=A.createElement(Ar,{locale:a,_ANT_MARK__:"internalMark"},b)),(p||n)&&(b=A.createElement(y.Provider,{value:w},b)),i&&(b=A.createElement(es,{size:i},b)),void 0!==m&&(b=A.createElement(Jr,{disabled:m},b)),A.createElement(jr.Provider,{value:v},b)},As=function(e){return A.useEffect((function(){e.direction&&(Gr.config({rtl:"rtl"===e.direction}),Ss.config({rtl:"rtl"===e.direction}))}),[e.direction]),A.createElement(ur,null,(function(t,n,r){return A.createElement(Ir,null,(function(t){return A.createElement(ls,Pe({parentContext:t,legacyLocale:r},e))}))}))};As.ConfigContext=jr,As.SizeContext=ts,As.config=function(e){var t=e.prefixCls,n=e.iconPrefixCls,r=e.theme;void 0!==t&&(ns=t),void 0!==n&&(rs=n),r&&qr(as(),r)};const cs=As;var us,ds,hs,ps={},ms=4.5,fs=24,gs=24,vs="",ys="topRight",ws=!1;function bs(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fs,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gs;switch(e){case"top":t={left:"50%",transform:"translateX(-50%)",right:"auto",top:n,bottom:"auto"};break;case"topLeft":t={left:0,top:n,bottom:"auto"};break;case"topRight":t={right:0,top:n,bottom:"auto"};break;case"bottom":t={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:r};break;case"bottomLeft":t={left:0,top:"auto",bottom:r};break;default:t={right:0,top:"auto",bottom:r}}return t}function xs(e,t){var n=e.placement,r=void 0===n?ys:n,s=e.top,a=e.bottom,o=e.getContainer,l=void 0===o?us:o,A=e.prefixCls,c=os(),u=c.getPrefixCls,d=c.getIconPrefixCls,h=u("notification",A||vs),p=d(),m="".concat(h,"-").concat(r),f=ps[m];if(f)Promise.resolve(f).then((function(e){t({prefixCls:"".concat(h,"-notice"),iconPrefixCls:p,instance:e})}));else{var g=v()("".concat(h,"-").concat(r),i({},"".concat(h,"-rtl"),!0===ws));ps[m]=new Promise((function(e){er.newInstance({prefixCls:h,className:g,style:bs(r,s,a),getContainer:l,maxCount:hs},(function(n){e(n),t({prefixCls:"".concat(h,"-notice"),iconPrefixCls:p,instance:n})}))}))}}var Bs={success:Ve,info:Je,error:Le,warning:Ye};function Cs(e,t,n){var r=e.duration,s=e.icon,a=e.type,o=e.description,l=e.message,c=e.btn,u=e.onClose,d=e.onClick,h=e.key,p=e.style,m=e.className,f=e.closeIcon,g=void 0===f?ds:f,y=e.props,w=void 0===r?ms:r,b=null;s?b=A.createElement("span",{className:"".concat(t,"-icon")},e.icon):a&&(b=A.createElement(Bs[a]||null,{className:"".concat(t,"-icon ").concat(t,"-icon-").concat(a)}));var x="undefined"===typeof g?A.createElement("span",{className:"".concat(t,"-close-x")},A.createElement(_e,{className:"".concat(t,"-close-icon")})):g,B=!o&&b?A.createElement("span",{className:"".concat(t,"-message-single-line-auto-margin")}):null;return{content:A.createElement(cs,{iconPrefixCls:n},A.createElement("div",{className:b?"".concat(t,"-with-icon"):"",role:"alert"},b,A.createElement("div",{className:"".concat(t,"-message")},B,l),A.createElement("div",{className:"".concat(t,"-description")},o),c?A.createElement("span",{className:"".concat(t,"-btn")},c):null)),duration:w,closable:!0,closeIcon:x,onClose:u,onClick:d,key:h,style:p||{},className:v()(m,i({},"".concat(t,"-").concat(a),!!a)),props:y}}var ks={open:function(e){xs(e,(function(t){var n=t.prefixCls,r=t.iconPrefixCls;t.instance.notice(Cs(e,n,r))}))},close:function(e){Object.keys(ps).forEach((function(t){return Promise.resolve(ps[t]).then((function(t){t.removeNotice(e)}))}))},config:function(e){var t=e.duration,n=e.placement,r=e.bottom,s=e.top,a=e.getContainer,i=e.closeIcon,o=e.prefixCls;void 0!==o&&(vs=o),void 0!==t&&(ms=t),void 0!==n?ys=n:e.rtl&&(ys="topLeft"),void 0!==r&&(gs=r),void 0!==s&&(fs=s),void 0!==a&&(us=a),void 0!==i&&(ds=i),void 0!==e.rtl&&(ws=e.rtl),void 0!==e.maxCount&&(hs=e.maxCount)},destroy:function(){Object.keys(ps).forEach((function(e){Promise.resolve(ps[e]).then((function(e){e.destroy()})),delete ps[e]}))}};["success","info","warning","error"].forEach((function(e){ks[e]=function(t){return ks.open(Pe(Pe({},t),{type:e}))}})),ks.warn=ks.warning,ks.useNotification=function(e,t){return function(){var n,r=null,s=m(Yn({add:function(e,t){null===r||void 0===r||r.component.add(e,t)}}),2),a=s[0],i=s[1];var o=A.useRef({});return o.current.open=function(s){var i=s.prefixCls,o=n("notification",i);e(Pe(Pe({},s),{prefixCls:o}),(function(e){var n=e.prefixCls,i=e.instance;r=i,a(t(s,n))}))},["success","info","warning","error"].forEach((function(e){o.current[e]=function(t){return o.current.open(Pe(Pe({},t),{type:e}))}})),[o.current,A.createElement(Ir,{key:"holder"},(function(e){return n=e.getPrefixCls,i}))]}}(xs,Cs);const Ss=ks;var Es,js=function(){if(!Ae()||!window.document.documentElement)return!1;if(void 0!==Es)return Es;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),Es=1===e.scrollHeight,document.body.removeChild(e),Es};var Is=["xxl","xl","lg","md","sm","xs"],Fs={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},Qs=new Map,Ns=-1,Ms={};const Us={matchHandlers:{},dispatch:function(e){return Ms=e,Qs.forEach((function(e){return e(Ms)})),Qs.size>=1},subscribe:function(e){return Qs.size||this.register(),Ns+=1,Qs.set(Ns,e),e(Ms),Ns},unsubscribe:function(e){Qs.delete(e),Qs.size||this.unregister()},unregister:function(){var e=this;Object.keys(Fs).forEach((function(t){var n=Fs[t],r=e.matchHandlers[n];null===r||void 0===r||r.mql.removeListener(null===r||void 0===r?void 0:r.listener)})),Qs.clear()},register:function(){var e=this;Object.keys(Fs).forEach((function(t){var n=Fs[t],r=function(n){var r=n.matches;e.dispatch(Pe(Pe({},Ms),i({},t,r)))},s=window.matchMedia(n);s.addListener(r),e.matchHandlers[n]={mql:s,listener:r},r(s)}))}};var Ts=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t};const Ds=(0,A.createContext)({});var Hs=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};Ts("top","middle","bottom","stretch"),Ts("start","end","center","space-around","space-between","space-evenly");function Ls(e,t){var n=m(A.useState("string"===typeof e?e:""),2),r=n[0],a=n[1];return A.useEffect((function(){!function(){if("string"===typeof e&&a(e),"object"===s(e))for(var n=0;n<Is.length;n++){var r=Is[n];if(t[r]){var i=e[r];if(void 0!==i)return void a(i)}}}()}),[JSON.stringify(e),t]),r}var Ps=A.forwardRef((function(e,t){var n=e.prefixCls,r=e.justify,a=e.align,o=e.className,l=e.style,c=e.children,u=e.gutter,d=void 0===u?0:u,h=e.wrap,p=Hs(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),f=A.useContext(jr),g=f.getPrefixCls,y=f.direction,w=m(A.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),2),b=w[0],x=w[1],B=m(A.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),2),C=B[0],k=B[1],S=Ls(a,C),E=Ls(r,C),j=function(){var e=m(A.useState(!1),2),t=e[0],n=e[1];return A.useEffect((function(){n(js())}),[]),t}(),I=A.useRef(d);A.useEffect((function(){var e=Us.subscribe((function(e){k(e);var t=I.current||0;(!Array.isArray(t)&&"object"===s(t)||Array.isArray(t)&&("object"===s(t[0])||"object"===s(t[1])))&&x(e)}));return function(){return Us.unsubscribe(e)}}),[]);var F=g("row",n),Q=function(){var e=[void 0,void 0];return(Array.isArray(d)?d:[d,void 0]).forEach((function(t,n){if("object"===s(t))for(var r=0;r<Is.length;r++){var a=Is[r];if(b[a]&&void 0!==t[a]){e[n]=t[a];break}}else e[n]=t})),e}(),N=v()(F,i(i(i(i({},"".concat(F,"-no-wrap"),!1===h),"".concat(F,"-").concat(E),E),"".concat(F,"-").concat(S),S),"".concat(F,"-rtl"),"rtl"===y),o),M={},U=null!=Q[0]&&Q[0]>0?Q[0]/-2:void 0,T=null!=Q[1]&&Q[1]>0?Q[1]/-2:void 0;if(U&&(M.marginLeft=U,M.marginRight=U),j){var D=m(Q,2);M.rowGap=D[1]}else T&&(M.marginTop=T,M.marginBottom=T);var H=m(Q,2),L=H[0],P=H[1],O=A.useMemo((function(){return{gutter:[L,P],wrap:h,supportFlexGap:j}}),[L,P,h,j]);return A.createElement(Ds.Provider,{value:O},A.createElement("div",Pe({},p,{className:N,style:Pe(Pe({},M),l),ref:t}),c))}));const Os=Ps;var Rs=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};var Vs=["xs","sm","md","lg","xl","xxl"],Ks=A.forwardRef((function(e,t){var n=A.useContext(jr),r=n.getPrefixCls,a=n.direction,o=A.useContext(Ds),l=o.gutter,c=o.wrap,u=o.supportFlexGap,d=e.prefixCls,h=e.span,p=e.order,m=e.offset,f=e.push,g=e.pull,y=e.className,w=e.children,b=e.flex,x=e.style,B=Rs(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),C=r("col",d),k={};Vs.forEach((function(t){var n={},r=e[t];"number"===typeof r?n.span=r:"object"===s(r)&&(n=r||{}),delete B[t],k=Pe(Pe({},k),i(i(i(i(i(i({},"".concat(C,"-").concat(t,"-").concat(n.span),void 0!==n.span),"".concat(C,"-").concat(t,"-order-").concat(n.order),n.order||0===n.order),"".concat(C,"-").concat(t,"-offset-").concat(n.offset),n.offset||0===n.offset),"".concat(C,"-").concat(t,"-push-").concat(n.push),n.push||0===n.push),"".concat(C,"-").concat(t,"-pull-").concat(n.pull),n.pull||0===n.pull),"".concat(C,"-rtl"),"rtl"===a))}));var S=v()(C,i(i(i(i(i({},"".concat(C,"-").concat(h),void 0!==h),"".concat(C,"-order-").concat(p),p),"".concat(C,"-offset-").concat(m),m),"".concat(C,"-push-").concat(f),f),"".concat(C,"-pull-").concat(g),g),y,k),E={};if(l&&l[0]>0){var j=l[0]/2;E.paddingLeft=j,E.paddingRight=j}if(l&&l[1]>0&&!u){var I=l[1]/2;E.paddingTop=I,E.paddingBottom=I}return b&&(E.flex=function(e){return"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}(b),!1!==c||E.minWidth||(E.minWidth=0)),A.createElement("div",Pe({},B,{style:Pe(Pe({},E),x),className:S,ref:t}),w)}));const zs=Ks;const _s=A.createContext(null);var Gs=[];function Ws(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var r,s,a=n.style;if(a.position="absolute",a.left="0",a.top="0",a.width="100px",a.height="100px",a.overflow="scroll",e){var i=getComputedStyle(e);a.scrollbarColor=i.scrollbarColor,a.scrollbarWidth=i.scrollbarWidth;var o=getComputedStyle(e,"::-webkit-scrollbar"),l=parseInt(o.width,10),A=parseInt(o.height,10);try{var c=l?"width: ".concat(o.width,";"):"",u=A?"height: ".concat(o.height,";"):"";be("\n#".concat(t,"::-webkit-scrollbar {\n").concat(c,"\n").concat(u,"\n}"),t)}catch(bC){console.error(bC),r=l,s=A}}document.body.appendChild(n);var d=e&&r&&!isNaN(r)?r:n.offsetWidth-n.clientWidth,h=e&&s&&!isNaN(s)?s:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),we(t),{width:d,height:h}}var Ys="rc-util-locker-".concat(Date.now()),qs=0;function Xs(e){var t=!!e,n=m(A.useState((function(){return qs+=1,"".concat(Ys,"_").concat(qs)})),1)[0];Lt((function(){if(t){var e=(s=document.body,"undefined"!==typeof document&&s&&s instanceof Element?Ws(s):{width:0,height:0}).width,r=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;be("\nhtml body {\n  overflow-y: hidden;\n  ".concat(r?"width: calc(100% - ".concat(e,"px);"):"","\n}"),n)}else we(n);var s;return function(){we(n)}}),[t,n])}var Js=!1;var Zs=function(e){return!1!==e&&(Ae()&&e?"string"===typeof e?document.querySelector(e):"function"===typeof e?e():e:null)},$s=A.forwardRef((function(e,t){var n=e.open,r=e.autoLock,s=e.getContainer,a=(e.debug,e.autoDestroy),i=void 0===a||a,o=e.children,l=m(A.useState(n),2),c=l[0],u=l[1],d=c||n;A.useEffect((function(){(i||n)&&u(n)}),[n,i]);var h=m(A.useState((function(){return Zs(s)})),2),p=h[0],f=h[1];A.useEffect((function(){var e=Zs(s);f(null!==e&&void 0!==e?e:null)}));var g=function(e,t){var n=m(A.useState((function(){return Ae()?document.createElement("div"):null})),1)[0],r=A.useRef(!1),s=A.useContext(_s),a=m(A.useState(Gs),2),i=a[0],o=a[1],l=s||(r.current?void 0:function(e){o((function(t){return[e].concat(Kt(t))}))});function c(){n.parentElement||document.body.appendChild(n),r.current=!0}function u(){var e;null===(e=n.parentElement)||void 0===e||e.removeChild(n),r.current=!1}return Lt((function(){return e?s?s(c):c():u(),u}),[e]),Lt((function(){i.length&&(i.forEach((function(e){return e()})),o(Gs))}),[i]),[n,l]}(d&&!p),v=m(g,2),y=v[0],w=v[1],b=null!==p&&void 0!==p?p:y;Xs(r&&n&&Ae()&&(b===y||b===document.body));var x=null;o&&Ft(o)&&t&&(x=o.ref);var B=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Et((function(){return It.apply(void 0,t)}),t,(function(e,t){return e.length!==t.length||e.every((function(e,n){return e!==t[n]}))}))}(x,t);if(!d||!Ae()||void 0===p)return null;var C,k=!1===b||("boolean"===typeof C&&(Js=C),Js),S=o;return t&&(S=A.cloneElement(o,{ref:B})),A.createElement(_s.Provider,{value:w},k?S:(0,dt.createPortal)(S,b))}));const ea=$s;var ta={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=ta.F1&&t<=ta.F12)return!1;switch(t){case ta.ALT:case ta.CAPS_LOCK:case ta.CONTEXT_MENU:case ta.CTRL:case ta.DOWN:case ta.END:case ta.ESC:case ta.HOME:case ta.INSERT:case ta.LEFT:case ta.MAC_FF_META:case ta.META:case ta.NUMLOCK:case ta.NUM_CENTER:case ta.PAGE_DOWN:case ta.PAGE_UP:case ta.PAUSE:case ta.PRINT_SCREEN:case ta.RIGHT:case ta.SHIFT:case ta.UP:case ta.WIN_KEY:case ta.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=ta.ZERO&&e<=ta.NINE)return!0;if(e>=ta.NUM_ZERO&&e<=ta.NUM_MULTIPLY)return!0;if(e>=ta.A&&e<=ta.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case ta.SPACE:case ta.QUESTION_MARK:case ta.NUM_PLUS:case ta.NUM_MINUS:case ta.NUM_PERIOD:case ta.NUM_DIVISION:case ta.SEMICOLON:case ta.DASH:case ta.EQUALS:case ta.COMMA:case ta.PERIOD:case ta.SLASH:case ta.APOSTROPHE:case ta.SINGLE_QUOTE:case ta.OPEN_SQUARE_BRACKET:case ta.BACKSLASH:case ta.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const na=ta;var ra="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),sa="aria-",aa="data-";function ia(e,t){return 0===e.indexOf(t)}function oa(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:l({},n);var r={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||ia(n,sa))||t.data&&ia(n,aa)||t.attr&&ra.includes(n))&&(r[n]=e[n])})),r}const la=A.createContext(null);const Aa=function(e){var t=e.prefixCls,n=e.className,r=e.style,s=e.children,a=e.containerRef,i=e.id,o={onMouseEnter:e.onMouseEnter,onMouseOver:e.onMouseOver,onMouseLeave:e.onMouseLeave,onClick:e.onClick,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp};return A.createElement(A.Fragment,null,A.createElement("div",Pe({id:i,className:v()("".concat(t,"-content"),n),style:l({},r),"aria-modal":"true",role:"dialog",ref:a},o),s))};function ca(e){return"string"===typeof e&&String(Number(e))===e?(le(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var ua={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function da(e,t){var n,r,s,a,o=e.prefixCls,c=e.open,u=e.placement,d=e.inline,h=e.push,p=e.forceRender,f=e.autoFocus,g=e.keyboard,y=e.rootClassName,w=e.rootStyle,b=e.zIndex,x=e.className,B=e.id,C=e.style,k=e.motion,S=e.width,E=e.height,j=e.children,I=e.contentWrapperStyle,F=e.mask,Q=e.maskClosable,N=e.maskMotion,M=e.maskClassName,U=e.maskStyle,T=e.afterOpenChange,D=e.onClose,H=e.onMouseEnter,L=e.onMouseOver,P=e.onMouseLeave,O=e.onClick,R=e.onKeyDown,V=e.onKeyUp,K=A.useRef(),z=A.useRef(),_=A.useRef();A.useImperativeHandle(t,(function(){return K.current}));A.useEffect((function(){var e;c&&f&&(null===(e=K.current)||void 0===e||e.focus({preventScroll:!0}))}),[c]);var G=m(A.useState(!1),2),W=G[0],Y=G[1],q=A.useContext(la),X=null!==(n=null!==(r=null===(s=!1===h?{distance:0}:!0===h?{}:h||{})||void 0===s?void 0:s.distance)&&void 0!==r?r:null===q||void 0===q?void 0:q.pushDistance)&&void 0!==n?n:180,J=A.useMemo((function(){return{pushDistance:X,push:function(){Y(!0)},pull:function(){Y(!1)}}}),[X]);A.useEffect((function(){var e,t;c?null===q||void 0===q||null===(e=q.push)||void 0===e||e.call(q):null===q||void 0===q||null===(t=q.pull)||void 0===t||t.call(q)}),[c]),A.useEffect((function(){return function(){var e;null===q||void 0===q||null===(e=q.pull)||void 0===e||e.call(q)}}),[]);var Z=F&&A.createElement(Gn,Pe({key:"mask"},N,{visible:c}),(function(e,t){var n=e.className,r=e.style;return A.createElement("div",{className:v()("".concat(o,"-mask"),n,M),style:l(l({},r),U),onClick:Q&&c?D:void 0,ref:t})})),$="function"===typeof k?k(u):k,ee={};if(W&&X)switch(u){case"top":ee.transform="translateY(".concat(X,"px)");break;case"bottom":ee.transform="translateY(".concat(-X,"px)");break;case"left":ee.transform="translateX(".concat(X,"px)");break;default:ee.transform="translateX(".concat(-X,"px)")}"left"===u||"right"===u?ee.width=ca(S):ee.height=ca(E);var te={onMouseEnter:H,onMouseOver:L,onMouseLeave:P,onClick:O,onKeyDown:R,onKeyUp:V},ne=A.createElement(Gn,Pe({key:"panel"},$,{visible:c,forceRender:p,onVisibleChanged:function(e){null===T||void 0===T||T(e)},removeOnLeave:!1,leavedClassName:"".concat(o,"-content-wrapper-hidden")}),(function(t,n){var r=t.className,s=t.style;return A.createElement("div",Pe({className:v()("".concat(o,"-content-wrapper"),r),style:l(l(l({},ee),s),I)},oa(e,{data:!0})),A.createElement(Aa,Pe({id:B,containerRef:n,prefixCls:o,className:x,style:C},te),j))})),re=l({},w);return b&&(re.zIndex=b),A.createElement(la.Provider,{value:J},A.createElement("div",{className:v()(o,"".concat(o,"-").concat(u),y,(a={},i(a,"".concat(o,"-open"),c),i(a,"".concat(o,"-inline"),d),a)),style:re,tabIndex:-1,ref:K,onKeyDown:function(e){var t=e.keyCode,n=e.shiftKey;switch(t){case na.TAB:var r;if(t===na.TAB)if(n||document.activeElement!==_.current){if(n&&document.activeElement===z.current){var s;null===(s=_.current)||void 0===s||s.focus({preventScroll:!0})}}else null===(r=z.current)||void 0===r||r.focus({preventScroll:!0});break;case na.ESC:D&&g&&(e.stopPropagation(),D(e))}}},Z,A.createElement("div",{tabIndex:0,ref:z,style:ua,"aria-hidden":"true","data-sentinel":"start"}),ne,A.createElement("div",{tabIndex:0,ref:_,style:ua,"aria-hidden":"true","data-sentinel":"end"})))}const ha=A.forwardRef(da);const pa=function(e){var t=e.open,n=void 0!==t&&t,r=e.prefixCls,s=void 0===r?"rc-drawer":r,a=e.placement,i=void 0===a?"right":a,o=e.autoFocus,c=void 0===o||o,u=e.keyboard,d=void 0===u||u,h=e.width,p=void 0===h?378:h,f=e.mask,g=void 0===f||f,v=e.maskClosable,y=void 0===v||v,w=e.getContainer,b=e.forceRender,x=e.afterOpenChange,B=e.destroyOnClose,C=e.onMouseEnter,k=e.onMouseOver,S=e.onMouseLeave,E=e.onClick,j=e.onKeyDown,I=e.onKeyUp,F=m(A.useState(!1),2),Q=F[0],N=F[1];var M=m(A.useState(!1),2),U=M[0],T=M[1];Lt((function(){T(!0)}),[]);var D=!!U&&n,H=A.useRef(),L=A.useRef();Lt((function(){D&&(L.current=document.activeElement)}),[D]);if(!b&&!Q&&!D&&B)return null;var P={onMouseEnter:C,onMouseOver:k,onMouseLeave:S,onClick:E,onKeyDown:j,onKeyUp:I},O=l(l({},e),{},{open:D,prefixCls:s,placement:i,autoFocus:c,keyboard:d,width:p,mask:g,maskClosable:y,inline:!1===w,afterOpenChange:function(e){var t,n;(N(e),null===x||void 0===x||x(e),e||!L.current||(null===(t=H.current)||void 0===t?void 0:t.contains(L.current)))||(null===(n=L.current)||void 0===n||n.focus({preventScroll:!0}))},ref:H},P);return A.createElement(ea,{open:D||b||Q,autoDestroy:!1,getContainer:w,autoLock:g&&(D||Q)},A.createElement(ha,O))},ma=pa;function fa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return A.Children.forEach(e,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(fa(e)):(0,St.isFragment)(e)&&e.props?n=n.concat(fa(e.props.children,t)):n.push(e))})),n}const ga=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Set;return function e(t,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=r.has(t);if(le(!o,"Warning: There may be circular references"),o)return!1;if(t===a)return!0;if(n&&i>1)return!1;r.add(t);var l=i+1;if(Array.isArray(t)){if(!Array.isArray(a)||t.length!==a.length)return!1;for(var A=0;A<t.length;A++)if(!e(t[A],a[A],l))return!1;return!0}if(t&&a&&"object"===s(t)&&"object"===s(a)){var c=Object.keys(t);return c.length===Object.keys(a).length&&c.every((function(n){return e(t[n],a[n],l)}))}return!1}(e,t)};var va="RC_FORM_INTERNAL_HOOKS",ya=function(){le(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")};const wa=A.createContext({getFieldValue:ya,getFieldsValue:ya,getFieldError:ya,getFieldWarning:ya,getFieldsError:ya,isFieldsTouched:ya,isFieldTouched:ya,isFieldValidating:ya,isFieldsValidating:ya,resetFields:ya,setFields:ya,setFieldValue:ya,setFieldsValue:ya,validateFields:ya,submit:ya,getInternalHooks:function(){return ya(),{dispatch:ya,initEntityValue:ya,registerField:ya,useSubscribe:ya,setInitialValues:ya,destroyForm:ya,setCallbacks:ya,registerWatch:ya,getFields:ya,setValidateMessages:ya,setPreserve:ya,getInitialValue:ya}}});const ba=A.createContext(null);function xa(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function Ba(){return Ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ba.apply(this,arguments)}function Ca(e){return Ca=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ca(e)}function ka(e,t){return ka=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ka(e,t)}function Sa(e,t,n){return Sa=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(bC){return!1}}()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var s=new(Function.bind.apply(e,r));return n&&ka(s,n.prototype),s},Sa.apply(null,arguments)}function Ea(e){var t="function"===typeof Map?new Map:void 0;return Ea=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Sa(e,arguments,Ca(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ka(r,e)},Ea(e)}var ja=/%[sdj%]/g;function Ia(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function Fa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var s=0,a=n.length;return"function"===typeof e?e.apply(null,n):"string"===typeof e?e.replace(ja,(function(e){if("%%"===e)return"%";if(s>=a)return e;switch(e){case"%s":return String(n[s++]);case"%d":return Number(n[s++]);case"%j":try{return JSON.stringify(n[s++])}catch(t){return"[Circular]"}break;default:return e}})):e}function Qa(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function Na(e,t,n){var r=0,s=e.length;!function a(i){if(i&&i.length)n(i);else{var o=r;r+=1,o<s?t(e[o],a):n([])}}([])}var Ma=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,ka(t,n),r}(Ea(Error));function Ua(e,t,n,r,s){if(t.first){var a=new Promise((function(t,a){var i=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);Na(i,n,(function(e){return r(e),e.length?a(new Ma(e,Ia(e))):t(s)}))}));return a.catch((function(e){return e})),a}var i=!0===t.firstFields?Object.keys(e):t.firstFields||[],o=Object.keys(e),l=o.length,A=0,c=[],u=new Promise((function(t,a){var u=function(e){if(c.push.apply(c,e),++A===l)return r(c),c.length?a(new Ma(c,Ia(c))):t(s)};o.length||(r(c),t(s)),o.forEach((function(t){var r=e[t];-1!==i.indexOf(t)?Na(r,n,u):function(e,t,n){var r=[],s=0,a=e.length;function i(e){r.push.apply(r,e||[]),++s===a&&n(r)}e.forEach((function(e){t(e,i)}))}(r,n,u)}))}));return u.catch((function(e){return e})),u}function Ta(e,t){return function(n){var r,s;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(void 0==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(s=n)&&void 0!==s.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function Da(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===typeof r&&"object"===typeof e[n]?e[n]=Ba({},e[n],r):e[n]=r}return e}var Ha,La=function(e,t,n,r,s,a){!e.required||n.hasOwnProperty(e.field)&&!Qa(t,a||e.type)||r.push(Fa(s.messages.required,e.fullField))},Pa=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,Oa=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,Ra={integer:function(e){return Ra.number(e)&&parseInt(e,10)===e},float:function(e){return Ra.number(e)&&!Ra.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(bC){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!Ra.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(Pa)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(function(){if(Ha)return Ha;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",s=("\n(?:\n(?:"+r+":){7}(?:"+r+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+r+":){6}(?:"+n+"|:"+r+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+r+":){5}(?::"+n+"|(?::"+r+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+r+"){0,5}:"+n+"|(?::"+r+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+n+"$)|(?:^"+s+"$)"),i=new RegExp("^"+n+"$"),o=new RegExp("^"+s+"$"),l=function(e){return e&&e.exact?a:new RegExp("(?:"+t(e)+n+t(e)+")|(?:"+t(e)+s+t(e)+")","g")};l.v4=function(e){return e&&e.exact?i:new RegExp(""+t(e)+n+t(e),"g")},l.v6=function(e){return e&&e.exact?o:new RegExp(""+t(e)+s+t(e),"g")};var A=l.v4().source,c=l.v6().source;return Ha=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+A+"|"+c+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(e){return"string"===typeof e&&!!e.match(Oa)}},Va="enum",Ka={required:La,whitespace:function(e,t,n,r,s){(/^\s+$/.test(t)||""===t)&&r.push(Fa(s.messages.whitespace,e.fullField))},type:function(e,t,n,r,s){if(e.required&&void 0===t)La(e,t,n,r,s);else{var a=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(a)>-1?Ra[a](t)||r.push(Fa(s.messages.types[a],e.fullField,e.type)):a&&typeof t!==e.type&&r.push(Fa(s.messages.types[a],e.fullField,e.type))}},range:function(e,t,n,r,s){var a="number"===typeof e.len,i="number"===typeof e.min,o="number"===typeof e.max,l=t,A=null,c="number"===typeof t,u="string"===typeof t,d=Array.isArray(t);if(c?A="number":u?A="string":d&&(A="array"),!A)return!1;d&&(l=t.length),u&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),a?l!==e.len&&r.push(Fa(s.messages[A].len,e.fullField,e.len)):i&&!o&&l<e.min?r.push(Fa(s.messages[A].min,e.fullField,e.min)):o&&!i&&l>e.max?r.push(Fa(s.messages[A].max,e.fullField,e.max)):i&&o&&(l<e.min||l>e.max)&&r.push(Fa(s.messages[A].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,s){e[Va]=Array.isArray(e[Va])?e[Va]:[],-1===e[Va].indexOf(t)&&r.push(Fa(s.messages[Va],e.fullField,e[Va].join(", ")))},pattern:function(e,t,n,r,s){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(Fa(s.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(Fa(s.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},za=function(e,t,n,r,s){var a=e.type,i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qa(t,a)&&!e.required)return n();Ka.required(e,t,r,i,s,a),Qa(t,a)||Ka.type(e,t,r,i,s)}n(i)},_a={string:function(e,t,n,r,s){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qa(t,"string")&&!e.required)return n();Ka.required(e,t,r,a,s,"string"),Qa(t,"string")||(Ka.type(e,t,r,a,s),Ka.range(e,t,r,a,s),Ka.pattern(e,t,r,a,s),!0===e.whitespace&&Ka.whitespace(e,t,r,a,s))}n(a)},method:function(e,t,n,r,s){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qa(t)&&!e.required)return n();Ka.required(e,t,r,a,s),void 0!==t&&Ka.type(e,t,r,a,s)}n(a)},number:function(e,t,n,r,s){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),Qa(t)&&!e.required)return n();Ka.required(e,t,r,a,s),void 0!==t&&(Ka.type(e,t,r,a,s),Ka.range(e,t,r,a,s))}n(a)},boolean:function(e,t,n,r,s){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qa(t)&&!e.required)return n();Ka.required(e,t,r,a,s),void 0!==t&&Ka.type(e,t,r,a,s)}n(a)},regexp:function(e,t,n,r,s){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qa(t)&&!e.required)return n();Ka.required(e,t,r,a,s),Qa(t)||Ka.type(e,t,r,a,s)}n(a)},integer:function(e,t,n,r,s){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qa(t)&&!e.required)return n();Ka.required(e,t,r,a,s),void 0!==t&&(Ka.type(e,t,r,a,s),Ka.range(e,t,r,a,s))}n(a)},float:function(e,t,n,r,s){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qa(t)&&!e.required)return n();Ka.required(e,t,r,a,s),void 0!==t&&(Ka.type(e,t,r,a,s),Ka.range(e,t,r,a,s))}n(a)},array:function(e,t,n,r,s){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();Ka.required(e,t,r,a,s,"array"),void 0!==t&&null!==t&&(Ka.type(e,t,r,a,s),Ka.range(e,t,r,a,s))}n(a)},object:function(e,t,n,r,s){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qa(t)&&!e.required)return n();Ka.required(e,t,r,a,s),void 0!==t&&Ka.type(e,t,r,a,s)}n(a)},enum:function(e,t,n,r,s){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qa(t)&&!e.required)return n();Ka.required(e,t,r,a,s),void 0!==t&&Ka.enum(e,t,r,a,s)}n(a)},pattern:function(e,t,n,r,s){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qa(t,"string")&&!e.required)return n();Ka.required(e,t,r,a,s),Qa(t,"string")||Ka.pattern(e,t,r,a,s)}n(a)},date:function(e,t,n,r,s){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qa(t,"date")&&!e.required)return n();var i;if(Ka.required(e,t,r,a,s),!Qa(t,"date"))i=t instanceof Date?t:new Date(t),Ka.type(e,i,r,a,s),i&&Ka.range(e,i.getTime(),r,a,s)}n(a)},url:za,hex:za,email:za,required:function(e,t,n,r,s){var a=[],i=Array.isArray(t)?"array":typeof t;Ka.required(e,t,r,a,s,i),n(a)},any:function(e,t,n,r,s){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qa(t)&&!e.required)return n();Ka.required(e,t,r,a,s)}n(a)}};function Ga(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Wa=Ga(),Ya=function(){function e(e){this.rules=null,this._messages=Wa,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=Da(Ga(),e)),this._messages},t.validate=function(t,n,r){var s=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var a=t,i=n,o=r;if("function"===typeof i&&(o=i,i={}),!this.rules||0===Object.keys(this.rules).length)return o&&o(null,a),Promise.resolve(a);if(i.messages){var l=this.messages();l===Wa&&(l=Ga()),Da(l,i.messages),i.messages=l}else i.messages=this.messages();var A={};(i.keys||Object.keys(this.rules)).forEach((function(e){var n=s.rules[e],r=a[e];n.forEach((function(n){var i=n;"function"===typeof i.transform&&(a===t&&(a=Ba({},a)),r=a[e]=i.transform(r)),(i="function"===typeof i?{validator:i}:Ba({},i)).validator=s.getValidationMethod(i),i.validator&&(i.field=e,i.fullField=i.fullField||e,i.type=s.getType(i),A[e]=A[e]||[],A[e].push({rule:i,value:r,source:a,field:e}))}))}));var c={};return Ua(A,i,(function(t,n){var r,s=t.rule,o=("object"===s.type||"array"===s.type)&&("object"===typeof s.fields||"object"===typeof s.defaultField);function l(e,t){return Ba({},t,{fullField:s.fullField+"."+e,fullFields:s.fullFields?[].concat(s.fullFields,[e]):[e]})}function A(r){void 0===r&&(r=[]);var A=Array.isArray(r)?r:[r];!i.suppressWarning&&A.length&&e.warning("async-validator:",A),A.length&&void 0!==s.message&&(A=[].concat(s.message));var u=A.map(Ta(s,a));if(i.first&&u.length)return c[s.field]=1,n(u);if(o){if(s.required&&!t.value)return void 0!==s.message?u=[].concat(s.message).map(Ta(s,a)):i.error&&(u=[i.error(s,Fa(i.messages.required,s.field))]),n(u);var d={};s.defaultField&&Object.keys(t.value).map((function(e){d[e]=s.defaultField})),d=Ba({},d,t.rule.fields);var h={};Object.keys(d).forEach((function(e){var t=d[e],n=Array.isArray(t)?t:[t];h[e]=n.map(l.bind(null,e))}));var p=new e(h);p.messages(i.messages),t.rule.options&&(t.rule.options.messages=i.messages,t.rule.options.error=i.error),p.validate(t.value,t.rule.options||i,(function(e){var t=[];u&&u.length&&t.push.apply(t,u),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(u)}if(o=o&&(s.required||!s.required&&t.value),s.field=t.field,s.asyncValidator)r=s.asyncValidator(s,t.value,A,t.source,i);else if(s.validator){try{r=s.validator(s,t.value,A,t.source,i)}catch(u){null==console.error||console.error(u),i.suppressValidatorError||setTimeout((function(){throw u}),0),A(u.message)}!0===r?A():!1===r?A("function"===typeof s.message?s.message(s.fullField||s.field):s.message||(s.fullField||s.field)+" fails"):r instanceof Array?A(r):r instanceof Error&&A(r.message)}r&&r.then&&r.then((function(){return A()}),(function(e){return A(e)}))}),(function(e){!function(e){var t=[],n={};function r(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var s=0;s<e.length;s++)r(e[s]);t.length?(n=Ia(t),o(t,n)):o(null,a)}(e)}),a)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!_a.hasOwnProperty(e.type))throw new Error(Fa("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?_a.required:_a[this.getType(e)]||void 0},e}();Ya.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");_a[e]=t},Ya.warning=function(){},Ya.messages=Wa,Ya.validators=_a;var qa="'${name}' is not a valid ${type}",Xa={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:qa,method:qa,array:qa,object:qa,number:qa,date:qa,boolean:qa,integer:qa,float:qa,regexp:qa,email:qa,url:qa,hex:qa},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},Ja=Ya;function Za(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}var $a="CODE_LOGIC_ERROR";function ei(e,t,n,r,s){return ti.apply(this,arguments)}function ti(){return ti=ct(lt().mark((function e(t,n,r,s,a){var o,c,u,d,h,p,m,f,g;return lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(o=l({},r)).ruleIndex,Ja.warning=function(){},o.validator&&(c=o.validator,o.validator=function(){try{return c.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject($a)}}),u=null,o&&"array"===o.type&&o.defaultField&&(u=o.defaultField,delete o.defaultField),d=new Ja(i({},t,[o])),h=qt(Xa,s.validateMessages),d.messages(h),p=[],e.prev=10,e.next=13,Promise.resolve(d.validate(i({},t,n),l({},s)));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),e.t0.errors&&(p=e.t0.errors.map((function(e,t){var n=e.message,r=n===$a?h.default:n;return A.isValidElement(r)?A.cloneElement(r,{key:"error_".concat(t)}):r})));case 18:if(p.length||!u){e.next=23;break}return e.next=21,Promise.all(n.map((function(e,n){return ei("".concat(t,".").concat(n),e,u,s,a)})));case 21:return m=e.sent,e.abrupt("return",m.reduce((function(e,t){return[].concat(Kt(e),Kt(t))}),[]));case 23:return f=l(l({},r),{},{name:t,enum:(r.enum||[]).join(", ")},a),g=p.map((function(e){return"string"===typeof e?Za(e,f):e})),e.abrupt("return",g);case 26:case"end":return e.stop()}}),e,null,[[10,15]])}))),ti.apply(this,arguments)}function ni(e,t,n,r,s,a){var i,o=e.join("."),A=n.map((function(e,t){var n=e.validator,r=l(l({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var s=!1,a=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){le(!s,"Your validator function has already return a promise. `callback` will be ignored."),s||r.apply(void 0,t)}))}));s=a&&"function"===typeof a.then&&"function"===typeof a.catch,le(s,"`callback` is deprecated. Please return a promise instead."),s&&a.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,s=t.warningOnly,a=t.ruleIndex;return!!n===!!s?r-a:n?1:-1}));if(!0===s)i=new Promise(function(){var e=ct(lt().mark((function e(n,s){var i,l,c;return lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<A.length)){e.next=12;break}return l=A[i],e.next=5,ei(o,t,l,r,a);case 5:if(!(c=e.sent).length){e.next=9;break}return s([{errors:c,rule:l}]),e.abrupt("return");case 9:i+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var c=A.map((function(e){return ei(o,t,e,r,a).then((function(t){return{errors:t,rule:e}}))}));i=(s?function(e){return si.apply(this,arguments)}(c):function(e){return ri.apply(this,arguments)}(c)).then((function(e){return Promise.reject(e)}))}return i.catch((function(e){return e})),i}function ri(){return(ri=ct(lt().mark((function e(t){return lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,Kt(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function si(){return(si=ct(lt().mark((function e(t){var n;return lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ai(e){return xa(e)}function ii(e,t){var n={};return t.forEach((function(t){var r=zt(e,t);n=Gt(n,t,r)})),n}function oi(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&e.some((function(e){return li(t,e,n)}))}function li(e,t){return!(!e||!t)&&(!(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&e.length!==t.length)&&t.every((function(t,n){return e[n]===t})))}function Ai(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===s(t.target)&&e in t.target?t.target[e]:t}function ci(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var s=e[t],a=t-n;return a>0?[].concat(Kt(e.slice(0,n)),[s],Kt(e.slice(n,t)),Kt(e.slice(t+1,r))):a<0?[].concat(Kt(e.slice(0,t)),Kt(e.slice(t+1,n+1)),[s],Kt(e.slice(n+1,r))):e}var ui=["name"],di=[];function hi(e,t,n,r,s,a){return"function"===typeof e?e(t,n,"source"in a?{source:a.source}:{}):r!==s}var pi=function(e){nt(n,e);var t=ot(n);function n(e){var r;(Ze(this,n),i(at(r=t.call(this,e)),"state",{resetCount:0}),i(at(r),"cancelRegisterFunc",null),i(at(r),"mounted",!1),i(at(r),"touched",!1),i(at(r),"dirty",!1),i(at(r),"validatePromise",void 0),i(at(r),"prevValidating",void 0),i(at(r),"errors",di),i(at(r),"warnings",di),i(at(r),"cancelRegister",(function(){var e=r.props,t=e.preserve,n=e.isListField,s=e.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(n,t,ai(s)),r.cancelRegisterFunc=null})),i(at(r),"getNamePath",(function(){var e=r.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat(Kt(void 0===n?[]:n),Kt(t)):[]})),i(at(r),"getRules",(function(){var e=r.props,t=e.rules,n=void 0===t?[]:t,s=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(s):e}))})),i(at(r),"refresh",(function(){r.mounted&&r.setState((function(e){return{resetCount:e.resetCount+1}}))})),i(at(r),"metaCache",null),i(at(r),"triggerMetaEvent",(function(e){var t=r.props.onMetaChange;if(t){var n=l(l({},r.getMeta()),{},{destroy:e});ga(r.metaCache,n)||t(n),r.metaCache=n}else r.metaCache=null})),i(at(r),"onStoreChange",(function(e,t,n){var s=r.props,a=s.shouldUpdate,i=s.dependencies,o=void 0===i?[]:i,l=s.onReset,A=n.store,c=r.getNamePath(),u=r.getValue(e),d=r.getValue(A),h=t&&oi(t,c);switch("valueUpdate"===n.type&&"external"===n.source&&u!==d&&(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=di,r.warnings=di,r.triggerMetaEvent()),n.type){case"reset":if(!t||h)return r.touched=!1,r.dirty=!1,r.validatePromise=void 0,r.errors=di,r.warnings=di,r.triggerMetaEvent(),null===l||void 0===l||l(),void r.refresh();break;case"remove":if(a)return void r.reRender();break;case"setField":var p=n.data;if(h)return"touched"in p&&(r.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(r.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(r.errors=p.errors||di),"warnings"in p&&(r.warnings=p.warnings||di),r.dirty=!0,r.triggerMetaEvent(),void r.reRender();if("value"in p&&oi(t,c,!0))return void r.reRender();if(a&&!c.length&&hi(a,e,A,u,d,n))return void r.reRender();break;case"dependenciesUpdate":if(o.map(ai).some((function(e){return oi(n.relatedFields,e)})))return void r.reRender();break;default:if(h||(!o.length||c.length||a)&&hi(a,e,A,u,d,n))return void r.reRender()}!0===a&&r.reRender()})),i(at(r),"validateRules",(function(e){var t=r.getNamePath(),n=r.getValue(),s=e||{},a=s.triggerName,i=s.validateOnly,o=void 0!==i&&i,l=Promise.resolve().then(ct(lt().mark((function s(){var i,o,A,c,u,d,h;return lt().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(r.mounted){s.next=2;break}return s.abrupt("return",[]);case 2:if(i=r.props,o=i.validateFirst,A=void 0!==o&&o,c=i.messageVariables,u=i.validateDebounce,d=r.getRules(),a&&(d=d.filter((function(e){return e})).filter((function(e){var t=e.validateTrigger;return!t||xa(t).includes(a)}))),!u||!a){s.next=10;break}return s.next=8,new Promise((function(e){setTimeout(e,u)}));case 8:if(r.validatePromise===l){s.next=10;break}return s.abrupt("return",[]);case 10:return(h=ni(t,n,d,e,A,c)).catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di;if(r.validatePromise===l){var t;r.validatePromise=null;var n=[],s=[];null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,r=e.errors,a=void 0===r?di:r;t?s.push.apply(s,Kt(a)):n.push.apply(n,Kt(a))})),r.errors=n,r.warnings=s,r.triggerMetaEvent(),r.reRender()}})),s.abrupt("return",h);case 13:case"end":return s.stop()}}),s)}))));return o||(r.validatePromise=l,r.dirty=!0,r.errors=di,r.warnings=di,r.triggerMetaEvent(),r.reRender()),l})),i(at(r),"isFieldValidating",(function(){return!!r.validatePromise})),i(at(r),"isFieldTouched",(function(){return r.touched})),i(at(r),"isFieldDirty",(function(){return!(!r.dirty&&void 0===r.props.initialValue)||void 0!==(0,r.props.fieldContext.getInternalHooks(va).getInitialValue)(r.getNamePath())})),i(at(r),"getErrors",(function(){return r.errors})),i(at(r),"getWarnings",(function(){return r.warnings})),i(at(r),"isListField",(function(){return r.props.isListField})),i(at(r),"isList",(function(){return r.props.isList})),i(at(r),"isPreserve",(function(){return r.props.preserve})),i(at(r),"getMeta",(function(){return r.prevValidating=r.isFieldValidating(),{touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath(),validated:null===r.validatePromise}})),i(at(r),"getOnlyChild",(function(e){if("function"===typeof e){var t=r.getMeta();return l(l({},r.getOnlyChild(e(r.getControlled(),t,r.props.fieldContext))),{},{isFunction:!0})}var n=fa(e);return 1===n.length&&A.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}})),i(at(r),"getValue",(function(e){var t=r.props.fieldContext.getFieldsValue,n=r.getNamePath();return zt(e||t(!0),n)})),i(at(r),"getControlled",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.props,n=t.trigger,s=t.validateTrigger,a=t.getValueFromEvent,o=t.normalize,A=t.valuePropName,c=t.getValueProps,u=t.fieldContext,d=void 0!==s?s:u.validateTrigger,h=r.getNamePath(),p=u.getInternalHooks,m=u.getFieldsValue,f=p(va).dispatch,g=r.getValue(),v=c||function(e){return i({},A,e)},y=e[n],w=l(l({},e),v(g));return w[n]=function(){var e;r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];e=a?a.apply(void 0,n):Ai.apply(void 0,[A].concat(n)),o&&(e=o(e,g,m(!0))),f({type:"updateValue",namePath:h,value:e}),y&&y.apply(void 0,n)},xa(d||[]).forEach((function(e){var t=w[e];w[e]=function(){t&&t.apply(void 0,arguments);var n=r.props.rules;n&&n.length&&f({type:"validateField",namePath:h,triggerName:e})}})),w})),e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(va).initEntityValue)(at(r));return r}return et(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(va).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,r=this.getOnlyChild(n),s=r.child;return r.isFunction?e=s:A.isValidElement(s)?e=A.cloneElement(s,this.getControlled(s.props)):(le(!s,"`children` of Field is not validate ReactElement."),e=s),A.createElement(A.Fragment,{key:t},e)}}]),n}(A.Component);i(pi,"contextType",wa),i(pi,"defaultProps",{trigger:"onChange",valuePropName:"value"});const mi=function(e){var t=e.name,n=f(e,ui),r=A.useContext(wa),s=A.useContext(ba),a=void 0!==t?ai(t):void 0,i="keep";return n.isListField||(i="_".concat((a||[]).join("_"))),A.createElement(pi,Pe({key:i,name:a,isListField:!!s},n,{fieldContext:r}))};const fi=function(e){var t=e.name,n=e.initialValue,r=e.children,s=e.rules,a=e.validateTrigger,i=e.isListField,o=A.useContext(wa),c=A.useContext(ba),u=A.useRef({keys:[],id:0}).current,d=A.useMemo((function(){var e=ai(o.prefixName)||[];return[].concat(Kt(e),Kt(ai(t)))}),[o.prefixName,t]),h=A.useMemo((function(){return l(l({},o),{},{prefixName:d})}),[o,d]),p=A.useMemo((function(){return{getKey:function(e){var t=d.length,n=e[t];return[u.keys[n],e.slice(t+1)]}}}),[d]);return"function"!==typeof r?(le(!1,"Form.List only accepts function as children."),null):A.createElement(ba.Provider,{value:p},A.createElement(wa.Provider,{value:h},A.createElement(mi,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:s,validateTrigger:a,initialValue:n,isList:!0,isListField:null!==i&&void 0!==i?i:!!c},(function(e,t){var n=e.value,s=void 0===n?[]:n,a=e.onChange,i=o.getFieldValue,l=function(){return i(d||[])||[]},A={add:function(e,t){var n=l();t>=0&&t<=n.length?(u.keys=[].concat(Kt(u.keys.slice(0,t)),[u.id],Kt(u.keys.slice(t))),a([].concat(Kt(n.slice(0,t)),[e],Kt(n.slice(t))))):(u.keys=[].concat(Kt(u.keys),[u.id]),a([].concat(Kt(n),[e]))),u.id+=1},remove:function(e){var t=l(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(u.keys=u.keys.filter((function(e,t){return!n.has(t)})),a(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=l();e<0||e>=n.length||t<0||t>=n.length||(u.keys=ci(u.keys,e,t),a(ci(n,e,t)))}}},c=s||[];return Array.isArray(c)||(c=[]),r(c.map((function(e,t){var n=u.keys[t];return void 0===n&&(u.keys[t]=u.id,n=u.keys[t],u.id+=1),{name:t,key:n,isListField:!0}})),A,t)}))))};var gi="__@field_split__";function vi(e){return e.map((function(e){return"".concat(s(e),":").concat(e)})).join(gi)}var yi=function(){function e(){Ze(this,e),i(this,"kvs",new Map)}return et(e,[{key:"set",value:function(e,t){this.kvs.set(vi(e),t)}},{key:"get",value:function(e){return this.kvs.get(vi(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(vi(e))}},{key:"map",value:function(e){return Kt(this.kvs.entries()).map((function(t){var n=m(t,2),r=n[0],s=n[1],a=r.split(gi);return e({key:a.map((function(e){var t=m(e.match(/^([^:]*):(.*)$/),3),n=t[1],r=t[2];return"number"===n?Number(r):r})),value:s})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}();const wi=yi;var bi=["name"],xi=et((function e(t){var n=this;Ze(this,e),i(this,"formHooked",!1),i(this,"forceRootUpdate",void 0),i(this,"subscribable",!0),i(this,"store",{}),i(this,"fieldEntities",[]),i(this,"initialValues",{}),i(this,"callbacks",{}),i(this,"validateMessages",null),i(this,"preserve",null),i(this,"lastValidatePromise",null),i(this,"getForm",(function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}})),i(this,"getInternalHooks",(function(e){return e===va?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(le(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)})),i(this,"useSubscribe",(function(e){n.subscribable=e})),i(this,"prevWithoutPreserves",null),i(this,"setInitialValues",(function(e,t){if(n.initialValues=e||{},t){var r,s=qt(e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map((function(t){var n=t.key;s=Gt(s,n,zt(e,n))})),n.prevWithoutPreserves=null,n.updateStore(s)}})),i(this,"destroyForm",(function(){var e=new wi;n.getFieldEntities(!0).forEach((function(t){n.isMergedPreserve(t.isPreserve())||e.set(t.getNamePath(),!0)})),n.prevWithoutPreserves=e})),i(this,"getInitialValue",(function(e){var t=zt(n.initialValues,e);return e.length?qt(t):t})),i(this,"setCallbacks",(function(e){n.callbacks=e})),i(this,"setValidateMessages",(function(e){n.validateMessages=e})),i(this,"setPreserve",(function(e){n.preserve=e})),i(this,"watchList",[]),i(this,"registerWatch",(function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter((function(t){return t!==e}))}})),i(this,"notifyWatch",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue(),r=n.getFieldsValue(!0);n.watchList.forEach((function(n){n(t,r,e)}))}})),i(this,"timeoutId",null),i(this,"warningUnhooked",(function(){0})),i(this,"updateStore",(function(e){n.store=e})),i(this,"getFieldEntities",(function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities})),i(this,"getFieldsMap",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new wi;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t})),i(this,"getFieldEntitiesForNamePathList",(function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=ai(e);return t.get(n)||{INVALIDATE_NAME_PATH:ai(e)}}))})),i(this,"getFieldsValue",(function(e,t){var r,a,i;if(n.warningUnhooked(),!0===e||Array.isArray(e)?(r=e,a=t):e&&"object"===s(e)&&(i=e.strict,a=e.filter),!0===r&&!a)return n.store;var o=n.getFieldEntitiesForNamePathList(Array.isArray(r)?r:null),l=[];return o.forEach((function(e){var t,n,s,o,A="INVALIDATE_NAME_PATH"in e?e.INVALIDATE_NAME_PATH:e.getNamePath();if(i){if(null!==(s=(o=e).isList)&&void 0!==s&&s.call(o))return}else if(!r&&null!==(t=(n=e).isListField)&&void 0!==t&&t.call(n))return;if(a){var c="getMeta"in e?e.getMeta():null;a(c)&&l.push(A)}else l.push(A)})),ii(n.store,l.map(ai))})),i(this,"getFieldValue",(function(e){n.warningUnhooked();var t=ai(e);return zt(n.store,t)})),i(this,"getFieldsError",(function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:ai(e[n]),errors:[],warnings:[]}}))})),i(this,"getFieldError",(function(e){n.warningUnhooked();var t=ai(e);return n.getFieldsError([t])[0].errors})),i(this,"getFieldWarning",(function(e){n.warningUnhooked();var t=ai(e);return n.getFieldsError([t])[0].warnings})),i(this,"isFieldsTouched",(function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var s,a=t[0],i=t[1],o=!1;0===t.length?s=null:1===t.length?Array.isArray(a)?(s=a.map(ai),o=!1):(s=null,o=a):(s=a.map(ai),o=i);var l=n.getFieldEntities(!0),A=function(e){return e.isFieldTouched()};if(!s)return o?l.every(A):l.some(A);var c=new wi;s.forEach((function(e){c.set(e,[])})),l.forEach((function(e){var t=e.getNamePath();s.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&c.update(n,(function(t){return[].concat(Kt(t),[e])}))}))}));var u=function(e){return e.some(A)},d=c.map((function(e){return e.value}));return o?d.every(u):d.some(u)})),i(this,"isFieldTouched",(function(e){return n.warningUnhooked(),n.isFieldsTouched([e])})),i(this,"isFieldsValidating",(function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(ai);return t.some((function(e){var t=e.getNamePath();return oi(r,t)&&e.isFieldValidating()}))})),i(this,"isFieldValidating",(function(e){return n.warningUnhooked(),n.isFieldsValidating([e])})),i(this,"resetWithFieldInitialValue",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new wi,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var s=t.get(r)||new Set;s.add({entity:e,value:n}),t.set(r,s)}}));var s;e.entities?s=e.entities:e.namePathList?(s=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=s).push.apply(n,Kt(Kt(r).map((function(e){return e.entity}))))}))):s=r,s.forEach((function(r){if(void 0!==r.props.initialValue){var s=r.getNamePath();if(void 0!==n.getInitialValue(s))le(!1,"Form already set 'initialValues' with path '".concat(s.join("."),"'. Field can not overwrite it."));else{var a=t.get(s);if(a&&a.size>1)le(!1,"Multiple Field with path '".concat(s.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(a){var i=n.getFieldValue(s);e.skipExist&&void 0!==i||n.updateStore(Gt(n.store,s,Kt(a)[0].value))}}}}))})),i(this,"resetFields",(function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(qt(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(ai);r.forEach((function(e){var t=n.getInitialValue(e);n.updateStore(Gt(n.store,e,t))})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)})),i(this,"setFields",(function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach((function(e){var s=e.name,a=f(e,bi),i=ai(s);r.push(i),"value"in a&&n.updateStore(Gt(n.store,i,a.value)),n.notifyObservers(t,[i],{type:"setField",data:e})})),n.notifyWatch(r)})),i(this,"getFields",(function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=l(l({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(r,"originRCField",{value:!0}),r}))})),i(this,"initEntityValue",(function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===zt(n.store,r)&&n.updateStore(Gt(n.store,r,t))}})),i(this,"isMergedPreserve",(function(e){var t=void 0!==e?e:n.preserve;return null===t||void 0===t||t})),i(this,"registerField",(function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,s){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e})),!n.isMergedPreserve(s)&&(!r||a.length>1)){var i=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==i&&n.fieldEntities.every((function(e){return!li(e.getNamePath(),t)}))){var o=n.store;n.updateStore(Gt(o,t,i,!0)),n.notifyObservers(o,[t],{type:"remove"}),n.triggerDependenciesUpdate(o,t)}}n.notifyWatch([t])}})),i(this,"dispatch",(function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var s=e.namePath,a=e.triggerName;n.validateFields([s],{triggerName:a})}})),i(this,"notifyObservers",(function(e,t,r){if(n.subscribable){var s=l(l({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,s)}))}else n.forceRootUpdate()})),i(this,"triggerDependenciesUpdate",(function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat(Kt(r))}),r})),i(this,"updateValue",(function(e,t){var r=ai(e),s=n.store;n.updateStore(Gt(n.store,r,t)),n.notifyObservers(s,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var a=n.triggerDependenciesUpdate(s,r),i=n.callbacks.onValuesChange;i&&i(ii(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat(Kt(a)))})),i(this,"setFieldsValue",(function(e){n.warningUnhooked();var t=n.store;if(e){var r=qt(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()})),i(this,"setFieldValue",(function(e,t){n.setFields([{name:e,value:t}])})),i(this,"getDependencyChildrenFields",(function(e){var t=new Set,r=[],s=new wi;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=ai(t);s.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(s.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var s=n.getNamePath();n.isFieldDirty()&&s.length&&(r.push(s),e(s))}}))}(e),r})),i(this,"triggerOnFieldsChange",(function(e,t){var r=n.callbacks.onFieldsChange;if(r){var s=n.getFields();if(t){var a=new wi;t.forEach((function(e){var t=e.name,n=e.errors;a.set(t,n)})),s.forEach((function(e){e.errors=a.get(e.name)||e.errors}))}var i=s.filter((function(t){var n=t.name;return oi(e,n)}));i.length&&r(i,s)}})),i(this,"validateFields",(function(e,t){var r,s,a;n.warningUnhooked(),Array.isArray(e)||"string"===typeof e||"string"===typeof t?(s=e,a=t):a=e;var i=!!s,o=i?s.map(ai):[],A=[],c=String(Date.now()),u=new Set,d=null===(r=a)||void 0===r?void 0:r.recursive;n.getFieldEntities(!0).forEach((function(e){if(i||o.push(e.getNamePath()),e.props.rules&&e.props.rules.length){var t=e.getNamePath();if(u.add(t.join(c)),!i||oi(o,t,d)){var r=e.validateRules(l({validateMessages:l(l({},Xa),n.validateMessages)},a));A.push(r.then((function(){return{name:t,errors:[],warnings:[]}})).catch((function(e){var n,r=[],s=[];return null===(n=e.forEach)||void 0===n||n.call(e,(function(e){var t=e.rule.warningOnly,n=e.errors;t?s.push.apply(s,Kt(n)):r.push.apply(r,Kt(n))})),r.length?Promise.reject({name:t,errors:r,warnings:s}):{name:t,errors:r,warnings:s}})))}}}));var h=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(s,a){e.forEach((function(e,i){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[i]=e,n>0||(t&&a(r),s(r))}))}))})):Promise.resolve([])}(A);n.lastValidatePromise=h,h.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var p=h.then((function(){return n.lastValidatePromise===h?Promise.resolve(n.getFieldsValue(o)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(o),errorFields:t,outOfDate:n.lastValidatePromise!==h})}));p.catch((function(e){return e}));var m=o.filter((function(e){return u.has(e.join(c))}));return n.triggerOnFieldsChange(m),p})),i(this,"submit",(function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))})),this.forceRootUpdate=t}));const Bi=function(e){var t=A.useRef(),n=m(A.useState({}),2)[1];if(!t.current)if(e)t.current=e;else{var r=new xi((function(){n({})}));t.current=r.getForm()}return[t.current]};var Ci=A.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}});const ki=Ci;var Si=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"];const Ei=function(e,t){var n=e.name,r=e.initialValues,a=e.fields,i=e.form,o=e.preserve,c=e.children,u=e.component,d=void 0===u?"form":u,h=e.validateMessages,p=e.validateTrigger,g=void 0===p?"onChange":p,v=e.onValuesChange,y=e.onFieldsChange,w=e.onFinish,b=e.onFinishFailed,x=f(e,Si),B=A.useContext(ki),C=m(Bi(i),1)[0],k=C.getInternalHooks(va),S=k.useSubscribe,E=k.setInitialValues,j=k.setCallbacks,I=k.setValidateMessages,F=k.setPreserve,Q=k.destroyForm;A.useImperativeHandle(t,(function(){return C})),A.useEffect((function(){return B.registerForm(n,C),function(){B.unregisterForm(n)}}),[B,C,n]),I(l(l({},B.validateMessages),h)),j({onValuesChange:v,onFieldsChange:function(e){if(B.triggerFormChange(n,e),y){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];y.apply(void 0,[e].concat(r))}},onFinish:function(e){B.triggerFormFinish(n,e),w&&w(e)},onFinishFailed:b}),F(o);var N,M=A.useRef(null);E(r,!M.current),M.current||(M.current=!0),A.useEffect((function(){return Q}),[]);var U="function"===typeof c;U?N=c(C.getFieldsValue(!0),C):N=c;S(!U);var T=A.useRef();A.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==s(e)||"object"!==s(t))return!1;var n=Object.keys(e),r=Object.keys(t);return Kt(new Set([].concat(n,r))).every((function(n){var r=e[n],s=t[n];return"function"===typeof r&&"function"===typeof s||r===s}))})(T.current||[],a||[])||C.setFields(a||[]),T.current=a}),[a,C]);var D=A.useMemo((function(){return l(l({},C),{},{validateTrigger:g})}),[C,g]),H=A.createElement(ba.Provider,{value:null},A.createElement(wa.Provider,{value:D},N));return!1===d?H:A.createElement(d,Pe({},x,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),C.submit()},onReset:function(e){var t;e.preventDefault(),C.resetFields(),null===(t=x.onReset)||void 0===t||t.call(x,e)}}),H)};function ji(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var Ii=function(){};const Fi=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],s=void 0===r?[]:r,a=t[1],i=void 0===a?{}:a,o=function(e){return e&&!!e._init}(i)?{form:i}:i,l=o.form,c=m((0,A.useState)(),2),u=c[0],d=c[1],h=(0,A.useMemo)((function(){return ji(u)}),[u]),p=(0,A.useRef)(h);p.current=h;var f=(0,A.useContext)(wa),g=l||f,v=g&&g._init,y=ai(s),w=(0,A.useRef)(y);return w.current=y,Ii(y),(0,A.useEffect)((function(){if(v){var e=g.getFieldsValue,t=(0,(0,g.getInternalHooks)(va).registerWatch)((function(e,t){var n=zt(o.preserve?t:e,w.current),r=ji(n);p.current!==r&&(p.current=r,d(n))})),n=zt(o.preserve?e(!0):e(),w.current);return u!==n&&d(n),t}}),[v]),u};var Qi=A.forwardRef(Ei);Qi.FormProvider=function(e){var t=e.validateMessages,n=e.onFormChange,r=e.onFormFinish,s=e.children,a=A.useContext(Ci),o=A.useRef({});return A.createElement(Ci.Provider,{value:l(l({},a),{},{validateMessages:l(l({},a.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:o.current}),a.triggerFormChange(e,t)},triggerFormFinish:function(e,t){r&&r(e,{values:t,forms:o.current}),a.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(o.current=l(l({},o.current),{},i({},e,t))),a.registerForm(e,t)},unregisterForm:function(e){var t=l({},o.current);delete t[e],o.current=t,a.unregisterForm(e)}})},s)},Qi.Field=mi,Qi.List=fi,Qi.useForm=Bi,Qi.useWatch=Fi;var Ni=A.createContext({}),Mi=function(e){var t=e.children,n=e.status,r=e.override,s=(0,A.useContext)(Ni),a=(0,A.useMemo)((function(){var e=Pe({},s);return r&&delete e.isFormItemInput,n&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[n,r,s]);return A.createElement(Ni.Provider,{value:a},t)},Ui=function(){return{height:0,opacity:0}},Ti=function(e){return{height:e.scrollHeight,opacity:1}},Di=function(e,t){return!0===(null===t||void 0===t?void 0:t.deadline)||"height"===t.propertyName},Hi={motionName:"ant-motion-collapse",onAppearStart:Ui,onEnterStart:Ui,onAppearActive:Ti,onEnterActive:Ti,onLeaveStart:function(e){return{height:e?e.offsetHeight:0}},onLeaveActive:Ui,onAppearEnd:Di,onEnterEnd:Di,onLeaveEnd:Di,motionDeadline:500},Li=(Ts("bottomLeft","bottomRight","topLeft","topRight"),function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)});const Pi=Hi;var Oi=A.createContext(null),Ri=function(e,t){var n=A.useContext(Oi),r=A.useMemo((function(){if(!n)return"";var r=n.compactDirection,s=n.isFirstItem,a=n.isLastItem,o="vertical"===r?"-vertical-":"-";return v()(i(i(i(i({},"".concat(e,"-compact").concat(o,"item"),!0),"".concat(e,"-compact").concat(o,"first-item"),s),"".concat(e,"-compact").concat(o,"last-item"),a),"".concat(e,"-compact").concat(o,"item-rtl"),"rtl"===t))}),[e,t,n]);return{compactSize:null===n||void 0===n?void 0:n.compactSize,compactDirection:null===n||void 0===n?void 0:n.compactDirection,compactItemClassnames:r}},Vi=function(e){var t=e.children;return A.createElement(Oi.Provider,{value:null},t)};var Ki=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},zi=(Ts("default","large"),{distance:180});const _i=function(e){var t=e.width,n=e.height,r=e.size,s=void 0===r?"default":r,a=e.closable,o=void 0===a||a,l=e.mask,c=void 0===l||l,u=e.push,d=void 0===u?zi:u,h=e.closeIcon,p=void 0===h?A.createElement(_e,null):h,f=e.bodyStyle,g=e.drawerStyle,y=e.className,w=e.visible,b=e.open,x=e.children,B=e.style,C=e.title,k=e.headerStyle,S=e.onClose,E=e.footer,j=e.footerStyle,I=e.prefixCls,F=e.getContainer,Q=e.extra,N=e.afterVisibleChange,M=e.afterOpenChange,U=Ki(e,["width","height","size","closable","mask","push","closeIcon","bodyStyle","drawerStyle","className","visible","open","children","style","title","headerStyle","onClose","footer","footerStyle","prefixCls","getContainer","extra","afterVisibleChange","afterOpenChange"]),T=A.useContext(jr),D=T.getPopupContainer,H=T.getPrefixCls,L=T.direction,P=H("drawer",I),O=void 0===F&&D?function(){return D(document.body)}:F,R=o&&A.createElement("button",{type:"button",onClick:S,"aria-label":"Close",className:"".concat(P,"-close")},p);[["visible","open"],["afterVisibleChange","afterOpenChange"]].forEach((function(e){var t=m(e,2);t[0],t[1]}));var V=v()(i({"no-mask":!c},"".concat(P,"-rtl"),"rtl"===L),y),K=A.useMemo((function(){return null!==t&&void 0!==t?t:"large"===s?736:378}),[t,s]),z=A.useMemo((function(){return null!==n&&void 0!==n?n:"large"===s?736:378}),[n,s]),_={motionName:Li(P,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500};return A.createElement(Vi,null,A.createElement(Mi,{status:!0,override:!0},A.createElement(ma,Pe({prefixCls:P,onClose:S},U,{open:null!==b&&void 0!==b?b:w,mask:c,push:d,width:K,height:z,rootClassName:V,getContainer:O,afterOpenChange:function(e){null===M||void 0===M||M(e),null===N||void 0===N||N(e)},maskMotion:_,motion:function(e){return{motionName:Li(P,"panel-motion-".concat(e)),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}},rootStyle:B}),A.createElement("div",{className:"".concat(P,"-wrapper-body"),style:Pe({},g)},C||o?A.createElement("div",{className:v()("".concat(P,"-header"),i({},"".concat(P,"-header-close-only"),o&&!C&&!Q)),style:k},A.createElement("div",{className:"".concat(P,"-header-title")},R,C&&A.createElement("div",{className:"".concat(P,"-title")},C)),Q&&A.createElement("div",{className:"".concat(P,"-extra")},Q)):null,A.createElement("div",{className:"".concat(P,"-body"),style:f},x),function(){if(!E)return null;var e="".concat(P,"-footer");return A.createElement("div",{className:e,style:j},E)}()))))};var Gi=n(6705),Wi=n.n(Gi);const Yi={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var qi,Xi=new Uint8Array(16);function Ji(){if(!qi&&!(qi="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return qi(Xi)}for(var Zi=[],$i=0;$i<256;++$i)Zi.push(($i+256).toString(16).slice(1));function eo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(Zi[e[t+0]]+Zi[e[t+1]]+Zi[e[t+2]]+Zi[e[t+3]]+"-"+Zi[e[t+4]]+Zi[e[t+5]]+"-"+Zi[e[t+6]]+Zi[e[t+7]]+"-"+Zi[e[t+8]]+Zi[e[t+9]]+"-"+Zi[e[t+10]]+Zi[e[t+11]]+Zi[e[t+12]]+Zi[e[t+13]]+Zi[e[t+14]]+Zi[e[t+15]]).toLowerCase()}const to=function(e,t,n){if(Yi.randomUUID&&!t&&!e)return Yi.randomUUID();var r=(e=e||{}).random||(e.rng||Ji)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=r[s];return t}return eo(r)};class no{static guid(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]){const e="abcdefghijklmnopqrstuvwxyz";let t="";for(;t.length<6;){t+=e[no.randomNumber(e.length)]}return t}return to()}static sort(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];0===t.length&&(t=[{field:"name",dir:"asc"}]);return e.sort(((e,n)=>{let r=0;return t.forEach((t=>{0===r&&(r=((e,t,n)=>{if(void 0!==e[n]&&void 0!==t[n]){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0})(e,n,t.field)*("asc"===t.dir?1:-1))})),r})),e}static distinct(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>JSON.stringify(e);const n=new Set;return e.filter((e=>{const r=t(e);return!n.has(r)&&n.add(r)}))}static arrayToItems(e){return e.map((e=>({id:e,text:e,disabled:!1})))}static debounce(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return()=>{clearTimeout(t),t=setTimeout(e,n)}}static toData(e){const t=e/1073741824;if(t>=1)return t.toFixed(2)+" GB";{const t=e/1048576;if(t>=1)return t.toFixed(2)+" MB";{const t=e/1024;if(t>=1)return t.toFixed(2)+" KB"}}return e+" B"}static saveFile(e,t){const n=JSON.stringify(t,null,"\t"),r=new Blob([n],{type:"application/json"}),s=document.createElement("a");s.download=e,s.href=window.URL.createObjectURL(r),s.click()}static saveImage(e,t){const n=document.createElement("a");n.download=e,n.href=t.toDataURL("image/png").replace(/^data:image\/png/,"data:application/octet-stream"),n.click()}static randomNumber(e){return e<=0?0:Math.floor(Math.random()*e)}static randomBoolean(){return 0===no.randomNumber(2)}static randomDecimal(){return no.randomNumber(100)/100}}class ro{static createParty(){return{id:no.guid(),name:"",pcs:[],awards:[]}}static createPC(){return{id:no.guid(),type:"pc",active:!0,player:"",name:"",size:"medium",race:"",classes:"",level:1,languages:"Common",passiveInsight:10,passiveInvestigation:10,passivePerception:10,darkvision:0,portrait:"",url:"",companions:[],awards:[]}}static createCompanion(){return{id:no.guid(),name:"",monsterID:null}}static createAward(){return{id:no.guid(),category:"",name:"",description:""}}static createMonsterGroup(){return{id:no.guid(),name:"",monsters:[]}}static createMonster(){return{id:no.guid(),type:"monster",name:"",size:"medium",role:"",category:"humanoid",tag:"",alignment:"",challenge:1,abilityScores:{str:10,dex:10,con:10,int:10,wis:10,cha:10},ac:10,acInfo:"",hitDice:1,damage:{resist:"",vulnerable:"",immune:""},savingThrows:"",speed:"",skills:"",senses:"",languages:"",traits:[],conditionImmunities:"",portrait:"",legendaryActions:0}}static createTrait(){return{id:no.guid(),name:"",usage:"",type:"action",text:"",uses:0}}static createEncounter(){return{id:no.guid(),name:"",slots:[],waves:[],notes:""}}static createEncounterSlot(){return{id:no.guid(),monsterID:"",monsterThemeID:"",deltaCR:0,roles:[],count:1,faction:"foe"}}static createEncounterWave(){return{id:no.guid(),name:"",slots:[]}}static createMonsterFilter(){return{name:"",challengeMin:0,challengeMax:5,category:"all types",size:"all sizes",role:"all roles"}}static createMap(){return{id:no.guid(),name:"",items:[],walls:[],areas:[],lightSources:[]}}static createMapItem(){return{id:no.guid(),type:"tile",x:0,y:0,z:0,width:4,height:4,depth:1,terrain:"",customBackground:"",customLink:"",content:null,size:"medium",color:"",opacity:255,style:null}}static createMapWall(){return{id:no.guid(),pointA:{x:0,y:0,z:0},pointB:{x:0,y:0,z:0},display:"wall",blocksLineOfSight:!0,blocksMovement:!0,isConcealed:!1}}static createMapArea(){return{id:no.guid(),name:"",text:"",x:0,y:0,z:0,width:1,height:1,depth:1}}static createMapLightSource(){return{id:no.guid(),x:0,y:0,z:0,name:"torch",bright:20,dim:40}}static createAdventure(){return{id:no.guid(),name:"",plot:this.createPlot()}}static createPlot(){return{id:no.guid(),scenes:[],map:null}}static createScene(){return{id:no.guid(),name:"",content:"",tags:[],links:[],plot:this.createPlot(),resources:[]}}static createSceneLink(){return{id:no.guid(),text:"",sceneID:""}}static createSceneResource(){return{id:no.guid(),name:"",type:"text",content:"",data:null}}static createExploration(){return{id:no.guid(),name:"",map:this.createMap(),mapAreaID:null,partyID:"",fog:[],lighting:"bright light",combatants:[]}}static createCombatSetup(){return{party:null,encounter:null,waveID:null,map:null,mapAreaID:null,fog:[],lighting:"bright light",combatants:[],slotInfo:[]}}static createCombatSlotInfo(){return{id:"",monsterID:"",useGroupHP:!0,useGroupInit:!0,hp:0,init:0,members:[]}}static createCombatSlotMember(){return{id:no.guid(),name:"",hp:0,init:0,location:null}}static createCombat(){return{id:no.guid(),name:"",encounter:ro.createEncounter(),combatants:[],map:null,mapAreaID:null,fog:[],lighting:"bright light",round:1}}static createNotification(){return{id:no.guid(),type:"condition-save",data:null,combatant:null}}static createCondition(){return{id:no.guid(),name:"",level:1,text:"",duration:null}}static createConditionDurationSaves(){return{type:"saves",count:1,saveType:"str",saveDC:10,point:"start"}}static createConditionDurationCombatant(){return{type:"combatant",point:"start",combatantID:null}}static createConditionDurationRounds(){return{type:"rounds",count:1}}}class so{static matchParty(e,t){return!!so.match(e,t.name)||t.pcs.some((t=>so.matchPC(e,t)))}static matchPC(e,t){return!!so.match(e,t.name)||(!!so.match(e,t.player)||(!!so.match(e,t.race)||(!!so.match(e,t.classes)||t.companions.some((t=>so.matchCompanion(e,t))))))}static matchCompanion(e,t){return!!so.match(e,t.name)}static matchGroup(e,t){return!!so.match(e,t.name)||t.monsters.some((t=>so.matchMonster(e,t)))}static matchMonster(e,t){return!!so.match(e,t.name)||(!!so.match(e,t.category)||(!!so.match(e,t.tag)||(!!so.match(e,t.senses)||(!!so.match(e,t.languages)||t.traits.some((t=>so.matchTrait(e,t)))))))}static matchTrait(e,t){return!!so.match(e,t.name)||(!!so.match(e,t.usage)||!!so.match(e,t.text))}static matchEncounter(e,t,n){return!!so.match(e,t.name)||(!!t.waves.some((t=>so.matchEncounterWave(e,t,(e=>n(e)))))||t.slots.some((t=>so.matchEncounterSlot(e,t,(e=>n(e))))))}static matchEncounterWave(e,t,n){return!!so.match(e,t.name)||t.slots.some((t=>so.matchEncounterSlot(e,t,(e=>n(e)))))}static matchEncounterSlot(e,t,n){const r=n(t.monsterID);return!(!r||!so.match(e,r.name))}static matchMap(e,t){return!!so.match(e,t.name)||t.areas.some((t=>so.matchMapArea(e,t)))}static matchMapArea(e,t){return!!so.match(e,t.name)||!!so.match(e,t.text)}static matchAdventure(e,t){return!!so.match(e,t.name)||!!so.matchPlot(e,t.plot)}static matchPlot(e,t){return!!t.scenes.some((t=>so.matchScene(e,t)))}static matchScene(e,t){return!!so.match(e,t.name)||(!!so.match(e,t.content)||(!!t.links.some((t=>so.match(e,t.text)))||!!so.matchPlot(e,t.plot)))}static matchAward(e,t){return!!so.match(e,t.name)||!!so.match(e,t.description)}static match(e,t){if(!e)return!0;let n=!0;return e.toLowerCase().split(" ").forEach((e=>{-1===t.toLowerCase().indexOf(e)&&(n=!1)})),n}}class ao{static getMonsterCount(e,t){let n=0,r=[];return null!==t&&t!==e.id||(r=r.concat(e.slots)),e.waves.forEach((e=>{null!==t&&t!==e.id||(r=r.concat(e.slots))})),r.filter((e=>"foe"===e.faction)).forEach((e=>{n+=e.count})),n}static getEncounterXP(e,t,n){let r=0,s=[];return null!==t&&t!==e.id||(s=s.concat(e.slots)),e.waves.forEach((e=>{null!==t&&t!==e.id||(s=s.concat(e.slots))})),s.filter((e=>"foe"===e.faction)).forEach((e=>{const t=this.slotToMonster(e,(e=>n(e)));t&&(r+=io.experience(t.challenge)*e.count)})),r}static getAdjustedEncounterXP(e,t,n){const r=this.getMonsterCount(e,t),s=this.getEncounterXP(e,t,(e=>n(e)));return s*io.experienceFactor(r)}static getXPForDifficulty(e,t){let n=0;return e.pcs.filter((e=>e.active)).forEach((e=>{n+=io.pcExperience(e.level,t)})),n}static getCombatXP(e){let t=0;return e.combatants.filter((e=>"monster"===e.type)).filter((e=>"foe"===e.faction)).forEach((e=>{const n=e;t+=io.experience(n.challenge)})),t}static getEncounterThresholds(e){let t=0,n=0,r=0,s=0;return e.pcs.filter((e=>e.active)).forEach((e=>{t+=io.pcExperience(e.level,"easy"),n+=io.pcExperience(e.level,"medium"),r+=io.pcExperience(e.level,"hard"),s+=io.pcExperience(e.level,"deadly")})),{easy:t,medium:n,hard:r,deadly:s}}static getEncounterDifficulty(e,t,n,r){const s=this.getEncounterThresholds(n),a=this.getAdjustedEncounterXP(e,t,(e=>r(e)));let i=0,o=0;if(a>0){a>=s.easy&&(i=1),a>=s.medium&&(i=2),a>=s.hard&&(i=3),a>=s.deadly&&(i=4),s.deadly>0&&a>=10*s.deadly&&(i=5),s.deadly>0&&a>=20*s.deadly&&(i=6),s.deadly>0&&a>=30*s.deadly&&(i=7),s.deadly>0&&a>=40*s.deadly&&(i=8),o=i;const e=n.pcs.filter((e=>e.active));e.length<3&&(o=i+1),e.length>5&&(o=Math.max(0,i-1))}return{basic:i,adjusted:o}}static getDifficultyDescription(e){switch(e){case 0:return"trivial";case 1:return"easy";case 2:return"medium";case 3:return"hard";case 4:return"deadly";case 5:return"tpk";case 6:return"dm with a grudge";case 7:return"now you're just being silly"}return"please stop"}static getFilterDescription(e){let t="";"all sizes"!==e.size&&(t+=t?" "+e.size:e.size),"all types"!==e.category&&(t+=t?" "+e.category:e.category),"all roles"!==e.role&&(t+=t?" "+e.role:e.role);const n=io.challenge(e.challengeMin),r=io.challenge(e.challengeMax);return t+=" monsters of cr "+(e.challengeMin===e.challengeMax?n:n+" to "+r),t}static buildEncounter(e,t,n,r,s,a){const i=[];if(s.forEach((e=>{e.monsters.filter((e=>this.matchMonster(e,r))).forEach((e=>i.push({id:e.id,role:e.role})))})),""!==n){if("random"===n){const e=no.randomNumber(this.encounterTemplates().length);n=this.encounterTemplates()[e].name}const r=this.encounterTemplates().find((e=>e.name===n));if(r)for(e.slots=r.slots.map((e=>{const t=ro.createEncounterSlot();return t.roles=e.roles,t.count=e.count,t})),e.slots.forEach((e=>{const t=i.filter((t=>e.roles.includes(t.role))),n=no.randomNumber(t.length);e.monsterID=t[n].id}));this.getAdjustedEncounterXP(e,null,(e=>a(e)))<t;){const t=no.randomNumber(e.slots.length);e.slots[t].count+=1}}else for(;this.getAdjustedEncounterXP(e,null,(e=>a(e)))<t;)if(e.slots.length>0&&io.dieRoll(3)>1){const t=no.randomNumber(e.slots.length);e.slots[t].count+=1}else{const t=i.filter((t=>!e.slots.find((e=>e.monsterID===t.id))));if(t.length>0){const n=no.randomNumber(t.length),r=ro.createEncounterSlot();r.monsterID=t[n].id,e.slots.push(r)}else if(0===e.slots.length)break}for(;e.slots.length>1&&10===io.dieRoll(10);){const t=no.randomNumber(e.slots.length),n=e.slots[t];e.slots=e.slots.filter((e=>e.id!==n.id));const r=ro.createEncounterWave();r.name="wave "+(e.waves.length+2),r.slots.push(n),e.waves.push(r)}}static matchMonster(e,t){return!(e.challenge<t.challengeMin)&&(!(e.challenge>t.challengeMax)&&(!(""!==t.name&&!so.match(t.name,e.name))&&(("all types"===t.category||e.category===t.category)&&(("all sizes"===t.size||e.size===t.size)&&("all roles"===t.role||e.role===t.role)))))}static sortEncounter(e,t){this.sortEncounterSlots(e,(e=>t(e))),e.waves.forEach((e=>this.sortEncounterSlots(e,(e=>t(e)))))}static sortEncounterSlots(e,t){const n=[];e.slots.forEach((e=>{let t=n.find((t=>t.monsterID===e.monsterID&&t.monsterThemeID===e.monsterThemeID&&t.faction===e.faction&&t.roles.join(",")===e.roles.join(",")));t?t.count+=e.count:(t=e,n.push(e))})),e.slots=n,e.slots.sort(((e,n)=>{let r=e.monsterID;const s=this.slotToMonster(e,(e=>t(e)));s&&s.name&&(r=s.name);let a=n.monsterID;const i=this.slotToMonster(n,(e=>t(e)));return i&&i.name&&(a=i.name),r<a?-1:r>a?1:0}))}static sortCombatants(e){e.combatants.sort(((e,t)=>e.initiative&&t.initiative&&e.initiative<t.initiative?1:e.initiative&&t.initiative&&e.initiative>t.initiative||e.displayName<t.displayName?-1:e.displayName>t.displayName?1:0))}static combatHasLairActions(e){let t=!1;return e.combatants.filter((e=>!e.pending&&e.active&&!e.defeated)).forEach((e=>{const n=e;n&&n.traits&&n.traits.some((e=>"lair"===e.type))&&(t=!0)})),t}static encounterHasMonster(e,t){let n=e.slots.map((e=>e.monsterID));return n=n.concat(e.slots.map((e=>e.monsterThemeID))),e.waves.forEach((e=>{n=n.concat(e.slots.map((e=>e.monsterID))),n=n.concat(e.slots.map((e=>e.monsterThemeID)))})),!!n.find((e=>e===t))}static slotToMonster(e,t){let n=t(e.monsterID);if(n){if(e.monsterThemeID){const r=t(e.monsterThemeID);r&&(n=po.applyTheme(n,r))}0!==e.deltaCR&&(n=po.adjustCR(n,e.deltaCR))}return n}static convertPCToCombatant(e){const t=JSON.parse(JSON.stringify(e));return t.current=!1,t.pending=!0,t.active=!1,t.defeated=!1,t.faction="ally",t.displayName=e.name,t.displaySize=e.size,t.showOnMap=!0,t.initiative=10,t.hpMax=null,t.hpCurrent=null,t.hpTemp=null,t.conditions=[],t.tags=[],t.note="",t.aura={radius:0,style:"rounded",color:"#005080"},t.mountID=null,t.mountType="controlled",t.darkvision=e.darkvision,t.lightSource=null,t.path=null,t}static convertMonsterToCombatant(e,t,n,r,s){const a=JSON.parse(JSON.stringify(e));return a.id=no.guid(),a.current=!1,a.pending=!1,a.active=!0,a.defeated=!1,a.faction=s,a.displayName=r,a.displaySize=e.size,a.showOnMap=!0,a.initiative=t,a.hpMax=n,a.hpCurrent=n,a.hpTemp=0,a.conditions=[],a.tags=[],a.note="",a.aura={radius:0,style:"rounded",color:"#005080"},a.mountID=null,a.mountType="controlled",a.darkvision=po.getVisionRadius(e),a.lightSource=null,a.path=null,a}static convertCompanionToCombatant(e){const t=e?JSON.parse(JSON.stringify(e)):{};return t.id=e?e.id:no.guid(),t.type="companion",t.current=!1,t.pending=!0,t.active=!1,t.defeated=!1,t.faction="ally",t.displayName=e?e.name:"companion",t.displaySize="medium",t.showOnMap=!0,t.initiative=10,t.hpMax=null,t.hpCurrent=null,t.hpTemp=null,t.conditions=[],t.tags=[],t.note="",t.aura={radius:0,style:"rounded",color:"#005080"},t.mountID=null,t.mountType="controlled",t.darkvision=0,t.lightSource=null,t.path=null,t}static convertPlaceholderToCombatant(){return{id:no.guid(),type:"placeholder",current:!1,pending:!1,active:!0,defeated:!1,faction:"neutral",displayName:"lair actions",displaySize:"medium",showOnMap:!0,initiative:20,hpMax:null,hpCurrent:null,hpTemp:null,conditions:[],tags:[],note:"",aura:{radius:0,style:"rounded",color:"#005080"},mountID:null,mountType:"controlled",darkvision:0,lightSource:null,path:null}}static updateCombatant(e,t){e.player=t.player,e.name=t.name,e.displayName=t.name,e.size=t.size,e.race=t.race,e.classes=t.classes,e.level=t.level,e.languages=t.languages,e.passiveInsight=t.passiveInsight,e.passiveInvestigation=t.passiveInvestigation,e.passivePerception=t.passivePerception,e.darkvision=t.darkvision,e.portrait=t.portrait,e.url=t.url}static encounterTemplates(){const e=[{name:"battlefield control",slots:[{roles:["controller"],count:1},{roles:["skirmisher","sneak"],count:5}]},{name:"commander and troops",slots:[{roles:["controller","soldier"],count:1},{roles:["soldier","tank"],count:5}]},{name:"dragon's den",slots:[{roles:["boss"],count:1}]},{name:"double line",slots:[{roles:["soldier","tank"],count:3},{roles:["artillery","controller"],count:2}]},{name:"wolf pack",slots:[{roles:["skirmisher"],count:6}]}];return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&e.unshift({name:"random",slots:[]}),e}static getActiveCombatants(e,t,n){const r=e.combatants.filter((e=>!!e.mountID&&"controlled"===e.mountType)).map((e=>e.mountID||""));return e.combatants.filter((e=>!r.includes(e.id))).filter((e=>e.active||e.defeated&&n)).filter((e=>!t||"pc"===e.type||e.showOnMap)).filter((n=>!t||"monster"!==n.type||!e.map||!!e.map.items.find((e=>e.id===n.id)))).filter((t=>"placeholder"!==t.type||this.combatHasLairActions(e)))}static getMountsAndRiders(e,t){const n=e.map((e=>t.find((t=>t.id===e)))).filter((e=>void 0!==e)),r=n.map((e=>t.find((t=>t.id===e.mountID)))).filter((e=>void 0!==e)),s=n.map((e=>t.find((t=>t.mountID===e.id)))).filter((e=>void 0!==e));return n.concat(r).concat(s)}static setMountPositions(e,t){e.forEach((e=>{if(e.mountID){const n=t.items.find((t=>t.id===e.id)),r=t.items.find((t=>t.id===e.mountID));n&&r&&(r.x=n.x,r.y=n.y)}}))}static getVictoryCondition(e,t){const n=[];n.push("the party must defeat their opponents within "+(1+io.dieRoll(4,1))+" rounds"),n.push("at least one character must get to a certain area and stay there for "+(1+io.dieRoll(4,1))+" consecutive rounds"),n.push("the party must leave the area within "+(1+io.dieRoll(4,1))+" rounds"),n.push("the party must keep the enemy away from a certain area for the duration of the encounter"),n.push("the party must escort an NPC safely through the encounter area"),n.push("the party must rescue an NPC from their opponents"),n.push("the party must destroy a feature of the area");const r=[];if(e.slots.filter((e=>1===e.count)).forEach((e=>{const n=t(e.monsterID);n&&("boss"!==n.role&&"controller"!==n.role||r.push(n.name))})),e.waves.forEach((e=>{e.slots.filter((e=>1===e.count)).forEach((e=>{const n=t(e.monsterID);n&&("boss"!==n.role&&"controller"!==n.role||r.push(n.name))}))})),0!==r.length){const e=no.randomNumber(r.length),t=r[e];n.push("the party must defeat "+t),n.push("the party must capture "+t),n.push("the party must defeat "+t+" within "+io.dieRoll(4,2)+" rounds"),n.push("after "+io.dieRoll(4,2)+" rounds, "+t+" will flee or surrender"),n.push("at "+10*io.dieRoll(4,1)+"% HP, "+t+" will flee or surrender"),n.push("the party must obtain an item from "+t),n.push("the party must defeat "+t+" by destroying an object in the area"),n.push("the party must defeat "+t+"; the others will then flee or surrender")}const s=this.getMonsterCount(e,null);s>2&&n.push("the party must defeat "+(2+no.randomNumber(s-2))+" opponents; the others will then flee or surrender");return n[no.randomNumber(n.length)]}static getCombatantName(e,t){const n=e;let r=e.displayName||n.name||"unnamed "+e.type;if(e.mountID){const n=t.find((t=>t.id===e.mountID));n&&(r+=" (on "+(n.displayName||"unnamed mount")+")")}return r}static getCombatantState(e){const t=e.hpCurrent||0,n=e.hpMax||0;return t>=n?"unhurt":t<=n/2?"bloodied":"injured"}}class io{static modifierValue(e){return Math.floor((e-10)/2)}static modifier(e){const t=this.modifierValue(e);let n=t.toString();return t>=0&&(n="+"+n),n}static dieRoll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=0;for(let r=0;r!==t;++r)n+=no.randomNumber(e)+1;return n}static rollDice(e,t,n,r){const s={id:no.guid(),text:e,rolls:[],constant:n,mode:r};return[4,6,8,10,12,20,100].forEach((e=>{const n=t[e];for(let t=0;t!==n;++t){let t=io.dieRoll(e);switch(s.mode){case"advantage":t=Math.max(t,io.dieRoll(e));break;case"disadvantage":t=Math.min(t,io.dieRoll(e))}s.rolls.push({id:no.guid(),sides:e,value:t})}})),s}static miniSize(e){switch(e){case"tiny":return.4;case"small":return.6;case"medium":default:return 1;case"large":return 2;case"huge":return 3;case"gargantuan":return 4}}static hitDieType(e){switch(e){case"tiny":return 4;case"small":return 6;case"medium":default:return 8;case"large":return 10;case"huge":return 12;case"gargantuan":return 20}}static proficiency(e){return e<5?2:e<9?3:e<13?4:e<17?5:e<21?6:e<25?7:e<29?8:9}static challenge(e){switch(e){case.125:return"1/8";case.25:return"1/4";case.5:return"1/2";default:return e.toString()}}static parseChallenge(e){switch(e){case"1/8":return.125;case"1/4":return.25;case"1/2":return.5;default:return parseInt(e,10)}}static challengeDetails(){return[{cr:0,ac:13,hpMin:1,hpMax:6,attack:3,dmgMin:0,dmgMax:1,save:13},{cr:.125,ac:13,hpMin:7,hpMax:35,attack:3,dmgMin:2,dmgMax:3,save:13},{cr:.25,ac:13,hpMin:36,hpMax:49,attack:3,dmgMin:4,dmgMax:5,save:13},{cr:.5,ac:13,hpMin:50,hpMax:70,attack:3,dmgMin:6,dmgMax:8,save:13},{cr:1,ac:13,hpMin:71,hpMax:85,attack:3,dmgMin:9,dmgMax:14,save:13},{cr:2,ac:13,hpMin:86,hpMax:100,attack:3,dmgMin:15,dmgMax:20,save:13},{cr:3,ac:13,hpMin:101,hpMax:115,attack:4,dmgMin:21,dmgMax:26,save:13},{cr:4,ac:14,hpMin:116,hpMax:130,attack:5,dmgMin:27,dmgMax:32,save:14},{cr:5,ac:15,hpMin:131,hpMax:145,attack:6,dmgMin:33,dmgMax:38,save:15},{cr:6,ac:15,hpMin:146,hpMax:160,attack:6,dmgMin:39,dmgMax:44,save:15},{cr:7,ac:15,hpMin:161,hpMax:175,attack:6,dmgMin:45,dmgMax:50,save:15},{cr:8,ac:16,hpMin:176,hpMax:190,attack:7,dmgMin:51,dmgMax:56,save:16},{cr:9,ac:16,hpMin:191,hpMax:205,attack:7,dmgMin:57,dmgMax:62,save:16},{cr:10,ac:17,hpMin:206,hpMax:220,attack:7,dmgMin:63,dmgMax:68,save:16},{cr:11,ac:17,hpMin:221,hpMax:235,attack:8,dmgMin:69,dmgMax:74,save:17},{cr:12,ac:17,hpMin:236,hpMax:250,attack:8,dmgMin:75,dmgMax:80,save:17},{cr:13,ac:18,hpMin:251,hpMax:265,attack:8,dmgMin:81,dmgMax:86,save:18},{cr:14,ac:18,hpMin:266,hpMax:280,attack:8,dmgMin:87,dmgMax:92,save:18},{cr:15,ac:18,hpMin:281,hpMax:295,attack:8,dmgMin:93,dmgMax:98,save:18},{cr:16,ac:18,hpMin:296,hpMax:310,attack:9,dmgMin:99,dmgMax:104,save:18},{cr:17,ac:19,hpMin:311,hpMax:325,attack:10,dmgMin:105,dmgMax:110,save:19},{cr:18,ac:19,hpMin:326,hpMax:340,attack:10,dmgMin:111,dmgMax:116,save:19},{cr:19,ac:19,hpMin:341,hpMax:355,attack:10,dmgMin:117,dmgMax:122,save:19},{cr:20,ac:19,hpMin:356,hpMax:400,attack:10,dmgMin:123,dmgMax:140,save:19},{cr:21,ac:19,hpMin:401,hpMax:445,attack:11,dmgMin:141,dmgMax:158,save:20},{cr:22,ac:19,hpMin:446,hpMax:490,attack:11,dmgMin:159,dmgMax:176,save:20},{cr:23,ac:19,hpMin:491,hpMax:535,attack:11,dmgMin:177,dmgMax:194,save:20},{cr:24,ac:19,hpMin:536,hpMax:580,attack:12,dmgMin:195,dmgMax:212,save:21},{cr:25,ac:19,hpMin:581,hpMax:625,attack:12,dmgMin:213,dmgMax:230,save:21},{cr:26,ac:19,hpMin:626,hpMax:670,attack:12,dmgMin:231,dmgMax:248,save:21},{cr:27,ac:19,hpMin:671,hpMax:715,attack:13,dmgMin:249,dmgMax:266,save:22},{cr:28,ac:19,hpMin:716,hpMax:760,attack:13,dmgMin:267,dmgMax:284,save:22},{cr:29,ac:19,hpMin:761,hpMax:805,attack:13,dmgMin:285,dmgMax:302,save:22},{cr:30,ac:19,hpMin:806,hpMax:850,attack:14,dmgMin:303,dmgMax:320,save:23}]}static experience(e){switch(e){case 0:return 10;case.125:return 25;case.25:return 50;case.5:return 100;case 1:return 200;case 2:return 450;case 3:return 700;case 4:return 1100;case 5:return 1800;case 6:return 2300;case 7:return 2900;case 8:return 3900;case 9:return 5e3;case 10:return 5900;case 11:return 7200;case 12:return 8400;case 13:return 1e4;case 14:return 11500;case 15:return 13e3;case 16:return 15e3;case 17:return 18e3;case 18:return 2e4;case 19:return 22e3;case 20:return 25e3;case 21:return 33e3;case 22:return 41e3;case 23:return 5e4;case 24:return 62e3;case 30:return 155e3;default:return 0}}static experienceFactor(e){switch(e){case 0:return 0;case 1:return 1;case 2:return 1.5;case 3:case 4:case 5:case 6:return 2;case 7:case 8:case 9:case 10:return 2.5;case 11:case 12:case 13:case 14:return 3;default:return 4}}static pcExperience(e,t){switch(t){case"easy":switch(e){case 1:return 25;case 2:return 50;case 3:return 75;case 4:return 125;case 5:return 250;case 6:return 300;case 7:return 350;case 8:return 450;case 9:return 550;case 10:return 600;case 11:return 800;case 12:return 1e3;case 13:return 1100;case 14:return 1250;case 15:return 1400;case 16:return 1600;case 17:return 2e3;case 18:return 2100;case 19:return 2400;case 20:return 2800;default:return 0}case"medium":switch(e){case 1:return 50;case 2:return 100;case 3:return 150;case 4:return 250;case 5:return 500;case 6:return 600;case 7:return 750;case 8:return 900;case 9:return 1100;case 10:return 1200;case 11:return 1600;case 12:return 2e3;case 13:return 2200;case 14:return 2500;case 15:return 2800;case 16:return 3200;case 17:return 3900;case 18:return 4200;case 19:return 4900;case 20:return 5700;default:return 0}case"hard":switch(e){case 1:return 75;case 2:return 150;case 3:return 225;case 4:return 375;case 5:return 750;case 6:return 900;case 7:return 1100;case 8:return 1400;case 9:return 1600;case 10:return 1900;case 11:return 2400;case 12:return 3e3;case 13:return 3400;case 14:return 3800;case 15:return 4300;case 16:return 4800;case 17:return 5900;case 18:return 6300;case 19:return 7300;case 20:return 8500;default:return 0}case"deadly":switch(e){case 1:return 100;case 2:return 200;case 3:return 400;case 4:return 500;case 5:return 1100;case 6:return 1400;case 7:return 1700;case 8:return 2100;case 9:return 2400;case 10:return 2800;case 11:return 3600;case 12:return 4500;case 13:return 5100;case 14:return 5700;case 15:return 6400;case 16:return 7200;case 17:return 8800;case 18:return 9500;case 19:return 10900;case 20:return 12700;default:return 0}default:return 0}}static traitType(e,t){let n="";switch(e){case"trait":n="trait";break;case"action":n="action";break;case"reaction":n="reaction";break;default:n=e+" action"}return t&&(n+="s"),n}static nudgeChallenge(e,t){let n=0;switch(e){case 0:-1===t&&(n=0),1===t&&(n=.125);break;case.125:-1===t&&(n=0),1===t&&(n=.25);break;case.25:-1===t&&(n=.125),1===t&&(n=.5);break;case.5:-1===t&&(n=.25),1===t&&(n=1);break;case 1:-1===t&&(n=.5),1===t&&(n=2);break;default:n=e+t}return n}static nudgeSize(e,t){const n=["tiny","small","medium","large","huge","gargantuan"];let r=n.indexOf(e)+t;return r<0&&(r=0),r>=n.length&&(r=n.length-1),n[r]}static nudgeDifficulty(e,t){const n=["easy","medium","hard","deadly"];let r=n.indexOf(e)+t;return r<0&&(r=0),r>=n.length&&(r=n.length-1),n[r]}static nudgeLighting(e,t){const n=["darkness","dim light","bright light"];let r=n.indexOf(e)+t;return r<0&&(r=0),r>=n.length&&(r=n.length-1),n[r]}static conditionText(e){switch(e.name){case"blinded":return["a blinded creature can't see and automatically fails any ability check that requires sight","attack rolls against the creature have advantage, and the creature's attack rolls have disadvantage"];case"charmed":return["a charmed creature can't attack the charmer or target the charmer with harmful abilities or magical effects","the charmer has advantage on any ability check to interact socially with the creature"];case"deafened":return["a deafened creature can't hear and automatically fails any ability check that requires hearing."];case"exhaustion":switch(e.level){case 1:return["disadvantage on ability checks"];case 2:return["disadvantage on ability checks","speed halved"];case 3:return["disadvantage on ability checks","speed halved","disadvantage on attack rolls and saving throws"];case 4:return["disadvantage on ability checks","speed halved","disadvantage on attack rolls and saving throws","hit point maximum halved"];case 5:return["disadvantage on ability checks","speed halved","disadvantage on attack rolls and saving throws","hit point maximum halved","speed reduced to 0"];case 6:return["disadvantage on ability checks","speed halved","disadvantage on attack rolls and saving throws","hit point maximum halved","speed reduced to 0","death"];default:return[]}case"frightened":return["a frightened creature has disadvantage on ability checks and attack rolls while the source of its fear is within line of sight","the creature can't willingly move closer to the source of its fear"];case"grappled":return["a grappled creature's speed becomes 0, and it can't benefit from any bonus to its speed","the condition ends if the grappler is incapacitated","the condition also ends if an effect removes the grappled creature from the reach of the grappler or grappling effect"];case"incapacitated":return["an incapacitated creature can't take actions or reactions","being incapacitated breaks concentration"];case"invisible":return["an invisible creature is impossible to see without the aid of magic or a special sense","for the purpose of hiding, the creature is heavily obscured","the creature's location can be detected by any noise it makes or any tracks it leaves","attack rolls against the creature have disadvantage, and the creature's attack rolls have advantage"];case"paralyzed":return["a paralyzed creature is incapacitated (can't take actions or reactions) and can't move or speak","the creature automatically fails strength and dexterity saving throws","attack rolls against the creature have advantage","any attack that hits the creature is a critical hit if the attacker is within 5 feet of the creature"];case"petrified":return["a petrified creature is transformed, along with any nonmagical objects it is wearing or carrying, into a solid inanimate substance (usually stone)","its weight increases by a factor of ten, and it ceases aging","the creature is incapacitated (can't take actions or reactions), can't move or speak, and is unaware of its surroundings","attack rolls against the creature have advantage","the creature automatically fails strength and dexterity saving throws","the creature has resistance to all damage","the creature is immune to poison and disease, although a poison or disease already in its system is suspended, not neutralized"];case"poisoned":return["a poisoned creature has disadvantage on attack rolls and ability checks"];case"prone":return["a prone creature's only movement option is to crawl, unless it stands up (using half its speed) and thereby ends the condition","the creature has disadvantage on attack rolls","an attack roll against the creature has advantage if the attacker is within 5 feet of the creature; otherwise, the attack roll has disadvantage"];case"restrained":return["a restrained creature's speed becomes 0, and it can't benefit from any bonus to its speed","attack rolls against the creature have advantage, and the creature's attack rolls have disadvantage","the creature has disadvantage on dexterity saving throws"];case"stunned":return["a stunned creature is incapacitated (can't take actions or reactions), can't move, and can speak only falteringly","the creature automatically fails strength and dexterity saving throws","attack rolls against the creature have advantage"];case"unconscious":return["an unconscious creature is incapacitated (can't take actions or reactions), can't move or speak, and is unaware of its surroundings","the creature drops whatever its holding and falls prone","the creature automatically fails strength and dexterity saving throws","attack rolls against the creature have advantage","any attack that hits the creature is a critical hit if the attacker is within 5 feet of the creature"];case"custom":return[e.text];default:return[]}}static conditionDurationText(e,t){if(null!==e.duration)switch(e.duration.type){case"saves":{const t=e.duration;let n=t.saveType.toString();"death"!==n&&(n=n.toUpperCase());const r=t.count>1?"saves":"save";return"until they make "+t.count+" "+n+" "+r+" at dc "+t.saveDC}case"combatant":{const n=e.duration,r=n.point,s=t.find((e=>e.id===n.combatantID));return"until the "+r+" of "+(s?ao.getCombatantName(s,t)+"'s":"their")+" next turn"}case"rounds":{const t=e.duration,n=t.count>1?"rounds":"round";return"for "+t.count+" "+n}default:return null}return null}static getCombatSlotData(e,t){const n=[];return e&&e.slots.forEach((e=>{const r=ao.slotToMonster(e,(e=>t(e)));if(r){const t=ro.createCombatSlotInfo();t.id=e.id,t.monsterID=e.monsterID,t.init=this.dieRoll()+this.modifierValue(r.abilityScores.dex),t.hp=po.getTypicalHP(r);for(let n=0;n!==e.count;++n){const e=ro.createCombatSlotMember();e.init=t.init,e.hp=t.hp,e.name=r.name,e.location=null,t.members.push(e)}if(e.count>1)for(let n=0;n!==e.count;++n)t.members[n].name=r.name+" "+(n+1);n.push(t)}})),n}static getTagTitle(e){if(e.startsWith("engaged"))return"engaged";switch(e){case"conc":return"concentrating";case"bane":return"affected by bane";case"bless":return"affected by bless";default:return e}}static getTagDescription(e){if(e.startsWith("engaged")){return e.split(":")[1]}switch(e){case"conc":return"if damaged, must make con save (dc is half damage taken or 10, whichever is higher) or lose concentration";case"bane":return"subtract d4 from attack rolls and saving throws";case"bless":return"add d4 to attack rolls and saving throws";default:return e}}static getWildSurge(){const e=["Roll on this table at the start of each of your turns for the next minute, ignoring this result on subsequent rolls.","For the next minute, you can see any invisible creature if you have line of sight to it.","A modron chosen and controlled by the DM appears in an unoccupied space within 5 feet of you, then disappears 1 minute later.","You cast fireball as a 3rd-level spell centered on yourself.","You cast magic missile as a 5th-level spell.","Roll a d10. Your height changes by a number of inches equal to the roll. If the roll is odd, you shrink. If the roll is even, you grow.","You cast confusion centered on yourself.","For the next minute, you regain 5 hit points at the start of each of your turns.","You grow a long beard made of feathers that remains until you sneeze, at which point the feathers explode out from your face.","You cast grease centered on yourself.","Creatures have disadvantage on saving throws against the next spell you cast in the next minute that involves a saving throw.","Your skin turns a vibrant shade of blue. A remove curse spell can end this effect.","An eye appears on your forehead for the next minute. During that time, you have advantage on Wisdom (Perception) checks that rely on sight.","For the next minute, all your spells with a casting time of 1 action have a casting time of 1 bonus action.","You teleport up to 60 feet to an unoccupied space of your choice that you can see.","You are transported to the Astral Plane until the end of your next turn, after which time you return to the space you previously occupied or the nearest unoccupied space if that space is occupied.","Maximize the damage of the next damaging spell you cast within the next minute.","Roll a d10. Your age changes by a number of years equal to the roll. If the roll is odd, you get younger (minimum 1 year old). If the roll is even, you get older.","1d6 flumphs controlled by the DM appear in unoccupied spaces within 60 feet of you and are frightened of you. They vanish after 1 minute.","You regain 2d10 hit points.","You turn into a potted plant until the start of your next turn. While a plant, you are incapacitated and have vulnerability to all damage. If you drop to 0 hit points, your pot breaks, and your form reverts.","For the next minute, you can teleport up to 20 feet as a bonus action on each of your turns.","You cast levitate on yourself.","A unicorn controlled by the DM appears in a space within 5 feet of you, then disappears 1 minute later.","You can't speak for the next minute. Whenever you try, pink bubbles float out of your mouth.","A spectral shield hovers near you for the next minute, granting you a +2 bonus to AC and immunity to magic missile.","You are immune to being intoxicated by alcohol for the next 5d6 days.","Your hair falls out but grows back within 24 hours.","For the next minute, any flammable object you touch that isn't being worn or carried by another creature bursts into flame.","You regain your lowest-level expended spell slot.","For the next minute, you must shout when you speak.","You cast fog cloud centered on yourself.","Up to three creatures you choose within 30 feet of you take 4d10 lightning damage.","You are frightened by the nearest creature until the end of your next turn.","Each creature within 30 feet of you becomes invisible for the next minute. The invisibility ends on a creature when it attacks or casts a spell.","You gain resistance to all damage for the next minute.","A random creature within 60 feet of you becomes poisoned for 1d4 hours.","You glow with bright light in a 30-foot radius for the next minute. Any creature that ends its turn within 5 feet of you is blinded until the end of its next turn.","You cast polymorph on yourself. If you fail the saving throw, you turn into a sheep for the spell's duration.","Illusory butterflies and flower petals flutter in the air within 10 feet of you for the next minute.","You can take one additional action immediately.","Each creature within 30 feet of you takes 1d10 necrotic damage. You regain hit points equal to the sum of the necrotic damage dealt.","You cast mirror image.","You cast fly on a random creature within 60 feet of you.","You become invisible for the next minute. During that time, other creatures can't hear you. The invisibility ends if you attack or cast a spell.","If you die within the next minute, you immediately come back to life as if by the reincarnate spell.","Your size increases by one size category for the next minute.","You and all creatures within 30 feet of you gain vulnerability to piercing damage for the next minute.","You are surrounded by faint, ethereal music for the next minute.","You regain all expended sorcery points.","You cast speak with animals","A mephit chosen and controlled by the DM appears in an unoccupied space within 5 feet of you, then disappears 1 minute later.","You cast ice storm as a 4th-level spell centered on yourself.","You cast scorching ray as a 5th-level spell.","For the next hour, your eyes and veins shed bright light in a 20 foot radius, and dim light for an additional 20 feet.","You cast plant growth centered on yourself.","You cast aura of life.","A daisy sprouts from your head. It may be pruned without harm.","You cast faerie fire centered on yourself.","You have a brief vision of the future. Roll a d20 and record the number rolled. Once in the next hour, you can replace any attack roll, saving throw, or ability check made by you or a creature that you can see with the foretelling roll. You must choose to do so before the roll, and you can replace a roll in this way only once per turn.","You become unable to turn left. A remove curse spell can end this effect.","A glimpse of the future gives you advantage on the next saving throw you make.","You cast haste on yourself.","You cast thunder step as a 3rd-level spell.","You switch positions with the target immediately after the effects of the spell occur. If the spell had multiple targets, you switch places with the closest one to you.","For the next minute, roll an extra die of damage for each spell you cast.","You take no action on your next turn. Instead, you vomit 1d100 gold pieces.","A pseudodragon controlled by the DM appears in an unoccupied space within 60 feet of you. It vanishes after 1 minute.","You cast healing word as a 2nd-level spell.","You turn into a harmless creature for 1d4 rounds. While in this form, you have a movement speed of 15 feet and vulnerability to all damage. If you drop to 0 hit points your form reverts.","Spider legs sprout from your back, giving you a climbing speed of 20 feet. The legs remain in place for one hour.","You cast freedom of movement on yourself.","A couatl controlled by the DM appears in a space within 5 feet of you, then disappears 1 minute later.","You're deafened for the next minute. For this duration, green smoke pours out from your ears.","A wall of fire encircles you as a 4th-level spell. You are on the side that takes no damage.","You cast create food and water.","You shoot eight non-venomous snakes from your fingertips.","For the next minute, any organic object you touch decays. Food spoils, plants wilt, etc. Your unarmed strikes deal an additional 1d4 necrotic damage.","All silver you are carrying becomes gold.","An illusory image of you is left in your space. It can be dispelled with dispel magic.","You cast darkness centered on yourself.","You breathe a cone of dragon's breath as a 2nd-level spell the next time you try to speak.","You are entombed in crystal, which shatters at the end of your next turn. You gain 50 temporary hit points and are considered petrified. All these effects, incuding any remaining temporary hit points, end when the crystal shatters.","For the next minute, creatures within 30 feet of you can't see further than 30 feet away.","You cast warding wind.","A random creature within 60 feet of you falls asleep for 1d4 turns or until it takes damage. While asleep they are unconscious. A creature is not affected if they cannot be put to sleep by magic.","You cast color spray as a 1st-level spell.","You cast flesh to stone on yourself.","Illusory rain and autumn leaves fall to the ground within 10 feet of you for the next minute.","If the spell requires concentration, it automatically lasts for its maximum duration; if not, its duration is doubled. If it is instantaneous, it is immediately recast on the same target.","You cast thunderwave as a 1st-level spell.","You cast blur.","You cast reverse gravity centered on yourself.","You cast blink.","You regain all expended hit dice.","Your size decreases by one size category for the next minute.","All weapons within 30 feet of you turn into food for the next minute.","A gentle gust of wind blows outward from you.","For one minute, an illusory duplicate of yourself appears in an empty space adjacent to you. The duplicate is under your control and shares your initiative, hit points, sorcery points, and spell slots. Any resources spent by the duplicate are also expended by you."];return e[no.randomNumber(e.length)].toLowerCase()}}class oo{static initModel(e){const t=[];let n=0;e.forEach((e=>{e.split(/\r?\n/).forEach((e=>{e&&(oo.addLineToModel(e,t),n=Math.max(n,e.length))}))})),oo.model=t,oo.maxLength=n}static addLineToModel(e,t){e=String.fromCharCode(0,1)+e+String.fromCharCode(2);for(let n=2;n!==e.length;++n){const r=e.substr(n-2,2),s=e.substr(n,1);let a=t.find((e=>e.prev===r));a||(a={prev:r,freq:[]},t.push(a));let i=a.freq.find((e=>e.char===s));i||(i={char:s,count:0},a.freq.push(i)),i.count+=1}}static generateLine(){const e=this.generateLines(1);return e.length>0?e[0]:""}static generateLines(e){const t=[];let n=0;for(;t.length<e&&n<100;){const e=oo.extractLine();e&&!t.includes(e)&&e.length<=oo.maxLength?t.push(e):n+=1}return t}static extractLine(){let e=String.fromCharCode(0,1);for(;;){const t=e.substr(e.length-2,2),n=oo.model.find((e=>e.prev===t));if(!n)return null;{let t="";n.freq.forEach((e=>{t+=e.char.repeat(e.count)}));const r=no.randomNumber(t.length);let s=t[r];if(s===String.fromCharCode(2))return e=e.substr(2),e;if(1===io.dieRoll()){["bdg","ptk","sz","aeiouy","lr","ckq","vf"].forEach((e=>{if(e.includes(s)){const t=no.randomNumber(e.length);s=e[t]}}))}e+=s}}}static getSourceLanguages(){return["afrikaans","amharic","armenian","basque","belarusian","bulgarian","chichewa","chinese","croatian","czech","danish","dutch","english","finnish","french","german","greek","hawaiian","hindi","hungarian","icelandic","irish","italian","japanese","kannada","kazakh","korean","kyrgyz","latvian","lithuanian","macedonian","malay","maltese","maori","myanmar","nepali","norwegian","polish","portuguese","punjabi","romanian","russian","samoan","serbian","shona","somali","spanish","swahili","swedish","thai","turkish","welsh","yiddish","zulu"]}static getLanguagePresets(){return[{name:"draconic",languages:["armenian","irish","maltese"]},{name:"dwarvish",languages:["czech","german","kazakh"]},{name:"elvish",languages:["finnish","spanish","welsh"]},{name:"giant",languages:["amharic","hungarian","polish"]},{name:"gnomish",languages:["chichewa","korean","yiddish"]},{name:"goblin",languages:["hawaiian","kyrgyz","somali"]},{name:"halfling",languages:["english","maori","samoan"]},{name:"orc",languages:["macedonian","russian","turkish"]}]}static getRandomLanguages(){const e=oo.getSourceLanguages(),t=[];for(;3!==t.length;){const n=e[no.randomNumber(e.length)];t.includes(n)||t.push(n)}return t.sort()}static generateTranslation(e){const t="abcdefghijklmnopqrstuvwxyz";let n="";for(let r=0;r!==e.length;++r){if(" "!==e.toLowerCase().charAt(r)){n+=t[no.randomNumber(26)]}else n+=" "}return oo.shuffle(n)}static getAllLanguages(){return["common","abyssal","aquan","auran","celestial","deep speech","dwarvish","elvish","giant","gnomish","goblin","halfling","ignan","infernal","orc","primordial","sylvan","terran","undercommon"]}static getKnownLanguages(e){return e.map((e=>e.languages.toLowerCase())).join(", ").split(/[,;:]+/).map((e=>e.trim())).filter((e=>e.length>0)).reduce(((e,t)=>(-1===e.indexOf(t)&&e.push(t),e)),[]).sort(((e,t)=>"common"===e?-1:"common"===t?1:e.localeCompare(t))).map((e=>oo.capitalise(e)))}static startsWithVowel(e){let t=!1;return["a","e","i","o","u"].forEach((n=>{e.toLowerCase().startsWith(n)&&(t=!0)})),t}static shuffle(e){const t=e.split("");for(let n=t.length-1;n>0;n--){const e=no.randomNumber(n+1),r=t[n];t[n]=t[e],t[e]=r}return t.join("")}static capitalise(e){return e.split(" ").filter((e=>e.length>0)).map((e=>e[0].toUpperCase()+(e.length>1?e.substring(1):""))).join(" ")}static generateName(){const e=["As Has Khe Zash Gl Ig Iv Kos Miv Pav Ser Dar Even Gor Rand Sto Tam Barer Keth Mum","Mar Burg Al Hel Wrayt S Eag Eath Joan Answ L Ot Ced At Tal Ham Jasm Mail Yash Row","Adr Alber Ba Bar Gar Kildr Kath Dies Eld Gurd Har Morg Or Rur Mar Vis Jen Torg Tak Thor End Ris Em Gunn","Ad All Aram Berri Car Enial Gann Im Per Sorvi Var Adr An Beth Bir Jelen Key Lesh Mer Mia Naiv Quel Sar Shan","Al An C Cor Eld Er Finn Gar Lin Mer Os Per Ros An Cal Cor Kith Lav Ned Pae Seraph T V Chen","Are Bala Bhar Don Gh Hesk Med Meh Nad Pand Patr Sham Shed Ak Bir Farid Fla Ka Ko Mish Thav Uad Eder Hener","Alu Stos Fa Ravay Leo Stok Vic El Yeng Car Ric Ar Guir Es My Pey","Ae Ar Au Bae Bale Ca Cor Dae Elae Gae Helae Jacae Jae Jaehae Lae Luce Mae Me Monte Nae Rha Rhae Sae Shae Sy Te Ty Va Vae Valae Vale Ver Vha Vise","Alys Ce Cer Da Dar Dor El Er Ge Ger Ja Jai Jo Joa Joy Ke La Lan Le Lo Lor Lu Ly Ma Mar Myr No Nor Sta Te Ti To Ty Wil Will","Al Alys Areg Ar Arr Art Barth Ben Benj Benn Ber Brand Creg Donn Dorr Ed Edd Edder El Ell Err Ey Gill Harl Joc Jon Jonn Jor Karl Ly Lyn Lys Mar Marg Marn Mel Os Ray Rick Rob Rod Sar Sans Ser The Torrh Walt Will"].join(" ").toLowerCase().split(" "),t=["Eir Eid Eed El Ar An Or Ef Al Vin Orn Dur Stag Elm Ur Us","Ik Ich Ern End Tor Nor In Rak Gen Sik Gran Linn Vok Brek Dal Gar","An Ar Il Rian Ric Is Dan Arai Meral Cian En Rion Ialis Ior Nan Kas","Ton Der Ade Rin Don Rich Nan Ret Al Born Coe By Fire Yas Dal Yle","Han Asar Ash Aar Esch An Rash En Arr Jed Rin Gar Ash Dinn Hun Rek","Orel Aadi Ahn Aver Eiros Kain Retor Lannan Pet Ikos","Er Ey A E Il Elia Ya Ed Eue Ild Oane Yne Orna Ie Ala Erri Ea Ia","Ber Tin Hild Dryn A Eth Runn Ellen Loda Dis Ja Lin Ra Tyrd De Rasa","Rie Aea Striana Inua Rynna Ilia Na Neth Leth Iel Lee Qui Astra Ia Ania Ynn","Dry Ree Lie Ora Emia Ian Ri Inia Ina Aena Ani Erna Lyse La Da Aela","Ra Ir Eh Ann Ilar Rinn Ann La Ra A Ina Va Hit Ederei Ere Eila","Ina Ceryn Vyn Ella Aella Vyre","gar gal gel gelle gon gor kar l la larr leys lla lon lor lora lys lyx max mion mithor mon mond na naera nar nara nerys nor nora nya nyra nys ra rax raxes rea rion ron rra ryn rys than xes","a anne balt bolt casta cella cion dict elle em en enna fford ford ffrey frey gett got hanna ielle issa la land ler lessa lia man me men mion mon mond na nna ne nei n nn nora old on ora rek reon rick rion sei sha shara son tos tyn van ven wald well win","a ah am an anna anne antha ara ard aret aric arra edict el elle elyn en ena erick ert iah iane ion ogan old on or os ra ric rick rik ron rra well wyle wyn ya yn ys"].join(" ").toLowerCase().split(" "),n=no.randomNumber(e.length),r=no.randomNumber(t.length);let s="";if(1===io.dieRoll(10)){const e=["-","'"," "];s=e[no.randomNumber(e.length)]}return e[n]+s+t[r]}static generatePotion(){let e="";const t=oo.potionColour(!0),n=oo.potionLiquid(),r=oo.potionAdjective(),s=oo.potionFeature();switch(no.randomNumber(5)){case 0:e=t+" "+n;break;case 1:e=t+" "+n+" "+s;break;case 2:e=r+" "+t+" "+n;break;case 3:e=r+" "+t+" "+n+" "+s;break;case 4:e=r+" "+n+", "+t+" "+s}switch(e=(oo.startsWithVowel(e)?"an":"a")+" "+e+" in "+oo.potionContainer(),no.randomNumber(6)){case 0:e+="; it smells "+oo.potionSmell();break;case 1:e+="; it tastes "+oo.potionSmell();break;case 2:e+="; it smells "+oo.potionSmell()+" but tastes "+oo.potionSmell();break;case 3:e+="; it smells and tastes "+oo.potionSmell()}return e}static generateNPCAge(){const e=["elderly","middle-aged","teenage","youthful","young","old"];return e[no.randomNumber(e.length)]}static generateNPCProfession(){const e=["apothecary","architect","armourer","arrowsmith","astrologer","baker","barber","lawyer","beggar","bellfounder","blacksmith","bookbinder","brewer","bricklayer","butcher","carpenter","carter","cartwright","chandler","peddler","clerk","clockmaker","cobbler","cook","cooper","merchant","embroiderer","engraver","fisherman","fishmonger","forester","furrier","gardener","gemcutter","glassblower","goldsmith","grocer","haberdasher","stableman","courtier","herbalist","innkeeper","ironmonger","labourer","painter","locksmith","mason","messenger","miller","miner","minstrel","ploughman","farmer","porter","sailor","scribe","seamstress","shepherd","shipwright","soapmaker","tailor","tinker","vintner","weaver"];return e[no.randomNumber(e.length)]}static generateNPCHeight(){const e=["gangly","gigantic","hulking","lanky","short","small","stumpy","tall","tiny","willowy"];return e[no.randomNumber(e.length)]}static generateNPCWeight(){const e=["broad-shouldered","fat","gaunt","heavy-set","obese","plump","pot-bellied","rotund","skinny","slender","slim","statuesque","stout","thin"];return e[no.randomNumber(e.length)]}static generateNPCHair(){const e=["short","cropped","long","braided","dreadlocked","shoulder-length","wiry","balding","receeding","curly","tightly-curled","straight","greasy","limp","sparse","thinning","wavy"],t=["black","brown","dark brown","light brown","red","ginger","strawberry blonde","blonde","ash blonde","graying","silver","white","gray","auburn"];return e[no.randomNumber(e.length)]+", "+t[no.randomNumber(t.length)]}static generateNPCPhysical(){const e=["bearded","buck-toothed","chiselled","doe-eyed","fine-featured","florid","gap-toothed","goggle-eyed","grizzled","jowly","jug-eared","pock-marked","broken nose","red-cheeked","scarred","squinting","thin-lipped","toothless","weather-beaten","wrinkled"];return e[no.randomNumber(e.length)]}static generateNPCMental(){const e=["hot-tempered","overbearing","antagonistic","haughty","elitist","proud","rude","aloof","mischievous","impulsive","lusty","irreverent","madcap","thoughtless","absent-minded","insensitive","brave","craven","shy","fearless","obsequious","inquisitive","prying","intellectual","perceptive","keen","perfectionist","stern","harsh","punctual","driven","trusting","kind-hearted","forgiving","easy-going","compassionate","miserly","hard-hearted","covetous","avaricious","thrifty","wastrel","spendthrift","extravagant","kind","charitable","gloomy","morose","compulsive","irritable","vengeful","honest","truthful","innocent","gullible","bigoted","biased","narrow-minded","cheerful","happy","diplomatic","pleasant","foolhardy","affable","fatalistic","depressing","cynical","sarcastic","realistic","secretive","retiring","practical","level-headed","dull","reverent","scheming","paranoid","cautious","deceitful","nervous","uncultured","boorish","barbaric","graceless","crude","cruel","sadistic","immoral","jealous","belligerent","argumentative","arrogant","careless","curious","exacting","friendly","greedy","generous","moody","naive","opinionated","optimistic","pessimistic","quiet","sober","suspicious","uncivilised","violent","peaceful"];return e[no.randomNumber(e.length)]}static generateNPCSpeech(){const e=["accented","articulate","garrulous","breathless","crisp","gutteral","high-pitched","lisping","loud","nasal","slow","fast","squeaky","stuttering","wheezy","whiny","whispery","soft-spoken","laconic","blustering"];return e[no.randomNumber(e.length)]}static generateNPCTrait(){const e=["I idolize a particular hero of my faith and constantly refer to that person's deeds and example.","I can find common ground between the fiercest enemies, empathizing with them and always working toward peace.","I see omens in every event and action. The gods try to speak to us, we just need to listen.","Nothing can shake my optimistic attitude.","I quote (or misquote) the sacred texts and proverbs in almost every situation.","I am tolerant (or intolerant) of other faiths and respect (or condemn) the worship of other gods.","I've enjoyed fine food, drink, and high society among my temple's elite. Rough living grates on me.","I've spent so long in the temple that I have little practical experience dealing with people in the outside world.","I fall in and out of love easily, and am always pursuing someone.","I have a joke for every occasion, especially occasions where humor is inappropriate.","Flattery is my preferred trick for getting what I want.","I'm a born gambler who can't resist taking a risk for a potential payoff.","I lie about almost everything, even when there's no good reason to.","Sarcasm and insults are my weapons of choice.","I keep multiple holy symbols on me and invoke whatever deity might come in useful at any given moment.","I pocket anything I see that might have some value.","I always have plan for what to do when things go wrong.","I am always calm, no matter what the situation. I never raise my voice or let my emotions control me.","The first thing I do in a new place is note the locations of everything valuable - or where such things could be hidden.","I would rather make a new friend than a new enemy.","I am incredibly slow to trust. Those who seem the fairest often have the most to hide.","I don't pay attention to the risks in a situation. Never tell me the odds.","The best way to get me to do something is to tell me I can't do it.","I blow up at the slightest insult.","I know a story relevant to almost every situation.","Whenever I come to a new place, I collect local rumors and spread gossip.","I'm a hopeless romantic, always searching for that 'special someone'.","Nobody stays angry at me or around me for long, since I can defuse any amount of tension.","I love a good insult, even one directed at me.","I get bitter if I'm not the center of attention.","I'll settle for nothing less than perfection.","I change my mood or my mind as quickly as I change key in a song.","I judge people by their actions, not their words.","If someone is in trouble, I'm always willing to lend help.","When I set my mind to something, I follow through no matter what gets in my way.","I have a strong sense of fair play and always try to find the most equitable solution to arguments.","I'm confident in my own abilities and do what I can to instill confidence in others.","Thinking is for other people. I prefer action.","I misuse long words in an attempt to sound smarter.","I get bored easily. When am I going to get on with my destiny?","I believe that everything worth doing is worth doing right. I can't help it - I'm a perfectionist.","I'm a snob who looks down on those who can't appreciate fine art.","I always want to know how things work and what makes people tick.","I'm full of witty aphorisms and have a proverb for every occasion.","I'm rude to people who lack my commitment to hard work and fair play.","I like to talk at length about my profession.","I don't part with my money easily and will haggle tirelessly to get the best deal possible.","I'm well known for my work, and I want to make sure everyone appreciates it. I'm always taken aback when people haven't heard of me.","I've been isolated for so long that I rarely speak, preferring gestures and the occasional grunt.","I am utterly serene, even in the face of disaster.","The leader of my community has something wise to say on every topic, and I am eager to share that wisdom.","I feel tremendous empathy for all who suffer.","I'm oblivious to etiquette and social expectations.","I connect everything that happens to me to a grand cosmic plan.","I often get lost in my own thoughts and contemplations, becoming oblivious to my surroundings.","I am working on a grand philosophical theory and love sharing my ideas.","My eloquent flattery makes everyone I talk to feel like the most wonderful and important person in the world.","The common folk love me for my kindness and generosity.","No one could doubt by looking at my regal bearing that I am a cut above the unwashed masses.","I take great pains to always look my best and follow the latest fashions.","I don't like to get my hands dirty, and I won't be caught dead in unsuitable accommodations.","Despite my birth, I do not place myself above other folk. We all have the same blood.","My favor, once lost, is lost forever.","If you do me an injury, I will crush you, ruin your name, and salt your fields.","I'm driven by a wanderlust that led me away from home.","I watch over my friends as if they were a litter of newborn pups.","I once ran twenty-five miles without stopping to warn my clan of an approaching orc horde. I'd do it again if I had to.","I have a lesson for every situation, drawn from observing nature.","I place no stock in wealthy or well-mannered folk. Money and manners won't save you from a hungry owlbear.","I'm always picking things up, absently fiddling with them, and sometimes accidentally breaking them.","I feel far more comfortable around animals than people.","I was, in fact, raised by wolves.","I use polysyllabic words to convey the impression of great erudition.","I've read every book in the world's greatest libraries - or like to boast that I have.","I'm used to helping out those who aren't as smart as I am, and I patiently explain anything and everything to others.","There's nothing I like more than a good mystery.","I'm willing to listen to every side of an argument before I make my own judgment.","I...speak...slowly...when talking...to idiots...which...almost...everyone...is...compared...to me.","I am horribly, horribly awkward in social situations.","I'm convinced that people are always trying to steal my secrets.","My friends know they can rely on me, no matter what.","I work hard so that I can play hard when the work is done.","I enjoy sailing into new ports and making new friends over a flagon of ale.","I stretch the truth for the sake of a good story.","To me, a tavern brawl is a nice way to get to know a new city.","I never pass up a friendly wager.","My language is as foul as an otyugh nest.","I like a job well done, especially if I can convince someone else to do it.","I'm always polite and respectful.","I'm haunted by memories of war. I can't get the images of violence out of my mind.","I've lost too many friends, and I'm slow to make new ones.","I'm full of inspiring and cautionary tales from my military experience relevant to almost every combat situation.","I can stare down a hellhound without flinching.","I enjoy being strong and like breaking things.","I have a crude sense of humor.","I face problems head-on. A simple direct solution is the best path to success.","I hide scraps of food and trinkets away in my pockets.","I ask a lot of questions.","I like to squeeze into small places where no one else can get to me.","I sleep with my back to a wall or tree, with everything I own wrapped in a bundle in my arms.","I eat like a pig and have bad manners.","I think anyone who's nice to me is hiding evil intent.","I don't like to bathe.","I bluntly say what other people are hinting or hiding."];return e[no.randomNumber(e.length)]}static generateNPCIdeal(){const e=["Faith. I trust that my deity will guide my actions. I have faith that if I work hard, things will go well. (Lawful)","Tradition. The ancient traditions of worship and sacrifice must be preserved and upheld. (Lawful)","Charity. I always try to help those in need, no matter what the personal cost. (Good)","Change. We must help bring about the changes the gods are constantly working in the world. (Chaotic)","Power. I hope to one day rise to the top of my faith's religious hierarchy. (Lawful)","Aspiration. I seek to prove my self worthy of my god's favor by matching my actions against his or her teachings. (Any)","Independence. I am a free spirit - no one tells me what to do. (Chaotic)","Fairness. I never target people who can't afford to lose a few coins. (Lawful)","Charity. I distribute money I acquire to the people who really need it. (Good)","Creativity. I never run the same con twice. (Chaotic)","Friendship. Material goods come and go. Bonds of friendship last forever. (Good)","Aspiration. I'm determined to make something of myself. (Any)","Honor. I don't steal from others in the trade. (Lawful)","Freedom. Chains are meant to be broken, as are those who would forge them. (Chaotic)","Charity. I steal from the wealthy so that I can help people in need. (Good)","Greed. I will do whatever it takes to become wealthy. (Evil)","People. I'm loyal to my friends, not to any ideals, and everyone else can take a trip down the Styx for all I care. (Neutral)","Redemption. There's a spark of good in everyone. (Good)","Beauty. When I perform, I make the world better than it was. (Good)","Tradition. The stories, legends, and songs of the past must never be forgotten. (Lawful)","Creativity. The world is in need of new ideas and bold action. (Chaotic)","Greed. I'm only in it for the money and fame. (Evil)","People. I like seeing the smiles on people's faces when I perform. That's all that matters. (Neutral)","Honesty. Art should reflect the soul; it should come from within and reveal who we really are. (Any)","Respect. People deserve to be treated with dignity and respect. (Good)","Fairness. No one should get preferential treatment before the law, and no one is above the law. (Lawful)","Freedom. Tyrants must not be allowed to oppress the people. (Chaotic)","Might. If I become strong, I can take what I want - what I deserve. (Evil)","Sincerity. There's no good pretending to be something I'm not. (Neutral)","Destiny. Nothing and no one can steer me away from my higher calling. (Any)","Community. It is the duty of all civilized people to strengthen the bonds of community and the security of civilization. (Lawful)","Generosity. My talents were given to me so that I could use them to benefit the world. (Good)","Freedom. Everyone should be free to pursue his or her livelihood. (Chaotic)","Greed. I'm only in it for the money. (Evil)","People. I'm committed to the people I care about, not to ideals. (Neutral)","Aspiration. I work hard to be the best there is at my craft. (Any)","Greater Good. My gifts are meant to be shared with all, not used for my own benefit. (Good)","Logic. Emotions must not cloud our sense of what is right and true, or our logical thinking. (Lawful)","Free Thinking. Inquiry and curiosity are the pillars of progress. (Chaotic)","Power. Solitude and contemplation are paths toward mystical or magical power. (Evil)","Live and Let Live. Meddling in the affairs of others only causes trouble. (Neutral)","Self-Knowledge. If you know yourself, there're nothing left to know. (Any)","Respect. Respect is due to me because of my position, but all people regardless of station deserve to be treated with dignity. (Good)","Responsibility. It is my duty to respect the authority of those above me, just as those below me must respect mine. (Lawful)","Independence. I must prove that I can handle myself without the coddling of my family. (Chaotic)","Power. If I can attain more power, no one will tell me what to do. (Evil)","Family. Blood runs thicker than water. (Any)","Noble Obligation. It is my duty to protect and care for the people beneath me. (Good)","Change. Life is like the seasons, in constant change, and we must change with it. (Chaotic)","Greater Good. It is each person's responsibility to make the most happiness for the whole tribe. (Good)","Honor. If I dishonor myself, I dishonor my whole clan. (Lawful)","Might. The strongest are meant to rule. (Evil)","Nature. The natural world is more important than all the constructs of civilization. (Neutral)","Glory. I must earn glory in battle, for myself and my clan. (Any)","Knowledge. The path to power and self-improvement is through knowledge. (Neutral)","Beauty. What is beautiful points us beyond itself toward what is true. (Good)","Logic. Emotions must not cloud our logical thinking. (Lawful)","No Limits. Nothing should fetter the infinite possibility inherent in all existence. (Chaotic)","Power. Knowledge is the path to power and domination. (Evil)","Self-improvement. The goal of a life of study is the betterment of oneself.","Respect. The thing that keeps a ship together is mutual respect between captain and crew. (Good)","Fairness. We all do the work, so we all share in the rewards. (Lawful)","Freedom. The sea is freedom - the freedom to go anywhere and do anything. (Chaotic)","Master. I'm a predator, and the other ships on the sea are my prey. (Evil)","People. I'm committed to my crewmates, not to ideals. (Neutral)","Aspiration. Someday I'll own my own ship and chart my own destiny. (Any)","Greater Good. Our lot is to lay down our lives in defense of others. (Good)","Responsibility. I do what I must and obey just authority. (Lawful)","Independence. When people follow orders blindly they embrace a kind of tyranny. (Chaotic)","Might. In life as in war, the stronger force wins. (Evil)","Ideals aren't worth killing for or going to war for. (Neutral)","Nation. My city, nation, or people are all that matter. (Any)","Respect. All people, rich or poor, deserve respect. (Good)","Community. We have to take care of each other, because no one else is going to do it. (Lawful)","Change. The low are lifted up, and the high and mighty are brought down. Change is the nature of things. (Chaotic)","Retribution. The rich need to be shown what life and death are like in the gutters. (Evil)","People. I help people who help me - that's what keeps us alive. (Neutral)","Aspiration. I'm going to prove that I'm worthy of a better life. (Any)"];return e[no.randomNumber(e.length)]}static generateNPCBond(){const e=["I would die to recover an ancient artifact of my faith that was lost long ago.","I will someday get revenge on the corrupt temple hierarchy who branded me a heretic.","I owe me life to the priest who took me in when my parents died.","Everything I do is for the common people.","I will do anything to protect the temple where I served.","I seek to preserve a sacred text that my enemies consider heretical and seek to destroy.","I fleeced the wrong person and must work to ensure that this individual never crosses paths with me or those I care about.","I owe everything to my mentor - a horrible person who's probably rotting in jail somewhere.","Somewhere out there I have a child who doesn't know me. I'm making the world better for him or her.","I come from a noble family, and one day I'll reclaim my lands and title from those who stole them from me.","A powerful person killed someone I love. Some day soon, I'll have my revenge.","I swindled and ruined a person who didn't deserve it. I seek to atone for my misdeeds but might never be able to forgive myself.","I'm trying to pay off an old debt I owe to a generous benefactor.","My ill-gotten gains go to support my family.","Something important was taken from me, and I aim to steal it back.","I will become the greatest thief that ever lived.","I'm guilty of a terrible crime. I hope I can redeem myself for it.","Someone I loved died because of a mistake I made. That will never happen again.","My instrument is my most treasured possession, and it reminds me of someone I love.","Someone stole my precious instrument, and someday I'll get it back.","I want to be famous, whatever it takes.","I idolize a hero of the old tales and measure my deeds against that person's.","I will do anything to prove myself superior to me hated rival.","I would do anything for the other members of my old troupe.","I have a family, but I have no idea where they are. One day, I hope to see them again.","I worked the land, I love the land, and I will protect the land.","A proud noble once gave me a horrible beating, and I will take my revenge on any bully I encounter.","My tools are symbols of my past life, and I carry them so that I will never forget my roots.","I protect those who cannot protect themselves.","I wish my childhood sweetheart had come with me to pursue my destiny.","The workshop where I learned my trade is the most important place in the world to me.","I created a great work for someone, and then found them unworthy to receive it. I'm still looking for someone worthy.","I owe my guild a great debt for forging me into the person I am today.","I pursue wealth to secure someone's love.","One day I will return to my guild and prove that I am the greatest artisan of them all.","I will get revenge on the evil forces that destroyed my place of business and ruined my livelihood.","Nothing is more important than the other members of my hermitage, order, or association.","I entered seclusion to hide from the ones who might still be hunting me. I must someday confront them.","I'm still seeking the enlightenment I pursued in my seclusion, and it still eludes me.","I entered seclusion because I loved someone I could not have.","Should my discovery come to light, it could bring ruin to the world.","My isolation gave me great insight into a great evil that only I can destroy.","I will face any challenge to win the approval of my family.","My house's alliance with another noble family must be sustained at all costs.","Nothing is more important that the other members of my family.","I am in love with the heir of a family that my family despises.","My loyalty to my sovereign is unwavering.","The common folk must see me as a hero of the people.","My family, clan, or tribe is the most important thing in my life, even when they are far from me.","An injury to the unspoiled wilderness of my home is an injury to me.","I will bring terrible wrath down on the evildoers who destroyed my homeland.","I am the last of my tribe, and it is up to me to ensure their names enter legend.","I suffer awful visions of a coming disaster and will do anything to prevent it.","It is my duty to provide children to sustain my tribe.","It is my duty to protect my students.","I have an ancient text that holds terrible secrets that must not fall into the wrong hands.","I work to preserve a library, university, scriptorium, or monastery.","My life's work is a series of tomes related to a specific field of lore.","I've been searching my whole life for the answer to a certain question.","I sold my soul for knowledge. I hope to do great deeds and win it back.","I'm loyal to my captain first, everything else second.","The ship is most important - crewmates and captains come and go.","I'll always remember my first ship.","In a harbor town, I have a paramour whose eyes nearly stole me from the sea.","I was cheated of my fair share of the profits, and I want to get my due.","Ruthless pirates murdered my captain and crewmates, plundered our ship, and left me to die. Vengeance will be mine.","I would lay down my life for the people I served with.","Someone saved my life on the battlefield. To this day, I will never leave a friend behind.","My honor is my life.","I'll never forget the crushing defeat my company suffered or the enemies who dealt it.","Those who fight beside me are those worth dying for.","I fight for those who cannot fight for themselves.","My town or city is my home, and I'll fight to defend it.","I sponsor an orphanage to keep others from enduring what I was forced to endure.","I owe my survival to another urchin who taught me to live on the streets.","I owe a debt I can never repay to the person who took pity on me.","I escaped my life of poverty by robbing an important person, and I'm wanted for it.","No one else is going to have to endure the hardships I've been through."];return e[no.randomNumber(e.length)]}static generateNPCFlaw(){const e=["I judge others harshly, and myself even more severely.","I put too much trust in those who wield power within my temple's hierarchy.","My piety sometimes leads me to blindly trust those that profess faith in my god.","I am inflexible in my thinking.","I am suspicious of strangers and suspect the worst of them.","Once I pick a goal, I become obsessed with it to the detriment of everything else in my life.","I can't resist a pretty face.","I'm always in debt. I spend my ill-gotten gains on decadent luxuries faster than I bring them in.","I'm convinced that no one could ever fool me in the way I fool others.","I'm too greedy for my own good. I can't resist taking a risk if there's money involved.","I can't resist swindling people who are more powerful than me.","I hate to admit it and will hate myself for it, but I'll run and preserve my own hide if the going gets tough.","When I see something valuable, I can't think about anything but how to steal it.","When faced with a choice between money and my friends, I usually choose the money.","If there's a plan, I'll forget it. If I don't forget it, I'll ignore it.","I have a 'tell' that reveals when I'm lying.","I turn tail and run when things go bad.","An innocent person is in prison for a crime that I committed. I'm okay with that.","I'll do anything to win fame and renown.","I'm a sucker for a pretty face.","A scandal prevents me from ever going home again. That kind of trouble seems to follow me around.","I once satirized a noble who still wants my head. It was a mistake that I will likely repeat.","I have trouble keeping my true feelings hidden. My sharp tongue lands me in trouble.","Despite my best efforts, I am unreliable to my friends.","The tyrant who rules my land will stop at nothing to see me killed.","I'm convinced of the significance of my destiny, and blind to my shortcomings and the risk of failure.","The people who knew me when I was young know my shameful secret, so I can never go home again.","I have a weakness for the vices of the city, especially hard drink.","Secretly, I believe that things would be better if I were a tyrant lording over the land.","I have trouble trusting in my allies.","I'll do anything to get my hands on something rare or priceless.","I'm quick to assume that someone is trying to cheat me.","No one must ever learn that I once stole money from guild coffers.","I'm never satisfied with what I have - I always want more.","I would kill to acquire a noble title.","I'm horribly jealous of anyone who outshines my handiwork. Everywhere I go, I'm surrounded by rivals.","Now that I've returned to the world, I enjoy its delights a little too much.","I harbor dark bloodthirsty thoughts that my isolation failed to quell.","I am dogmatic in my thoughts and philosophy.","I let my need to win arguments overshadow friendships and harmony.","I'd risk too much to uncover a lost bit of knowledge.","I like keeping secrets and won't share them with anyone.","I secretly believe that everyone is beneath me.","I hide a truly scandalous secret that could ruin my family forever.","I too often hear veiled insults and threats in every word addressed to me, and I'm quick to anger.","I have an insatiable desire for carnal pleasures.","In fact, the world does revolve around me.","By my words and actions, I often bring shame to my family.","I am too enamored of ale, wine, and other intoxicants.","There's no room for caution in a life lived to the fullest.","I remember every insult I've received and nurse a silent resentment toward anyone who's ever wronged me.","I am slow to trust members of other races","Violence is my answer to almost any challenge.","Don't expect me to save those who can't save themselves. It is nature's way that the strong thrive and the weak perish.","I am easily distracted by the promise of information.","Most people scream and run when they see a demon. I stop and take notes on its anatomy.","Unlocking an ancient mystery is worth the price of a civilization.","I overlook obvious solutions in favor of complicated ones.","I speak without really thinking through my words, invariably insulting others.","I can't keep a secret to save my life, or anyone else's.","I follow orders, even if I think they're wrong.","I'll say anything to avoid having to do extra work.","Once someone questions my courage, I never back down no matter how dangerous the situation.","Once I start drinking, it's hard for me to stop.","I can't help but pocket loose coins and other trinkets I come across.","My pride will probably lead to my destruction","The monstrous enemy we faced in battle still leaves me quivering with fear.","I have little respect for anyone who is not a proven warrior.","I made a terrible mistake in battle that cost many lives - and I would do anything to keep that mistake secret.","My hatred of my enemies is blind and unreasoning.","I obey the law, even if the law causes misery.","I'd rather eat my armor than admit when I'm wrong.","If I'm outnumbered, I always run away from a fight.","Gold seems like a lot of money to me, and I'll do just about anything for more of it.","I will never fully trust anyone other than myself.","I'd rather kill someone in their sleep than fight fair.","It's not stealing if I need it more than someone else.","People who don't take care of themselves get what they deserve."];return e[no.randomNumber(e.length)]}static generateTreasure(){let e="";const t=["diamond","ruby","sapphire","emerald","amethyst","garnet","topaz","pearl","black pearl","opal","fire opal","amber","coral","agate","carnelian","jade","peridot","moonstone","alexandrite","aquamarine","jacinth","marble"];switch(no.randomNumber(12)){case 0:case 1:case 2:{let n=t[no.randomNumber(t.length)];switch(no.randomBoolean()){case!0:n+=" gemstone";break;case!1:n="piece of "+n}switch(no.randomNumber(12)){case 0:n="well cut "+n;break;case 1:n="rough-cut "+n;break;case 2:n="poorly cut "+n;break;case 3:n="small "+n;break;case 4:n="large "+n;break;case 5:n="oddly shaped "+n;break;case 6:n="highly polished "+n}e=n}break;case 3:case 4:case 5:{const t=["medal","statuette","sculpture","idol","chalice","goblet","dish","bowl"],n=t[no.randomNumber(t.length)],r=["small","large","light","heavy","delicate","fragile","masterwork","elegant"];e=r[no.randomNumber(r.length)]+" "+n}break;case 6:case 7:case 8:{const t=["ring","necklace","crown","circlet","bracelet","anklet","torc","brooch","pendant","locket","diadem","tiara","earring"],n=t[no.randomNumber(t.length)],r=["gold","silver","bronze","platinum","electrum","mithral","orium","adamantine"];switch(e=r[no.randomNumber(r.length)]+" "+n,no.randomNumber(5)){case 0:e=(no.randomBoolean()?"enamelled":"laquered")+" "+e;break;case 1:e=r[no.randomNumber(r.length)]+"-"+(no.randomBoolean()?"plated":"filigreed")+" "+e}switch(no.randomNumber(10)){case 0:e="delicate "+e;break;case 1:e="intricate "+e;break;case 2:e="elegant "+e;break;case 3:e="simple "+e;break;case 4:e="plain "+e}}break;case 9:case 10:{let t="";switch(no.randomBoolean()){case!0:switch(t="painting",no.randomBoolean()){case!0:t="oil "+t;break;case!1:t="watercolour "+t}break;case!1:switch(t="drawing",no.randomNumber(3)){case 0:t="pencil "+t;break;case 1:t="charcoal "+t;break;case 2:t="pastel "+t}}const n=["small","large","delicate","fragile","elegant","detailed"],r=["canvas","paper","parchment","wood panels","fabric"];e=n[no.randomNumber(n.length)]+" "+t+" on "+r[no.randomNumber(r.length)]}break;case 11:{const t=["lute","lyre","mandolin","violin","drum","flute","clarinet","accordion","banjo","bodhran","ocarina","zither","djembe","shawm"],n=t[no.randomNumber(t.length)],r=["small","large","light","heavy","delicate","fragile","masterwork","elegant"];e=r[no.randomNumber(r.length)]+" "+n}}switch(no.randomNumber(5)){case 0:{const t=["feywild","shadowfell","elemental chaos","astral plane","abyss","distant north","distant east","distant west","distant south"];e+=" from the "+t[no.randomNumber(t.length)]}break;case 1:{const t=["decorated with","inscribed with","engraved with","embossed with","carved with"],n=["indecipherable","ancient","curious","unusual","dwarven","eladrin","elven","draconic","gith"],r=["script","designs","sigils","runes","glyphs","patterns"];e+=" "+t[no.randomNumber(t.length)]+" "+n[no.randomNumber(n.length)]+" "+r[no.randomNumber(r.length)]}break;case 2:{const t=["glowing with","suffused with","infused with","humming with","pulsing with"],n=["arcane","divine","primal","psionic","dark","shadow","elemental","ethereal","unknown"],r=["energy","power","magic"];e+=" "+t[no.randomNumber(t.length)]+" "+n[no.randomNumber(n.length)]+" "+r[no.randomNumber(r.length)]}break;case 4:{let n=t[no.randomNumber(t.length)];no.randomBoolean()?n+="s":n="a single "+n;const r=["set with","inlaid with","studded with","with shards of"];e+=" "+r[no.randomNumber(r.length)]+" "+n}}return(oo.startsWithVowel(e)?"an ":"a ")+e}static generateRoomName(){const e=["antechamber","arena","armoury","aviary","audience chamber","banquet hall","bath chamber","barracks","bedroom","boudoir","bestiary","burial chamber","cells","chamber","chantry","chapel","classroom","closet","court","crypt","dining room","dormitory","dressing room","dumping ground","entrance hall","gallery","game room","great hall","guard post","hall","harem","hoard","infirmary","kennels","kitchens","laboratory","lair","library","mausoleum","meditation room","museum","nursery","observatory","office","pantry","prison","quarters","reception room","refectory","ritual chamber","shrine","smithy","stable","storeroom","study","temple","throne room","torture chamber","trophy room","training area","treasury","waiting room","workroom","workshop","vault","vestibule"];return e[no.randomNumber(e.length)]}static generateRoomDescription(){const e=[];return 0===no.randomNumber(2)&&(e.push(this.randomWall()),0===no.randomNumber(2)&&e.push(this.randomWallFinish())),0===no.randomNumber(5)&&e.push(this.randomAir()),0===no.randomNumber(5)&&e.push(this.randomSmell()),0===no.randomNumber(5)&&e.push(this.randomSound()),0===no.randomNumber(10)&&e.push(this.randomActivity()),e.join(" ").trim()}static randomWall(){const e=["The walls of this area are "+this.randomWallMaterial()+".","The walls of this area are "+this.randomWallMaterial()+" and "+this.randomWallMaterial()+".","The floor of this area is made from "+this.randomWallMaterial()+".","The walls of this area are made of "+this.randomWallMaterial()+", while the ceiling and floor are "+this.randomWallMaterial()+".","The walls of this area have been hewn out of solid rock.","The walls of this area have been panelled in dark wood."];return e[no.randomNumber(e.length)]}static randomWallMaterial(){const e=["granite","slate","sandstone","brick","marble","slabs of rock","an unfamiliar rock"];let t=e[no.randomNumber(e.length)];if(0===no.randomNumber(2)){const e=["polished","rough","chiselled","uneven","worked",this.potionColour(!1),this.potionColour(!1)+" and "+this.potionColour(!1)];t=e[no.randomNumber(e.length)]+" "+t}return t}static randomWallFinish(){const e=["They are covered in black soot.","They are "+this.randomStyle()+" with "+this.randomDecoration()+".","They are covered in claw marks.","They have been painted "+this.potionColour(!1)+".","It is possible to tell that they were once plastered.","Here and there, graffiti covers them.","A thick layer of dust covers the room.","Moss and lichen grows here and there on them.","The patina of age covers them.","Childlike drawings and sketches cover them.","Cryptic signs have been scratched into them."];return e[no.randomNumber(e.length)]}static randomStyle(){const e=["painted","engraved"];return e[no.randomNumber(e.length)]}static randomDecoration(){const e=["abstract artwork","battle scenes","landscape scenes","hunting scenes","pastoral scenes","religious symbols","runes","glyphs","sigils","cryptic signs"];return e[no.randomNumber(e.length)]}static randomAir(){const e=["The room is bitterly cold.","There is a distinct chill in the air.","A cold breeze blows through this area.","A warm draught blows through this area.","The area is uncomfortably hot.","The air is dank.","The air here is warm and humid.","A strange mist hangs in the air here.","The room's surfaces are covered in frost."];return e[no.randomNumber(e.length)]}static randomSmell(){const e=["A smell of burning hangs in the air.","The air feels stagnant.","The air smells "+this.potionSmell(),"From time to time the smell of blood catches your nostrils.","The stench of rotting meat is in the air.","The area has a strange musky smell.","You notice a strangly acrid smell throughout the area.","The area is filled with an unpleasant putrid smell."];return e[no.randomNumber(e.length)]}static randomSound(){const e=["You can hear distant chanting.","You can hear a quiet buzzing sound.","The sound of running water fills this area.","A low humming sound can be heard.","The area is unnaturally quiet.","A quiet susurration can just be heard.","Creaking sounds fill the area.","Scratching sounds can be heard.","From time to time, a distant voice can be heard."];return e[no.randomNumber(e.length)]}static randomActivity(){const e=["The dust swirls as if disturbed by movement.","You catch a sudden movement out of the corner of your eye.","From time to time tiny pieces of debris fall from the ceiling.","Water drips slowly from a crack in the ceiling.","Water drips down the walls."];return e[no.randomNumber(e.length)]}static potionColour(e){let t=["red","scarlet","crimson","carmine","vermillion","pink","blue","royal blue","sky blue","light blue","dark blue","midnight blue","indigo","yellow","lemon yellow","amber","green","light green","dark green","sea green","turquoise","aquamarine","emerald","purple","lavender","lilac","mauve","orange","brown","maroon","ochre","black","dark grey","grey","light grey","off-white","white","golden","silver"];if(e&&(t=t.concat(["blood red","cherry red","ruby-coloured","rose-coloured","sapphire-coloured","straw-coloured","olive-coloured","plum-coloured","mud-coloured","cream-coloured","ivory-coloured","bronze-coloured","colourless","clear","transparent"])),e&&0===no.randomNumber(5)){const e=no.randomNumber(t.length),n=no.randomNumber(t.length),r=[t[e],t[n]];return no.sort(r,[{field:"length",dir:"asc"}]),r[0]+" and "+r[1]}return t[no.randomNumber(t.length)]}static potionAdjective(){const e=["watery","syrupy","thick","viscous","gloopy","thin","runny","translucent","effervescent","fizzing","bubbling","foaming","volatile","smoking","fuming","vaporous","steaming","cold","icy cold","hot","sparkling","iridescent","cloudy","opalescent","luminous","phosphorescent","glowing"];return e[no.randomNumber(e.length)]}static potionFeature(){switch(no.randomNumber(6)){case 0:return"with "+this.potionColour(!0)+" specks";case 1:return"with flecks of "+this.potionColour(!1);case 2:{const e=this.potionColour(!0);return"with "+(oo.startsWithVowel(e)?"an":"a")+" "+e+" suspension"}case 3:return"with a floating "+this.potionColour(!0)+" layer";case 4:return"with a ribbon of "+this.potionColour(!1);case 5:return"with "+this.potionColour(!0)+" marbling"}return""}static potionLiquid(){const e=["liquid","solution","draught","oil","elixir","potion"];return e[no.randomNumber(e.length)]}static potionContainer(){const e=["small","rounded","tall","square","irregularly-shaped","long-necked","cylindrical","round-bottomed"],t=["glass","metal","ceramic","crystal"],n=["vial","jar","bottle","flask"],r=e[no.randomNumber(e.length)];let s=t[no.randomNumber(t.length)];const a=n[no.randomNumber(n.length)];0===no.randomNumber(3)&&(s=this.potionColour(!0)+" "+s);let i="";switch(no.randomBoolean()){case!0:i=s+" "+a;break;case!1:i=r+" "+s+" "+a}return(oo.startsWithVowel(i)?"an":"a")+" "+i}static potionSmell(){const e=["acidic","acrid","of ammonia","of apples","bitter","brackish","buttery","of cherries","delicious","earthy","of earwax","of fish","floral","of lavender","lemony","of honey","fruity","meaty","metallic","musty","of onions","of oranges","peppery","of perfume","rotten","salty","sickly sweet","starchy","sugary","smokey","sour","spicy","of sweat","sweet","unpleasant","vile","vinegary"];return e[no.randomNumber(e.length)]}}oo.model=[],oo.maxLength=0;const lo=["blinded","charmed","deafened","exhaustion","frightened","grappled","incapacitated","invisible","paralyzed","petrified","poisoned","prone","restrained","stunned","unconscious","custom"],Ao=["tiny","small","medium","large","huge","gargantuan"],co=["aberration","beast","celestial","construct","dragon","elemental","fey","fiend","giant","humanoid","monstrosity","ooze","plant","undead"],uo=["artillery","boss","controller","skirmisher","sneak","soldier","tank"],ho=["trait","action","bonus","reaction","legendary","mythic","lair"];class po{static getTypicalHP(e){const t=(io.hitDieType(e.size)+1)/2+io.modifierValue(e.abilityScores.con);return Math.floor(e.hitDice*t)}static getTypicalHPString(e){const t=io.hitDieType(e.size),n=io.modifierValue(e.abilityScores.con)*e.hitDice;let r="";return n>0&&(r=" + "+n),n<0&&(r=" - "+Math.abs(n)),e.hitDice+"d"+t+r}static getVisionRadius(e){let t=0;const n=e.senses.match(/dark\s?vision\s+(\d+)\s?ft/i);return n&&(t=parseInt(n[1],10)),t}static nudgeValue(e,t,n){let r=e,s=null;const a=t.split(".");let i;switch(a.forEach((e=>{e===a[a.length-1]?s=r[e]:r=r[e]})),t){case"challenge":i=io.nudgeChallenge(s,n);break;case"size":i=io.nudgeSize(s,n);break;default:i=(s||0)+n,i=Math.max(i,0)}po.changeValue(e,t,i)}static changeValue(e,t,n){let r=e;if("name"===t){const t=e.name.toLowerCase()||"monster",r=n.toLowerCase()||"monster";e.traits.forEach((e=>{e.text=e.text.replaceAll(" "+t," "+r),e.text=e.text.replaceAll(" "+oo.capitalise(t)," "+r)}))}const s=t.split(".");s.forEach((e=>{e===s[s.length-1]?r[e]=n:r=r[e]}))}static clear(e){e.name="",e.size="medium",e.role="",e.category="beast",e.tag="",e.alignment="",e.challenge=1,e.abilityScores.str=10,e.abilityScores.dex=10,e.abilityScores.con=10,e.abilityScores.int=10,e.abilityScores.wis=10,e.abilityScores.cha=10,e.ac=10,e.acInfo="",e.hitDice=1,e.damage.resist="",e.damage.vulnerable="",e.damage.immune="",e.savingThrows="",e.speed="",e.skills="",e.senses="",e.languages="",e.traits=[],e.conditionImmunities="",e.portrait="",e.legendaryActions=0}static copyFields(e,t){return po.clear(e),e.name=t.name,e.size=t.size,e.role=t.role,e.category=t.category,e.tag=t.tag,e.alignment=t.alignment,e.challenge=t.challenge,e.abilityScores.str=t.abilityScores.str,e.abilityScores.dex=t.abilityScores.dex,e.abilityScores.con=t.abilityScores.con,e.abilityScores.int=t.abilityScores.int,e.abilityScores.wis=t.abilityScores.wis,e.abilityScores.cha=t.abilityScores.cha,e.ac=t.ac,e.acInfo=t.acInfo,e.hitDice=t.hitDice,e.damage.resist=t.damage.resist,e.damage.vulnerable=t.damage.vulnerable,e.damage.immune=t.damage.immune,e.savingThrows=t.savingThrows,e.speed=t.speed,e.skills=t.skills,e.senses=t.senses,e.languages=t.languages,e.conditionImmunities=t.conditionImmunities,e.portrait=t.portrait,e.legendaryActions=t.legendaryActions,t.traits.forEach((t=>{const n=JSON.parse(JSON.stringify(t));e.traits.push(n)})),e}static sortTraits(e){no.sort(e.traits);const t=e.traits.filter((e=>e.name.toLowerCase().startsWith("multiattack"))),n=e.traits.filter((e=>!e.name.toLowerCase().startsWith("multiattack")));e.traits=t.concat(n)}static createFromJSON(e){const t=ro.createMonster();t.type="monster",t.name=e.name,t.size=e.size.toLowerCase(),t.role="",t.category=e.type,t.tag=e.subtype,t.alignment=e.alignment,t.challenge=io.parseChallenge(e.challenge_rating),t.ac=e.armor_class,t.acInfo="",t.speed=e.speed,t.senses=e.senses,t.languages=e.languages;const n=e.hit_dice.indexOf("d");t.hitDice=parseInt(e.hit_dice.substring(0,n),10),t.abilityScores.str=e.strength,t.abilityScores.dex=e.dexterity,t.abilityScores.con=e.constitution,t.abilityScores.int=e.intelligence,t.abilityScores.wis=e.wisdom,t.abilityScores.cha=e.charisma,t.damage.resist=e.damage_resistances,t.damage.vulnerable=e.damage_vulnerabilities,t.damage.immune=e.damage_immunities,t.conditionImmunities=e.condition_immunities,t.legendaryActions=0;[{field:"strength_save",text:"Strength"},{field:"dexterity_save",text:"Dexterity"},{field:"constitution_save",text:"Constitution"},{field:"intelligence_save",text:"Intelligence"},{field:"wisdom_save",text:"Wisdom"},{field:"charisma_save",text:"Charisma"}].forEach((n=>{if(e[n.field]){const r=n.text+" "+e[n.field];t.savingThrows+=""===t.savingThrows?r:", "+r}}));return[{field:"acrobatics",text:"Acrobatics"},{field:"animal_handling",text:"Animal handling"},{field:"arcana",text:"Arcana"},{field:"athletics",text:"Athletics"},{field:"deception",text:"Deception"},{field:"history",text:"History"},{field:"insight",text:"Insight"},{field:"intimidation",text:"Intimidation"},{field:"investigation",text:"Investigation"},{field:"medicine",text:"Medicine"},{field:"nature",text:"Nature"},{field:"perception",text:"Perception"},{field:"performance",text:"Performance"},{field:"persuasion",text:"Persuasion"},{field:"religion",text:"Religion"},{field:"sleight_of_hand",text:"Sleight of hand"},{field:"stealth",text:"Stealth"},{field:"survival",text:"Survival"}].forEach((n=>{if(e[n.field]){const r=n.text+" "+e[n.field];t.skills+=""===t.skills?r:", "+r}})),e.special_abilities&&e.special_abilities.forEach((e=>{const n=this.buildTrait(e,"trait");t.traits.push(n)})),e.actions&&e.actions.forEach((e=>{const n=this.buildTrait(e,"action");t.traits.push(n)})),e.reactions&&e.reactions.forEach((e=>{const n=this.buildTrait(e,"reaction");t.traits.push(n)})),e.legendary_actions&&e.legendary_actions.forEach((e=>{const n=this.buildTrait(e,"legendary");t.traits.push(n)})),t.traits.some((e=>"legendary"===e.type||"mythic"===e.type))&&(t.legendaryActions=3),t.role=this.getRole(t),t}static buildTrait(e,t){let n="",r="";const s=e.name.indexOf("(");if(-1===s)n=e.name;else{const t=e.name.indexOf(")");n=e.name.substring(0,s-1),r=e.name.substring(s+1,t).toLowerCase()}const a=e.desc.replace(/\u2022/g,"*");let i=t;return"Lair Actions"===n&&(i="lair"),0===a.indexOf("As a bonus action")&&(i="bonus"),{id:no.guid(),type:i,name:n,usage:r,text:a,uses:0}}static import(e,t){po.clear(t);const n=(new DOMParser).parseFromString(e,"text/html");try{t.name=n.getElementsByClassName("mon-stat-block__name")[0].innerText.trim();let e=n.getElementsByClassName("mon-stat-block__meta")[0].innerText.toLowerCase().trim();const r=e.indexOf(" ");t.size=e.substring(0,r).trim(),e=e.substring(r+1).trim();const s=e.indexOf(",");t.alignment=e.substring(s+1).trim(),e=e.substring(0,s).trim();const a=e.indexOf("("),i=e.indexOf(")");-1!==a&&-1!==i&&(t.tag=e.substring(a+1,i).trim(),e=e.substring(0,a).trim()),t.category=e}catch(r){console.error(r)}try{const e=n.getElementsByClassName("mon-stat-block__attribute");for(let n=0;n!==e.length;++n){const r=e[n],s=r.getElementsByClassName("mon-stat-block__attribute-label")[0].innerText.toLowerCase().trim(),a=r.getElementsByClassName("mon-stat-block__attribute-data-value")[0].innerText.toLowerCase().trim();switch(s){case"armor class":{t.ac=Number.parseInt(a,10);let e=r.getElementsByClassName("mon-stat-block__attribute-data-extra")[0].innerText.toLowerCase().trim();e.startsWith("(")&&(e=e.substr(1,e.length-2)),t.acInfo=e}break;case"hit points":{const e=r.getElementsByClassName("mon-stat-block__attribute-data-extra")[0].innerText.toLowerCase().trim();t.hitDice=Number.parseInt(e.substring(1,e.indexOf("d")),10)}break;case"speed":t.speed=a}}}catch(r){console.error(r)}try{const e=n.getElementsByClassName("ability-block__stat");for(let n=0;n!==e.length;++n){const r=e[n],s=r.getElementsByClassName("ability-block__heading")[0].innerText.toLowerCase().trim(),a=r.getElementsByClassName("ability-block__score")[0].innerText.toLowerCase().trim(),i=Number.parseInt(a,10);t.abilityScores[s]=i}}catch(r){console.error(r)}try{const e=n.getElementsByClassName("mon-stat-block__tidbit");for(let n=0;n!==e.length;++n){const r=e[n],s=r.getElementsByClassName("mon-stat-block__tidbit-label")[0].innerText.toLowerCase().trim(),a=r.getElementsByClassName("mon-stat-block__tidbit-data")[0].innerText.toLowerCase().trim();switch(s){case"saving throws":t.savingThrows=a;break;case"skills":t.skills=a;break;case"damage vulnerabilities":t.damage.vulnerable=a;break;case"damage resistances":t.damage.resist=a;break;case"damage immunities":t.damage.immune=a;break;case"condition immunities":t.conditionImmunities=a;break;case"senses":t.senses=a;break;case"languages":t.languages=a;break;case"challenge":{const e=a.indexOf(" ");t.challenge=Number.parseInt(a.substring(0,e),10)}}}}catch(r){console.error(r)}try{const e=n.getElementsByClassName("mon-stat-block__description-block");for(let n=0;n!==e.length;++n){const r=e[n];let s="trait";const a=r.getElementsByClassName("mon-stat-block__description-block-heading");if(a.length>0){switch(a[0].innerText.toLowerCase().trim()){case"actions":s="action";break;case"bonus actions":s="bonus";break;case"reactions":s="reaction";break;case"legendary actions":s="legendary";break;case"mythic actions":s="mythic";break;case"lair actions":s="lair"}}const i=r.getElementsByTagName("p");for(let e=0;e!==i.length;++e){let n=i[e].innerText.trim();const r=ro.createTrait();r.type=s;const a=n.indexOf(".");r.text=n.substring(a+1).trim(),n=n.substring(0,a);const o=n.indexOf("("),l=n.indexOf(")");if(-1!==o&&-1!==l&&(r.usage=n.substring(o+1,l).trim(),n=n.substring(0,o).trim()),r.name=n,r.name)t.traits.push(r);else{const e=t.traits[t.traits.length-1];e.text+="\n",e.text+=r.text}}}}catch(r){console.error(r)}t.traits.some((e=>"legendary"===e.type||"mythic"===e.type))&&(t.legendaryActions=3),t.role=this.getRole(t)}static getThemes(e,t){const n=[];let r=null;if(e.forEach((e=>{e.monsters.forEach((e=>{e.id===t.monsterID&&(r=e),e.id!==t.monsterID&&"any race"===e.tag&&n.push(e)}))})),r){const e=n.filter((e=>e.challenge<=r.challenge));if(e.length>0)return e}return n}static applyTheme(e,t){const n=JSON.parse(JSON.stringify(e));return n.id=no.guid(),""!==n.name&&""!==t.name&&(n.name=n.name+" "+t.name),t.ac>n.ac&&(n.ac=t.ac,n.acInfo=t.acInfo),n.challenge=Math.max(n.challenge,t.challenge),n.hitDice=Math.max(n.hitDice,t.hitDice),this.applyThemeAbilityScores(n,t),this.applyThemeDamageMods(n,t),this.applyThemeConditions(n,t),this.applyThemeSaves(n,t),this.applyThemeSkills(n,t),this.applyThemeSpeeds(n,t),this.applyThemeSenses(n,t),this.applyThemeTraits(e,n,t),n}static applyThemeAbilityScores(e,t){e.abilityScores.str=Math.max(e.abilityScores.str,t.abilityScores.str),e.abilityScores.dex=Math.max(e.abilityScores.dex,t.abilityScores.dex),e.abilityScores.con=Math.max(e.abilityScores.con,t.abilityScores.con),e.abilityScores.int=Math.max(e.abilityScores.int,t.abilityScores.int),e.abilityScores.wis=Math.max(e.abilityScores.wis,t.abilityScores.wis),e.abilityScores.cha=Math.max(e.abilityScores.cha,t.abilityScores.cha)}static applyThemeDamageMods(e,t){const n=this.parseDamageMods(e.damage.immune),r=this.parseDamageMods(t.damage.immune);e.damage.immune=no.distinct(n.concat(r)).sort().join("; ");const s=this.parseDamageMods(e.damage.resist),a=this.parseDamageMods(t.damage.resist);e.damage.resist=no.distinct(s.concat(a)).filter((t=>!e.damage.immune.includes(t))).sort().join("; ");const i=this.parseDamageMods(e.damage.vulnerable),o=this.parseDamageMods(t.damage.vulnerable);e.damage.vulnerable=no.distinct(i.concat(o)).filter((t=>!e.damage.immune.includes(t)&&!e.damage.resist.includes(t))).sort().join("; ")}static applyThemeConditions(e,t){const n=e.conditionImmunities.split(/[,;]/).map((e=>e.trim())),r=t.conditionImmunities.split(/[,;]/).map((e=>e.trim()));e.conditionImmunities=no.distinct(n.concat(r)).sort().join(", ")}static applyThemeSaves(e,t){const n=this.parseSavingThrows(e.savingThrows),r=this.parseSavingThrows(t.savingThrows),s=no.sort(no.distinct(n.concat(r)));e.savingThrows=this.stringifySavingThrows(s,e)}static applyThemeSkills(e,t){const n=this.parseSkills(e.skills),r=this.parseSkills(t.skills),s=no.sort(no.distinct(n.concat(r)));e.skills=this.stringifySkills(s,e)}static applyThemeSpeeds(e,t){const n=this.parseSpeeds(e.speed),r=this.parseSpeeds(t.speed),s={walk:Math.max(n.walk,r.walk),burrow:Math.max(n.burrow,r.burrow),climb:Math.max(n.climb,r.climb),fly:Math.max(n.fly,r.fly),swim:Math.max(n.swim,r.swim),hover:n.hover||r.hover};e.speed=this.stringifySpeeds(s)}static applyThemeSenses(e,t){const n=this.parseSenses(e.senses),r=this.parseSenses(t.senses),s={blindsight:Math.max(n.blindsight,r.blindsight),darkvision:Math.max(n.darkvision,r.darkvision),tremorsense:Math.max(n.tremorsense,r.tremorsense),truesight:Math.max(n.truesight,r.truesight)};e.senses=this.stringifySenses(s,e)}static applyThemeTraits(e,t,n){t.traits=[],e.traits.forEach((n=>{const r=this.copyTrait(n,t,e),s=io.proficiency(t.challenge)-io.proficiency(e.challenge);s>0&&(this.getToHitExpressions(r).forEach((e=>{const t="+"+(e.bonus+s)+" to hit";r.text=r.text.replaceAll(e.expression,t)})),this.getDiceExpressions(r).forEach((e=>{const t=e.count+"d"+e.sides+" + "+(e.bonus+s);r.text=r.text.replaceAll(e.expression,t)})),this.getSaveExpressions(r).forEach((e=>{const t="DC "+(e.dc+s);r.text=r.text.replaceAll(e.expression,t)})))})),n.traits.forEach((r=>{const s=this.copyTrait(r,t,n);e.traits.find((e=>e.name===r.name))&&(s.name+=" ("+(n.name||"theme")+")");const a=io.proficiency(t.challenge)-io.proficiency(n.challenge);a>0&&(this.getToHitExpressions(s).forEach((e=>{const t="+"+(e.bonus+a)+" to hit";s.text=s.text.replaceAll(e.expression,t)})),this.getDiceExpressions(s).forEach((e=>{const t=e.count+"d"+e.sides+" + "+(e.bonus+a);s.text=s.text.replaceAll(e.expression,t)})),this.getSaveExpressions(s).forEach((e=>{const t="DC "+(e.dc+a);s.text=s.text.replaceAll(e.expression,t)})))})),this.sortTraits(t),t.traits.some((e=>"legendary"===e.type))&&(t.legendaryActions=Math.max(t.legendaryActions,3))}static parseDamageMods(e){const t=["acid","bludgeoning","cold","fire","force","lightning","necrotic","piercing","poison","psychic","radiant","slashing","thunder"],n=[];return e.toLowerCase().split(/[;]/).map((e=>e.trim())).forEach((e=>{const r=e.split(/[,]/).map((e=>e.trim()));r.some((e=>!t.includes(e)))?n.push(e):r.forEach((e=>n.push(e)))})),n}static parseSpeeds(e){const t={walk:0,burrow:0,climb:0,fly:0,swim:0,hover:!1};return e.split(/[,;]/).map((e=>e.trim())).forEach((e=>{const n=e.match(/\d+/);if(n){const r=parseInt(n[0],10);e.startsWith("burrow")?t.burrow=r:e.startsWith("climb")?t.climb=r:e.startsWith("fly")?(t.fly=r,t.hover=e.includes("hover")):e.startsWith("swim")?t.swim=r:t.walk=r}})),t}static parseSenses(e){const t={blindsight:0,darkvision:0,tremorsense:0,truesight:0};return e.split(/[,;]/).map((e=>e.trim())).forEach((e=>{const n=e.match(/\d+/);if(n){const r=parseInt(n[0],10);e.startsWith("blindsight")?t.blindsight=r:e.startsWith("darkvision")?t.darkvision=r:e.startsWith("tremorsense")?t.tremorsense=r:e.startsWith("truesight")&&(t.truesight=r)}})),t}static parseSavingThrows(e){return[{name:"Strength",ability:"str"},{name:"Dexterity",ability:"dex"},{name:"Constitution",ability:"con"},{name:"Intelligence",ability:"int"},{name:"Wisdom",ability:"wis"},{name:"Charisma",ability:"cha"}].filter((t=>e.toLowerCase().includes(t.name.toLowerCase())))}static parseSkills(e){return[{name:"Acrobatics",ability:"dex"},{name:"Animal handling",ability:"wis"},{name:"Arcana",ability:"int"},{name:"Athletics",ability:"str"},{name:"Deception",ability:"cha"},{name:"History",ability:"int"},{name:"Insight",ability:"wis"},{name:"Intimidation",ability:"cha"},{name:"Investigation",ability:"int"},{name:"Medicine",ability:"wis"},{name:"Nature",ability:"wis"},{name:"Perception",ability:"wis"},{name:"Performance",ability:"cha"},{name:"Persuasion",ability:"cha"},{name:"Religion",ability:"int"},{name:"Sleight of hand",ability:"dex"},{name:"Stealth",ability:"dex"},{name:"Survival",ability:"wis"}].filter((t=>e.toLowerCase().includes(t.name.toLowerCase())))}static stringifySavingThrows(e,t){return e.map((e=>{const n=t.abilityScores[e.ability],r=io.modifierValue(n)+io.proficiency(t.challenge);return e.name+" "+(r>=0?"+":"")+r})).join(", ")}static stringifySkills(e,t){return e.map((e=>{const n=t.abilityScores[e.ability],r=io.modifierValue(n)+io.proficiency(t.challenge);return e.name+" "+(r>=0?"+":"")+r})).join(", ")}static stringifySpeeds(e){const t=[];return e.walk>0&&t.push(e.walk+" ft"),e.burrow>0&&t.push("burrow "+e.burrow+" ft"),e.climb>0&&t.push("climb "+e.climb+" ft"),e.fly>0&&t.push("fly "+e.fly+" ft"+(e.hover?" (hover)":"")),e.swim>0&&t.push("swim "+e.swim+" ft"),t.join(", ")}static stringifySenses(e,t){const n=[];e.blindsight>0&&n.push("blindsight "+e.blindsight+" ft"),e.darkvision>0&&n.push("darkvision "+e.darkvision+" ft"),e.tremorsense>0&&n.push("tremorsense "+e.tremorsense+" ft"),e.truesight>0&&n.push("truesight "+e.truesight+" ft");let r=n.join(", ");""!==r&&(r+=", ");let s=10+io.modifierValue(t.abilityScores.wis);return t.skills.includes("Perception")&&(s+=io.proficiency(t.challenge)),r+="passive Perception "+s,r}static copyTrait(e,t,n){const r=JSON.parse(JSON.stringify(e));if(r.id=no.guid(),n){const e=n.name.toLowerCase()||"monster",s=t.name.toLowerCase()||"monster";r.text=r.text.replaceAll(" "+e," "+s),r.text=r.text.replaceAll(" "+oo.capitalise(e)," "+s)}return t.traits.push(r),r}static addTrait(e,t){const n=ro.createTrait();return n.type=t,e.traits.push(n),n}static moveTrait(e,t,n){const r=e.traits.splice(t,1);e.traits.splice(n,0,...r)}static removeTrait(e,t){const n=e.traits.indexOf(t);e.traits.splice(n,1)}static swapTraits(e,t,n){const r=e.traits.indexOf(t),s=e.traits.indexOf(n);e.traits[s]=t,e.traits[r]=n}static filterMonsters(e,t,n,r,s){const a=[];return e.forEach((e=>{e.monsters.forEach((e=>{let i=!0;Math.abs(e.challenge-t)>1&&(i=!1),n&&e.size!==n&&(i=!1),r&&e.category!==r&&(i=!1),s&&e.role!==s&&(i=!1),i&&a.push(e)}))})),a}static spliceMonsters(e,t){["size","category","tag","alignment","challenge","speed","senses","languages","abilityScores.str","abilityScores.dex","abilityScores.con","abilityScores.int","abilityScores.wis","abilityScores.cha","savingThrows","skills","ac","acInfo","hitDice","damage.resist","damage.vulnerable","damage.immune","conditionImmunities"].forEach((n=>{this.setRandomValue(e,n,t)})),e.traits=[],ho.forEach((n=>{const r=[];t.forEach((e=>{e.traits.filter((e=>e.type===n)).forEach((t=>r.push({trait:t,monster:e})))}));const s=[];r.forEach((e=>{const t=s.find((t=>t.trait.name===e.trait.name));t?t.count+=1:s.push({trait:e.trait,monster:e.monster,count:1})}));const a=[];s.filter((e=>e.count===t.length)).forEach((t=>{this.copyTrait(t.trait,e,t.monster),a.push(t.trait.id)})),a.forEach((e=>{const t=s.findIndex((t=>t.trait.id===e));s.splice(t,1)}));const i=r.length/t.length;for(;e.traits.filter((e=>e.type===n)).length<i;){const t=no.randomNumber(s.length),n=s[t].trait,r=s[t].monster;this.copyTrait(n,e,r),s.splice(t,1)}})),this.sortTraits(e),e.traits.some((e=>"legendary"===e.type||"mythic"===e.type))&&(e.legendaryActions=3),e.role=this.getRole(e)}static setRandomValue(e,t,n){let r=n[no.randomNumber(n.length)],s=null;const a=t.split(".");a.forEach((e=>{e===a[a.length-1]?s=r[e]:r=r[e]})),this.changeValue(e,t,s)}static addRandomTrait(e,t,n){const r=[];n.forEach((e=>{e.traits.filter((e=>e.type===t)).forEach((t=>{r.push({trait:t,monster:e})}))}));const s=no.randomNumber(r.length),a=r[s];this.copyTrait(a.trait,e,a.monster)}static getToHitExpressions(e){return Array.from(e.text.matchAll(/([+-])\s*(\d+)\s*to hit/g)).map((e=>{const t=e[0];let n=parseInt(e[2],10);return"-"===e[1]&&(n*=-1),{expression:t,bonus:n}}))}static getDiceExpressions(e){return Array.from(e.text.matchAll(/(\d*)[dD](\d+)\s*(([+-])\s*(\d*))?/g)).map((e=>{var t;const n=e[0],r=null!==(t=parseInt(e[1],10))&&void 0!==t?t:1,s=parseInt(e[2],10);let a=0;return e[3]&&e[4]&&e[5]&&(a=parseInt(e[5],10),"-"===e[4]&&(a*=-1)),{expression:n,count:r,sides:s,bonus:a}}))}static getSaveExpressions(e){return Array.from(e.text.matchAll(/(dc|DC)\s*(\d+)/g)).map((e=>({expression:e[0],dc:parseInt(e[2],10)})))}static getRole(e){if(e.legendaryActions>0)return"boss";if(e.traits.some((e=>e.text.toLowerCase().includes("teleport"))))return"skirmisher";const t=e.skills.toLowerCase();if(t.includes("deception")||t.includes("stealth"))return"sneak";if(e.traits.some((e=>e.text.toLowerCase().includes("indistinguishable"))))return"sneak";const n=io.challengeDetails().find((t=>t.cr===e.challenge));if(n){if(po.getTypicalHP(e)>n.hpMax)return"tank";const t=e.traits.filter((e=>{const t=this.getToHitExpressions(e),r=this.getDiceExpressions(e).map((e=>e.count*(e.sides+1)/2+e.bonus)),s=this.getSaveExpressions(e);return t.some((e=>e.bonus>n.attack))||r.some((e=>e>n.dmgMax))||s.some((e=>e.dc>n.save))}));if(t.length>0){const e=t.filter((e=>{const t=e.text.toLowerCase();return t.includes("ranged")&&t.includes("attack")})).length;return e>=t.length-e?"artillery":"soldier"}}let r=0;return lo.forEach((t=>{if("custom"!==t){e.traits.some((e=>e.text.toLowerCase().includes(t.toLowerCase())))&&(r+=1)}})),r>=2?"controller":"skirmisher"}static adjustCR(e,t){if(0===t)return e;const n=JSON.parse(JSON.stringify(e));n.challenge=Math.min(Math.max(Math.floor(e.challenge+t),0),30),n.hitDice=Math.round(e.hitDice*n.challenge/e.challenge);const r=io.proficiency(n.challenge)-io.proficiency(e.challenge);if(0!==r){const e=this.parseSenses(n.senses);n.senses=this.stringifySenses(e,n);const t=this.parseSkills(n.skills);n.skills=this.stringifySkills(t,n);const s=this.parseSavingThrows(n.savingThrows);n.savingThrows=this.stringifySavingThrows(s,n),n.traits.forEach((e=>{this.getToHitExpressions(e).forEach((t=>{const n="+"+(t.bonus+r)+" to hit";e.text=e.text.replaceAll(t.expression,n)})),this.getDiceExpressions(e).forEach((t=>{const n=t.count+"d"+t.sides+" + "+(t.bonus+r);e.text=e.text.replaceAll(t.expression,n)})),this.getSaveExpressions(e).forEach((t=>{const n="DC "+(t.dc+r);e.text=e.text.replaceAll(t.expression,n)}))}))}return n}}var mo=n(1052),fo=n.n(mo);class go{static getRows(e){const t=[];let n=e.scenes.slice();const r=[];for(;n.length>0;){const s=n.filter((t=>this.getScenesWithLinksTo(e,[t.id]).every((e=>r.includes(e)))));t.push(s),s.forEach((e=>r.push(e))),n=n.filter((e=>!r.includes(e)))}return t}static getPotentialLinks(e,t){const n=[];let r=[t.id];for(;r.length>0;){const t=this.getScenesWithLinksTo(e,r);r.forEach((e=>n.push(e))),r=t.map((e=>e.id))}return t.links.forEach((e=>n.push(e.sceneID))),e.scenes.filter((e=>!n.includes(e.id)))}static getScenesWithLinksTo(e,t){return e.scenes.filter((e=>e.links.some((e=>t.includes(e.sceneID)))))}static canMoveScene(e,t,n){const r=this.getRows(e).find((e=>e.includes(t)));if(r){const e=r.indexOf(t);switch(n){case"left":return 0!==e;case"right":return e!==r.length-1}}return!1}static moveScene(e,t,n){if(!this.canMoveScene(e,t,n))return;const r=this.getRows(e).find((e=>e.includes(t)));if(r){const s=r.indexOf(t);let a=null;switch(n){case"left":a=r[s-1];break;case"right":a=r[s+1]}if(a){const n=e.scenes.indexOf(t),r=e.scenes.indexOf(a);e.scenes[r]=t,e.scenes[n]=a}}}static getScenes(e){let t=e.scenes.slice();return e.scenes.forEach((e=>{t=t.concat(this.getScenes(e.plot))})),t}static getEncounterIDs(e){let t=e.resources.slice();return this.getScenes(e.plot).forEach((e=>{t=t.concat(e.resources)})),t.filter((e=>"encounter"===e.type)).map((e=>e.content))}static getReadAloudSections(e){const t=[];let n=null;return e.content.split("\n").map((e=>e.trim())).forEach((e=>{""===e?n&&(t.push(n),n=null):e.startsWith(">")?(n&&(t.push(n),n=null),n=e.substring(1).trim()):n&&(n+=" "+e)})),n&&t.push(n),t}}class vo{static allImages(){const e=[];for(let t=0;t!==window.localStorage.length;++t){const n=window.localStorage.key(t);if(n&&n.startsWith("image-")){const t=window.localStorage.getItem(n);if(t){const n=JSON.parse(t);e.push({id:n.id,name:n.name,data:n.data})}}}return no.sort(e,[{field:"name",dir:"asc"}])}static getImage(e){let t=null;const n=window.localStorage.getItem("image-"+e);if(n){const e=JSON.parse(n);t={id:e.id,name:e.name,data:e.data}}return t}static saveImage(e,t,n){const r="image-"+e;if(null===window.localStorage.getItem(r)){const s={id:e,name:t,data:n};window.localStorage.setItem(r,JSON.stringify(s))}}static clearUnusedImages(e,t,n,r){this.allImages().forEach((s=>{let a=!1;e.forEach((e=>{e.items.find((e=>e.customBackground===s.id))&&(a=!0)})),t.forEach((e=>{null!==e.plot.map&&e.plot.map.items.find((e=>e.customBackground===s.id))&&(a=!0),go.getScenes(e.plot).forEach((e=>{e.plot.map&&e.plot.map.items.find((e=>e.customBackground===s.id))&&(a=!0),e.resources.forEach((e=>{"image"===e.type&&e.content===s.id&&(a=!0)}))}))})),n.forEach((e=>{e.map&&e.map.items.find((e=>e.customBackground===s.id))&&(a=!0)})),r.forEach((e=>{e.map.items.find((e=>e.customBackground===s.id))&&(a=!0)})),a||window.localStorage.removeItem("image-"+s.id)}))}static takeScreenshot(e){const t=document.getElementById(e);t&&fo()(t).then((e=>no.saveImage("image.png",e)))}}class yo{static scatterCombatants(e,t,n){e.items=e.items.filter((e=>!t.map((e=>e.id)).includes(e.id)));if(e.items.filter((e=>"tile"===e.type)).length>0){let r=null;if(n){const t=e.areas.find((e=>e.id===n));t&&(r={minX:t.x,minY:t.y,maxX:t.x+t.width-1,maxY:t.y+t.height-1})}const s=r||this.mapDimensions(e.items);s&&t.forEach((n=>{const r=[];for(let a=s.minX;a<=s.maxX;++a)for(let i=s.minY;i<=s.maxY;++i){this.canAddMonsterHere(e,n,t,a,i)&&r.push({x:a,y:i})}if(r.length>0){const s=r[no.randomNumber(r.length)],a=this.getTokenSize(n,t),i=ro.createMapItem();i.id=n.id,i.type=n.type,i.x=s.x,i.y=s.y,i.z=0,i.height=a,i.width=a,i.depth=a,e.items.push(i)}}))}}static moveCombatants(e,t,n,r,s){const a=ao.getMountsAndRiders(e,n).map((e=>e.id));e.forEach((e=>{a.includes(e)||a.push(e)})),a.forEach((e=>{const a={x:0,y:0,z:0,width:1,height:1,depth:1},i=r.items.find((t=>t.id===e));i&&(a.x=i.x,a.y=i.y,a.z=i.z,a.width=i.width,a.height=i.height,a.depth=i.depth);const o=n.find((t=>t.id===e));if(o){const e=Math.max(1,this.getTokenSize(o,n));a.width=e,a.height=e,a.depth=e}this.canMove(r,a,t)&&(i&&o&&o.path&&o.path.push({id:no.guid(),x:i.x,y:i.y,z:i.z}),this.move(r,e,t,s))})),ao.setMountPositions(n,r)}static canMove(e,t,n){const r=this.getWalls(e,(e=>e.blocksMovement)),s=r.horizontal.filter((e=>e.y===t.y)).filter((e=>e.start<=t.x&&e.end>t.x+Math.max(t.width,1)-1)),a=r.vertical.filter((e=>e.x===t.x+Math.max(t.width,1))).filter((e=>e.start<=t.y&&e.end>t.y+Math.max(t.height,1)-1)),i=r.horizontal.filter((e=>e.y===t.y+Math.max(t.height,1))).filter((e=>e.start<=t.x&&e.end>t.x+Math.max(t.width,1)-1)),o=r.vertical.filter((e=>e.x===t.x)).filter((e=>e.start<=t.y&&e.end>t.y+Math.max(t.height,1)-1));switch(n){case"N":return 0===s.length;case"NE":return 0===s.length&&0===a.length;case"E":return 0===a.length;case"SE":return 0===i.length&&0===a.length;case"S":return 0===i.length;case"SW":return 0===i.length&&0===o.length;case"W":return 0===o.length;case"NW":return 0===s.length&&0===o.length}return!0}static canSee(e,t,n){const r=(e,t)=>{const n=(e.b.x-e.a.x)*(t.b.y-t.a.y)-(t.b.x-t.a.x)*(e.b.y-e.a.y);if(0===n)return!1;{const r=((t.b.y-t.a.y)*(t.b.x-e.a.x)+(t.a.x-t.b.x)*(t.b.y-e.a.y))/n,s=((e.a.y-e.b.y)*(t.b.x-e.a.x)+(e.b.x-e.a.x)*(t.b.y-e.a.y))/n;return 0<=r&&r<=1&&0<=s&&s<=1}};return!(e.horizontal.some((e=>r({a:t,b:n},{a:{x:e.start,y:e.y},b:{x:e.end,y:e.y}})))||e.vertical.some((e=>r({a:t,b:n},{a:{x:e.x,y:e.start},b:{x:e.x,y:e.end}}))))}static mapDimensions(e){const t=e.filter((e=>"tile"===e.type));if(t.length>0){let e=t[0].x,n=t[0].y,r=t[0].x+t[0].width-1,s=t[0].y+t[0].height-1;return t.forEach((t=>{e=Math.min(e,t.x),n=Math.min(n,t.y),r=Math.max(r,t.x+t.width-1),s=Math.max(s,t.y+t.height-1)})),{minX:e,minY:n,maxX:r,maxY:s}}return null}static calculateDistance(e,t,n,r){let s=0;e.x>t&&(s=e.x-t),e.x+Math.max(e.width,1)-1<t&&(s=t-(e.x+Math.max(e.width,1)-1));let a=0;e.y>n&&(a=e.y-n),e.y+Math.max(e.height,1)-1<n&&(a=n-(e.y+Math.max(e.height,1)-1));let i=0;return e.z>r&&(i=e.z-r),e.z+Math.max(e.depth,1)-1<r&&(i=r-(e.z+Math.max(e.depth,1)-1)),5*Math.ceil(Math.sqrt(Math.pow(s,2)+Math.pow(a,2)+Math.pow(i,2)))}static canAddTileHere(e,t,n,r,s,a,i){const o=[],l=n-i,A=t+(r-1)+a,c=n+(s-1)+i;for(let u=t-a;u<=A;++u)for(let t=l;t<=c;++t){const n=this.itemsAt(e,u,t).every((e=>"tile"!==e.type));o.push(n)}return o.every((e=>e))}static canAddMonsterHere(e,t,n,r,s){const a=[],i=this.getTokenSize(t,n),o=r+Math.max(1,i)-1,l=s+Math.max(1,i)-1;for(let A=r;A<=o;++A)for(let t=s;t<=l;++t){const n=this.itemsAt(e,A,t),r=n.length>0&&n.every((e=>"tile"===e.type));a.push(r)}return a.every((e=>e))}static itemsAt(e,t,n){return e.items.filter((e=>{const r=e.x,s=e.x+e.width-1,a=e.y,i=e.y+e.height-1;return t>=r&&t<=s&&n>=a&&n<=i}))}static rotateMap(e){e.items.forEach((e=>{const t=-1*(e.y+e.height-1),n=e.x,r=e.height,s=e.width;e.x=t,e.y=n,e.width=r,e.height=s,e.content&&(e.content.orientation="horizontal"===e.content.orientation?"vertical":"horizontal")})),e.walls.forEach((e=>{const t=Math.min(e.pointA.x,e.pointB.x),n=Math.min(e.pointA.y,e.pointB.y),r=Math.max(e.pointA.x,e.pointB.x)-t+1,s=Math.max(e.pointA.y,e.pointB.y)-n+1,a=-1*(n+s-1),i=t,o=s,l=r;e.pointA.x=a+1,e.pointA.y=i,e.pointB.x=a+o,e.pointB.y=i+l-1})),e.areas.forEach((e=>{const t=-1*(e.y+e.height-1),n=e.x,r=e.height,s=e.width;e.x=t,e.y=n,e.width=r,e.height=s}))}static mapSize(e){return e.items.filter((e=>"tile"===e.type)).reduce(((e,t)=>e+this.mapTileSize(t)),0)}static mapTileSize(e){return"tile"===e.type?e.width*e.height:0}static generate(e,t){let n=0;for(;n<e;)this.addRoom(t)&&(n+=1);this.addWalls(t,!0,!0)}static addRoom(e){const t=ro.createMapItem();t.type="tile",t.terrain="default",t.style="square",t.width=io.dieRoll(6,2)+2,t.height=io.dieRoll(6,2)+2;let n=null;const r=this.mapDimensions(e.items);if(r){const s=1,a=2;r.minX-=t.width+a,r.minY-=t.height+a,r.maxX+=a,r.maxY+=a;const i=[];for(let n=r.minX;n!==r.maxX;++n)for(let a=r.minY;a!==r.maxY;++a){this.canAddTileHere(e,n,a,t.width,t.height,s,s)&&i.push({x:n,y:a})}if(!(i.length>0))return!1;{const e=no.randomNumber(i.length);t.x=i[e].x,t.y=i[e].y}const o=[];if(e.items.filter((e=>"tile"===e.type)).forEach((n=>{const r=Math.max(t.x,n.x),s=Math.min(t.x+t.width-1,n.x+n.width-1);if(s-r+1>=2){const a=Math.min(t.y+t.height-1,n.y+n.height-1)+1,i=Math.max(t.y,n.y)-1;for(let t=r;t<=s-1;++t){const n=ro.createMapItem();n.type="tile",n.terrain="default",n.style="square",n.x=t,n.y=a,n.width=2,n.height=i-a+1,this.canAddTileHere(e,n.x,n.y,n.width,n.height,1,0)&&o.push({tile:n,horizontal:!1})}}const a=Math.max(t.y,n.y),i=Math.min(t.y+t.height-1,n.y+n.height-1);if(i-a+1>=2){const r=Math.min(t.x+t.width-1,n.x+n.width-1)+1,s=Math.max(t.x,n.x)-1;for(let t=a;t<=i-1;++t){const n=ro.createMapItem();n.type="tile",n.terrain="default",n.style="square",n.x=r,n.y=t,n.width=s-r+1,n.height=2,this.canAddTileHere(e,n.x,n.y,n.width,n.height,0,1)&&o.push({tile:n,horizontal:!0})}}})),!(o.length>0))return!1;{const r=no.randomNumber(o.length),s=o[r];(!s.horizontal&&s.tile.height<=4||s.horizontal&&s.tile.width<=4)&&3===io.dieRoll(3)&&(s.tile.content={type:"stairway",style:"stairs",orientation:s.horizontal?"vertical":"horizontal"}),n=this.getRoomAdjunct(t,e),e.items.push(s.tile),e.items.push(t),n&&e.items.push(n)}}else n=this.getRoomAdjunct(t,e),e.items.push(t),n&&e.items.push(n);const s=[t];n&&s.push(n);const a=this.mapDimensions(s);if(a){const t=ro.createMapArea();t.name=oo.capitalise(oo.generateRoomName()),t.x=a.minX-1,t.y=a.minY-1,t.width=a.maxX-a.minX+3,t.height=a.maxY-a.minY+3,e.areas.push(t)}return!0}static getRoomAdjunct(e,t){if(no.randomBoolean())return null;let n=0,r=0;const s=[];switch(no.randomNumber(2)){case 0:{n=no.randomNumber(e.width-2)+2,r=io.dieRoll(4,2);const a=e.width-n;for(let i=0;i!==a;++i){const a=e.x+i,o=e.y-r;this.canAddTileHere(t,a,o,n,r,1,1)&&s.push({x:a,y:o});const l=e.y+e.height;this.canAddTileHere(t,a,l,n,r,1,1)&&s.push({x:a,y:l})}}break;case 1:{n=io.dieRoll(4,2),r=no.randomNumber(e.height-2)+2;const a=e.height-r;for(let i=0;i!==a;++i){const a=e.y+i,o=e.x-n;this.canAddTileHere(t,o,a,n,r,1,1)&&s.push({x:o,y:a});const l=e.x+e.width;this.canAddTileHere(t,l,a,n,r,1,1)&&s.push({x:l,y:a})}}}if(s.length>0){const e=s[no.randomNumber(s.length)],t=ro.createMapItem();return t.type="tile",t.terrain="default",t.style="square",t.x=e.x,t.y=e.y,t.width=n,t.height=r,t}return null}static getViewport(e,t){if(t){const n=e.areas.find((e=>e.id===t));if(n)return{minX:n.x,minY:n.y,maxX:n.x+n.width-1,maxY:n.y+n.height-1}}return null}static add(e,t,n,r,s){let a=e.items.find((e=>e.id===t.id));if(a)t.path&&t.path.push({id:no.guid(),x:a.x,y:a.y,z:a.z});else{a=ro.createMapItem(),a.id=t.id,a.type=t.type;const r=this.getTokenSize(t,n);a.height=r,a.width=r,a.depth=r,e.items.push(a)}a.x=r,a.y=s}static move(e,t,n,r){let s=null;if(s=e.items.find((e=>e.id===t))||null,s||(s=e.areas.find((e=>e.id===t))||null),s)switch(n){case"N":s.y-=r;break;case"NE":s.x+=r,s.y-=r;break;case"E":s.x+=r;break;case"SE":s.x+=r,s.y+=r;break;case"S":s.y+=r;break;case"SW":s.x-=r,s.y+=r;break;case"W":s.x-=r;break;case"NW":s.x-=r,s.y-=r;break;case"UP":s.z+=r;break;case"DOWN":s.z-=r}}static moveWall(e,t,n){switch(t){case"N":e.pointA.y-=n,e.pointB.y-=n;break;case"NE":e.pointA.x+=n,e.pointA.y-=n,e.pointB.x+=n,e.pointB.y-=n;break;case"E":e.pointA.x+=n,e.pointB.x+=n;break;case"SE":e.pointA.x+=n,e.pointA.y+=n,e.pointB.x+=n,e.pointB.y+=n;break;case"S":e.pointA.y+=n,e.pointB.y+=n;break;case"SW":e.pointA.x-=n,e.pointA.y+=n,e.pointB.x-=n,e.pointB.y+=n;break;case"W":e.pointA.x-=n,e.pointB.x-=n;break;case"NW":e.pointA.x-=n,e.pointA.y-=n,e.pointB.x-=n,e.pointB.y-=n;break;case"UP":e.pointA.z+=n,e.pointB.z+=n;break;case"DOWN":e.pointA.z-=n,e.pointB.z-=n}}static remove(e,t){const n=e.items.find((e=>e.id===t));if(n){const t=e.items.indexOf(n);e.items.splice(t,1)}}static getDistanceBetweenItems(e,t){let n=Number.MAX_VALUE;const r=e.x+Math.max(1,e.width)-1,s=e.y+Math.max(1,e.height)-1,a=e.z+Math.max(1,e.depth)-1,i=t.x+Math.max(1,t.width)-1,o=t.y+Math.max(1,t.height)-1,l=t.z+Math.max(1,t.depth)-1;for(let A=e.x;A<=r;++A)for(let r=e.y;r<=s;++r)for(let s=e.z;s<=a;++s)for(let e=t.x;e<=i;++e)for(let a=t.y;a<=o;++a)for(let i=t.z;i<=l;++i){const t=Math.abs(A-e),o=Math.abs(r-a),l=Math.abs(s-i),c=Math.sqrt(Math.pow(t,2)+Math.pow(o,2)+Math.pow(l,2));n=Math.min(n,c)}return Math.round(2*n)/2}static getDistance(e,t,n){let r=0;const s=t.filter((e=>null!==e)).concat([e]);let a=null;return s.forEach((e=>{a&&(r+=this.getStepDistance(a,e,n)),a=e})),r}static getStepDistance(e,t,n){if(!e||!t)return 0;const r=Math.abs(e.x-t.x),s=Math.abs(e.y-t.y),a=Math.abs(e.z-t.z),i=Math.max(r,s,a);if(r>0&&s>0||r>0&&a>0||s>0&&a>0){if(i>1){const e=Math.sqrt(Math.pow(r,2)+Math.pow(s,2)+Math.pow(a,2));return Math.round(2*e)/2}switch(n){case"one":return r;case"two":return 2*r;default:return 1.5*r}}return i}static getWallOrientation(e){return e.pointA.x===e.pointB.x?"vertical":e.pointA.y===e.pointB.y?"horizontal":""}static getWallLength(e){return e.pointA.x===e.pointB.x?Math.abs(e.pointA.y-e.pointB.y):e.pointA.y===e.pointB.y?Math.abs(e.pointA.x-e.pointB.x):0}static nudgeWallLength(e,t){e.pointA.x===e.pointB.x?e.pointB.y+=t:e.pointA.y===e.pointB.y&&(e.pointB.x+=t)}static addWalls(e,t,n){const r=[],s=(e,t,s,a)=>{const i=ro.createMapWall();return i.pointA={x:e,y:t,z:0},i.pointB={x:s,y:a,z:0},i.display=(()=>{const e=["door","double-door","bars"];return e[no.randomNumber(e.length)]})(),i.blocksMovement=!1,this.getWallLength(i)<=2&&n&&r.push(i),i},a=e.items.filter((e=>"tile"===e.type));a.forEach((e=>{const n=e.y,i=e.x+e.width-1,o=e.y+e.height-1,l=e.x;let A=[],c=[],u=[],d=[];for(let t=l;t<=i;++t)A.push(t),u.push(t);for(let t=n;t<=o;++t)c.push(t),d.push(t);if(a.filter((e=>e.y+e.height-1===n-1&&e.x<=i&&e.x+e.width-1>=l)).forEach((e=>{const t=s(Math.max(l,e.x),n,Math.min(i+1,e.x+e.width),n);for(let n=t.pointA.x;n<t.pointB.x;++n)A=A.filter((e=>e!==n))})),a.filter((e=>e.x===i+1&&e.y<=o&&e.y+e.height-1>=n)).forEach((e=>{const t=s(i+1,Math.max(n,e.y),i+1,Math.min(o+1,e.y+e.height));for(let n=t.pointA.y;n<t.pointB.y;++n)c=c.filter((e=>e!==n))})),a.filter((e=>e.y===o+1&&e.x<=i&&e.x+e.width-1>=l)).forEach((e=>{const t=s(Math.max(l,e.x),o+1,Math.min(i+1,e.x+e.width),o+1);for(let n=t.pointA.x;n<t.pointB.x;++n)u=u.filter((e=>e!==n))})),a.filter((e=>e.x+e.width-1===l-1&&e.y<=o&&e.y+e.height-1>=n)).forEach((e=>{const t=s(l,Math.max(n,e.y),l,Math.min(o+1,e.y+e.height));for(let n=t.pointA.y;n<t.pointB.y;++n)d=d.filter((e=>e!==n))})),t){for(;A.length>0;){let e=A[0];A.splice(0,1);const t=ro.createMapWall();for(t.pointA.x=e,t.pointA.y=n,t.pointB.x=e+1,t.pointB.y=n;A.length>0&&A[0]===e+1;)e=A[0],A.splice(0,1),t.pointB.x+=1;r.push(t)}for(;c.length>0;){let e=c[0];c.splice(0,1);const t=ro.createMapWall();for(t.pointA.x=i+1,t.pointA.y=e,t.pointB.x=i+1,t.pointB.y=e+1;c.length>0&&c[0]===e+1;)e=c[0],c.splice(0,1),t.pointB.y+=1;r.push(t)}for(;u.length>0;){let e=u[0];u.splice(0,1);const t=ro.createMapWall();for(t.pointA.x=e,t.pointA.y=o+1,t.pointB.x=e+1,t.pointB.y=o+1;u.length>0&&u[0]===e+1;)e=u[0],u.splice(0,1),t.pointB.x+=1;r.push(t)}for(;d.length>0;){let e=d[0];d.splice(0,1);const t=ro.createMapWall();for(t.pointA.x=l,t.pointA.y=e,t.pointB.x=l,t.pointB.y=e+1;d.length>0&&d[0]===e+1;)e=d[0],d.splice(0,1),t.pointB.y+=1;r.push(t)}}})),no.distinct(r,(e=>{const t=e;return t.pointA.x+","+t.pointA.y+","+t.pointA.z+"-"+(t.pointB.x+","+t.pointB.y+","+t.pointB.z)})).forEach((t=>e.walls.push(t)))}static getWalls(e,t){const n=[];e.walls.filter((e=>t(e))).filter((e=>"horizontal"===this.getWallOrientation(e))).map((e=>({start:Math.min(e.pointA.x,e.pointB.x),end:Math.max(e.pointA.x,e.pointB.x),y:e.pointA.y}))).forEach((e=>{const t=n.find((t=>t.y===e.y&&t.end===e.start)),r=n.find((t=>t.y===e.y&&t.start===e.end));t&&r?(t.end=r.end,n.splice(n.indexOf(r),1)):t?t.end=e.end:r?r.start=e.start:n.push(e)}));const r=[];return e.walls.filter((e=>t(e))).filter((e=>"vertical"===this.getWallOrientation(e))).map((e=>({start:Math.min(e.pointA.y,e.pointB.y),end:Math.max(e.pointA.y,e.pointB.y),x:e.pointA.x}))).forEach((e=>{const t=r.find((t=>t.x===e.x&&t.end===e.start)),n=r.find((t=>t.x===e.x&&t.start===e.end));t&&n?(t.end=n.end,r.splice(r.indexOf(n),1)):t?t.end=e.end:n?n.start=e.start:r.push(e)})),{horizontal:n,vertical:r}}static getTokenSize(e,t){let n=e.displaySize;if(e.mountID){const r=t.find((t=>t.id===e.mountID));r&&(n=r.displaySize)}return io.miniSize(n)}}var wo=n(3639),bo=n(4414);class xo extends A.Component{keyDown(e){"Enter"===e.key&&this.props.onPressEnter&&this.props.onPressEnter()}render(){try{let e="";return this.props.disabled&&(e="disabled"),this.props.noMargins&&(e+=" no-margins"),this.props.multiLine?(0,bo.jsx)(wo.DebounceInput,{element:"textarea",minLength:this.props.minLength,debounceTimeout:this.props.debounce?500:100,className:e,value:this.props.text,placeholder:this.props.placeholder,rows:5,onChange:e=>this.props.onChange(e.target.value)}):(0,bo.jsx)(wo.DebounceInput,{minLength:this.props.minLength,debounceTimeout:this.props.debounce?500:100,className:e,value:this.props.text,placeholder:this.props.placeholder,onChange:e=>this.props.onChange(e.target.value),onKeyDown:e=>this.keyDown(e)})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"Textbox",error:bC})}}}xo.defaultProps={placeholder:"",multiLine:!1,minLength:0,disabled:!1,debounce:!0,noMargins:!1,onPressEnter:null};class Bo extends A.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("Error recorded by ErrorBoundary:"),console.error(e.name),console.error(e.message),console.error(e.stack),console.error(t.componentStack)}render(){return this.state.error?(0,bo.jsx)(Co,{context:"ErrorBoundary",error:this.state.error}):this.props.children}}class Co extends A.Component{showError(){Ss.open({message:(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"subheading",children:"error"}),(0,bo.jsxs)("div",{className:"section",children:["in ",this.props.context]}),(0,bo.jsx)(xo,{text:this.props.error,multiLine:!0,onChange:()=>null})]}),closeIcon:(0,bo.jsx)(Le,{}),duration:5})}render(){return(0,bo.jsxs)("div",{className:"render-error",children:[(0,bo.jsx)("div",{className:"render-message",children:"error"}),(0,bo.jsx)("div",{className:"render-message",children:"please refresh"}),(0,bo.jsx)("button",{className:"link",onClick:()=>this.showError(),children:"details"})]})}}const ko={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};var So=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:ko}))};const Eo=A.forwardRef(So);const jo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M848 359.3H627.7L825.8 109c4.1-5.3.4-13-6.3-13H436c-2.8 0-5.5 1.5-6.9 4L170 547.5c-3.1 5.3.7 12 6.9 12h174.4l-89.4 357.6c-1.9 7.8 7.5 13.3 13.3 7.7L853.5 373c5.2-4.9 1.7-13.7-5.5-13.7zM378.2 732.5l60.3-241H281.1l189.6-327.4h224.6L487 427.4h211L378.2 732.5z"}}]},name:"thunderbolt",theme:"outlined"};var Io=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:jo}))};const Fo=A.forwardRef(Io);const Qo={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M689 165.1L308.2 493.5c-10.9 9.4-10.9 27.5 0 37L689 858.9c14.2 12.2 35 1.2 35-18.5V183.6c0-19.7-20.8-30.7-35-18.5z"}}]},name:"caret-left",theme:"outlined"};var No=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Qo}))};const Mo=A.forwardRef(No);const Uo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var To=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Uo}))};const Do=A.forwardRef(To);const Ho={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885 780H165c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM400 325.7h73.9V664c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V325.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 171a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13z"}}]},name:"to-top",theme:"outlined"};var Lo=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Ho}))};const Po=A.forwardRef(Lo);const Oo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"};var Ro=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Oo}))};const Vo=A.forwardRef(Ro);var Ko=function(e){return e?"function"===typeof e?e():e:null};function zo(e,t,n,r){var s=dt.unstable_batchedUpdates?function(e){dt.unstable_batchedUpdates(n,e)}:n;return null!==e&&void 0!==e&&e.addEventListener&&e.addEventListener(t,s,r),{remove:function(){null!==e&&void 0!==e&&e.removeEventListener&&e.removeEventListener(t,s,r)}}}var _o=(0,A.forwardRef)((function(e,t){var n=e.didUpdate,r=e.getContainer,s=e.children,a=(0,A.useRef)(),i=(0,A.useRef)();(0,A.useImperativeHandle)(t,(function(){return{}}));var o=(0,A.useRef)(!1);return!o.current&&Ae()&&(i.current=r(),a.current=i.current.parentNode,o.current=!0),(0,A.useEffect)((function(){null===n||void 0===n||n(e)})),(0,A.useEffect)((function(){return null===i.current.parentNode&&null!==a.current&&a.current.appendChild(i.current),function(){var e;null===(e=i.current)||void 0===e||null===(e=e.parentNode)||void 0===e||e.removeChild(i.current)}}),[]),i.current?dt.createPortal(s,i.current):null}));const Go=_o;function Wo(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}const Yo=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4))};function qo(e){var t=e.prefixCls,n=e.motion,r=e.animation,s=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:s?{motionName:s}:null)}function Xo(e){var t=e.prefixCls,n=e.visible,r=e.zIndex,s=e.mask,a=e.maskMotion,i=e.maskAnimation,o=e.maskTransitionName;if(!s)return null;var c={};return(a||o||i)&&(c=l({motionAppear:!0},qo({motion:a,prefixCls:t,transitionName:o,animation:i}))),A.createElement(Gn,Pe({},c,{visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return A.createElement("div",{style:{zIndex:r},className:v()("".concat(t,"-mask"),n)})}))}function Jo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jo(Object(n),!0).forEach((function(t){el(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $o(e){return $o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$o(e)}function el(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tl,nl={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function rl(){if(void 0!==tl)return tl;tl="";var e=document.createElement("p").style;for(var t in nl)t+"Transform"in e&&(tl=t);return tl}function sl(){return rl()?"".concat(rl(),"TransitionProperty"):"transitionProperty"}function al(){return rl()?"".concat(rl(),"Transform"):"transform"}function il(e,t){var n=sl();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function ol(e,t){var n=al();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var ll,Al=/matrix\((.*)\)/,cl=/matrix3d\((.*)\)/;function ul(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function dl(e,t,n){var r=n;if("object"!==$o(t))return"undefined"!==typeof r?("number"===typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):ll(e,t);for(var s in t)t.hasOwnProperty(s)&&dl(e,s,t[s])}function hl(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var s=e.document;"number"!==typeof(n=s.documentElement[r])&&(n=s.body[r])}return n}function pl(e){return hl(e)}function ml(e){return hl(e,!0)}function fl(e){var t=function(e){var t,n,r,s=e.ownerDocument,a=s.body,i=s&&s.documentElement;return t=e.getBoundingClientRect(),n=Math.floor(t.left),r=Math.floor(t.top),{left:n-=i.clientLeft||a.clientLeft||0,top:r-=i.clientTop||a.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=pl(r),t.top+=ml(r),t}function gl(e){return null!==e&&void 0!==e&&e==e.window}function vl(e){return gl(e)?e.document:9===e.nodeType?e:e.ownerDocument}var yl=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),wl=/^(top|right|bottom|left)$/,bl="currentStyle",xl="runtimeStyle",Bl="left";function Cl(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function kl(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function Sl(e,t,n){"static"===dl(e,"position")&&(e.style.position="relative");var r=-999,s=-999,a=Cl("left",n),i=Cl("top",n),o=kl(a),l=kl(i);"left"!==a&&(r=999),"top"!==i&&(s=999);var A="",c=fl(e);("left"in t||"top"in t)&&(A=function(e){return e.style.transitionProperty||e.style[sl()]}(e)||"",il(e,"none")),"left"in t&&(e.style[o]="",e.style[a]="".concat(r,"px")),"top"in t&&(e.style[l]="",e.style[i]="".concat(s,"px")),ul(e);var u=fl(e),d={};for(var h in t)if(t.hasOwnProperty(h)){var p=Cl(h,n),m="left"===h?r:s,f=c[h]-u[h];d[p]=p===h?m+f:m-f}dl(e,d),ul(e),("left"in t||"top"in t)&&il(e,A);var g={};for(var v in t)if(t.hasOwnProperty(v)){var y=Cl(v,n),w=t[v]-c[v];g[y]=v===y?d[y]+w:d[y]-w}dl(e,g)}function El(e,t){var n=fl(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(al());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),s={x:r.x,y:r.y};"left"in t&&(s.x=r.x+t.left-n.left),"top"in t&&(s.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(al());if(r&&"none"!==r){var s,a=r.match(Al);a?((s=(a=a[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,s[5]=t.y,ol(e,"matrix(".concat(s.join(","),")"))):((s=r.match(cl)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,s[13]=t.y,ol(e,"matrix3d(".concat(s.join(","),")")))}else ol(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,s)}function jl(e,t){for(var n=0;n<e.length;n++)t(e[n])}function Il(e){return"border-box"===ll(e,"boxSizing")}"undefined"!==typeof window&&(ll=window.getComputedStyle?function(e,t,n){var r=n,s="",a=vl(e);return(r=r||a.defaultView.getComputedStyle(e,null))&&(s=r.getPropertyValue(t)||r[t]),s}:function(e,t){var n=e[bl]&&e[bl][t];if(yl.test(n)&&!wl.test(t)){var r=e.style,s=r[Bl],a=e[xl][Bl];e[xl][Bl]=e[bl][Bl],r[Bl]="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r[Bl]=s,e[xl][Bl]=a}return""===n?"auto":n});var Fl=["margin","border","padding"],Ql=-1,Nl=2,Ml=1;function Ul(e,t,n){var r,s,a,i=0;for(s=0;s<t.length;s++)if(r=t[s])for(a=0;a<n.length;a++){var o=void 0;o="border"===r?"".concat(r).concat(n[a],"Width"):r+n[a],i+=parseFloat(ll(e,o))||0}return i}var Tl={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function Dl(e,t,n){var r=n;if(gl(e))return"width"===t?Tl.viewportWidth(e):Tl.viewportHeight(e);if(9===e.nodeType)return"width"===t?Tl.docWidth(e):Tl.docHeight(e);var s="width"===t?["Left","Right"]:["Top","Bottom"],a="width"===t?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height),i=Il(e),o=0;(null===a||void 0===a||a<=0)&&(a=void 0,(null===(o=ll(e,t))||void 0===o||Number(o)<0)&&(o=e.style[t]||0),o=Math.floor(parseFloat(o))||0),void 0===r&&(r=i?Ml:Ql);var l=void 0!==a||i,A=a||o;return r===Ql?l?A-Ul(e,["border","padding"],s):o:l?r===Ml?A:A+(r===Nl?-Ul(e,["border"],s):Ul(e,["margin"],s)):o+Ul(e,Fl.slice(r),s)}jl(["Width","Height"],(function(e){Tl["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],Tl["viewport".concat(e)](n))},Tl["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,s=r.body,a=r.documentElement[n];return"CSS1Compat"===r.compatMode&&a||s&&s[n]||a}}));var Hl={position:"absolute",visibility:"hidden",display:"block"};function Ll(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s=t[0];return 0!==s.offsetWidth?r=Dl.apply(void 0,t):function(e,t,n){var r,s={},a=e.style;for(r in t)t.hasOwnProperty(r)&&(s[r]=a[r],a[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(a[r]=s[r])}(s,Hl,(function(){r=Dl.apply(void 0,t)})),r}function Pl(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}jl(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Tl["outer".concat(t)]=function(t,n){return t&&Ll(t,e,n?0:Ml)};var n="width"===e?["Left","Right"]:["Top","Bottom"];Tl[e]=function(t,r){var s=r;return void 0!==s?t?(Il(t)&&(s+=Ul(t,["padding","border"],n)),dl(t,e,s)):void 0:t&&Ll(t,e,Ql)}}));var Ol={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:vl,offset:function(e,t,n){if("undefined"===typeof t)return fl(e);!function(e,t,n){if(n.ignoreShake){var r=fl(e),s=r.left.toFixed(0),a=r.top.toFixed(0),i=t.left.toFixed(0),o=t.top.toFixed(0);if(s===i&&a===o)return}n.useCssRight||n.useCssBottom?Sl(e,t,n):n.useCssTransform&&al()in document.body.style?El(e,t):Sl(e,t,n)}(e,t,n||{})},isWindow:gl,each:jl,css:dl,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:Pl,getWindowScrollLeft:function(e){return pl(e)},getWindowScrollTop:function(e){return ml(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)Ol.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};Pl(Ol,Tl);var Rl=Ol.getParent;function Vl(e){if(Ol.isWindow(e)||9===e.nodeType)return null;var t,n=Ol.getDocument(e).body,r=Ol.css(e,"position");if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:Rl(e);for(t=Rl(e);t&&t!==n&&9!==t.nodeType;t=Rl(t))if("static"!==(r=Ol.css(t,"position")))return t;return null}var Kl=Ol.getParent;function zl(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=Vl(e),s=Ol.getDocument(e),a=s.defaultView||s.parentWindow,i=s.body,o=s.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===i||r===o||"visible"===Ol.css(r,"overflow")){if(r===i||r===o)break}else{var l=Ol.offset(r);l.left+=r.clientLeft,l.top+=r.clientTop,n.top=Math.max(n.top,l.top),n.right=Math.min(n.right,l.left+r.clientWidth),n.bottom=Math.min(n.bottom,l.top+r.clientHeight),n.left=Math.max(n.left,l.left)}r=Vl(r)}var A=null;Ol.isWindow(e)||9===e.nodeType||(A=e.style.position,"absolute"===Ol.css(e,"position")&&(e.style.position="fixed"));var c=Ol.getWindowScrollLeft(a),u=Ol.getWindowScrollTop(a),d=Ol.viewportWidth(a),h=Ol.viewportHeight(a),p=o.scrollWidth,m=o.scrollHeight,f=window.getComputedStyle(i);if("hidden"===f.overflowX&&(p=a.innerWidth),"hidden"===f.overflowY&&(m=a.innerHeight),e.style&&(e.style.position=A),t||function(e){if(Ol.isWindow(e)||9===e.nodeType)return!1;var t=Ol.getDocument(e),n=t.body,r=null;for(r=Kl(e);r&&r!==n&&r!==t;r=Kl(r))if("fixed"===Ol.css(r,"position"))return!0;return!1}(e))n.left=Math.max(n.left,c),n.top=Math.max(n.top,u),n.right=Math.min(n.right,c+d),n.bottom=Math.min(n.bottom,u+h);else{var g=Math.max(p,c+d);n.right=Math.min(n.right,g);var v=Math.max(m,u+h);n.bottom=Math.min(n.bottom,v)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function _l(e){var t,n,r;if(Ol.isWindow(e)||9===e.nodeType){var s=Ol.getWindow(e);t={left:Ol.getWindowScrollLeft(s),top:Ol.getWindowScrollTop(s)},n=Ol.viewportWidth(s),r=Ol.viewportHeight(s)}else t=Ol.offset(e),n=Ol.outerWidth(e),r=Ol.outerHeight(e);return t.width=n,t.height=r,t}function Gl(e,t){var n=t.charAt(0),r=t.charAt(1),s=e.width,a=e.height,i=e.left,o=e.top;return"c"===n?o+=a/2:"b"===n&&(o+=a),"c"===r?i+=s/2:"r"===r&&(i+=s),{left:i,top:o}}function Wl(e,t,n,r,s){var a=Gl(t,n[1]),i=Gl(e,n[0]),o=[i.left-a.left,i.top-a.top];return{left:Math.round(e.left-o[0]+r[0]-s[0]),top:Math.round(e.top-o[1]+r[1]-s[1])}}function Yl(e,t,n){return e.left<n.left||e.left+t.width>n.right}function ql(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function Xl(e,t,n){var r=[];return Ol.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function Jl(e,t){return e[t]=-e[t],e}function Zl(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function $l(e,t){e[0]=Zl(e[0],t.width),e[1]=Zl(e[1],t.height)}function eA(e,t,n,r){var s=n.points,a=n.offset||[0,0],i=n.targetOffset||[0,0],o=n.overflow,l=n.source||e;a=[].concat(a),i=[].concat(i);var A={},c=0,u=zl(l,!(!(o=o||{})||!o.alwaysByViewport)),d=_l(l);$l(a,d),$l(i,t);var h=Wl(d,t,s,a,i),p=Ol.merge(d,h);if(u&&(o.adjustX||o.adjustY)&&r){if(o.adjustX&&Yl(h,d,u)){var m=Xl(s,/[lr]/gi,{l:"r",r:"l"}),f=Jl(a,0),g=Jl(i,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(Wl(d,t,m,f,g),d,u)||(c=1,s=m,a=f,i=g)}if(o.adjustY&&ql(h,d,u)){var v=Xl(s,/[tb]/gi,{t:"b",b:"t"}),y=Jl(a,1),w=Jl(i,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(Wl(d,t,v,y,w),d,u)||(c=1,s=v,a=y,i=w)}c&&(h=Wl(d,t,s,a,i),Ol.mix(p,h));var b=Yl(h,d,u),x=ql(h,d,u);if(b||x){var B=s;b&&(B=Xl(s,/[lr]/gi,{l:"r",r:"l"})),x&&(B=Xl(s,/[tb]/gi,{t:"b",b:"t"})),s=B,a=n.offset||[0,0],i=n.targetOffset||[0,0]}A.adjustX=o.adjustX&&b,A.adjustY=o.adjustY&&x,(A.adjustX||A.adjustY)&&(p=function(e,t,n,r){var s=Ol.clone(e),a={width:t.width,height:t.height};return r.adjustX&&s.left<n.left&&(s.left=n.left),r.resizeWidth&&s.left>=n.left&&s.left+a.width>n.right&&(a.width-=s.left+a.width-n.right),r.adjustX&&s.left+a.width>n.right&&(s.left=Math.max(n.right-a.width,n.left)),r.adjustY&&s.top<n.top&&(s.top=n.top),r.resizeHeight&&s.top>=n.top&&s.top+a.height>n.bottom&&(a.height-=s.top+a.height-n.bottom),r.adjustY&&s.top+a.height>n.bottom&&(s.top=Math.max(n.bottom-a.height,n.top)),Ol.mix(s,a)}(h,d,u,A))}return p.width!==d.width&&Ol.css(l,"width",Ol.width(l)+p.width-d.width),p.height!==d.height&&Ol.css(l,"height",Ol.height(l)+p.height-d.height),Ol.offset(l,{left:p.left,top:p.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:s,offset:a,targetOffset:i,overflow:A}}function tA(e,t,n){var r=n.target||t,s=_l(r),a=!function(e,t){var n=zl(e,t),r=_l(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport);return eA(e,s,n,a)}tA.__getOffsetParent=Vl,tA.__getVisibleRectForElement=zl;var nA=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var s=r[n];e.call(t,s[1],s[0])}},t}()}(),rA="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,sA="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),aA="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(sA):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var iA=["top","right","bottom","left","width","height","size","weight"],oA="undefined"!==typeof MutationObserver,lA=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,s=0;function a(){n&&(n=!1,e()),r&&o()}function i(){aA(a)}function o(){var e=Date.now();if(n){if(e-s<2)return;r=!0}else n=!0,r=!1,setTimeout(i,t);s=e}return o}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){rA&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),oA?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){rA&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,r=iA.some((function(e){return!!~n.indexOf(e)}));r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),AA=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var s=r[n];Object.defineProperty(e,s,{value:t[s],enumerable:!1,writable:!1,configurable:!0})}return e},cA=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||sA},uA=gA(0,0,0,0);function dA(e){return parseFloat(e)||0}function hA(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+dA(e["border-"+n+"-width"])}),0)}function pA(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return uA;var r=cA(e).getComputedStyle(e),s=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var s=r[n],a=e["padding-"+s];t[s]=dA(a)}return t}(r),a=s.left+s.right,i=s.top+s.bottom,o=dA(r.width),l=dA(r.height);if("border-box"===r.boxSizing&&(Math.round(o+a)!==t&&(o-=hA(r,"left","right")+a),Math.round(l+i)!==n&&(l-=hA(r,"top","bottom")+i)),!function(e){return e===cA(e).document.documentElement}(e)){var A=Math.round(o+a)-t,c=Math.round(l+i)-n;1!==Math.abs(A)&&(o-=A),1!==Math.abs(c)&&(l-=c)}return gA(s.left,s.top,o,l)}var mA="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof cA(e).SVGGraphicsElement}:function(e){return e instanceof cA(e).SVGElement&&"function"===typeof e.getBBox};function fA(e){return rA?mA(e)?function(e){var t=e.getBBox();return gA(0,0,t.width,t.height)}(e):pA(e):uA}function gA(e,t,n,r){return{x:e,y:t,width:n,height:r}}var vA=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=gA(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=fA(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),yA=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,s=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,i=Object.create(a.prototype);return AA(i,{x:t,y:n,width:r,height:s,top:n,right:t+r,bottom:s+n,left:t}),i}(t);AA(this,{target:e,contentRect:n})},wA=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new nA,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof cA(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new vA(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof cA(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new yA(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),bA="undefined"!==typeof WeakMap?new WeakMap:new nA,xA=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=lA.getInstance(),r=new wA(t,n,this);bA.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){xA.prototype[e]=function(){var t;return(t=bA.get(this))[e].apply(t,arguments)}}));const BA="undefined"!==typeof sA.ResizeObserver?sA.ResizeObserver:xA;function CA(e,t){var n=null,r=null;var s=new BA((function(e){var s=m(e,1)[0].target;if(document.documentElement.contains(s)){var a=s.getBoundingClientRect(),i=a.width,o=a.height,l=Math.floor(i),A=Math.floor(o);n===l&&r===A||Promise.resolve().then((function(){t({width:l,height:A})})),n=l,r=A}}));return e&&s.observe(e),function(){s.disconnect()}}function kA(e){return"function"!==typeof e?null:e()}function SA(e){return"object"===s(e)&&e?e:null}var EA=function(e,t){var n=e.children,r=e.disabled,s=e.target,a=e.align,i=e.onAlign,o=e.monitorWindowResize,l=e.monitorBufferTime,c=void 0===l?0:l,u=A.useRef({}),d=A.useRef(),h=A.Children.only(n),p=A.useRef({});p.current.disabled=r,p.current.target=s,p.current.align=a,p.current.onAlign=i;var f=function(e,t){var n=A.useRef(!1),r=A.useRef(null);function s(){window.clearTimeout(r.current)}return[function a(i){if(s(),n.current&&!0!==i)r.current=window.setTimeout((function(){n.current=!1,a()}),t);else{if(!1===e(i))return;n.current=!0,r.current=window.setTimeout((function(){n.current=!1}),t)}},function(){n.current=!1,s()}]}((function(){var e=p.current,t=e.disabled,n=e.target,r=e.align,s=e.onAlign,a=d.current;if(!t&&n&&a){var i,o=kA(n),l=SA(n);u.current.element=o,u.current.point=l,u.current.align=r;var A=document.activeElement;return o&&function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var s=e.getBoundingClientRect(),a=s.width,i=s.height;if(a||i)return!0}}return!1}(o)?i=tA(a,o,r):l&&(i=function(e,t,n){var r,s,a=Ol.getDocument(e),i=a.defaultView||a.parentWindow,o=Ol.getWindowScrollLeft(i),l=Ol.getWindowScrollTop(i),A=Ol.viewportWidth(i),c=Ol.viewportHeight(i),u={left:r="pageX"in t?t.pageX:o+t.clientX,top:s="pageY"in t?t.pageY:l+t.clientY,width:0,height:0},d=r>=0&&r<=o+A&&s>=0&&s<=l+c,h=[n.points[0],"cc"];return eA(e,u,Zo(Zo({},n),{},{points:h}),d)}(a,l,r)),function(e,t){e!==document.activeElement&&ce(t,e)&&"function"===typeof e.focus&&e.focus()}(A,a),s&&i&&s(a,i),!0}return!1}),c),g=m(f,2),v=g[0],y=g[1],w=m(A.useState(),2),b=w[0],x=w[1],B=m(A.useState(),2),C=B[0],k=B[1];return Lt((function(){x(kA(s)),k(SA(s))})),A.useEffect((function(){var e,t;u.current.element===b&&((e=u.current.point)===(t=C)||e&&t&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY))&&ga(u.current.align,a)||v()})),A.useEffect((function(){return CA(d.current,v)}),[d.current]),A.useEffect((function(){return CA(b,v)}),[b]),A.useEffect((function(){r?y():v()}),[r]),A.useEffect((function(){if(o)return zo(window,"resize",v).remove}),[o]),A.useEffect((function(){return function(){y()}}),[]),A.useImperativeHandle(t,(function(){return{forceAlign:function(){return v(!0)}}})),A.isValidElement(h)&&(h=A.cloneElement(h,{ref:It(h.ref,d)})),h},jA=A.forwardRef(EA);jA.displayName="Align";const IA=jA;var FA=["measure","alignPre","align",null,"motion"];var QA=A.forwardRef((function(e,t){var n=e.visible,r=e.prefixCls,s=e.className,a=e.style,i=e.children,o=e.zIndex,c=e.stretch,u=e.destroyPopupOnHide,d=e.forceRender,h=e.align,p=e.point,f=e.getRootDomNode,g=e.getClassNameFromAlign,y=e.onAlign,w=e.onMouseEnter,b=e.onMouseLeave,x=e.onMouseDown,B=e.onTouchStart,C=e.onClick,k=(0,A.useRef)(),S=(0,A.useRef)(),E=m((0,A.useState)(),2),j=E[0],I=E[1],F=function(e){var t=m(A.useState({width:0,height:0}),2),n=t[0],r=t[1];return[A.useMemo((function(){var t={};if(e){var r=n.width,s=n.height;-1!==e.indexOf("height")&&s?t.height=s:-1!==e.indexOf("minHeight")&&s&&(t.minHeight=s),-1!==e.indexOf("width")&&r?t.width=r:-1!==e.indexOf("minWidth")&&r&&(t.minWidth=r)}return t}),[e,n]),function(e){var t=e.offsetWidth,n=e.offsetHeight,s=e.getBoundingClientRect(),a=s.width,i=s.height;Math.abs(t-a)<1&&Math.abs(n-i)<1&&(t=a,n=i),r({width:t,height:n})}]}(c),Q=m(F,2),N=Q[0],M=Q[1];var U=function(e,t){var n=m(Pt(null),2),r=n[0],s=n[1],a=(0,A.useRef)();function i(e){s(e,!0)}function o(){En.cancel(a.current)}return(0,A.useEffect)((function(){i("measure")}),[e]),(0,A.useEffect)((function(){"measure"===r&&t(),r&&(a.current=En(ct(lt().mark((function e(){var t,n;return lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=FA.indexOf(r),(n=FA[t+1])&&-1!==t&&i(n);case 3:case"end":return e.stop()}}),e)})))))}),[r]),(0,A.useEffect)((function(){return function(){o()}}),[]),[r,function(e){o(),a.current=En((function(){i((function(e){switch(r){case"align":return"motion";case"motion":return"stable"}return e})),null===e||void 0===e||e()}))}]}(n,(function(){c&&M(f())})),T=m(U,2),D=T[0],H=T[1],L=m((0,A.useState)(0),2),P=L[0],O=L[1],R=(0,A.useRef)();function V(){var e;null===(e=k.current)||void 0===e||e.forceAlign()}function K(e,t){var n=g(t);j!==n&&I(n),O((function(e){return e+1})),"align"===D&&(null===y||void 0===y||y(e,t))}Lt((function(){"alignPre"===D&&O(0)}),[D]),Lt((function(){"align"===D&&(P<3?V():H((function(){var e;null===(e=R.current)||void 0===e||e.call(R)})))}),[P]);var z=l({},qo(e));function _(){return new Promise((function(e){R.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=z[e];z[e]=function(e,n){return H(),null===t||void 0===t?void 0:t(e,n)}})),A.useEffect((function(){z.motionName||"motion"!==D||H()}),[z.motionName,D]),A.useImperativeHandle(t,(function(){return{forceAlign:V,getElement:function(){return S.current}}}));var G=l(l({},N),{},{zIndex:o,opacity:"motion"!==D&&"stable"!==D&&n?0:void 0,pointerEvents:n||"stable"===D?void 0:"none"},a),W=!0;null===h||void 0===h||!h.points||"align"!==D&&"stable"!==D||(W=!1);var Y=i;return A.Children.count(i)>1&&(Y=A.createElement("div",{className:"".concat(r,"-content")},i)),A.createElement(Gn,Pe({visible:n,ref:S,leavedClassName:"".concat(r,"-hidden")},z,{onAppearPrepare:_,onEnterPrepare:_,removeOnLeave:u,forceRender:d}),(function(e,t){var n=e.className,a=e.style,i=v()(r,s,j,n);return A.createElement(IA,{target:p||f,key:"popup",ref:k,monitorWindowResize:!0,disabled:W,align:h,onAlign:K},A.createElement("div",{ref:t,className:i,onMouseEnter:w,onMouseLeave:b,onMouseDownCapture:x,onTouchStartCapture:B,onClick:C,style:l(l({},a),G)},Y))}))}));QA.displayName="PopupInner";const NA=QA;var MA=A.forwardRef((function(e,t){var n=e.prefixCls,r=e.visible,s=e.zIndex,a=e.children,i=e.mobile,o=(i=void 0===i?{}:i).popupClassName,c=i.popupStyle,u=i.popupMotion,d=void 0===u?{}:u,h=i.popupRender,p=e.onClick,m=A.useRef();A.useImperativeHandle(t,(function(){return{forceAlign:function(){},getElement:function(){return m.current}}}));var f=l({zIndex:s},c),g=a;return A.Children.count(a)>1&&(g=A.createElement("div",{className:"".concat(n,"-content")},a)),h&&(g=h(g)),A.createElement(Gn,Pe({visible:r,ref:m,removeOnLeave:!0},d),(function(e,t){var r=e.className,s=e.style,a=v()(n,o,r);return A.createElement("div",{ref:t,className:a,onClick:p,style:l(l({},s),f)},g)}))}));MA.displayName="MobilePopupInner";const UA=MA;var TA=["visible","mobile"],DA=A.forwardRef((function(e,t){var n=e.visible,r=e.mobile,s=f(e,TA),a=m((0,A.useState)(n),2),i=a[0],o=a[1],c=m((0,A.useState)(!1),2),u=c[0],d=c[1],h=l(l({},s),{},{visible:i});(0,A.useEffect)((function(){o(n),n&&r&&d(Yo())}),[n,r]);var p=u?A.createElement(UA,Pe({},h,{mobile:r,ref:t})):A.createElement(NA,Pe({},h,{ref:t}));return A.createElement("div",null,A.createElement(Xo,h),p)}));DA.displayName="Popup";const HA=DA;const LA=A.createContext(null);function PA(){}function OA(){return""}function RA(e){return e?e.ownerDocument:window.document}var VA=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];const KA=function(e){var t=function(t){nt(r,t);var n=ot(r);function r(e){var t,s;return Ze(this,r),i(at(t=n.call(this,e)),"popupRef",A.createRef()),i(at(t),"triggerRef",A.createRef()),i(at(t),"portalContainer",void 0),i(at(t),"attachId",void 0),i(at(t),"clickOutsideHandler",void 0),i(at(t),"touchOutsideHandler",void 0),i(at(t),"contextMenuOutsideHandler1",void 0),i(at(t),"contextMenuOutsideHandler2",void 0),i(at(t),"mouseDownTimeout",void 0),i(at(t),"focusTime",void 0),i(at(t),"preClickTime",void 0),i(at(t),"preTouchTime",void 0),i(at(t),"delayTimer",void 0),i(at(t),"hasPopupMouseDown",void 0),i(at(t),"onMouseEnter",(function(e){var n=t.props.mouseEnterDelay;t.fireEvents("onMouseEnter",e),t.delaySetPopupVisible(!0,n,n?null:e)})),i(at(t),"onMouseMove",(function(e){t.fireEvents("onMouseMove",e),t.setPoint(e)})),i(at(t),"onMouseLeave",(function(e){t.fireEvents("onMouseLeave",e),t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)})),i(at(t),"onPopupMouseEnter",(function(){t.clearDelayTimer()})),i(at(t),"onPopupMouseLeave",(function(e){var n;e.relatedTarget&&!e.relatedTarget.setTimeout&&ce(null===(n=t.popupRef.current)||void 0===n?void 0:n.getElement(),e.relatedTarget)||t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)})),i(at(t),"onFocus",(function(e){t.fireEvents("onFocus",e),t.clearDelayTimer(),t.isFocusToShow()&&(t.focusTime=Date.now(),t.delaySetPopupVisible(!0,t.props.focusDelay))})),i(at(t),"onMouseDown",(function(e){t.fireEvents("onMouseDown",e),t.preClickTime=Date.now()})),i(at(t),"onTouchStart",(function(e){t.fireEvents("onTouchStart",e),t.preTouchTime=Date.now()})),i(at(t),"onBlur",(function(e){t.fireEvents("onBlur",e),t.clearDelayTimer(),t.isBlurToHide()&&t.delaySetPopupVisible(!1,t.props.blurDelay)})),i(at(t),"onContextMenu",(function(e){e.preventDefault(),t.fireEvents("onContextMenu",e),t.setPopupVisible(!0,e)})),i(at(t),"onContextMenuClose",(function(){t.isContextMenuToShow()&&t.close()})),i(at(t),"onClick",(function(e){if(t.fireEvents("onClick",e),t.focusTime){var n;if(t.preClickTime&&t.preTouchTime?n=Math.min(t.preClickTime,t.preTouchTime):t.preClickTime?n=t.preClickTime:t.preTouchTime&&(n=t.preTouchTime),Math.abs(n-t.focusTime)<20)return;t.focusTime=0}t.preClickTime=0,t.preTouchTime=0,t.isClickToShow()&&(t.isClickToHide()||t.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var r=!t.state.popupVisible;(t.isClickToHide()&&!r||r&&t.isClickToShow())&&t.setPopupVisible(!t.state.popupVisible,e)})),i(at(t),"onPopupMouseDown",(function(){var e;(t.hasPopupMouseDown=!0,clearTimeout(t.mouseDownTimeout),t.mouseDownTimeout=window.setTimeout((function(){t.hasPopupMouseDown=!1}),0),t.context)&&(e=t.context).onPopupMouseDown.apply(e,arguments)})),i(at(t),"onDocumentClick",(function(e){if(!t.props.mask||t.props.maskClosable){var n=e.target,r=t.getRootDomNode(),s=t.getPopupDomNode();ce(r,n)&&!t.isContextMenuOnly()||ce(s,n)||t.hasPopupMouseDown||t.close()}})),i(at(t),"getRootDomNode",(function(){var e=t.props.getTriggerDOMNode;if(e)return e(t.triggerRef.current);try{var n=kt(t.triggerRef.current);if(n)return n}catch(r){}return dt.findDOMNode(at(t))})),i(at(t),"getPopupClassNameFromAlign",(function(e){var n=[],r=t.props,s=r.popupPlacement,a=r.builtinPlacements,i=r.prefixCls,o=r.alignPoint,l=r.getPopupClassNameFromAlign;return s&&a&&n.push(function(e,t,n,r){for(var s=n.points,a=Object.keys(e),i=0;i<a.length;i+=1){var o=a[i];if(Wo(e[o].points,s,r))return"".concat(t,"-placement-").concat(o)}return""}(a,i,e,o)),l&&n.push(l(e)),n.join(" ")})),i(at(t),"getComponent",(function(){var e=t.props,n=e.prefixCls,r=e.destroyPopupOnHide,s=e.popupClassName,a=e.onPopupAlign,i=e.popupMotion,o=e.popupAnimation,l=e.popupTransitionName,c=e.popupStyle,u=e.mask,d=e.maskAnimation,h=e.maskTransitionName,p=e.maskMotion,m=e.zIndex,f=e.popup,g=e.stretch,v=e.alignPoint,y=e.mobile,w=e.forceRender,b=e.onPopupClick,x=t.state,B=x.popupVisible,C=x.point,k=t.getPopupAlign(),S={};return t.isMouseEnterToShow()&&(S.onMouseEnter=t.onPopupMouseEnter),t.isMouseLeaveToHide()&&(S.onMouseLeave=t.onPopupMouseLeave),S.onMouseDown=t.onPopupMouseDown,S.onTouchStart=t.onPopupMouseDown,A.createElement(HA,Pe({prefixCls:n,destroyPopupOnHide:r,visible:B,point:v&&C,className:s,align:k,onAlign:a,animation:o,getClassNameFromAlign:t.getPopupClassNameFromAlign},S,{stretch:g,getRootDomNode:t.getRootDomNode,style:c,mask:u,zIndex:m,transitionName:l,maskAnimation:d,maskTransitionName:h,maskMotion:p,ref:t.popupRef,motion:i,mobile:y,forceRender:w,onClick:b}),"function"===typeof f?f():f)})),i(at(t),"attachParent",(function(e){En.cancel(t.attachId);var n,r=t.props,s=r.getPopupContainer,a=r.getDocument,i=t.getRootDomNode();s?(i||0===s.length)&&(n=s(i)):n=a(t.getRootDomNode()).body,n?n.appendChild(e):t.attachId=En((function(){t.attachParent(e)}))})),i(at(t),"getContainer",(function(){if(!t.portalContainer){var e=(0,t.props.getDocument)(t.getRootDomNode()).createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",t.portalContainer=e}return t.attachParent(t.portalContainer),t.portalContainer})),i(at(t),"setPoint",(function(e){t.props.alignPoint&&e&&t.setState({point:{pageX:e.pageX,pageY:e.pageY}})})),i(at(t),"handlePortalUpdate",(function(){t.state.prevPopupVisible!==t.state.popupVisible&&t.props.afterPopupVisibleChange(t.state.popupVisible)})),i(at(t),"triggerContextValue",{onPopupMouseDown:t.onPopupMouseDown}),s="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,t.state={prevPopupVisible:s,popupVisible:s},VA.forEach((function(e){t["fire".concat(e)]=function(n){t.fireEvents(e,n)}})),t}return et(r,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=zo(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=zo(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=zo(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=zo(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),En.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){return l(l({},e[t]||{}),n)}(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,s=1e3*t;if(this.clearDelayTimer(),s){var a=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,a),r.clearDelayTimer()}),s)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var t=this.state.popupVisible,n=this.props,r=n.children,s=n.forceRender,a=n.alignPoint,i=n.className,o=n.autoDestroy,c=A.Children.only(r),u={key:"trigger"};this.isContextMenuToShow()?u.onContextMenu=this.onContextMenu:u.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(u.onClick=this.onClick,u.onMouseDown=this.onMouseDown,u.onTouchStart=this.onTouchStart):(u.onClick=this.createTwoChains("onClick"),u.onMouseDown=this.createTwoChains("onMouseDown"),u.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(u.onMouseEnter=this.onMouseEnter,a&&(u.onMouseMove=this.onMouseMove)):u.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?u.onMouseLeave=this.onMouseLeave:u.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(u.onFocus=this.onFocus,u.onBlur=this.onBlur):(u.onFocus=this.createTwoChains("onFocus"),u.onBlur=this.createTwoChains("onBlur"));var d=v()(c&&c.props&&c.props.className,i);d&&(u.className=d);var h=l({},u);Ft(c)&&(h.ref=It(this.triggerRef,c.ref));var p,m=A.cloneElement(c,h);return(t||this.popupRef.current||s)&&(p=A.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!t&&o&&(p=null),A.createElement(LA.Provider,{value:this.triggerContextValue},m,p)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),r}(A.Component);return i(t,"contextType",LA),i(t,"defaultProps",{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:OA,getDocument:RA,onPopupVisibleChange:PA,afterPopupVisibleChange:PA,onPopupAlign:PA,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1}),t}(Go);var zA={adjustX:1,adjustY:1},_A=[0,0],GA={left:{points:["cr","cl"],overflow:zA,offset:[-4,0],targetOffset:_A},right:{points:["cl","cr"],overflow:zA,offset:[4,0],targetOffset:_A},top:{points:["bc","tc"],overflow:zA,offset:[0,-4],targetOffset:_A},bottom:{points:["tc","bc"],overflow:zA,offset:[0,4],targetOffset:_A},topLeft:{points:["bl","tl"],overflow:zA,offset:[0,-4],targetOffset:_A},leftTop:{points:["tr","tl"],overflow:zA,offset:[-4,0],targetOffset:_A},topRight:{points:["br","tr"],overflow:zA,offset:[0,-4],targetOffset:_A},rightTop:{points:["tl","tr"],overflow:zA,offset:[4,0],targetOffset:_A},bottomRight:{points:["tr","br"],overflow:zA,offset:[0,4],targetOffset:_A},rightBottom:{points:["bl","br"],overflow:zA,offset:[4,0],targetOffset:_A},bottomLeft:{points:["tl","bl"],overflow:zA,offset:[0,4],targetOffset:_A},leftBottom:{points:["br","bl"],overflow:zA,offset:[-4,0],targetOffset:_A}};function WA(e){var t=e.showArrow,n=e.arrowContent,r=e.children,s=e.prefixCls,a=e.id,i=e.overlayInnerStyle,o=e.className,l=e.style;return A.createElement("div",{className:v()("".concat(s,"-content"),o),style:l},!1!==t&&A.createElement("div",{className:"".concat(s,"-arrow"),key:"arrow"},n),A.createElement("div",{className:"".concat(s,"-inner"),id:a,role:"tooltip",style:i},"function"===typeof r?r():r))}var YA=function(e,t){var n=e.overlayClassName,r=e.trigger,a=void 0===r?["hover"]:r,i=e.mouseEnterDelay,o=void 0===i?0:i,c=e.mouseLeaveDelay,u=void 0===c?.1:c,d=e.overlayStyle,h=e.prefixCls,p=void 0===h?"rc-tooltip":h,m=e.children,g=e.onVisibleChange,v=e.afterVisibleChange,y=e.transitionName,w=e.animation,b=e.motion,x=e.placement,B=void 0===x?"right":x,C=e.align,k=void 0===C?{}:C,S=e.destroyTooltipOnHide,E=void 0!==S&&S,j=e.defaultVisible,I=e.getTooltipContainer,F=e.overlayInnerStyle,Q=e.arrowContent,N=e.overlay,M=e.id,U=e.showArrow,T=f(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"]),D=(0,A.useRef)(null);(0,A.useImperativeHandle)(t,(function(){return D.current}));var H=l({},T);"visible"in e&&(H.popupVisible=e.visible);var L=!1,P=!1;if("boolean"===typeof E)L=E;else if(E&&"object"===s(E)){var O=E.keepParent;L=!0===O,P=!1===O}return A.createElement(KA,Pe({popupClassName:n,prefixCls:p,popup:function(){return A.createElement(WA,{showArrow:U,arrowContent:Q,key:"content",prefixCls:p,id:M,overlayInnerStyle:F},N)},action:a,builtinPlacements:GA,popupPlacement:B,ref:D,popupAlign:k,getPopupContainer:I,onPopupVisibleChange:g,afterPopupVisibleChange:v,popupTransitionName:y,popupAnimation:w,popupMotion:b,defaultPopupVisible:j,destroyPopupOnHide:L,autoDestroy:P,mouseLeaveDelay:u,popupStyle:d,mouseEnterDelay:o},H),m)};const qA=(0,A.forwardRef)(YA);var XA=Ts("success","processing","error","default","warning"),JA=Ts("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"),ZA={adjustX:1,adjustY:1},$A={adjustX:0,adjustY:0},ec=[0,0];function tc(e){return"boolean"===typeof e?e?ZA:$A:Pe(Pe({},$A),e)}var nc=A.isValidElement;function rc(e){return e&&nc(e)&&e.type===A.Fragment}function sc(e,t){return function(e,t,n){return nc(e)?A.cloneElement(e,"function"===typeof n?n(e.props||{}):n):t}(e,e,t)}var ac=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},ic=new RegExp("^(".concat(JA.join("|"),")(-inverse)?$"));function oc(e,t){var n=e.type;if((!0===n.__ANT_BUTTON||"button"===e.type)&&e.props.disabled||!0===n.__ANT_SWITCH&&(e.props.disabled||e.props.loading)||!0===n.__ANT_RADIO&&e.props.disabled){var r=function(e,t){var n={},r=Pe({},e);return t.forEach((function(t){e&&t in e&&(n[t]=e[t],delete r[t])})),{picked:n,omitted:r}}(e.props.style,["position","left","right","top","bottom","float","display","zIndex"]),s=r.picked,a=r.omitted,i=Pe(Pe({display:"inline-block"},s),{cursor:"not-allowed",width:e.props.block?"100%":void 0}),o=sc(e,{style:Pe(Pe({},a),{pointerEvents:"none"}),className:null});return A.createElement("span",{style:i,className:v()(e.props.className,"".concat(t,"-disabled-compatible-wrapper"))},o)}return e}var lc=A.forwardRef((function(e,t){var n=A.useContext(jr),r=n.getPopupContainer,s=n.getPrefixCls,a=n.direction;var o=m(Rt(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),2),l=o[0],c=o[1],u=function(){var t=e.title,n=e.overlay;return!t&&!n&&0!==t},d=function(){var t=e.builtinPlacements,n=e.arrowPointAtCenter,r=void 0!==n&&n,s=e.autoAdjustOverflow;return t||function(e){var t=e.arrowWidth,n=void 0===t?4:t,r=e.horizontalArrowShift,s=void 0===r?16:r,a=e.verticalArrowShift,i=void 0===a?8:a,o=e.autoAdjustOverflow,l=e.arrowPointAtCenter,A={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(s+n),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(i+n)]},topRight:{points:["br","tc"],offset:[s+n,-4]},rightTop:{points:["tl","cr"],offset:[4,-(i+n)]},bottomRight:{points:["tr","bc"],offset:[s+n,4]},rightBottom:{points:["bl","cr"],offset:[4,i+n]},bottomLeft:{points:["tl","bc"],offset:[-(s+n),4]},leftBottom:{points:["br","cl"],offset:[-4,i+n]}};return Object.keys(A).forEach((function(e){A[e]=l?Pe(Pe({},A[e]),{overflow:tc(o),targetOffset:ec}):Pe(Pe({},GA[e]),{overflow:tc(o)}),A[e].ignoreShake=!0})),A}({arrowPointAtCenter:r,autoAdjustOverflow:void 0===s||s})},h=e.getPopupContainer,p=e.placement,f=void 0===p?"top":p,g=e.mouseEnterDelay,y=void 0===g?.1:g,w=e.mouseLeaveDelay,b=void 0===w?.1:w,x=ac(e,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay"]),B=e.prefixCls,C=e.openClassName,k=e.getTooltipContainer,S=e.overlayClassName,E=e.color,j=e.overlayInnerStyle,I=e.children,F=s("tooltip",B),Q=s(),N=l;"open"in e||"visible"in e||!u()||(N=!1);var M=oc(nc(I)&&!rc(I)?I:A.createElement("span",null,I),F),U=M.props,T=U.className&&"string"!==typeof U.className?U.className:v()(U.className,i({},C||"".concat(F,"-open"),!0)),D=v()(S,i(i({},"".concat(F,"-rtl"),"rtl"===a),"".concat(F,"-").concat(E),E&&ic.test(E))),H=j,L={};return E&&!ic.test(E)&&(H=Pe(Pe({},j),{background:E}),L={"--antd-arrow-background-color":E}),A.createElement(qA,Pe({},x,{placement:f,mouseEnterDelay:y,mouseLeaveDelay:b,prefixCls:F,overlayClassName:D,getTooltipContainer:h||k||r,ref:t,builtinPlacements:d(),overlay:function(){var t=e.title,n=e.overlay;return 0===t?t:n||t||""}(),visible:N,onVisibleChange:function(t){var n,r;c(!u()&&t),u()||(null===(n=e.onOpenChange)||void 0===n||n.call(e,t),null===(r=e.onVisibleChange)||void 0===r||r.call(e,t))},onPopupAlign:function(e,t){var n=d(),r=Object.keys(n).find((function(e){var r,s;return n[e].points[0]===(null===(r=t.points)||void 0===r?void 0:r[0])&&n[e].points[1]===(null===(s=t.points)||void 0===s?void 0:s[1])}));if(r){var s=e.getBoundingClientRect(),a={top:"50%",left:"50%"};/top|Bottom/.test(r)?a.top="".concat(s.height-t.offset[1],"px"):/Top|bottom/.test(r)&&(a.top="".concat(-t.offset[1],"px")),/left|Right/.test(r)?a.left="".concat(s.width-t.offset[0],"px"):/right|Left/.test(r)&&(a.left="".concat(-t.offset[0],"px")),e.style.transformOrigin="".concat(a.left," ").concat(a.top)}},overlayInnerStyle:H,arrowContent:A.createElement("span",{className:"".concat(F,"-arrow-content"),style:L}),motion:{motionName:Li(Q,"zoom-big-fast",e.transitionName),motionDeadline:1e3}}),N?sc(M,{className:T}):M)}));const Ac=lc;var cc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},uc=function(e){var t=e.title,n=e.content,r=e.prefixCls;return A.createElement(A.Fragment,null,t&&A.createElement("div",{className:"".concat(r,"-title")},Ko(t)),A.createElement("div",{className:"".concat(r,"-inner-content")},Ko(n)))},dc=A.forwardRef((function(e,t){var n=e.prefixCls,r=e.title,s=e.content,a=e._overlay,i=e.placement,o=void 0===i?"top":i,l=e.trigger,c=void 0===l?"hover":l,u=e.mouseEnterDelay,d=void 0===u?.1:u,h=e.mouseLeaveDelay,p=void 0===h?.1:h,m=e.overlayStyle,f=void 0===m?{}:m,g=cc(e,["prefixCls","title","content","_overlay","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),v=A.useContext(jr).getPrefixCls,y=v("popover",n),w=v(),b=A.useMemo((function(){return a||(r||s?A.createElement(uc,{prefixCls:y,title:r,content:s}):null)}),[a,r,s,y]);return A.createElement(Ac,Pe({placement:o,trigger:c,mouseEnterDelay:d,mouseLeaveDelay:p,overlayStyle:f},g,{prefixCls:y,ref:t,overlay:b,transitionName:Li(w,"zoom-big",g.transitionName)}))}));const hc=dc;function pc(e){const t=window.getComputedStyle(e);return Math.max(parseInt(t["margin-top"],10),parseInt(t["margin-bottom"],10))+e.getBoundingClientRect().height}function mc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e&&(null!==t&&null!==n?e.style.transform="translate(".concat(n,"px, ").concat(t,"px)"):e.style.removeProperty("transform"))}function fc(e,t,n){e&&(e.style.transition="transform ".concat(t,"ms").concat(n?" ".concat(n):""))}const gc=e=>{let t=[],n=null;const r=function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];t=s,n||(n=requestAnimationFrame((()=>{n=null,e(...t)})))};return r.cancel=()=>{n&&cancelAnimationFrame(n)},r};function vc(e,t){const n=["input","textarea","select","option","optgroup","video","audio","button","a"],r=["button","link","checkbox","tab"];for(;e!==t;){if(e.getAttribute("data-movable-handle"))return!1;if(n.includes(e.tagName.toLowerCase()))return!0;const t=e.getAttribute("role");if(t&&r.includes(t.toLowerCase()))return!0;if("label"===e.tagName.toLowerCase()&&e.hasAttribute("for"))return!0;e.tagName&&(e=e.parentElement)}return!1}const yc=200,wc=10,bc=10;class xc extends A.Component{constructor(e){var t;super(e),t=this,this.listRef=A.createRef(),this.ghostRef=A.createRef(),this.topOffsets=[],this.itemTranslateOffsets=[],this.initialYOffset=0,this.lastScroll=0,this.lastYOffset=0,this.lastListYOffset=0,this.needle=-1,this.afterIndex=-2,this.state={itemDragged:-1,itemDraggedOutOfBounds:-1,selectedItem:-1,initialX:0,initialY:0,targetX:0,targetY:0,targetHeight:0,targetWidth:0,liveText:"",scrollingSpeed:0,scrollWindow:!1},this.doScrolling=()=>{const{scrollingSpeed:e,scrollWindow:t}=this.state,n=this.listRef.current;window.requestAnimationFrame((()=>{t?window.scrollTo(window.pageXOffset,window.pageYOffset+1.5*e):n.scrollTop+=e,0!==e&&this.doScrolling()}))},this.getChildren=()=>this.listRef&&this.listRef.current?Array.from(this.listRef.current.children):(console.warn("No items found in the List container. Did you forget to pass & spread the `props` param in renderList?"),[]),this.calculateOffsets=()=>{this.topOffsets=this.getChildren().map((e=>e.getBoundingClientRect().top)),this.itemTranslateOffsets=this.getChildren().map((e=>pc(e)))},this.getTargetIndex=e=>this.getChildren().findIndex((t=>t===e.target||t.contains(e.target))),this.onMouseOrTouchStart=e=>{this.dropTimeout&&this.state.itemDragged>-1&&(window.clearTimeout(this.dropTimeout),this.finishDrop());const t=(n=e).touches&&n.touches.length||n.changedTouches&&n.changedTouches.length;var n;if(!t&&0!==e.button)return;const r=this.getTargetIndex(e);if(-1===r||this.props.values[r]&&this.props.values[r].disabled)return void(-1!==this.state.selectedItem&&(this.setState({selectedItem:-1}),this.finishDrop()));const s=this.getChildren()[r],a=s.querySelector("[data-movable-handle]");if((!a||a.contains(e.target))&&!vc(e.target,s)){if(e.preventDefault(),this.props.beforeDrag&&this.props.beforeDrag({elements:this.getChildren(),index:r}),t){const e={passive:!1};s.style.touchAction="none",document.addEventListener("touchend",this.schdOnEnd,e),document.addEventListener("touchmove",this.schdOnTouchMove,e),document.addEventListener("touchcancel",this.schdOnEnd,e)}else{document.addEventListener("mousemove",this.schdOnMouseMove),document.addEventListener("mouseup",this.schdOnEnd);const e=this.getChildren()[this.state.itemDragged];e&&e.style&&(e.style.touchAction="")}this.onStart(s,t?e.touches[0].clientX:e.clientX,t?e.touches[0].clientY:e.clientY,r)}},this.getYOffset=()=>{const e=this.listRef.current?this.listRef.current.scrollTop:0;return window.pageYOffset+e},this.onStart=(e,t,n,r)=>{this.state.selectedItem>-1&&(this.setState({selectedItem:-1}),this.needle=-1);const s=e.getBoundingClientRect(),a=window.getComputedStyle(e);this.calculateOffsets(),this.initialYOffset=this.getYOffset(),this.lastYOffset=window.pageYOffset,this.lastListYOffset=this.listRef.current.scrollTop,this.setState({itemDragged:r,targetX:s.left-parseInt(a["margin-left"],10),targetY:s.top-parseInt(a["margin-top"],10),targetHeight:s.height,targetWidth:s.width,initialX:t,initialY:n})},this.onMouseMove=e=>{e.cancelable&&e.preventDefault(),this.onMove(e.clientX,e.clientY)},this.onTouchMove=e=>{e.cancelable&&e.preventDefault(),this.onMove(e.touches[0].clientX,e.touches[0].clientY)},this.onWheel=e=>{this.state.itemDragged<0||(this.lastScroll=this.listRef.current.scrollTop+=e.deltaY,this.moveOtherItems())},this.onMove=(e,t)=>{if(-1===this.state.itemDragged)return null;mc(this.ghostRef.current,t-this.state.initialY,this.props.lockVertically?0:e-this.state.initialX),this.autoScrolling(t,t-this.state.initialY),this.moveOtherItems()},this.moveOtherItems=()=>{const e=this.ghostRef.current.getBoundingClientRect(),t=e.top+e.height/2,n=pc(this.getChildren()[this.state.itemDragged]),r=this.getYOffset();this.initialYOffset!==r&&(this.topOffsets=this.topOffsets.map((e=>e-(r-this.initialYOffset))),this.initialYOffset=r),this.isDraggedItemOutOfBounds()&&this.props.removableByMove?this.afterIndex=this.topOffsets.length+1:this.afterIndex=function(e,t){let n,r=0,s=e.length-1;for(;r<=s;){if(n=Math.floor((s+r)/2),!e[n+1]||e[n]<=t&&e[n+1]>=t)return n;e[n]<t&&e[n+1]<t?r=n+1:s=n-1}return-1}(this.topOffsets,t),this.animateItems(-1===this.afterIndex?0:this.afterIndex,this.state.itemDragged,n)},this.autoScrolling=(e,t)=>{const{top:n,bottom:r,height:s}=this.listRef.current.getBoundingClientRect(),a=window.innerHeight||document.documentElement.clientHeight;if(r>a&&a-e<yc&&t>bc)this.setState({scrollingSpeed:Math.min(Math.round((yc-(a-e))/wc),Math.round((t-bc)/wc)),scrollWindow:!0});else if(n<0&&e<yc&&t<-10)this.setState({scrollingSpeed:Math.max(Math.round((yc-e)/-10),Math.round((t+bc)/wc)),scrollWindow:!0});else if(this.state.scrollWindow&&0!==this.state.scrollingSpeed&&this.setState({scrollingSpeed:0,scrollWindow:!1}),s+20<this.listRef.current.scrollHeight){let s=0;e-n<yc&&t<-10?s=Math.max(Math.round((yc-(e-n))/-10),Math.round((t+bc)/wc)):r-e<yc&&t>bc&&(s=Math.min(Math.round((yc-(r-e))/wc),Math.round((t-bc)/wc))),this.state.scrollingSpeed!==s&&this.setState({scrollingSpeed:s})}},this.animateItems=function(e,n,r){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.getChildren().forEach(((a,i)=>{if(fc(a,t.props.transitionDuration),n===i&&s){if(n===e)return mc(a,null);mc(a,n<e?t.itemTranslateOffsets.slice(n+1,e+1).reduce(((e,t)=>e+t),0):-1*t.itemTranslateOffsets.slice(e,n).reduce(((e,t)=>e+t),0))}else mc(a,n<e&&i>n&&i<=e?-r:i<n&&n>e&&i>=e?r:null)}))},this.isDraggedItemOutOfBounds=()=>{const e=this.getChildren()[this.state.itemDragged].getBoundingClientRect(),t=this.ghostRef.current.getBoundingClientRect();return Math.abs(e.left-t.left)>t.width?(-1===this.state.itemDraggedOutOfBounds&&this.setState({itemDraggedOutOfBounds:this.state.itemDragged}),!0):(this.state.itemDraggedOutOfBounds>-1&&this.setState({itemDraggedOutOfBounds:-1}),!1)},this.onEnd=e=>{e.cancelable&&e.preventDefault(),document.removeEventListener("mousemove",this.schdOnMouseMove),document.removeEventListener("touchmove",this.schdOnTouchMove),document.removeEventListener("mouseup",this.schdOnEnd),document.removeEventListener("touchup",this.schdOnEnd),document.removeEventListener("touchcancel",this.schdOnEnd);const t=this.props.removableByMove&&this.isDraggedItemOutOfBounds();!t&&this.props.transitionDuration>0&&-2!==this.afterIndex&&gc((()=>{fc(this.ghostRef.current,this.props.transitionDuration,"cubic-bezier(.2,1,.1,1)"),this.afterIndex<1&&0===this.state.itemDragged?mc(this.ghostRef.current,0,0):mc(this.ghostRef.current,-(window.pageYOffset-this.lastYOffset)-(this.listRef.current.scrollTop-this.lastListYOffset)+(this.state.itemDragged<this.afterIndex?this.itemTranslateOffsets.slice(this.state.itemDragged+1,this.afterIndex+1).reduce(((e,t)=>e+t),0):-1*this.itemTranslateOffsets.slice(this.afterIndex<0?0:this.afterIndex,this.state.itemDragged).reduce(((e,t)=>e+t),0)),0)}))(),this.dropTimeout=window.setTimeout(this.finishDrop,t||-2===this.afterIndex?0:this.props.transitionDuration)},this.finishDrop=()=>{const e=this.props.removableByMove&&this.isDraggedItemOutOfBounds();(e||this.afterIndex>-2&&this.state.itemDragged!==this.afterIndex)&&this.props.onChange({oldIndex:this.state.itemDragged,newIndex:e?-1:Math.max(this.afterIndex,0),targetRect:this.ghostRef.current.getBoundingClientRect()}),this.getChildren().forEach((e=>{fc(e,0),mc(e,null),e.style.touchAction=""})),this.setState({itemDragged:-1,scrollingSpeed:0}),this.afterIndex=-2,this.lastScroll>0&&(this.listRef.current.scrollTop=this.lastScroll,this.lastScroll=0)},this.onKeyDown=e=>{const t=this.state.selectedItem,n=this.getTargetIndex(e);if(!vc(e.target,e.currentTarget)&&-1!==n){if(" "===e.key&&(e.preventDefault(),t===n?(t!==this.needle&&(this.getChildren().forEach((e=>{fc(e,0),mc(e,null)})),this.props.onChange({oldIndex:t,newIndex:this.needle,targetRect:this.getChildren()[this.needle].getBoundingClientRect()}),this.getChildren()[this.needle].focus()),this.setState({selectedItem:-1,liveText:this.props.voiceover.dropped(t+1,this.needle+1)}),this.needle=-1):(this.setState({selectedItem:n,liveText:this.props.voiceover.lifted(n+1)}),this.needle=n,this.calculateOffsets())),("ArrowDown"===e.key||"j"===e.key)&&t>-1&&this.needle<this.props.values.length-1){e.preventDefault();const n=pc(this.getChildren()[t]);this.needle++,this.animateItems(this.needle,t,n,!0),this.setState({liveText:this.props.voiceover.moved(this.needle+1,!1)})}if(("ArrowUp"===e.key||"k"===e.key)&&t>-1&&this.needle>0){e.preventDefault();const n=pc(this.getChildren()[t]);this.needle--,this.animateItems(this.needle,t,n,!0),this.setState({liveText:this.props.voiceover.moved(this.needle+1,!0)})}"Escape"===e.key&&t>-1&&(this.getChildren().forEach((e=>{fc(e,0),mc(e,null)})),this.setState({selectedItem:-1,liveText:this.props.voiceover.canceled(t+1)}),this.needle=-1),("Tab"===e.key||"Enter"===e.key)&&t>-1&&e.preventDefault()}},this.schdOnMouseMove=gc(this.onMouseMove),this.schdOnTouchMove=gc(this.onTouchMove),this.schdOnEnd=gc(this.onEnd)}componentDidMount(){this.calculateOffsets(),document.addEventListener("touchstart",this.onMouseOrTouchStart,{passive:!1,capture:!1}),document.addEventListener("mousedown",this.onMouseOrTouchStart)}componentDidUpdate(e,t){t.scrollingSpeed!==this.state.scrollingSpeed&&0===t.scrollingSpeed&&this.doScrolling()}componentWillUnmount(){document.removeEventListener("touchstart",this.onMouseOrTouchStart),document.removeEventListener("mousedown",this.onMouseOrTouchStart),this.dropTimeout&&window.clearTimeout(this.dropTimeout),this.schdOnMouseMove.cancel(),this.schdOnTouchMove.cancel(),this.schdOnEnd.cancel()}render(){const e={userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",boxSizing:"border-box",position:"relative"},t={...e,top:this.state.targetY,left:this.state.targetX,width:this.state.targetWidth,height:this.state.targetHeight,position:"fixed",marginTop:0};return A.createElement(A.Fragment,null,this.props.renderList({children:this.props.values.map(((t,n)=>{const r=n===this.state.itemDragged,s=n===this.state.selectedItem,a={key:n,tabIndex:this.props.values[n]&&this.props.values[n].disabled?-1:0,"aria-roledescription":this.props.voiceover.item(n+1),onKeyDown:this.onKeyDown,style:{...e,visibility:r?"hidden":void 0,zIndex:s?5e3:0}};return this.props.renderItem({value:t,props:a,index:n,isDragged:!1,isSelected:s,isOutOfBounds:!1})})),isDragged:this.state.itemDragged>-1,props:{ref:this.listRef}}),this.state.itemDragged>-1&&dt.createPortal(this.props.renderItem({value:this.props.values[this.state.itemDragged],props:{ref:this.ghostRef,style:t,onWheel:this.onWheel},index:this.state.itemDragged,isDragged:!0,isSelected:!1,isOutOfBounds:this.state.itemDraggedOutOfBounds>-1}),this.props.container||document.body),A.createElement("div",{"aria-live":"assertive",role:"log","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0px",padding:"0px",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"}},this.state.liveText))}}xc.defaultProps={transitionDuration:300,lockVertically:!1,removableByMove:!1,voiceover:{item:e=>"You are currently at a draggable item at position ".concat(e,". Press space bar to lift."),lifted:e=>"You have lifted item at position ".concat(e,". Press j to move down, k to move up, space bar to drop and escape to cancel."),moved:(e,t)=>"You have moved the lifted item ".concat(t?"up":"down"," to position ").concat(e,". Press j to move down, k to move up, space bar to drop and escape to cancel."),dropped:(e,t)=>"You have dropped the item. It has moved from position ".concat(e," to ").concat(t,"."),canceled:e=>"You have cancelled the movement. The item has returned to its starting position of ".concat(e,".")}};const Bc=xc;function Cc(e,t){var n=Object.assign({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}var kc,Sc=0,Ec={};function jc(e){var t=Sc++,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Ec[t]=En((function r(){(n-=1)<=0?(e(),delete Ec[t]):Ec[t]=En(r)})),t}function Ic(e){return!e||null===e.offsetParent||e.hidden}jc.cancel=function(e){void 0!==e&&(En.cancel(Ec[e]),delete Ec[e])},jc.ids=Ec;var Fc=function(e){function t(){var e,n,r,s;return Ze(this,t),n=this,s=arguments,r=rt(r=t),(e=it(n,st()?Reflect.construct(r,s||[],rt(n).constructor):r.apply(n,s))).containerRef=A.createRef(),e.animationStart=!1,e.destroyed=!1,e.onClick=function(t,n){var r,s,a=e.props,i=a.insertExtraNode;if(!a.disabled&&t&&!Ic(t)&&!t.className.includes("-leave")){e.extraNode=document.createElement("div");var o=at(e).extraNode,l=e.context.getPrefixCls;o.className="".concat(l(""),"-click-animating-node");var A=e.getAttributeName();if(t.setAttribute(A,"true"),n&&"#fff"!==n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&"rgba(255, 255, 255, 1)"!==n&&function(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&"transparent"!==n){o.style.borderColor=n;var c=(null===(r=t.getRootNode)||void 0===r?void 0:r.call(t))||t.ownerDocument,u=null!==(s=function(e){return e instanceof Document?e.body:Array.from(e.childNodes).find((function(e){return(null===e||void 0===e?void 0:e.nodeType)===Node.ELEMENT_NODE}))}(c))&&void 0!==s?s:c;kc=be("\n      [".concat(l(""),"-click-animating-without-extra-node='true']::after, .").concat(l(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(n,";\n      }"),"antd-wave",{csp:e.csp,attachTo:u})}i&&t.appendChild(o),["transition","animation"].forEach((function(n){t.addEventListener("".concat(n,"start"),e.onTransitionStart),t.addEventListener("".concat(n,"end"),e.onTransitionEnd)}))}},e.onTransitionStart=function(t){if(!e.destroyed){var n=e.containerRef.current;t&&t.target===n&&!e.animationStart&&e.resetEffect(n)}},e.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&e.resetEffect(t.target)},e.bindAnimationEvent=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!t.className.includes("disabled")){var n=function(n){if("INPUT"!==n.target.tagName&&!Ic(n.target)){e.resetEffect(t);var r=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout((function(){return e.onClick(t,r)}),0),jc.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=jc((function(){e.animationStart=!1}),10)}};return t.addEventListener("click",n,!0),{cancel:function(){t.removeEventListener("click",n,!0)}}}},e.renderWave=function(t){var n=t.csp,r=e.props.children;if(e.csp=n,!A.isValidElement(r))return r;var s=e.containerRef;return Ft(r)&&(s=It(r.ref,e.containerRef)),sc(r,{ref:s})},e}return nt(t,e),et(t,[{key:"componentDidMount",value:function(){this.destroyed=!1;var e=this.containerRef.current;e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var e=this.context.getPrefixCls,t=this.props.insertExtraNode;return"".concat(e(""),t?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(e){var t=this;if(e&&e!==this.extraNode&&e instanceof Element){var n=this.props.insertExtraNode,r=this.getAttributeName();e.setAttribute(r,"false"),kc&&(kc.innerHTML=""),n&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),["transition","animation"].forEach((function(n){e.removeEventListener("".concat(n,"start"),t.onTransitionStart),e.removeEventListener("".concat(n,"end"),t.onTransitionEnd)}))}}},{key:"render",value:function(){return A.createElement(Ir,null,this.renderWave)}}]),t}(A.Component);Fc.contextType=jr;const Qc=Fc;var Nc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const Mc=function(e){var t=e.prefixCls,n=e.className,r=e.checked,s=e.onChange,a=e.onClick,o=Nc(e,["prefixCls","className","checked","onChange","onClick"]),l=(0,A.useContext(jr).getPrefixCls)("tag",t),c=v()(l,i(i({},"".concat(l,"-checkable"),!0),"".concat(l,"-checkable-checked"),r),n);return A.createElement("span",Pe({},o,{className:c,onClick:function(e){null===s||void 0===s||s(!r),null===a||void 0===a||a(e)}}))};var Uc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},Tc=new RegExp("^(".concat(JA.join("|"),")(-inverse)?$")),Dc=new RegExp("^(".concat(XA.join("|"),")$")),Hc=function(e,t){var n=e.prefixCls,r=e.className,s=e.style,a=e.children,o=e.icon,l=e.color,c=e.onClose,u=e.closeIcon,d=e.closable,h=void 0!==d&&d,p=Uc(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),f=A.useContext(jr),g=f.getPrefixCls,y=f.direction,w=m(A.useState(!0),2),b=w[0],x=w[1];A.useEffect((function(){"visible"in p&&x(p.visible)}),[p.visible]);var B=function(){return!!l&&(Tc.test(l)||Dc.test(l))},C=Pe({backgroundColor:l&&!B()?l:void 0},s),k=B(),S=g("tag",n),E=v()(S,i(i(i(i({},"".concat(S,"-").concat(l),k),"".concat(S,"-has-color"),l&&!k),"".concat(S,"-hidden"),!b),"".concat(S,"-rtl"),"rtl"===y),r),j=function(e){e.stopPropagation(),null===c||void 0===c||c(e),e.defaultPrevented||"visible"in p||x(!1)},I="onClick"in p||a&&"a"===a.type,F=Cc(p,["visible"]),Q=o||null,N=Q?A.createElement(A.Fragment,null,Q,A.createElement("span",null,a)):a,M=A.createElement("span",Pe({},F,{ref:t,className:E,style:C}),N,h?u?A.createElement("span",{className:"".concat(S,"-close-icon"),onClick:j},u):A.createElement(_e,{className:"".concat(S,"-close-icon"),onClick:j}):null);return I?A.createElement(Qc,null,M):M},Lc=A.forwardRef(Hc);Lc.CheckableTag=Mc;const Pc=Lc;class Oc extends A.Component{render(){try{return(0,bo.jsxs)("div",{className:"statistic",children:[(0,bo.jsx)("div",{className:"statistic-prefix",children:this.props.prefix}),(0,bo.jsx)("div",{className:"statistic-label",children:this.props.label}),(0,bo.jsx)("div",{className:"statistic-value",children:this.props.value}),(0,bo.jsx)("div",{className:"statistic-suffix",children:this.props.suffix})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"Statistic",error:bC})}}}Oc.defaultProps={prefix:null,suffix:null};class Rc extends A.Component{constructor(e){super(e),this.state={showAbilityScores:!1}}toggleAbilityScores(){this.setState({showAbilityScores:!this.state.showAbilityScores})}roll(e,t,n){e.stopPropagation();let r="";switch(t){case"str":r="strength";break;case"dex":r="dexterity";break;case"con":r="constitution";break;case"int":r="intelligence";break;case"wis":r="wisdom";break;case"cha":r="charisma"}const s=this.props.combatant.abilityScores[t],a=io.modifierValue(s);this.props.onRollDice(r,1,20,a,n)}getAbilityScore(e){const t=this.props.combatant.abilityScores[e],n=io.modifier(t),r=(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"ability-heading",children:e}),(0,bo.jsx)("div",{className:"ability-value",children:(0,bo.jsx)("div",{children:this.state.showAbilityScores?t:n})})]});return this.props.showRollButtons?(0,bo.jsx)(hc,{content:(0,bo.jsxs)("div",{children:[(0,bo.jsx)("button",{onClick:t=>this.roll(t,e,"advantage"),children:"adv"}),(0,bo.jsx)("button",{onClick:t=>this.roll(t,e,"disadvantage"),children:"dis"})]}),trigger:"contextMenu",children:(0,bo.jsx)("div",{className:"ability-score link",onClick:t=>this.roll(t,e,""),role:"button",children:r})}):(0,bo.jsx)("div",{className:"ability-score",children:r})}render(){try{return(0,bo.jsxs)("div",{className:"ability-scores",onClick:()=>this.toggleAbilityScores(),role:"button",children:[this.getAbilityScore("str"),this.getAbilityScore("dex"),this.getAbilityScore("con"),this.getAbilityScore("int"),this.getAbilityScore("wis"),this.getAbilityScore("cha")]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"AbilityScorePanel",error:bC})}}}Rc.defaultProps={showRollButtons:!1,onRollDice:null};const Vc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};var Kc=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Vc}))};const zc=A.forwardRef(Kc);function _c(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(bC){return t}}function Gc(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t)});var n=new FormData;e.data&&Object.keys(e.data).forEach((function(t){var r=e.data[t];Array.isArray(r)?r.forEach((function(e){n.append("".concat(t,"[]"),e)})):n.append(t,r)})),e.file instanceof Blob?n.append(e.filename,e.file,e.file.name):n.append(e.filename,e.file),t.onerror=function(t){e.onError(t)},t.onload=function(){return t.status<200||t.status>=300?e.onError(function(e,t){var n="cannot ".concat(e.method," ").concat(e.action," ").concat(t.status,"'"),r=new Error(n);return r.status=t.status,r.method=e.method,r.url=e.action,r}(e,t),_c(t)):e.onSuccess(_c(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var r=e.headers||{};return null!==r["X-Requested-With"]&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r).forEach((function(e){null!==r[e]&&t.setRequestHeader(e,r[e])})),t.send(n),{abort:function(){t.abort()}}}var Wc=+new Date,Yc=0;function qc(){return"rc-upload-".concat(Wc,"-").concat(++Yc)}const Xc=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",s=e.type||"",a=s.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim();if(/^\*(\/\*)?$/.test(e))return!0;if("."===t.charAt(0)){var n=r.toLowerCase(),i=t.toLowerCase(),o=[i];return".jpg"!==i&&".jpeg"!==i||(o=[".jpg",".jpeg"]),o.some((function(e){return n.endsWith(e)}))}return/\/\*$/.test(t)?a===t.replace(/\/.*$/,""):s===t||!!/^\w+$/.test(t)&&(le(!1,"Upload takes an invalidate 'accept' type '".concat(t,"'.Skip for check.")),!0)}))}return!0};const Jc=function(e,t,n){var r=function e(r,s){r&&(r.path=s||"",r.isFile?r.file((function(e){n(e)&&(r.fullPath&&!e.webkitRelativePath&&(Object.defineProperties(e,{webkitRelativePath:{writable:!0}}),e.webkitRelativePath=r.fullPath.replace(/^\//,""),Object.defineProperties(e,{webkitRelativePath:{writable:!1}})),t([e]))})):r.isDirectory&&function(e,t){var n=e.createReader(),r=[];!function e(){n.readEntries((function(n){var s=Array.prototype.slice.apply(n);r=r.concat(s),s.length?e():t(r)}))}()}(r,(function(t){t.forEach((function(t){e(t,"".concat(s).concat(r.name,"/"))}))})))};e.forEach((function(e){r(e.webkitGetAsEntry())}))};var Zc=["component","prefixCls","className","disabled","id","style","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave"],$c=function(e){nt(n,e);var t=ot(n);function n(){var e;Ze(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={uid:qc()},e.reqs={},e.fileInput=void 0,e._isMounted=void 0,e.onChange=function(t){var n=e.props,r=n.accept,s=n.directory,a=Kt(t.target.files).filter((function(e){return!s||Xc(e,r)}));e.uploadFiles(a),e.reset()},e.onClick=function(t){var n=e.fileInput;if(n){var r=t.target,s=e.props.onClick;if(r&&"BUTTON"===r.tagName)n.parentNode.focus(),r.blur();n.click(),s&&s(t)}},e.onKeyDown=function(t){"Enter"===t.key&&e.onClick(t)},e.onFileDrop=function(t){var n=e.props.multiple;if(t.preventDefault(),"dragover"!==t.type)if(e.props.directory)Jc(Array.prototype.slice.call(t.dataTransfer.items),e.uploadFiles,(function(t){return Xc(t,e.props.accept)}));else{var r=Kt(t.dataTransfer.files).filter((function(t){return Xc(t,e.props.accept)}));!1===n&&(r=r.slice(0,1)),e.uploadFiles(r)}},e.uploadFiles=function(t){var n=Kt(t),r=n.map((function(t){return t.uid=qc(),e.processFile(t,n)}));Promise.all(r).then((function(t){var n=e.props.onBatchStart;null===n||void 0===n||n(t.map((function(e){return{file:e.origin,parsedFile:e.parsedFile}}))),t.filter((function(e){return null!==e.parsedFile})).forEach((function(t){e.post(t)}))}))},e.processFile=function(){var t=ct(lt().mark((function t(n,r){var a,i,o,l,A,c,u,d,h;return lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props.beforeUpload,i=n,!a){t.next=14;break}return t.prev=3,t.next=6,a(n,r);case 6:i=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),i=!1;case 12:if(!1!==i){t.next=14;break}return t.abrupt("return",{origin:n,parsedFile:null,action:null,data:null});case 14:if("function"!==typeof(o=e.props.action)){t.next=21;break}return t.next=18,o(n);case 18:l=t.sent,t.next=22;break;case 21:l=o;case 22:if("function"!==typeof(A=e.props.data)){t.next=29;break}return t.next=26,A(n);case 26:c=t.sent,t.next=30;break;case 29:c=A;case 30:return u="object"!==s(i)&&"string"!==typeof i||!i?n:i,d=u instanceof File?u:new File([u],n.name,{type:n.type}),(h=d).uid=n.uid,t.abrupt("return",{origin:n,data:c,parsedFile:h,action:l});case 35:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e,n){return t.apply(this,arguments)}}(),e.saveFileInput=function(t){e.fileInput=t},e}return et(n,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(e){var t=this,n=e.data,r=e.origin,s=e.action,a=e.parsedFile;if(this._isMounted){var i=this.props,o=i.onStart,l=i.customRequest,A=i.name,c=i.headers,u=i.withCredentials,d=i.method,h=r.uid,p=l||Gc,m={action:s,filename:A,data:n,file:a,headers:c,withCredentials:u,method:d||"post",onProgress:function(e){var n=t.props.onProgress;null===n||void 0===n||n(e,a)},onSuccess:function(e,n){var r=t.props.onSuccess;null===r||void 0===r||r(e,a,n),delete t.reqs[h]},onError:function(e,n){var r=t.props.onError;null===r||void 0===r||r(e,n,a),delete t.reqs[h]}};o(r),this.reqs[h]=p(m)}}},{key:"reset",value:function(){this.setState({uid:qc()})}},{key:"abort",value:function(e){var t=this.reqs;if(e){var n=e.uid?e.uid:e;t[n]&&t[n].abort&&t[n].abort(),delete t[n]}else Object.keys(t).forEach((function(e){t[e]&&t[e].abort&&t[e].abort(),delete t[e]}))}},{key:"render",value:function(){var e=this.props,t=e.component,n=e.prefixCls,r=e.className,s=e.disabled,a=e.id,o=e.style,l=e.multiple,c=e.accept,u=e.capture,d=e.children,h=e.directory,p=e.openFileDialogOnClick,m=e.onMouseEnter,g=e.onMouseLeave,y=f(e,Zc),w=v()(i(i(i({},n,!0),"".concat(n,"-disabled"),s),r,r)),b=h?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},x=s?{}:{onClick:p?this.onClick:function(){},onKeyDown:p?this.onKeyDown:function(){},onMouseEnter:m,onMouseLeave:g,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:"0"};return A.createElement(t,Pe({},x,{className:w,role:"button",style:o}),A.createElement("input",Pe({},oa(y,{aria:!0,data:!0}),{id:a,disabled:s,type:"file",ref:this.saveFileInput,onClick:function(e){return e.stopPropagation()},key:this.state.uid,style:{display:"none"},accept:c},b,{multiple:l,onChange:this.onChange},null!=u?{capture:u}:{})),d)}}]),n}(A.Component);const eu=$c;function tu(){}var nu=function(e){nt(n,e);var t=ot(n);function n(){var e;Ze(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).uploader=void 0,e.saveUploader=function(t){e.uploader=t},e}return et(n,[{key:"abort",value:function(e){this.uploader.abort(e)}},{key:"render",value:function(){return A.createElement(eu,Pe({},this.props,{ref:this.saveUploader}))}}]),n}(A.Component);nu.defaultProps={component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:tu,onError:tu,onSuccess:tu,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0};const ru=nu;const su={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:t}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:e}}]}},name:"file",theme:"twotone"};var au=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:su}))};const iu=A.forwardRef(au);const ou={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"};var lu=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:ou}))};const Au=A.forwardRef(lu);const cu={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:e}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:t}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:t}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:t}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:e}}]}},name:"picture",theme:"twotone"};var uu=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:cu}))};const du=A.forwardRef(uu);var hu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},pu=A.createContext(void 0);const mu=function(e){var t=A.useContext(jr),n=t.getPrefixCls,r=t.direction,s=e.prefixCls,a=e.size,o=e.className,l=hu(e,["prefixCls","size","className"]),c=n("btn-group",s),u="";switch(a){case"large":u="lg";break;case"small":u="sm"}var d=v()(c,i(i({},"".concat(c,"-").concat(u),u),"".concat(c,"-rtl"),"rtl"===r),o);return A.createElement(pu.Provider,{value:a},A.createElement("div",Pe({},l,{className:d})))};var fu=function(){return{width:0,opacity:0,transform:"scale(0)"}},gu=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}};const vu=function(e){var t=e.prefixCls,n=!!e.loading;return e.existIcon?A.createElement("span",{className:"".concat(t,"-loading-icon")},A.createElement(Sr,null)):A.createElement(Gn,{visible:n,motionName:"".concat(t,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:fu,onAppearActive:gu,onEnterStart:fu,onEnterActive:gu,onLeaveStart:gu,onLeaveActive:fu},(function(e,n){var r=e.className,s=e.style;return A.createElement("span",{className:"".concat(t,"-loading-icon"),style:s,ref:n},A.createElement(Sr,{className:r}))}))};var yu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},wu=/^[\u4e00-\u9fa5]{2}$/,bu=wu.test.bind(wu);function xu(e){return"text"===e||"link"===e}function Bu(e,t){var n=!1,r=[];return A.Children.forEach(e,(function(e){var t=s(e),a="string"===t||"number"===t;if(n&&a){var i=r.length-1,o=r[i];r[i]="".concat(o).concat(e)}else r.push(e);n=a})),A.Children.map(r,(function(e){return function(e,t){if(null!==e&&void 0!==e){var n=t?" ":"";return"string"!==typeof e&&"number"!==typeof e&&"string"===typeof e.type&&bu(e.props.children)?sc(e,{children:e.props.children.split("").join(n)}):"string"===typeof e?bu(e)?A.createElement("span",null,e.split("").join(n)):A.createElement("span",null,e):rc(e)?A.createElement("span",null,e):e}}(e,t)}))}Ts("default","primary","ghost","dashed","link","text"),Ts("default","circle","round"),Ts("submit","button","reset");var Cu=function(e,t){var n,r=e.loading,s=void 0!==r&&r,a=e.prefixCls,o=e.type,l=void 0===o?"default":o,c=e.danger,u=e.shape,d=void 0===u?"default":u,h=e.size,p=e.disabled,f=e.className,g=e.children,y=e.icon,w=e.ghost,b=void 0!==w&&w,x=e.block,B=void 0!==x&&x,C=e.htmlType,k=void 0===C?"button":C,S=yu(e,["loading","prefixCls","type","danger","shape","size","disabled","className","children","icon","ghost","block","htmlType"]),E=A.useContext(ts),j=A.useContext(Zr),I=null!==p&&void 0!==p?p:j,F=A.useContext(pu),Q=m(A.useState(!!s),2),N=Q[0],M=Q[1],U=m(A.useState(!1),2),T=U[0],D=U[1],H=A.useContext(jr),L=H.getPrefixCls,P=H.autoInsertSpaceInButton,O=H.direction,R=t||A.createRef(),V=function(){return 1===A.Children.count(g)&&!y&&!xu(l)},K="boolean"===typeof s?s:(null===s||void 0===s?void 0:s.delay)||!0;A.useEffect((function(){var e=null;return"number"===typeof K?e=window.setTimeout((function(){e=null,M(K)}),K):M(K),function(){e&&(window.clearTimeout(e),e=null)}}),[K]),A.useEffect((function(){if(R&&R.current&&!1!==P){var e=R.current.textContent;V()&&bu(e)?T||D(!0):T&&D(!1)}}),[R]);var z=function(t){var n=e.onClick;N||I?t.preventDefault():null===n||void 0===n||n(t)},_=L("btn",a),G=!1!==P,W=Ri(_,O),Y=W.compactSize,q=W.compactItemClassnames,X=Y||F||h||E,J=X&&{large:"lg",small:"sm",middle:void 0}[X]||"",Z=N?"loading":y,$=Cc(S,["navigate"]),ee=v()(_,(i(i(i(i(i(i(i(i(i(i(n={},"".concat(_,"-").concat(d),"default"!==d&&d),"".concat(_,"-").concat(l),l),"".concat(_,"-").concat(J),J),"".concat(_,"-icon-only"),!g&&0!==g&&!!Z),"".concat(_,"-background-ghost"),b&&!xu(l)),"".concat(_,"-loading"),N),"".concat(_,"-two-chinese-chars"),T&&G&&!N),"".concat(_,"-block"),B),"".concat(_,"-dangerous"),!!c),"".concat(_,"-rtl"),"rtl"===O),i(n,"".concat(_,"-disabled"),void 0!==$.href&&I)),q,f),te=y&&!N?y:A.createElement(vu,{existIcon:!!y,prefixCls:_,loading:!!N}),ne=g||0===g?Bu(g,V()&&G):null;if(void 0!==$.href)return A.createElement("a",Pe({},$,{className:ee,onClick:z,ref:R}),te,ne);var re=A.createElement("button",Pe({},S,{type:k,className:ee,onClick:z,disabled:I,ref:R}),te,ne);return xu(l)?re:A.createElement(Qc,{disabled:!!N},re)},ku=A.forwardRef(Cu);ku.Group=mu,ku.__ANT_BUTTON=!0;const Su=ku;function Eu(e){return Pe(Pe({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function ju(e,t){var n=Kt(t),r=n.findIndex((function(t){return t.uid===e.uid}));return-1===r?n.push(e):n[r]=e,n}function Iu(e,t){var n=void 0!==e.uid?"uid":"name";return t.filter((function(t){return t[n]===e[n]}))[0]}var Fu=function(e){return 0===e.indexOf("image/")},Qu=function(e){if(e.type&&!e.thumbUrl)return Fu(e.type);var t=e.thumbUrl||e.url||"",n=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("/"),t=e[e.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(t)||[""])[0]}(t);return!(!/^data:image\//.test(t)&&!/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(n))||!/^data:/.test(t)&&!n},Nu=200;function Mu(e){return new Promise((function(t){if(e.type&&Fu(e.type)){var n=document.createElement("canvas");n.width=Nu,n.height=Nu,n.style.cssText="position: fixed; left: 0; top: 0; width: ".concat(Nu,"px; height: ").concat(Nu,"px; z-index: 9999; display: none;"),document.body.appendChild(n);var r=n.getContext("2d"),s=new Image;if(s.onload=function(){var e=s.width,a=s.height,i=Nu,o=Nu,l=0,A=0;e>a?A=-((o=a*(Nu/e))-i)/2:l=-((i=e*(Nu/a))-o)/2,r.drawImage(s,l,A,i,o);var c=n.toDataURL();document.body.removeChild(n),window.URL.revokeObjectURL(s.src),t(c)},s.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){var a=new FileReader;a.onload=function(){a.result&&(s.src=a.result)},a.readAsDataURL(e)}else if(e.type.startsWith("image/gif")){var i=new FileReader;i.onload=function(){i.result&&t(i.result)},i.readAsDataURL(e)}else s.src=window.URL.createObjectURL(e)}else t("")}))}const Uu={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};var Tu=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Uu}))};const Du=A.forwardRef(Tu);const Hu={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};var Lu=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Hu}))};const Pu=A.forwardRef(Lu);const Ou={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};var Ru=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Ou}))};const Vu=A.forwardRef(Ru);var Ku={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},zu=function(){var e=(0,A.useRef)([]),t=(0,A.useRef)(null);return(0,A.useEffect)((function(){var n=Date.now(),r=!1;e.current.forEach((function(e){if(e){r=!0;var s=e.style;s.transitionDuration=".3s, .3s, .3s, .06s",t.current&&n-t.current<100&&(s.transitionDuration="0s, 0s")}})),r&&(t.current=Date.now())})),e.current};var _u=0,Gu=Ae();const Wu=function(e){var t=m(A.useState(),2),n=t[0],r=t[1];return A.useEffect((function(){r("rc_progress_".concat(function(){var e;return Gu?(e=_u,_u+=1):e="TEST_OR_SSR",e}()))}),[]),e||n};var Yu=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function qu(e){return+e.replace("%","")}function Xu(e){var t=null!==e&&void 0!==e?e:[];return Array.isArray(t)?t:[t]}var Ju=100,Zu=function(e,t,n,r,s,a,i,o,l,A){var c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,u=n/100*360*((360-a)/360),d=0===a?0:{bottom:0,top:180,left:90,right:-90}[i],h=(100-r)/100*t;return"round"===l&&100!==r&&(h+=A/2)>=t&&(h=t-.01),{stroke:"string"===typeof o?o:void 0,strokeDasharray:"".concat(t,"px ").concat(e),strokeDashoffset:h+c,transform:"rotate(".concat(s+u+d,"deg)"),transformOrigin:"0 0",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}};const $u=function(e){var t=l(l({},Ku),e),n=t.id,r=t.prefixCls,a=t.steps,i=t.strokeWidth,o=t.trailWidth,c=t.gapDegree,u=void 0===c?0:c,d=t.gapPosition,h=t.trailColor,p=t.strokeLinecap,m=t.style,g=t.className,y=t.strokeColor,w=t.percent,b=f(t,Yu),x=Wu(n),B="".concat(x,"-gradient"),C=50-i/2,k=2*Math.PI*C,S=u>0?90+u/2:-90,E=k*((360-u)/360),j="object"===s(a)?a:{count:a,space:2},I=j.count,F=j.space,Q=Zu(k,E,0,100,S,u,d,h,p,i),N=Xu(w),M=Xu(y),U=M.find((function(e){return e&&"object"===s(e)})),T=zu();return A.createElement("svg",Pe({className:v()("".concat(r,"-circle"),g),viewBox:"".concat(-50," ").concat(-50," ").concat(Ju," ").concat(Ju),style:m,id:n,role:"presentation"},b),U&&A.createElement("defs",null,A.createElement("linearGradient",{id:B,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},Object.keys(U).sort((function(e,t){return qu(e)-qu(t)})).map((function(e,t){return A.createElement("stop",{key:t,offset:e,stopColor:U[e]})})))),!I&&A.createElement("circle",{className:"".concat(r,"-circle-trail"),r:C,cx:0,cy:0,stroke:h,strokeLinecap:p,strokeWidth:o||i,style:Q}),I?function(){var e=Math.round(I*(N[0]/100)),t=100/I,n=0;return new Array(I).fill(null).map((function(a,o){var l=o<=e-1?M[0]:h,c=l&&"object"===s(l)?"url(#".concat(B,")"):void 0,p=Zu(k,E,n,t,S,u,d,l,"butt",i,F);return n+=100*(E-p.strokeDashoffset+F)/E,A.createElement("circle",{key:o,className:"".concat(r,"-circle-path"),r:C,cx:0,cy:0,stroke:c,strokeWidth:i,opacity:1,style:p,ref:function(e){T[o]=e}})}))}():function(){var e=0;return N.map((function(t,n){var a=M[n]||M[M.length-1],o=a&&"object"===s(a)?"url(#".concat(B,")"):void 0,l=Zu(k,E,e,t,S,u,d,a,p,i);return e+=t,A.createElement("circle",{key:n,className:"".concat(r,"-circle-path"),r:C,cx:0,cy:0,stroke:o,strokeLinecap:p,strokeWidth:i,opacity:0===t?0:1,style:l,ref:function(e){T[n]=e}})})).reverse()}())};function ed(e){return!e||e<0?0:e>100?100:e}function td(e){var t=e.success,n=e.successPercent;return t&&"progress"in t&&(n=t.progress),t&&"percent"in t&&(n=t.percent),n}function nd(e){var t=e.percent,n=ed(td({success:e.success,successPercent:e.successPercent}));return[n,ed(ed(t)-n)]}const rd=function(e){var t=e.prefixCls,n=e.width,r=e.strokeWidth,s=e.trailColor,a=void 0===s?null:s,o=e.strokeLinecap,l=void 0===o?"round":o,c=e.gapPosition,u=e.gapDegree,d=e.type,h=e.children,p=e.success,m=n||120,f={width:m,height:m,fontSize:.15*m+6},g=r||6,y=c||"dashboard"===d&&"bottom"||void 0,w="[object Object]"===Object.prototype.toString.call(e.strokeColor),b=function(e){var t=e.success,n=void 0===t?{}:t,r=e.strokeColor;return[n.strokeColor||$.green,r||null]}({success:p,strokeColor:e.strokeColor}),x=v()("".concat(t,"-inner"),i({},"".concat(t,"-circle-gradient"),w));return A.createElement("div",{className:x,style:f},A.createElement($u,{percent:nd(e),strokeWidth:g,trailWidth:g,strokeColor:b,strokeLinecap:l,trailColor:a,prefixCls:t,gapDegree:u||0===u?u:"dashboard"===d?75:void 0,gapPosition:y}),h)};var sd=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},ad=function(e,t){var n=e.from,r=void 0===n?$.blue:n,s=e.to,a=void 0===s?$.blue:s,i=e.direction,o=void 0===i?"rtl"===t?"to left":"to right":i,l=sd(e,["from","to","direction"]);if(0!==Object.keys(l).length){var A=function(e){var t=[];return Object.keys(e).forEach((function(n){var r=parseFloat(n.replace(/%/g,""));isNaN(r)||t.push({key:r,value:e[n]})})),(t=t.sort((function(e,t){return e.key-t.key}))).map((function(e){var t=e.key,n=e.value;return"".concat(n," ").concat(t,"%")})).join(", ")}(l);return{backgroundImage:"linear-gradient(".concat(o,", ").concat(A,")")}}return{backgroundImage:"linear-gradient(".concat(o,", ").concat(r,", ").concat(a,")")}};const id=function(e){var t=e.prefixCls,n=e.direction,r=e.percent,s=e.strokeWidth,a=e.size,i=e.strokeColor,o=e.strokeLinecap,l=void 0===o?"round":o,c=e.children,u=e.trailColor,d=void 0===u?null:u,h=e.success,p=i&&"string"!==typeof i?ad(i,n):{background:i},m="square"===l||"butt"===l?0:void 0,f={backgroundColor:d||void 0,borderRadius:m},g=Pe({width:"".concat(ed(r),"%"),height:s||("small"===a?6:8),borderRadius:m},p),v=td(e),y={width:"".concat(ed(v),"%"),height:s||("small"===a?6:8),borderRadius:m,backgroundColor:null===h||void 0===h?void 0:h.strokeColor},w=void 0!==v?A.createElement("div",{className:"".concat(t,"-success-bg"),style:y}):null;return A.createElement(A.Fragment,null,A.createElement("div",{className:"".concat(t,"-outer")},A.createElement("div",{className:"".concat(t,"-inner"),style:f},A.createElement("div",{className:"".concat(t,"-bg"),style:g}),w)),c)};const od=function(e){for(var t=e.size,n=e.steps,r=e.percent,s=void 0===r?0:r,a=e.strokeWidth,o=void 0===a?8:a,l=e.strokeColor,c=e.trailColor,u=void 0===c?null:c,d=e.prefixCls,h=e.children,p=Math.round(n*(s/100)),m="small"===t?2:14,f=new Array(n),g=0;g<n;g++){var y=Array.isArray(l)?l[g]:l;f[g]=A.createElement("div",{key:g,className:v()("".concat(d,"-steps-item"),i({},"".concat(d,"-steps-item-active"),g<=p-1)),style:{backgroundColor:g<=p-1?y:u,width:m,height:o}})}return A.createElement("div",{className:"".concat(d,"-steps-outer")},f,h)};var ld=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},Ad=(Ts("line","circle","dashboard"),Ts("normal","exception","active","success"));const cd=function(e){var t=e.prefixCls,n=e.className,r=e.steps,s=e.strokeColor,a=e.percent,o=void 0===a?0:a,l=e.size,c=void 0===l?"default":l,u=e.showInfo,d=void 0===u||u,h=e.type,p=void 0===h?"line":h,m=ld(e,["prefixCls","className","steps","strokeColor","percent","size","showInfo","type"]);var f,g=A.useContext(jr),y=g.getPrefixCls,w=g.direction,b=y("progress",t),x=function(){var t=e.status;return!Ad.includes(t)&&function(){var t=td(e);return parseInt(void 0!==t?t.toString():o.toString(),10)}()>=100?"success":t||"normal"}(),B=function(t,n){var r,s=e.format,a=td(e);if(!d)return null;var i="line"===p;return s||"exception"!==n&&"success"!==n?r=(s||function(e){return"".concat(e,"%")})(ed(o),ed(a)):"exception"===n?r=i?A.createElement(gr,null):A.createElement(_e,null):"success"===n&&(r=i?A.createElement(pr,null):A.createElement(Vu,null)),A.createElement("span",{className:"".concat(t,"-text"),title:"string"===typeof r?r:void 0},r)}(b,x),C=Array.isArray(s)?s[0]:s,k="string"===typeof s||Array.isArray(s)?s:void 0;"line"===p?f=r?A.createElement(od,Pe({},e,{strokeColor:k,prefixCls:b,steps:r}),B):A.createElement(id,Pe({},e,{strokeColor:C,prefixCls:b,direction:w}),B):"circle"!==p&&"dashboard"!==p||(f=A.createElement(rd,Pe({},e,{strokeColor:C,prefixCls:b,progressStatus:x}),B));var S=v()(b,i(i(i(i(i({},"".concat(b,"-").concat(("dashboard"===p?"circle":r&&"steps")||p),!0),"".concat(b,"-status-").concat(x),!0),"".concat(b,"-show-info"),d),"".concat(b,"-").concat(c),c),"".concat(b,"-rtl"),"rtl"===w),n);return A.createElement("div",Pe({},Cc(m,["status","format","trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"]),{className:S,role:"progressbar"}),f)},ud=cd;var dd=A.forwardRef((function(e,t){var n,r,s=e.prefixCls,a=e.className,o=e.style,l=e.locale,c=e.listType,u=e.file,d=e.items,h=e.progress,p=e.iconRender,f=e.actionIconRender,g=e.itemRender,y=e.isImgUrl,w=e.showPreviewIcon,b=e.showRemoveIcon,x=e.showDownloadIcon,B=e.previewIcon,C=e.removeIcon,k=e.downloadIcon,S=e.onPreview,E=e.onDownload,j=e.onClose,I=u.status,F=m(A.useState(I),2),Q=F[0],N=F[1];A.useEffect((function(){"removed"!==I&&N(I)}),[I]);var M=m(A.useState(!1),2),U=M[0],T=M[1],D=A.useRef(null);A.useEffect((function(){return D.current=setTimeout((function(){T(!0)}),300),function(){D.current&&clearTimeout(D.current)}}),[]);var H="".concat(s,"-span"),L=p(u),P=A.createElement("div",{className:"".concat(s,"-text-icon")},L);if("picture"===c||"picture-card"===c)if("uploading"===Q||!u.thumbUrl&&!u.url){var O=v()(i(i({},"".concat(s,"-list-item-thumbnail"),!0),"".concat(s,"-list-item-file"),"uploading"!==Q));P=A.createElement("div",{className:O},L)}else{var R=(null===y||void 0===y?void 0:y(u))?A.createElement("img",{src:u.thumbUrl||u.url,alt:u.name,className:"".concat(s,"-list-item-image"),crossOrigin:u.crossOrigin}):L,V=v()(i(i({},"".concat(s,"-list-item-thumbnail"),!0),"".concat(s,"-list-item-file"),y&&!y(u)));P=A.createElement("a",{className:V,onClick:function(e){return S(u,e)},href:u.url||u.thumbUrl,target:"_blank",rel:"noopener noreferrer"},R)}var K,z=v()(i(i(i({},"".concat(s,"-list-item"),!0),"".concat(s,"-list-item-").concat(Q),!0),"".concat(s,"-list-item-list-type-").concat(c),!0)),_="string"===typeof u.linkProps?JSON.parse(u.linkProps):u.linkProps,G=b?f(("function"===typeof C?C(u):C)||A.createElement(Eo,null),(function(){return j(u)}),s,l.removeFile):null,W=x&&"done"===Q?f(("function"===typeof k?k(u):k)||A.createElement(Du,null),(function(){return E(u)}),s,l.downloadFile):null,Y="picture-card"!==c&&A.createElement("span",{key:"download-delete",className:v()("".concat(s,"-list-item-card-actions"),{picture:"picture"===c})},W,G),q=v()("".concat(s,"-list-item-name")),X=u.url?[A.createElement("a",Pe({key:"view",target:"_blank",rel:"noopener noreferrer",className:q,title:u.name},_,{href:u.url,onClick:function(e){return S(u,e)}}),u.name),Y]:[A.createElement("span",{key:"view",className:q,onClick:function(e){return S(u,e)},title:u.name},u.name),Y],J=w?A.createElement("a",{href:u.url||u.thumbUrl,target:"_blank",rel:"noopener noreferrer",style:u.url||u.thumbUrl?void 0:{pointerEvents:"none",opacity:.5},onClick:function(e){return S(u,e)},title:l.previewFile},"function"===typeof B?B(u):B||A.createElement(Pu,null)):null,Z="picture-card"===c&&"uploading"!==Q&&A.createElement("span",{className:"".concat(s,"-list-item-actions")},J,"done"===Q&&W,G);K=u.response&&"string"===typeof u.response?u.response:(null===(n=u.error)||void 0===n?void 0:n.statusText)||(null===(r=u.error)||void 0===r?void 0:r.message)||l.uploadError;var $=A.createElement("span",{className:H},P,X),ee=(0,A.useContext(jr).getPrefixCls)(),te=A.createElement("div",{className:z},A.createElement("div",{className:"".concat(s,"-list-item-info")},$),Z,U&&A.createElement(Gn,{motionName:"".concat(ee,"-fade"),visible:"uploading"===Q,motionDeadline:2e3},(function(e){var t=e.className,n="percent"in u?A.createElement(ud,Pe({},h,{type:"line",percent:u.percent})):null;return A.createElement("div",{className:v()("".concat(s,"-list-item-progress"),t)},n)}))),ne=v()("".concat(s,"-list-").concat(c,"-container"),a),re="error"===Q?A.createElement(Ac,{title:K,getPopupContainer:function(e){return e.parentNode}},te):te;return A.createElement("div",{className:ne,style:o,ref:t},g?g(re,u,d,{download:E.bind(null,u),preview:S.bind(null,u),remove:j.bind(null,u)}):re)}));const hd=dd;var pd=Pe({},Pi);delete pd.onAppearEnd,delete pd.onEnterEnd,delete pd.onLeaveEnd;var md=function(e,t){var n=e.listType,r=void 0===n?"text":n,s=e.previewFile,a=void 0===s?Mu:s,o=e.onPreview,l=e.onDownload,c=e.onRemove,u=e.locale,d=e.iconRender,h=e.isImageUrl,p=void 0===h?Qu:h,f=e.prefixCls,g=e.items,y=void 0===g?[]:g,w=e.showPreviewIcon,b=void 0===w||w,x=e.showRemoveIcon,B=void 0===x||x,C=e.showDownloadIcon,k=void 0!==C&&C,S=e.removeIcon,E=e.previewIcon,j=e.downloadIcon,I=e.progress,F=void 0===I?{strokeWidth:2,showInfo:!1}:I,Q=e.appendAction,N=e.appendActionVisible,M=void 0===N||N,U=e.itemRender,T=e.disabled,D=m(A.useReducer((function(e){return e+1}),0),2)[1],H=m(A.useState(!1),2),L=H[0],P=H[1];A.useEffect((function(){"picture"!==r&&"picture-card"!==r||(y||[]).forEach((function(e){"undefined"!==typeof document&&"undefined"!==typeof window&&window.FileReader&&window.File&&(e.originFileObj instanceof File||e.originFileObj instanceof Blob)&&void 0===e.thumbUrl&&(e.thumbUrl="",a&&a(e.originFileObj).then((function(t){e.thumbUrl=t||"",D()})))}))}),[r,y,a]),A.useEffect((function(){P(!0)}),[]);var O=function(e,t){if(o)return null===t||void 0===t||t.preventDefault(),o(e)},R=function(e){"function"===typeof l?l(e):e.url&&window.open(e.url)},V=function(e){null===c||void 0===c||c(e)},K=function(e){if(d)return d(e,r);var t="uploading"===e.status,n=p&&p(e)?A.createElement(du,null):A.createElement(iu,null),s=t?A.createElement(Sr,null):A.createElement(Au,null);return"picture"===r?s=t?A.createElement(Sr,null):n:"picture-card"===r&&(s=t?u.uploading:n),s},z=function(e,t,n,r){var s={type:"text",size:"small",title:r,disabled:T,onClick:function(n){t(),nc(e)&&e.props.onClick&&e.props.onClick(n)},className:"".concat(n,"-list-item-card-actions-btn")};if(nc(e)){var a=sc(e,Pe(Pe({},e.props),{onClick:function(){}}));return A.createElement(Su,Pe({},s,{icon:a}))}return A.createElement(Su,Pe({},s),A.createElement("span",null,e))};A.useImperativeHandle(t,(function(){return{handlePreview:O,handleDownload:R}}));var _=A.useContext(jr),G=_.getPrefixCls,W=_.direction,Y=G("upload",f),q=v()(i(i(i({},"".concat(Y,"-list"),!0),"".concat(Y,"-list-").concat(r),!0),"".concat(Y,"-list-rtl"),"rtl"===W)),X=Kt(y.map((function(e){return{key:e.uid,file:e}}))),J="picture-card"===r?"animate-inline":"animate",Z={motionDeadline:2e3,motionName:"".concat(Y,"-").concat(J),keys:X,motionAppear:L};return"picture-card"!==r&&(Z=Pe(Pe({},pd),Z)),A.createElement("div",{className:q},A.createElement(_n,Pe({},Z,{component:!1}),(function(e){var t=e.key,n=e.file,s=e.className,a=e.style;return A.createElement(hd,{key:t,locale:u,prefixCls:Y,className:s,style:a,file:n,items:y,progress:F,listType:r,isImgUrl:p,showPreviewIcon:b,showRemoveIcon:B,showDownloadIcon:k,removeIcon:S,previewIcon:E,downloadIcon:j,iconRender:K,actionIconRender:z,itemRender:U,onPreview:O,onDownload:R,onClose:V})})),Q&&A.createElement(Gn,Pe({},Z,{visible:M,forceRender:!0}),(function(e){var t=e.className,n=e.style;return sc(Q,(function(e){return{className:v()(e.className,t),style:Pe(Pe(Pe({},n),{pointerEvents:t?"none":void 0}),e.style)}}))})))};const fd=A.forwardRef(md);var gd=function(e,t,n,r){return new(n||(n=Promise))((function(s,a){function i(e){try{l(r.next(e))}catch(bC){a(bC)}}function o(e){try{l(r.throw(e))}catch(bC){a(bC)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))},vd="__LIST_IGNORE_".concat(Date.now(),"__"),yd=function(e,t){var n=e.fileList,r=e.defaultFileList,a=e.onRemove,o=e.showUploadList,l=void 0===o||o,c=e.listType,u=void 0===c?"text":c,d=e.onPreview,h=e.onDownload,p=e.onChange,f=e.onDrop,g=e.previewFile,y=e.disabled,w=e.locale,b=e.iconRender,x=e.isImageUrl,B=e.progress,C=e.prefixCls,k=e.className,S=e.type,E=void 0===S?"select":S,j=e.children,I=e.style,F=e.itemRender,Q=e.maxCount,N=e.data,M=void 0===N?{}:N,U=e.multiple,T=void 0!==U&&U,D=e.action,H=void 0===D?"":D,L=e.accept,P=void 0===L?"":L,O=e.supportServerRender,R=void 0===O||O,V=A.useContext(Zr),K=null!==y&&void 0!==y?y:V,z=Rt(r||[],{value:n,postState:function(e){return null!==e&&void 0!==e?e:[]}}),_=m(z,2),G=_[0],W=_[1],Y=m(A.useState("drop"),2),q=Y[0],X=Y[1],J=A.useRef(null);A.useMemo((function(){var e=Date.now();(n||[]).forEach((function(t,n){t.uid||Object.isFrozen(t)||(t.uid="__AUTO__".concat(e,"_").concat(n,"__"))}))}),[n]);var Z=function(e,t,n){var r=Kt(t);1===Q?r=r.slice(-1):Q&&(r=r.slice(0,Q)),(0,dt.flushSync)((function(){W(r)}));var s={file:e,fileList:r};n&&(s.event=n),(0,dt.flushSync)((function(){null===p||void 0===p||p(s)}))},$=function(e){var t=e.filter((function(e){return!e.file[vd]}));if(t.length){var n=t.map((function(e){return Eu(e.file)})),r=Kt(G);n.forEach((function(e){r=ju(e,r)})),n.forEach((function(e,n){var s=e;if(t[n].parsedFile)e.status="uploading";else{var a,i=e.originFileObj;try{a=new File([i],i.name,{type:i.type})}catch(bC){(a=new Blob([i],{type:i.type})).name=i.name,a.lastModifiedDate=new Date,a.lastModified=(new Date).getTime()}a.uid=e.uid,s=a}Z(s,r)}))}},ee=function(e,t,n){try{"string"===typeof e&&(e=JSON.parse(e))}catch(bC){}if(Iu(t,G)){var r=Eu(t);r.status="done",r.percent=100,r.response=e,r.xhr=n;var s=ju(r,G);Z(r,s)}},te=function(e,t){if(Iu(t,G)){var n=Eu(t);n.status="uploading",n.percent=e.percent;var r=ju(n,G);Z(n,r,e)}},ne=function(e,t,n){if(Iu(n,G)){var r=Eu(n);r.error=e,r.response=t,r.status="error";var s=ju(r,G);Z(r,s)}},re=function(e){var t;Promise.resolve("function"===typeof a?a(e):a).then((function(n){var r;if(!1!==n){var s=function(e,t){var n=void 0!==e.uid?"uid":"name",r=t.filter((function(t){return t[n]!==e[n]}));return r.length===t.length?null:r}(e,G);s&&(t=Pe(Pe({},e),{status:"removed"}),null===G||void 0===G||G.forEach((function(e){var n=void 0!==t.uid?"uid":"name";e[n]!==t[n]||Object.isFrozen(e)||(e.status="removed")})),null===(r=J.current)||void 0===r||r.abort(t),Z(t,s))}}))},se=function(e){X(e.type),"drop"===e.type&&(null===f||void 0===f||f(e))};A.useImperativeHandle(t,(function(){return{onBatchStart:$,onSuccess:ee,onProgress:te,onError:ne,fileList:G,upload:J.current}}));var ae=A.useContext(jr),ie=ae.getPrefixCls,oe=ae.direction,le=ie("upload",C),Ae=Pe(Pe({onBatchStart:$,onError:ne,onProgress:te,onSuccess:ee},e),{data:M,multiple:T,action:H,accept:P,supportServerRender:R,prefixCls:le,disabled:K,beforeUpload:function(t,n){return gd(void 0,void 0,void 0,lt().mark((function r(){var a,i,o,l;return lt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=e.beforeUpload,i=e.transformFile,o=t,!a){r.next=13;break}return r.next=5,a(t,n);case 5:if(!1!==(l=r.sent)){r.next=8;break}return r.abrupt("return",!1);case 8:if(delete t[vd],l!==vd){r.next=12;break}return Object.defineProperty(t,vd,{value:!0,configurable:!0}),r.abrupt("return",!1);case 12:"object"===s(l)&&l&&(o=l);case 13:if(!i){r.next=17;break}return r.next=16,i(o);case 16:o=r.sent;case 17:return r.abrupt("return",o);case 18:case"end":return r.stop()}}),r)})))},onChange:void 0});delete Ae.className,delete Ae.style,j&&!K||delete Ae.id;var ce=function(e,t){return l?A.createElement(ur,{componentName:"Upload",defaultLocale:ar.Upload},(function(n){var r="boolean"===typeof l?{}:l,s=r.showRemoveIcon,a=r.showPreviewIcon,i=r.showDownloadIcon,o=r.removeIcon,c=r.previewIcon,p=r.downloadIcon;return A.createElement(fd,{prefixCls:le,listType:u,items:G,previewFile:g,onPreview:d,onDownload:h,onRemove:re,showRemoveIcon:!K&&s,showPreviewIcon:a,showDownloadIcon:i,removeIcon:o,previewIcon:c,downloadIcon:p,iconRender:b,locale:Pe(Pe({},n),w),isImageUrl:x,progress:B,appendAction:e,appendActionVisible:t,itemRender:F,disabled:K})})):e};if("drag"===E){var ue=v()(le,i(i(i(i(i({},"".concat(le,"-drag"),!0),"".concat(le,"-drag-uploading"),G.some((function(e){return"uploading"===e.status}))),"".concat(le,"-drag-hover"),"dragover"===q),"".concat(le,"-disabled"),K),"".concat(le,"-rtl"),"rtl"===oe),k);return A.createElement("span",null,A.createElement("div",{className:ue,onDrop:se,onDragOver:se,onDragLeave:se,style:I},A.createElement(ru,Pe({},Ae,{ref:J,className:"".concat(le,"-btn")}),A.createElement("div",{className:"".concat(le,"-drag-container")},j))),ce())}var de,he=v()(le,i(i(i(i({},"".concat(le,"-select"),!0),"".concat(le,"-select-").concat(u),!0),"".concat(le,"-disabled"),K),"".concat(le,"-rtl"),"rtl"===oe)),pe=(de=j?void 0:{display:"none"},A.createElement("div",{className:he,style:de},A.createElement(ru,Pe({},Ae,{ref:J}))));return"picture-card"===u?A.createElement("span",{className:v()("".concat(le,"-picture-card-wrapper"),k)},ce(pe,!!j)):A.createElement("span",{className:k},pe,ce())};const wd=A.forwardRef(yd);var bd=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},xd=A.forwardRef((function(e,t){var n=e.style,r=e.height,s=bd(e,["style","height"]);return A.createElement(wd,Pe({ref:t},s,{type:"drag",style:Pe(Pe({},n),{height:r})}))}));const Bd=xd;var Cd=wd;Cd.Dragger=Bd,Cd.LIST_IGNORE=vd;const kd=Cd;class Sd extends A.Component{readFile(e){const t=new FileReader;return t.onload=e=>{if(e.target){const t=e.target.result;this.props.setPortrait(t)}},t.readAsDataURL(e),!1}getEditor(){let e=null,t=null;return""!==this.props.source.portrait?(e=(0,bo.jsx)("img",{className:"circle",src:this.props.source.portrait,alt:"portrait"}),t=(0,bo.jsx)(Le,{className:"clear",onClick:()=>this.props.clear()})):e=(0,bo.jsx)("div",{children:(0,bo.jsxs)(kd.Dragger,{accept:"image/*",showUploadList:!1,beforeUpload:e=>this.readFile(e),children:[(0,bo.jsx)("p",{className:"ant-upload-drag-icon",children:(0,bo.jsx)(zc,{})}),(0,bo.jsx)("p",{className:"ant-upload-text",children:"click here, or drag a file here, to upload it"}),(0,bo.jsx)("p",{className:"ant-upload-text",children:"try to upload small images if possible"})]})}),(0,bo.jsx)("div",{className:"portrait editing",children:(0,bo.jsxs)("div",{className:"section centered",children:[e,t]})})}getDisplay(){if(""===this.props.source.portrait)return null;let e="portrait";return this.props.inline?e+=" inline":e+=" section centered",(0,bo.jsx)("div",{className:e,children:(0,bo.jsx)("img",{className:"circle",src:this.props.source.portrait,alt:"portrait"})})}render(){try{return null!==this.props.setPortrait?this.getEditor():this.getDisplay()}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"PortraitPanel",error:bC})}}}Sd.defaultProps={inline:!1,setPortrait:null,clear:null};const Ed={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"};var jd=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Ed}))};const Id=A.forwardRef(jd);const Fd={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3zM664.8 561.6l36.1 210.3L512 672.7 323.1 772l36.1-210.3-152.8-149L417.6 382 512 190.7 606.4 382l211.2 30.7-152.8 148.9z"}}]},name:"star",theme:"outlined"};var Qd=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Fd}))};const Nd=A.forwardRef(Qd);const Md={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};var Ud=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Md}))};const Td=A.forwardRef(Ud);const Dd=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Hd=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Ld={};function Pd(e,t){return((t||Ld).jsx?Hd:Dd).test(e)}const Od=/[ \t\n\f\r]/g;function Rd(e){return""===e.replace(Od,"")}class Vd{constructor(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}}function Kd(e,t){const n={},r={};let s=-1;for(;++s<e.length;)Object.assign(n,e[s].property),Object.assign(r,e[s].normal);return new Vd(n,r,t)}function zd(e){return e.toLowerCase()}Vd.prototype.property={},Vd.prototype.normal={},Vd.prototype.space=null;class _d{constructor(e,t){this.property=e,this.attribute=t}}_d.prototype.space=null,_d.prototype.boolean=!1,_d.prototype.booleanish=!1,_d.prototype.overloadedBoolean=!1,_d.prototype.number=!1,_d.prototype.commaSeparated=!1,_d.prototype.spaceSeparated=!1,_d.prototype.commaOrSpaceSeparated=!1,_d.prototype.mustUseProperty=!1,_d.prototype.defined=!1;let Gd=0;const Wd=eh(),Yd=eh(),qd=eh(),Xd=eh(),Jd=eh(),Zd=eh(),$d=eh();function eh(){return 2**++Gd}const th=Object.keys(e);class nh extends _d{constructor(t,n,r,s){let a=-1;if(super(t,n),rh(this,"space",s),"number"===typeof r)for(;++a<th.length;){const t=th[a];rh(this,th[a],(r&e[t])===e[t])}}}function rh(e,t,n){n&&(e[t]=n)}nh.prototype.defined=!0;const sh={}.hasOwnProperty;function ah(e){const t={},n={};let r;for(r in e.properties)if(sh.call(e.properties,r)){const s=e.properties[r],a=new nh(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[zd(r)]=r,n[zd(a.attribute)]=r}return new Vd(t,n,e.space)}const ih=ah({space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),oh=ah({space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function lh(e,t){return t in e?e[t]:t}function Ah(e,t){return lh(e,t.toLowerCase())}const ch=ah({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Ah,properties:{xmlns:null,xmlnsXLink:null}}),uh=ah({transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:Yd,ariaAutoComplete:null,ariaBusy:Yd,ariaChecked:Yd,ariaColCount:Xd,ariaColIndex:Xd,ariaColSpan:Xd,ariaControls:Jd,ariaCurrent:null,ariaDescribedBy:Jd,ariaDetails:null,ariaDisabled:Yd,ariaDropEffect:Jd,ariaErrorMessage:null,ariaExpanded:Yd,ariaFlowTo:Jd,ariaGrabbed:Yd,ariaHasPopup:null,ariaHidden:Yd,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Jd,ariaLevel:Xd,ariaLive:null,ariaModal:Yd,ariaMultiLine:Yd,ariaMultiSelectable:Yd,ariaOrientation:null,ariaOwns:Jd,ariaPlaceholder:null,ariaPosInSet:Xd,ariaPressed:Yd,ariaReadOnly:Yd,ariaRelevant:null,ariaRequired:Yd,ariaRoleDescription:Jd,ariaRowCount:Xd,ariaRowIndex:Xd,ariaRowSpan:Xd,ariaSelected:Yd,ariaSetSize:Xd,ariaSort:null,ariaValueMax:Xd,ariaValueMin:Xd,ariaValueNow:Xd,ariaValueText:null,role:null}}),dh=ah({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Ah,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Zd,acceptCharset:Jd,accessKey:Jd,action:null,allow:null,allowFullScreen:Wd,allowPaymentRequest:Wd,allowUserMedia:Wd,alt:null,as:null,async:Wd,autoCapitalize:null,autoComplete:Jd,autoFocus:Wd,autoPlay:Wd,blocking:Jd,capture:null,charSet:null,checked:Wd,cite:null,className:Jd,cols:Xd,colSpan:null,content:null,contentEditable:Yd,controls:Wd,controlsList:Jd,coords:Xd|Zd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Wd,defer:Wd,dir:null,dirName:null,disabled:Wd,download:qd,draggable:Yd,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Wd,formTarget:null,headers:Jd,height:Xd,hidden:Wd,high:Xd,href:null,hrefLang:null,htmlFor:Jd,httpEquiv:Jd,id:null,imageSizes:null,imageSrcSet:null,inert:Wd,inputMode:null,integrity:null,is:null,isMap:Wd,itemId:null,itemProp:Jd,itemRef:Jd,itemScope:Wd,itemType:Jd,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Wd,low:Xd,manifest:null,max:null,maxLength:Xd,media:null,method:null,min:null,minLength:Xd,multiple:Wd,muted:Wd,name:null,nonce:null,noModule:Wd,noValidate:Wd,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Wd,optimum:Xd,pattern:null,ping:Jd,placeholder:null,playsInline:Wd,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Wd,referrerPolicy:null,rel:Jd,required:Wd,reversed:Wd,rows:Xd,rowSpan:Xd,sandbox:Jd,scope:null,scoped:Wd,seamless:Wd,selected:Wd,shadowRootClonable:Wd,shadowRootDelegatesFocus:Wd,shadowRootMode:null,shape:null,size:Xd,sizes:null,slot:null,span:Xd,spellCheck:Yd,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Xd,step:null,style:null,tabIndex:Xd,target:null,title:null,translate:null,type:null,typeMustMatch:Wd,useMap:null,value:Yd,width:Xd,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Jd,axis:null,background:null,bgColor:null,border:Xd,borderColor:null,bottomMargin:Xd,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Wd,declare:Wd,event:null,face:null,frame:null,frameBorder:null,hSpace:Xd,leftMargin:Xd,link:null,longDesc:null,lowSrc:null,marginHeight:Xd,marginWidth:Xd,noResize:Wd,noHref:Wd,noShade:Wd,noWrap:Wd,object:null,profile:null,prompt:null,rev:null,rightMargin:Xd,rules:null,scheme:null,scrolling:Yd,standby:null,summary:null,text:null,topMargin:Xd,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Xd,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Wd,disableRemotePlayback:Wd,prefix:null,property:null,results:Xd,security:null,unselectable:null}}),hh=ah({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:lh,properties:{about:$d,accentHeight:Xd,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Xd,amplitude:Xd,arabicForm:null,ascent:Xd,attributeName:null,attributeType:null,azimuth:Xd,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Xd,by:null,calcMode:null,capHeight:Xd,className:Jd,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Xd,diffuseConstant:Xd,direction:null,display:null,dur:null,divisor:Xd,dominantBaseline:null,download:Wd,dx:null,dy:null,edgeMode:null,editable:null,elevation:Xd,enableBackground:null,end:null,event:null,exponent:Xd,externalResourcesRequired:null,fill:null,fillOpacity:Xd,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Zd,g2:Zd,glyphName:Zd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Xd,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Xd,horizOriginX:Xd,horizOriginY:Xd,id:null,ideographic:Xd,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Xd,k:Xd,k1:Xd,k2:Xd,k3:Xd,k4:Xd,kernelMatrix:$d,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Xd,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Xd,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Xd,overlineThickness:Xd,paintOrder:null,panose1:null,path:null,pathLength:Xd,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Jd,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Xd,pointsAtY:Xd,pointsAtZ:Xd,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:$d,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:$d,rev:$d,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:$d,requiredFeatures:$d,requiredFonts:$d,requiredFormats:$d,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Xd,specularExponent:Xd,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Xd,strikethroughThickness:Xd,string:null,stroke:null,strokeDashArray:$d,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Xd,strokeOpacity:Xd,strokeWidth:null,style:null,surfaceScale:Xd,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:$d,tabIndex:Xd,tableValues:null,target:null,targetX:Xd,targetY:Xd,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:$d,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Xd,underlineThickness:Xd,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Xd,values:null,vAlphabetic:Xd,vMathematical:Xd,vectorEffect:null,vHanging:Xd,vIdeographic:Xd,version:null,vertAdvY:Xd,vertOriginX:Xd,vertOriginY:Xd,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Xd,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),ph=Kd([oh,ih,ch,uh,dh],"html"),mh=Kd([oh,ih,ch,uh,hh],"svg"),fh=/^data[-\w.:]+$/i,gh=/-[a-z]/g,vh=/[A-Z]/g;function yh(e){return"-"+e.toLowerCase()}function wh(e){return e.charAt(1).toUpperCase()}const bh={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};var xh=n(6999);const Bh=xh.default||xh,Ch=Sh("end"),kh=Sh("start");function Sh(e){return function(t){const n=t&&t.position&&t.position[e]||{};if("number"===typeof n.line&&n.line>0&&"number"===typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"===typeof n.offset&&n.offset>-1?n.offset:void 0}}}function Eh(e){return e&&"object"===typeof e?"position"in e||"type"in e?Ih(e.position):"start"in e||"end"in e?Ih(e):"line"in e||"column"in e?jh(e):"":""}function jh(e){return Fh(e&&e.line)+":"+Fh(e&&e.column)}function Ih(e){return jh(e&&e.start)+"-"+jh(e&&e.end)}function Fh(e){return e&&"number"===typeof e?e:1}class Qh extends Error{constructor(e,t,n){super(),"string"===typeof t&&(n=t,t=void 0);let r="",s={},a=!1;if(t&&(s="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:{...t}),"string"===typeof e?r=e:!s.cause&&e&&(a=!0,r=e.message,s.cause=e),!s.ruleId&&!s.source&&"string"===typeof n){const e=n.indexOf(":");-1===e?s.ruleId=n:(s.source=n.slice(0,e),s.ruleId=n.slice(e+1))}if(!s.place&&s.ancestors&&s.ancestors){const e=s.ancestors[s.ancestors.length-1];e&&(s.place=e.position)}const i=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=i?i.column:void 0,this.fatal=void 0,this.file,this.message=r,this.line=i?i.line:void 0,this.name=Eh(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&"string"===typeof s.cause.stack?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}Qh.prototype.file="",Qh.prototype.name="",Qh.prototype.reason="",Qh.prototype.message="",Qh.prototype.stack="",Qh.prototype.column=void 0,Qh.prototype.line=void 0,Qh.prototype.ancestors=void 0,Qh.prototype.cause=void 0,Qh.prototype.fatal=void 0,Qh.prototype.place=void 0,Qh.prototype.ruleId=void 0,Qh.prototype.source=void 0;const Nh={}.hasOwnProperty,Mh=new Map,Uh=/[A-Z]/g,Th=/-([a-z])/g,Dh=new Set(["table","tbody","thead","tfoot","tr"]),Hh=new Set(["td","th"]),Lh="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Ph(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if("function"!==typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=function(e,t){return n;function n(n,r,s,a){const i=Array.isArray(s.children),o=kh(n);return t(r,s,a,i,{columnNumber:o?o.column-1:void 0,fileName:e,lineNumber:o?o.line:void 0},void 0)}}(n,t.jsxDEV)}else{if("function"!==typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!==typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");r=function(e,t,n){return r;function r(e,r,s,a){const i=Array.isArray(s.children)?n:t;return a?i(r,s,a):i(r,s)}}(0,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?mh:ph,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},a=Oh(s,e,void 0);return a&&"string"!==typeof a?a:s.create(e,s.Fragment,{children:a||void 0},void 0)}function Oh(e,t,n){return"element"===t.type?function(e,t,n){const r=e.schema;let s=r;"svg"===t.tagName.toLowerCase()&&"html"===r.space&&(s=mh,e.schema=s);e.ancestors.push(t);const a=_h(e,t.tagName,!1),i=function(e,t){const n={};let r,s;for(s in t.properties)if("children"!==s&&Nh.call(t.properties,s)){const a=zh(e,s,t.properties[s]);if(a){const[s,i]=a;e.tableCellAlignToStyle&&"align"===s&&"string"===typeof i&&Hh.has(t.tagName)?r=i:n[s]=i}}if(r){(n.style||(n.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=r}return n}(e,t);let o=Kh(e,t);Dh.has(t.tagName)&&(o=o.filter((function(e){return"string"!==typeof e||!("object"===typeof(t=e)?"text"===t.type&&Rd(t.value):Rd(t));var t})));return Rh(e,i,a,t),Vh(i,o),e.ancestors.pop(),e.schema=r,e.create(t,a,i,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Gh(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){const r=e.schema;let s=r;"svg"===t.name&&"html"===r.space&&(s=mh,e.schema=s);e.ancestors.push(t);const a=null===t.name?e.Fragment:_h(e,t.name,!0),i=function(e,t){const n={};for(const r of t.attributes)if("mdxJsxExpressionAttribute"===r.type)if(r.data&&r.data.estree&&e.evaluater){const t=r.data.estree.body[0];t.type;const s=t.expression;s.type;const a=s.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else Gh(e,t.position);else{const s=r.name;let a;if(r.value&&"object"===typeof r.value)if(r.value.data&&r.value.data.estree&&e.evaluater){const t=r.value.data.estree.body[0];t.type,a=e.evaluater.evaluateExpression(t.expression)}else Gh(e,t.position);else a=null===r.value||r.value;n[s]=a}return n}(e,t),o=Kh(e,t);return Rh(e,i,a,t),Vh(i,o),e.ancestors.pop(),e.schema=r,e.create(t,a,i,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Gh(e,t.position)}(e,t):"root"===t.type?function(e,t,n){const r={};return Vh(r,Kh(e,t)),e.create(t,e.Fragment,r,n)}(e,t,n):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function Rh(e,t,n,r){"string"!==typeof n&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Vh(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Kh(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:Mh;for(;++r<t.children.length;){const a=t.children[r];let i;if(e.passKeys){const e="element"===a.type?a.tagName:"mdxJsxFlowElement"===a.type||"mdxJsxTextElement"===a.type?a.name:void 0;if(e){const t=s.get(e)||0;i=e+"-"+t,s.set(e,t+1)}}const o=Oh(e,a,i);void 0!==o&&n.push(o)}return n}function zh(e,t,n){const r=function(e,t){const n=zd(t);let r=t,s=_d;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&fh.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(gh,wh);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!gh.test(e)){let n=e.replace(vh,yh);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}s=nh}return new s(r,t)}(e.schema,t);if(!(null===n||void 0===n||"number"===typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?function(e,t){const n=t||{};return(""===e[e.length-1]?[...e,""]:e).join((n.padRight?" ":"")+","+(!1===n.padLeft?"":" ")).trim()}(n):n.join(" ").trim()),"style"===r.property){let t="object"===typeof n?n:function(e,t){const n={};try{Bh(t,r)}catch(s){if(!e.ignoreInvalidStyle){const t=s,n=new Qh("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:t,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Lh+"#cannot-parse-style-attribute",n}}return n;function r(e,t){let r=e;"--"!==r.slice(0,2)&&("-ms-"===r.slice(0,4)&&(r="ms-"+r.slice(4)),r=r.replace(Th,Yh)),n[r]=t}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let n;for(n in e)Nh.call(e,n)&&(t[Wh(n)]=e[n]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&r.space?bh[r.property]||r.property:r.attribute,n]}}function _h(e,t,n){let r;if(n)if(t.includes(".")){const e=t.split(".");let n,s=-1;for(;++s<e.length;){const t=Pd(e[s])?{type:"Identifier",name:e[s]}:{type:"Literal",value:e[s]};n=n?{type:"MemberExpression",object:n,property:t,computed:Boolean(s&&"Literal"===t.type),optional:!1}:t}r=n}else r=Pd(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else r={type:"Literal",value:t};if("Literal"===r.type){const t=r.value;return Nh.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(r);Gh(e)}function Gh(e,t){const n=new Qh("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Lh+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Wh(e){let t=e.replace(Uh,qh);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function Yh(e,t){return t.toUpperCase()}function qh(e){return"-"+e.toLowerCase()}const Xh={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Jh={};function Zh(e,t,n){if(function(e){return Boolean(e&&"object"===typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return $h(e.children,t,n)}return Array.isArray(e)?$h(e,t,n):""}function $h(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=Zh(e[s],t,n);return r.join("")}function ep(e,t,n,r){const s=e.length;let a,i=0;if(t=t<0?-t>s?0:s+t:t>s?s:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);i<r.length;)a=r.slice(i,i+1e4),a.unshift(t,0),e.splice(...a),i+=1e4,t+=1e4}function tp(e,t){return e.length>0?(ep(e,e.length,0,t),e):t}class np{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=null===t||void 0===t?Number.POSITIVE_INFINITY:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const r=t||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return n&&rp(this.left,n),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),rp(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),rp(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);rp(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);rp(this.left,t.reverse())}}}function rp(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function sp(e){const t={};let n,r,s,a,i,o,l,A=-1;const c=new np(e);for(;++A<c.length;){for(;A in t;)A=t[A];if(n=c.get(A),A&&"chunkFlow"===n[1].type&&"listItemPrefix"===c.get(A-1)[1].type&&(o=n[1]._tokenizer.events,s=0,s<o.length&&"lineEndingBlank"===o[s][1].type&&(s+=2),s<o.length&&"content"===o[s][1].type))for(;++s<o.length&&"content"!==o[s][1].type;)"chunkText"===o[s][1].type&&(o[s][1]._isInFirstContentOfListItem=!0,s++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,ap(c,A)),A=t[A],l=!0);else if(n[1]._container){for(s=A,r=void 0;s--&&(a=c.get(s),"lineEnding"===a[1].type||"lineEndingBlank"===a[1].type);)"enter"===a[0]&&(r&&(c.get(r)[1].type="lineEndingBlank"),a[1].type="lineEnding",r=s);r&&(n[1].end=Object.assign({},c.get(r)[1].start),i=c.slice(r,A),i.unshift(n),c.splice(r,A-r+1,i))}}return ep(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!l}function ap(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const a=[],i=n._tokenizer||r.parser[n.contentType](n.start),o=i.events,l=[],A={};let c,u,d=-1,h=n,p=0,m=0;const f=[m];for(;h;){for(;e.get(++s)[1]!==h;);a.push(s),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),u&&i.defineSkip(h.start),h._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=!0),i.write(c),h._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=void 0)),u=h,h=h.next}for(h=n;++d<o.length;)"exit"===o[d][0]&&"enter"===o[d-1][0]&&o[d][1].type===o[d-1][1].type&&o[d][1].start.line!==o[d][1].end.line&&(m=d+1,f.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(i.events=[],h?(h._tokenizer=void 0,h.previous=void 0):f.pop(),d=f.length;d--;){const t=o.slice(f[d],f[d+1]),n=a.pop();l.push([n,n+t.length-1]),e.splice(n,2,t)}for(l.reverse(),d=-1;++d<l.length;)A[p+l[d][0]]=p+l[d][1],p+=l[d][1]-l[d][0]-1;return A}const ip={}.hasOwnProperty;function op(e,t){let n;for(n in t){const r=(ip.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let a;if(s)for(a in s){ip.call(r,a)||(r[a]=[]);const e=s[a];lp(r[a],Array.isArray(e)?e:e?[e]:[])}}}function lp(e,t){let n=-1;const r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);ep(e,0,0,r)}const Ap=bp(/[A-Za-z]/),cp=bp(/[\dA-Za-z]/),up=bp(/[#-'*+\--9=?A-Z^-~]/);function dp(e){return null!==e&&(e<32||127===e)}const hp=bp(/\d/),pp=bp(/[\dA-Fa-f]/),mp=bp(/[!-/:-@[-`{-~]/);function fp(e){return null!==e&&e<-2}function gp(e){return null!==e&&(e<0||32===e)}function vp(e){return-2===e||-1===e||32===e}const yp=bp(/\p{P}|\p{S}/u),wp=bp(/\s/);function bp(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function xp(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let a=0;return function(r){if(vp(r))return e.enter(n),i(r);return t(r)};function i(r){return vp(r)&&a++<s?(e.consume(r),i):(e.exit(n),t(r))}}const Bp={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,(function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),xp(e,t,"linePrefix")}),(function(t){return e.enter("paragraph"),r(t)}));let n;return t;function r(t){const r=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=r),n=r,s(t)}function s(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):fp(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),s)}}};const Cp={tokenize:function(e){const t=this,n=[];let r,s,a,i=0;return o;function o(r){if(i<n.length){const s=n[i];return t.containerState=s[1],e.attempt(s[0].continuation,l,A)(r)}return A(r)}function l(e){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&v();const n=t.events.length;let s,a=n;for(;a--;)if("exit"===t.events[a][0]&&"chunkFlow"===t.events[a][1].type){s=t.events[a][1].end;break}g(i);let o=n;for(;o<t.events.length;)t.events[o][1].end=Object.assign({},s),o++;return ep(t.events,a+1,0,t.events.slice(n)),t.events.length=o,A(e)}return o(e)}function A(s){if(i===n.length){if(!r)return d(s);if(r.currentConstruct&&r.currentConstruct.concrete)return p(s);t.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(kp,c,u)(s)}function c(e){return r&&v(),g(i),d(e)}function u(e){return t.parser.lazy[t.now().line]=i!==n.length,a=t.now().offset,p(e)}function d(n){return t.containerState={},e.attempt(kp,h,p)(n)}function h(e){return i++,n.push([t.currentConstruct,t.containerState]),d(e)}function p(n){return null===n?(r&&v(),g(0),void e.consume(n)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:r}),m(n))}function m(n){return null===n?(f(e.exit("chunkFlow"),!0),g(0),void e.consume(n)):fp(n)?(e.consume(n),f(e.exit("chunkFlow")),i=0,t.interrupt=void 0,o):(e.consume(n),m)}function f(e,n){const o=t.sliceStream(e);if(n&&o.push(null),e.previous=s,s&&(s.next=e),s=e,r.defineSkip(e.start),r.write(o),t.parser.lazy[e.start.line]){let e=r.events.length;for(;e--;)if(r.events[e][1].start.offset<a&&(!r.events[e][1].end||r.events[e][1].end.offset>a))return;const n=t.events.length;let s,o,l=n;for(;l--;)if("exit"===t.events[l][0]&&"chunkFlow"===t.events[l][1].type){if(s){o=t.events[l][1].end;break}s=!0}for(g(i),e=n;e<t.events.length;)t.events[e][1].end=Object.assign({},o),e++;ep(t.events,l+1,0,t.events.slice(n)),t.events.length=e}}function g(r){let s=n.length;for(;s-- >r;){const r=n[s];t.containerState=r[1],r[0].exit.call(t,e)}n.length=r}function v(){r.write([null]),s=void 0,r=void 0,t.containerState._closeFlow=void 0}}},kp={tokenize:function(e,t,n){return xp(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};const Sp={tokenize:function(e,t,n){return function(t){return vp(t)?xp(e,r,"linePrefix")(t):r(t)};function r(e){return null===e||fp(e)?t(e):n(e)}},partial:!0};const Ep={tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?s(t):fp(t)?e.check(jp,a,s)(t):(e.consume(t),r)}function s(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function a(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}},resolve:function(e){return sp(e),e}},jp={tokenize:function(e,t,n){const r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),xp(e,s,"linePrefix")};function s(s){if(null===s||fp(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}},partial:!0};const Ip={tokenize:function(e){const t=this,n=e.attempt(Sp,(function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}),e.attempt(this.parser.constructs.flowInitial,r,xp(e,e.attempt(this.parser.constructs.flow,r,e.attempt(Ep,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}};const Fp={resolveAll:Up()},Qp=Mp("string"),Np=Mp("text");function Mp(e){return{tokenize:function(t){const n=this,r=this.parser.constructs[e],s=t.attempt(r,a,i);return a;function a(e){return l(e)?s(e):i(e)}function i(e){if(null!==e)return t.enter("data"),t.consume(e),o;t.consume(e)}function o(e){return l(e)?(t.exit("data"),s(e)):(t.consume(e),o)}function l(e){if(null===e)return!0;const t=r[e];let s=-1;if(t)for(;++s<t.length;){const e=t[s];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}},resolveAll:Up("text"===e?Tp:void 0)}}function Up(e){return function(t,n){let r,s=-1;for(;++s<=t.length;)void 0===r?t[s]&&"data"===t[s][1].type&&(r=s,s++):t[s]&&"data"===t[s][1].type||(s!==r+2&&(t[r][1].end=t[s-1][1].end,t.splice(r+2,s-r-2),s=r+2),r=void 0);return e?e(t,n):t}}function Tp(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const r=e[n-1][1],s=t.sliceStream(r);let a,i=s.length,o=-1,l=0;for(;i--;){const e=s[i];if("string"===typeof e){for(o=e.length;32===e.charCodeAt(o-1);)l++,o--;if(o)break;o=-1}else if(-2===e)a=!0,l++;else if(-1!==e){i++;break}}if(l){const s={type:n===e.length||a||l<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+i,_bufferIndex:i?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},s.start),r.start.offset===r.end.offset?Object.assign(r,s):(e.splice(n,0,["enter",s,t],["exit",s,t]),n+=2)}n++}return e}function Dp(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const a=e[s].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}function Hp(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const s={},a=[];let i=[],o=[],l=!0;const A={consume:function(e){fp(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,w()):-1!==e&&(r.column++,r.offset++);r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===i[r._index].length&&(r._bufferIndex=-1,r._index++));c.previous=e,l=!0},enter:function(e,t){const n=t||{};return n.type=e,n.start=p(),c.events.push(["enter",n,c]),o.push(n),n},exit:function(e){const t=o.pop();return t.end=p(),c.events.push(["exit",t,c]),t},attempt:v((function(e,t){y(e,t.from)})),check:v(g),interrupt:v(g,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:function(e,t){return function(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const a=e[n];let i;if("string"===typeof a)i=a;else switch(a){case-5:i="\r";break;case-4:i="\n";break;case-3:i="\r\n";break;case-2:i=t?" ":"\t";break;case-1:if(!t&&s)continue;i=" ";break;default:i=String.fromCharCode(a)}s=-2===a,r.push(i)}return r.join("")}(h(e),t)},now:p,defineSkip:function(e){s[e.line]=e.column,w()},write:function(e){if(i=tp(i,e),m(),null!==i[i.length-1])return[];return y(t,0),c.events=Dp(a,c.events,c),c.events}};let u,d=t.tokenize.call(c,A);return t.resolveAll&&a.push(t),c;function h(e){return function(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,a=t.end._bufferIndex;let i;if(n===s)i=[e[n].slice(r,a)];else{if(i=e.slice(n,s),r>-1){const e=i[0];"string"===typeof e?i[0]=e.slice(r):i.shift()}a>0&&i.push(e[s].slice(0,a))}return i}(i,e)}function p(){const{line:e,column:t,offset:n,_index:s,_bufferIndex:a}=r;return{line:e,column:t,offset:n,_index:s,_bufferIndex:a}}function m(){let e;for(;r._index<i.length;){const t=i[r._index];if("string"===typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)f(t.charCodeAt(r._bufferIndex));else f(t)}}function f(e){l=void 0,u=e,d=d(e)}function g(e,t){t.restore()}function v(e,t){return function(n,s,a){let i,u,d,h;return Array.isArray(n)?m(n):"tokenize"in n?m([n]):function(e){return t;function t(t){const n=null!==t&&e[t],r=null!==t&&e.null;return m([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]])(t)}}(n);function m(e){return i=e,u=0,0===e.length?a:f(e[u])}function f(e){return function(n){h=function(){const e=p(),t=c.previous,n=c.currentConstruct,s=c.events.length,a=Array.from(o);return{restore:i,from:s};function i(){r=e,c.previous=t,c.currentConstruct=n,c.events.length=s,o=a,w()}}(),d=e,e.partial||(c.currentConstruct=e);if(e.name&&c.parser.constructs.disable.null.includes(e.name))return v(n);return e.tokenize.call(t?Object.assign(Object.create(c),t):c,A,g,v)(n)}}function g(t){return l=!0,e(d,h),s}function v(e){return l=!0,h.restore(),++u<i.length?f(i[u]):a}}}function y(e,t){e.resolveAll&&!a.includes(e)&&a.push(e),e.resolve&&ep(c.events,t,c.events.length-t,e.resolve(c.events.slice(t),c)),e.resolveTo&&(c.events=e.resolveTo(c.events,c))}function w(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}const Lp={name:"thematicBreak",tokenize:function(e,t,n){let r,s=0;return function(t){return e.enter("thematicBreak"),function(e){return r=e,a(e)}(t)};function a(a){return a===r?(e.enter("thematicBreakSequence"),i(a)):s>=3&&(null===a||fp(a))?(e.exit("thematicBreak"),t(a)):n(a)}function i(t){return t===r?(e.consume(t),s++,i):(e.exit("thematicBreakSequence"),vp(t)?xp(e,a,"whitespace")(t):a(t))}}};const Pp={name:"list",tokenize:function(e,t,n){const r=this,s=r.events[r.events.length-1];let a=s&&"linePrefix"===s[1].type?s[2].sliceSerialize(s[1],!0).length:0,i=0;return function(t){const s=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===s?!r.containerState.marker||t===r.containerState.marker:hp(t)){if(r.containerState.type||(r.containerState.type=s,e.enter(s,{_container:!0})),"listUnordered"===s)return e.enter("listItemPrefix"),42===t||45===t?e.check(Lp,n,l)(t):l(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),o(t)}return n(t)};function o(t){return hp(t)&&++i<10?(e.consume(t),o):(!r.interrupt||i<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),l(t)):n(t)}function l(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(Sp,r.interrupt?n:A,e.attempt(Op,u,c))}function A(e){return r.containerState.initialBlankLine=!0,a++,u(e)}function c(t){return vp(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),u):n(t)}function u(n){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}},continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Sp,s,a);function s(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,xp(e,t,"listItemIndent",r.containerState.size+1)(n)}function a(n){return r.containerState.furtherBlankLines||!vp(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,i(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Rp,t,i)(n))}function i(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,xp(e,e.attempt(Pp,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}},exit:function(e){e.exit(this.containerState.type)}},Op={tokenize:function(e,t,n){const r=this;return xp(e,(function(e){const s=r.events[r.events.length-1];return!vp(e)&&s&&"listItemPrefixWhitespace"===s[1].type?t(e):n(e)}),"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},Rp={tokenize:function(e,t,n){const r=this;return xp(e,(function(e){const s=r.events[r.events.length-1];return s&&"listItemIndent"===s[1].type&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(e):n(e)}),"listItemIndent",r.containerState.size+1)},partial:!0};const Vp={name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(t){if(62===t){const n=r.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),s}return n(t)};function s(n){return vp(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}},continuation:{tokenize:function(e,t,n){const r=this;return function(t){if(vp(t))return xp(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t);return s(t)};function s(r){return e.attempt(Vp,t,n)(r)}}},exit:function(e){e.exit("blockQuote")}};function Kp(e,t,n,r,s,a,i,o,l){const A=l||Number.POSITIVE_INFINITY;let c=0;return function(t){if(60===t)return e.enter(r),e.enter(s),e.enter(a),e.consume(t),e.exit(a),u;if(null===t||32===t||41===t||dp(t))return n(t);return e.enter(r),e.enter(i),e.enter(o),e.enter("chunkString",{contentType:"string"}),p(t)};function u(n){return 62===n?(e.enter(a),e.consume(n),e.exit(a),e.exit(s),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),d(n))}function d(t){return 62===t?(e.exit("chunkString"),e.exit(o),u(t)):null===t||60===t||fp(t)?n(t):(e.consume(t),92===t?h:d)}function h(t){return 60===t||62===t||92===t?(e.consume(t),d):d(t)}function p(s){return c||null!==s&&41!==s&&!gp(s)?c<A&&40===s?(e.consume(s),c++,p):41===s?(e.consume(s),c--,p):null===s||32===s||40===s||dp(s)?n(s):(e.consume(s),92===s?m:p):(e.exit("chunkString"),e.exit(o),e.exit(i),e.exit(r),t(s))}function m(t){return 40===t||41===t||92===t?(e.consume(t),p):p(t)}}function zp(e,t,n,r,s,a){const i=this;let o,l=0;return function(t){return e.enter(r),e.enter(s),e.consume(t),e.exit(s),e.enter(a),A};function A(u){return l>999||null===u||91===u||93===u&&!o||94===u&&!l&&"_hiddenFootnoteSupport"in i.parser.constructs?n(u):93===u?(e.exit(a),e.enter(s),e.consume(u),e.exit(s),e.exit(r),t):fp(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),A):(e.enter("chunkString",{contentType:"string"}),c(u))}function c(t){return null===t||91===t||93===t||fp(t)||l++>999?(e.exit("chunkString"),A(t)):(e.consume(t),o||(o=!vp(t)),92===t?u:c)}function u(t){return 91===t||92===t||93===t?(e.consume(t),l++,c):c(t)}}function _p(e,t,n,r,s,a){let i;return function(t){if(34===t||39===t||40===t)return e.enter(r),e.enter(s),e.consume(t),e.exit(s),i=40===t?41:t,o;return n(t)};function o(n){return n===i?(e.enter(s),e.consume(n),e.exit(s),e.exit(r),t):(e.enter(a),l(n))}function l(t){return t===i?(e.exit(a),o(i)):null===t?n(t):fp(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),xp(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),A(t))}function A(t){return t===i||null===t||fp(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?c:A)}function c(t){return t===i||92===t?(e.consume(t),A):A(t)}}function Gp(e,t){let n;return function r(s){if(fp(s))return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r;if(vp(s))return xp(e,r,n?"linePrefix":"lineSuffix")(s);return t(s)}}function Wp(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Yp={name:"definition",tokenize:function(e,t,n){const r=this;let s;return function(t){return e.enter("definition"),function(t){return zp.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function a(t){return s=Wp(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),i):n(t)}function i(t){return gp(t)?Gp(e,o)(t):o(t)}function o(t){return Kp(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function l(t){return e.attempt(qp,A,A)(t)}function A(t){return vp(t)?xp(e,c,"whitespace")(t):c(t)}function c(a){return null===a||fp(a)?(e.exit("definition"),r.parser.defined.push(s),t(a)):n(a)}}},qp={tokenize:function(e,t,n){return function(t){return gp(t)?Gp(e,r)(t):n(t)};function r(t){return _p(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function s(t){return vp(t)?xp(e,a,"whitespace")(t):a(t)}function a(e){return null===e||fp(e)?t(e):n(e)}},partial:!0};const Xp={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("codeIndented"),xp(e,s,"linePrefix",5)(t)};function s(e){const t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?a(e):n(e)}function a(t){return null===t?o(t):fp(t)?e.attempt(Jp,a,o)(t):(e.enter("codeFlowValue"),i(t))}function i(t){return null===t||fp(t)?(e.exit("codeFlowValue"),a(t)):(e.consume(t),i)}function o(n){return e.exit("codeIndented"),t(n)}}},Jp={tokenize:function(e,t,n){const r=this;return s;function s(t){return r.parser.lazy[r.now().line]?n(t):fp(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s):xp(e,a,"linePrefix",5)(t)}function a(e){const a=r.events[r.events.length-1];return a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(e):fp(e)?s(e):n(e)}},partial:!0};const Zp={name:"headingAtx",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),s(t)}(t)};function s(t){return 35===t&&r++<6?(e.consume(t),s):null===t||gp(t)?(e.exit("atxHeadingSequence"),a(t)):n(t)}function a(n){return 35===n?(e.enter("atxHeadingSequence"),i(n)):null===n||fp(n)?(e.exit("atxHeading"),t(n)):vp(n)?xp(e,a,"whitespace")(n):(e.enter("atxHeadingText"),o(n))}function i(t){return 35===t?(e.consume(t),i):(e.exit("atxHeadingSequence"),a(t))}function o(t){return null===t||35===t||gp(t)?(e.exit("atxHeadingText"),a(t)):(e.consume(t),o)}},resolve:function(e,t){let n,r,s=e.length-2,a=3;"whitespace"===e[a][1].type&&(a+=2);s-2>a&&"whitespace"===e[s][1].type&&(s-=2);"atxHeadingSequence"===e[s][1].type&&(a===s-1||s-4>a&&"whitespace"===e[s-2][1].type)&&(s-=a+1===s?2:4);s>a&&(n={type:"atxHeadingText",start:e[a][1].start,end:e[s][1].end},r={type:"chunkText",start:e[a][1].start,end:e[s][1].end,contentType:"text"},ep(e,a,s-a+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]]));return e}};const $p={name:"setextUnderline",tokenize:function(e,t,n){const r=this;let s;return function(t){let i,o=r.events.length;for(;o--;)if("lineEnding"!==r.events[o][1].type&&"linePrefix"!==r.events[o][1].type&&"content"!==r.events[o][1].type){i="paragraph"===r.events[o][1].type;break}if(!r.parser.lazy[r.now().line]&&(r.interrupt||i))return e.enter("setextHeadingLine"),s=t,function(t){return e.enter("setextHeadingLineSequence"),a(t)}(t);return n(t)};function a(t){return t===s?(e.consume(t),a):(e.exit("setextHeadingLineSequence"),vp(t)?xp(e,i,"lineSuffix")(t):i(t))}function i(r){return null===r||fp(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}},resolveTo:function(e,t){let n,r,s,a=e.length;for(;a--;)if("enter"===e[a][0]){if("content"===e[a][1].type){n=a;break}"paragraph"===e[a][1].type&&(r=a)}else"content"===e[a][1].type&&e.splice(a,1),s||"definition"!==e[a][1].type||(s=a);const i={type:"setextHeading",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)};e[r][1].type="setextHeadingText",s?(e.splice(r,0,["enter",i,t]),e.splice(s+1,0,["exit",e[n][1],t]),e[n][1].end=Object.assign({},e[s][1].end)):e[n][1]=i;return e.push(["exit",i,t]),e}};const em=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],tm=["pre","script","style","textarea"],nm={name:"htmlFlow",tokenize:function(e,t,n){const r=this;let s,a,i,o,l;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),A}(t)};function A(o){return 33===o?(e.consume(o),c):47===o?(e.consume(o),a=!0,h):63===o?(e.consume(o),s=3,r.interrupt?t:U):Ap(o)?(e.consume(o),i=String.fromCharCode(o),p):n(o)}function c(a){return 45===a?(e.consume(a),s=2,u):91===a?(e.consume(a),s=5,o=0,d):Ap(a)?(e.consume(a),s=4,r.interrupt?t:U):n(a)}function u(s){return 45===s?(e.consume(s),r.interrupt?t:U):n(s)}function d(s){const a="CDATA[";return s===a.charCodeAt(o++)?(e.consume(s),6===o?r.interrupt?t:S:d):n(s)}function h(t){return Ap(t)?(e.consume(t),i=String.fromCharCode(t),p):n(t)}function p(o){if(null===o||47===o||62===o||gp(o)){const l=47===o,A=i.toLowerCase();return l||a||!tm.includes(A)?em.includes(i.toLowerCase())?(s=6,l?(e.consume(o),m):r.interrupt?t(o):S(o)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(o):a?f(o):g(o)):(s=1,r.interrupt?t(o):S(o))}return 45===o||cp(o)?(e.consume(o),i+=String.fromCharCode(o),p):n(o)}function m(s){return 62===s?(e.consume(s),r.interrupt?t:S):n(s)}function f(t){return vp(t)?(e.consume(t),f):C(t)}function g(t){return 47===t?(e.consume(t),C):58===t||95===t||Ap(t)?(e.consume(t),v):vp(t)?(e.consume(t),g):C(t)}function v(t){return 45===t||46===t||58===t||95===t||cp(t)?(e.consume(t),v):y(t)}function y(t){return 61===t?(e.consume(t),w):vp(t)?(e.consume(t),y):g(t)}function w(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),l=t,b):vp(t)?(e.consume(t),w):x(t)}function b(t){return t===l?(e.consume(t),l=null,B):null===t||fp(t)?n(t):(e.consume(t),b)}function x(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||gp(t)?y(t):(e.consume(t),x)}function B(e){return 47===e||62===e||vp(e)?g(e):n(e)}function C(t){return 62===t?(e.consume(t),k):n(t)}function k(t){return null===t||fp(t)?S(t):vp(t)?(e.consume(t),k):n(t)}function S(t){return 45===t&&2===s?(e.consume(t),F):60===t&&1===s?(e.consume(t),Q):62===t&&4===s?(e.consume(t),T):63===t&&3===s?(e.consume(t),U):93===t&&5===s?(e.consume(t),M):!fp(t)||6!==s&&7!==s?null===t||fp(t)?(e.exit("htmlFlowData"),E(t)):(e.consume(t),S):(e.exit("htmlFlowData"),e.check(rm,D,E)(t))}function E(t){return e.check(sm,j,D)(t)}function j(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),I}function I(t){return null===t||fp(t)?E(t):(e.enter("htmlFlowData"),S(t))}function F(t){return 45===t?(e.consume(t),U):S(t)}function Q(t){return 47===t?(e.consume(t),i="",N):S(t)}function N(t){if(62===t){const n=i.toLowerCase();return tm.includes(n)?(e.consume(t),T):S(t)}return Ap(t)&&i.length<8?(e.consume(t),i+=String.fromCharCode(t),N):S(t)}function M(t){return 93===t?(e.consume(t),U):S(t)}function U(t){return 62===t?(e.consume(t),T):45===t&&2===s?(e.consume(t),U):S(t)}function T(t){return null===t||fp(t)?(e.exit("htmlFlowData"),D(t)):(e.consume(t),T)}function D(n){return e.exit("htmlFlow"),t(n)}},resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},concrete:!0},rm={tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(Sp,t,n)}},partial:!0},sm={tokenize:function(e,t,n){const r=this;return function(t){if(fp(t))return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s;return n(t)};function s(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0};const am={tokenize:function(e,t,n){const r=this;return function(t){if(null===t)return n(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s};function s(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0},im={name:"codeFenced",tokenize:function(e,t,n){const r=this,s={tokenize:function(e,t,n){let s=0;return i;function i(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l}function l(t){return e.enter("codeFencedFence"),vp(t)?xp(e,A,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):A(t)}function A(t){return t===a?(e.enter("codeFencedFenceSequence"),c(t)):n(t)}function c(t){return t===a?(s++,e.consume(t),c):s>=o?(e.exit("codeFencedFenceSequence"),vp(t)?xp(e,u,"whitespace")(t):u(t)):n(t)}function u(r){return null===r||fp(r)?(e.exit("codeFencedFence"),t(r)):n(r)}},partial:!0};let a,i=0,o=0;return function(t){return function(t){const n=r.events[r.events.length-1];return i=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,a=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(t)}(t)};function l(t){return t===a?(o++,e.consume(t),l):o<3?n(t):(e.exit("codeFencedFenceSequence"),vp(t)?xp(e,A,"whitespace")(t):A(t))}function A(n){return null===n||fp(n)?(e.exit("codeFencedFence"),r.interrupt?t(n):e.check(am,h,v)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),c(n))}function c(t){return null===t||fp(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),A(t)):vp(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),xp(e,u,"whitespace")(t)):96===t&&t===a?n(t):(e.consume(t),c)}function u(t){return null===t||fp(t)?A(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),d(t))}function d(t){return null===t||fp(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),A(t)):96===t&&t===a?n(t):(e.consume(t),d)}function h(t){return e.attempt(s,v,p)(t)}function p(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),m}function m(t){return i>0&&vp(t)?xp(e,f,"linePrefix",i+1)(t):f(t)}function f(t){return null===t||fp(t)?e.check(am,h,v)(t):(e.enter("codeFlowValue"),g(t))}function g(t){return null===t||fp(t)?(e.exit("codeFlowValue"),f(t)):(e.consume(t),g)}function v(n){return e.exit("codeFenced"),t(n)}},concrete:!0};const om=document.createElement("i");function lm(e){const t="&"+e+";";om.innerHTML=t;const n=om.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}const Am={name:"characterReference",tokenize:function(e,t,n){const r=this;let s,a,i=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),o};function o(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),s=31,a=cp,A(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=pp,A):(e.enter("characterReferenceValue"),s=7,a=hp,A(t))}function A(o){if(59===o&&i){const s=e.exit("characterReferenceValue");return a!==cp||lm(r.sliceSerialize(s))?(e.enter("characterReferenceMarker"),e.consume(o),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(o)}return a(o)&&i++<s?(e.consume(o),A):n(o)}}};const cm={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return mp(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}};const um={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),xp(e,t,"linePrefix")}}};const dm={name:"labelEnd",tokenize:function(e,t,n){const r=this;let s,a,i=r.events.length;for(;i--;)if(("labelImage"===r.events[i][1].type||"labelLink"===r.events[i][1].type)&&!r.events[i][1]._balanced){s=r.events[i][1];break}return function(t){if(!s)return n(t);if(s._inactive)return c(t);return a=r.parser.defined.includes(Wp(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),o};function o(t){return 40===t?e.attempt(hm,A,a?A:c)(t):91===t?e.attempt(pm,A,a?l:c)(t):a?A(t):c(t)}function l(t){return e.attempt(mm,A,c)(t)}function A(e){return t(e)}function c(e){return s._balanced=!0,n(e)}},resolveTo:function(e,t){let n,r,s,a,i=e.length,o=0;for(;i--;)if(n=e[i][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[i][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(s){if("enter"===e[i][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=i,"labelLink"!==n.type)){o=2;break}}else"labelEnd"===n.type&&(s=i);const l={type:"labelLink"===e[r][1].type?"link":"image",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)},A={type:"label",start:Object.assign({},e[r][1].start),end:Object.assign({},e[s][1].end)},c={type:"labelText",start:Object.assign({},e[r+o+2][1].end),end:Object.assign({},e[s-2][1].start)};return a=[["enter",l,t],["enter",A,t]],a=tp(a,e.slice(r+1,r+o+3)),a=tp(a,[["enter",c,t]]),a=tp(a,Dp(t.parser.constructs.insideSpan.null,e.slice(r+o+4,s-3),t)),a=tp(a,[["exit",c,t],e[s-2],e[s-1],["exit",A,t]]),a=tp(a,e.slice(s+1)),a=tp(a,[["exit",l,t]]),ep(e,r,e.length,a),e},resolveAll:function(e){let t=-1;for(;++t<e.length;){const n=e[t][1];"labelImage"!==n.type&&"labelLink"!==n.type&&"labelEnd"!==n.type||(e.splice(t+1,"labelImage"===n.type?4:2),n.type="data",t++)}return e}},hm={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),r};function r(t){return gp(t)?Gp(e,s)(t):s(t)}function s(t){return 41===t?A(t):Kp(e,a,i,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function a(t){return gp(t)?Gp(e,o)(t):A(t)}function i(e){return n(e)}function o(t){return 34===t||39===t||40===t?_p(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):A(t)}function l(t){return gp(t)?Gp(e,A)(t):A(t)}function A(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},pm={tokenize:function(e,t,n){const r=this;return function(t){return zp.call(r,e,s,a,"reference","referenceMarker","referenceString")(t)};function s(e){return r.parser.defined.includes(Wp(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function a(e){return n(e)}}},mm={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};const fm={name:"labelStartImage",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),s};function s(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),a):n(t)}function a(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:dm.resolveAll};function gm(e){return null===e||gp(e)||wp(e)?1:yp(e)?2:void 0}const vm={name:"attention",tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=gm(r);let a;return function(t){return a=t,e.enter("attentionSequence"),i(t)};function i(o){if(o===a)return e.consume(o),i;const l=e.exit("attentionSequence"),A=gm(o),c=!A||2===A&&s||n.includes(o),u=!s||2===s&&A||n.includes(r);return l._open=Boolean(42===a?c:c&&(s||!u)),l._close=Boolean(42===a?u:u&&(A||!c)),t(o)}},resolveAll:function(e,t){let n,r,s,a,i,o,l,A,c=-1;for(;++c<e.length;)if("enter"===e[c][0]&&"attentionSequence"===e[c][1].type&&e[c][1]._close)for(n=c;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[c][1]).charCodeAt(0)){if((e[n][1]._close||e[c][1]._open)&&(e[c][1].end.offset-e[c][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[c][1].end.offset-e[c][1].start.offset)%3))continue;o=e[n][1].end.offset-e[n][1].start.offset>1&&e[c][1].end.offset-e[c][1].start.offset>1?2:1;const u=Object.assign({},e[n][1].end),d=Object.assign({},e[c][1].start);ym(u,-o),ym(d,o),a={type:o>1?"strongSequence":"emphasisSequence",start:u,end:Object.assign({},e[n][1].end)},i={type:o>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[c][1].start),end:d},s={type:o>1?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[c][1].start)},r={type:o>1?"strong":"emphasis",start:Object.assign({},a.start),end:Object.assign({},i.end)},e[n][1].end=Object.assign({},a.start),e[c][1].start=Object.assign({},i.end),l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=tp(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=tp(l,[["enter",r,t],["enter",a,t],["exit",a,t],["enter",s,t]]),l=tp(l,Dp(t.parser.constructs.insideSpan.null,e.slice(n+1,c),t)),l=tp(l,[["exit",s,t],["enter",i,t],["exit",i,t],["exit",r,t]]),e[c][1].end.offset-e[c][1].start.offset?(A=2,l=tp(l,[["enter",e[c][1],t],["exit",e[c][1],t]])):A=0,ep(e,n-1,c-n+3,l),c=n+l.length-A-2;break}c=-1;for(;++c<e.length;)"attentionSequence"===e[c][1].type&&(e[c][1].type="data");return e}};function ym(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const wm={name:"autolink",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s};function s(t){return Ap(t)?(e.consume(t),a):64===t?n(t):l(t)}function a(e){return 43===e||45===e||46===e||cp(e)?(r=1,i(e)):l(e)}function i(t){return 58===t?(e.consume(t),r=0,o):(43===t||45===t||46===t||cp(t))&&r++<32?(e.consume(t),i):(r=0,l(t))}function o(r){return 62===r?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):null===r||32===r||60===r||dp(r)?n(r):(e.consume(r),o)}function l(t){return 64===t?(e.consume(t),A):up(t)?(e.consume(t),l):n(t)}function A(e){return cp(e)?c(e):n(e)}function c(n){return 46===n?(e.consume(n),r=0,A):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):u(n)}function u(t){if((45===t||cp(t))&&r++<63){const n=45===t?u:c;return e.consume(t),n}return n(t)}}};const bm={name:"htmlText",tokenize:function(e,t,n){const r=this;let s,a,i;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),o};function o(t){return 33===t?(e.consume(t),l):47===t?(e.consume(t),w):63===t?(e.consume(t),v):Ap(t)?(e.consume(t),B):n(t)}function l(t){return 45===t?(e.consume(t),A):91===t?(e.consume(t),a=0,h):Ap(t)?(e.consume(t),g):n(t)}function A(t){return 45===t?(e.consume(t),d):n(t)}function c(t){return null===t?n(t):45===t?(e.consume(t),u):fp(t)?(i=c,N(t)):(e.consume(t),c)}function u(t){return 45===t?(e.consume(t),d):c(t)}function d(e){return 62===e?Q(e):45===e?u(e):c(e)}function h(t){const r="CDATA[";return t===r.charCodeAt(a++)?(e.consume(t),6===a?p:h):n(t)}function p(t){return null===t?n(t):93===t?(e.consume(t),m):fp(t)?(i=p,N(t)):(e.consume(t),p)}function m(t){return 93===t?(e.consume(t),f):p(t)}function f(t){return 62===t?Q(t):93===t?(e.consume(t),f):p(t)}function g(t){return null===t||62===t?Q(t):fp(t)?(i=g,N(t)):(e.consume(t),g)}function v(t){return null===t?n(t):63===t?(e.consume(t),y):fp(t)?(i=v,N(t)):(e.consume(t),v)}function y(e){return 62===e?Q(e):v(e)}function w(t){return Ap(t)?(e.consume(t),b):n(t)}function b(t){return 45===t||cp(t)?(e.consume(t),b):x(t)}function x(t){return fp(t)?(i=x,N(t)):vp(t)?(e.consume(t),x):Q(t)}function B(t){return 45===t||cp(t)?(e.consume(t),B):47===t||62===t||gp(t)?C(t):n(t)}function C(t){return 47===t?(e.consume(t),Q):58===t||95===t||Ap(t)?(e.consume(t),k):fp(t)?(i=C,N(t)):vp(t)?(e.consume(t),C):Q(t)}function k(t){return 45===t||46===t||58===t||95===t||cp(t)?(e.consume(t),k):S(t)}function S(t){return 61===t?(e.consume(t),E):fp(t)?(i=S,N(t)):vp(t)?(e.consume(t),S):C(t)}function E(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),s=t,j):fp(t)?(i=E,N(t)):vp(t)?(e.consume(t),E):(e.consume(t),I)}function j(t){return t===s?(e.consume(t),s=void 0,F):null===t?n(t):fp(t)?(i=j,N(t)):(e.consume(t),j)}function I(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||gp(t)?C(t):(e.consume(t),I)}function F(e){return 47===e||62===e||gp(e)?C(e):n(e)}function Q(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}function N(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),M}function M(t){return vp(t)?xp(e,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):U(t)}function U(t){return e.enter("htmlTextData"),i(t)}}};const xm={name:"labelStartLink",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),s};function s(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:dm.resolveAll};const Bm={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),r};function r(r){return fp(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}};const Cm={name:"codeText",tokenize:function(e,t,n){let r,s,a=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),i(t)};function i(t){return 96===t?(e.consume(t),a++,i):(e.exit("codeTextSequence"),o(t))}function o(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),o):96===t?(s=e.enter("codeTextSequence"),r=0,A(t)):fp(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o):(e.enter("codeTextData"),l(t))}function l(t){return null===t||32===t||96===t||fp(t)?(e.exit("codeTextData"),o(t)):(e.consume(t),l)}function A(n){return 96===n?(e.consume(n),r++,A):r===a?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(s.type="codeTextData",l(n))}},resolve:function(e){let t,n,r=e.length-4,s=3;if(("lineEnding"===e[s][1].type||"space"===e[s][1].type)&&("lineEnding"===e[r][1].type||"space"===e[r][1].type))for(t=s;++t<r;)if("codeTextData"===e[t][1].type){e[s][1].type="codeTextPadding",e[r][1].type="codeTextPadding",s+=2,r-=2;break}t=s-1,r++;for(;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type}};const km={42:Pp,43:Pp,45:Pp,48:Pp,49:Pp,50:Pp,51:Pp,52:Pp,53:Pp,54:Pp,55:Pp,56:Pp,57:Pp,62:Vp},Sm={91:Yp},Em={[-2]:Xp,[-1]:Xp,32:Xp},jm={35:Zp,42:Lp,45:[$p,Lp],60:nm,61:$p,95:Lp,96:im,126:im},Im={38:Am,92:cm},Fm={[-5]:um,[-4]:um,[-3]:um,33:fm,38:Am,42:vm,60:[wm,bm],91:xm,92:[Bm,cm],93:dm,95:vm,96:Cm},Qm={null:[vm,Fp]},Nm={null:[42,95]},Mm={null:[]};function Um(e){const n=function(e){const t={};let n=-1;for(;++n<e.length;)op(t,e[n]);return t}([t,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:s(Bp),document:s(Cp),flow:s(Ip),string:s(Qp),text:s(Np)};return r;function s(e){return function(t){return Hp(r,e,t)}}}const Tm=/[\0\t\n\r]/g;function Dm(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535===(65535&n)||65534===(65535&n)||n>1114111?"\ufffd":String.fromCodePoint(n)}const Hm=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Lm(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return Dm(n.slice(t?2:1),t?16:10)}return lm(n)||e}const Pm={}.hasOwnProperty;function Om(e,t,n){return"string"!==typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(te),autolinkProtocol:k,autolinkEmail:k,atxHeading:a(J),blockQuote:a(G),characterEscape:k,characterReference:k,codeFenced:a(W),codeFencedFenceInfo:i,codeFencedFenceMeta:i,codeIndented:a(W,i),codeText:a(Y,i),codeTextData:k,data:k,codeFlowValue:k,definition:a(q),definitionDestinationString:i,definitionLabelString:i,definitionTitleString:i,emphasis:a(X),hardBreakEscape:a(Z),hardBreakTrailing:a(Z),htmlFlow:a($,i),htmlFlowData:k,htmlText:a($,i),htmlTextData:k,image:a(ee),label:i,link:a(te),listItem:a(re),listItemValue:d,listOrdered:a(ne,u),listUnordered:a(ne),paragraph:a(se),reference:P,referenceString:i,resourceDestinationString:i,resourceTitleString:i,setextHeading:a(J),strong:a(ae),thematicBreak:a(oe)},exit:{atxHeading:l(),atxHeadingSequence:b,autolink:l(),autolinkEmail:_,autolinkProtocol:z,blockQuote:l(),characterEscapeValue:S,characterReferenceMarkerHexadecimal:R,characterReferenceMarkerNumeric:R,characterReferenceValue:V,characterReference:K,codeFenced:l(f),codeFencedFence:m,codeFencedFenceInfo:h,codeFencedFenceMeta:p,codeFlowValue:S,codeIndented:l(g),codeText:l(Q),codeTextData:S,data:S,definition:l(),definitionDestinationString:w,definitionLabelString:v,definitionTitleString:y,emphasis:l(),hardBreakEscape:l(j),hardBreakTrailing:l(j),htmlFlow:l(I),htmlFlowData:S,htmlText:l(F),htmlTextData:S,image:l(M),label:T,labelText:U,lineEnding:E,link:l(N),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:O,resourceDestinationString:D,resourceTitleString:H,resource:L,setextHeading:l(C),setextHeadingLineSequence:B,setextHeadingText:x,strong:l(),thematicBreak:l()}};Vm(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(e){let r={type:"root",children:[]};const a={stack:[r],tokenStack:[],config:t,enter:o,exit:A,buffer:i,resume:c,data:n},l=[];let u=-1;for(;++u<e.length;)if("listOrdered"===e[u][1].type||"listUnordered"===e[u][1].type)if("enter"===e[u][0])l.push(u);else{u=s(e,l.pop(),u)}for(u=-1;++u<e.length;){const n=t[e[u][0]];Pm.call(n,e[u][1].type)&&n[e[u][1].type].call(Object.assign({sliceSerialize:e[u][2].sliceSerialize},a),e[u][1])}if(a.tokenStack.length>0){const e=a.tokenStack[a.tokenStack.length-1];(e[1]||zm).call(a,void 0,e[0])}for(r.position={start:Rm(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:Rm(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},u=-1;++u<t.transforms.length;)r=t.transforms[u](r)||r;return r}function s(e,t,n){let r,s,a,i,o=t-1,l=-1,A=!1;for(;++o<=n;){const t=e[o];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?l++:l--,i=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!r||i||l||a||(a=o),i=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:i=void 0}if(!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(r){let i=o;for(s=void 0;i--;){const t=e[i];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;s&&(e[s][1].type="lineEndingBlank",A=!0),t[1].type="lineEnding",s=i}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}a&&(!s||a<s)&&(r._spread=!0),r.end=Object.assign({},s?e[s][1].start:t[1].end),e.splice(s||o,0,["exit",r,t[2]]),o++,n++}if("listItemPrefix"===t[1].type){const s={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};r=s,e.splice(o,0,["enter",s,t[2]]),o++,n++,a=void 0,i=!0}}}return e[t][1]._spread=A,n}function a(e,t){return n;function n(n){o.call(this,e(n),n),t&&t.call(this,n)}}function i(){this.stack.push({type:"fragment",children:[]})}function o(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n]),e.position={start:Rm(t.start),end:void 0}}function l(e){return t;function t(t){e&&e.call(this,t),A.call(this,t)}}function A(e,t){const n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+Eh({start:e.start,end:e.end})+"): it\u2019s not open");if(r[0].type!==e.type)if(t)t.call(this,e,r[0]);else{(r[1]||zm).call(this,e,r[0])}n.position.end=Rm(e.end)}function c(){return function(e,t){const n=t||Jh;return Zh(e,"boolean"!==typeof n.includeImageAlt||n.includeImageAlt,"boolean"!==typeof n.includeHtml||n.includeHtml)}(this.stack.pop())}function u(){this.data.expectingFirstListItemValue=!0}function d(e){if(this.data.expectingFirstListItemValue){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0}}function h(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function p(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function f(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function v(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Wp(this.sliceSerialize(e)).toLowerCase()}function y(){const e=this.resume();this.stack[this.stack.length-1].title=e}function w(){const e=this.resume();this.stack[this.stack.length-1].url=e}function b(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function x(){this.data.setextHeadingSlurpLineEnding=!0}function B(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function k(e){const t=this.stack[this.stack.length-1].children;let n=t[t.length-1];n&&"text"===n.type||(n=ie(),n.position={start:Rm(e.start),end:void 0},t.push(n)),this.stack.push(n)}function S(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=Rm(e.end)}function E(e){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak){return n.children[n.children.length-1].position.end=Rm(e.end),void(this.data.atHardBreak=void 0)}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(k.call(this,e),S.call(this,e))}function j(){this.data.atHardBreak=!0}function I(){const e=this.resume();this.stack[this.stack.length-1].value=e}function F(){const e=this.resume();this.stack[this.stack.length-1].value=e}function Q(){const e=this.resume();this.stack[this.stack.length-1].value=e}function N(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function M(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function U(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(Hm,Lm)}(t),n.identifier=Wp(t).toLowerCase()}function T(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function D(){const e=this.resume();this.stack[this.stack.length-1].url=e}function H(){const e=this.resume();this.stack[this.stack.length-1].title=e}function L(){this.data.inReference=void 0}function P(){this.data.referenceType="collapsed"}function O(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Wp(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"}function R(e){this.data.characterReferenceType=e.type}function V(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let r;if(n)r=Dm(t,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0;else{r=lm(t)}this.stack[this.stack.length-1].value+=r}function K(e){this.stack.pop().position.end=Rm(e.end)}function z(e){S.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function _(e){S.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function G(){return{type:"blockquote",children:[]}}function W(){return{type:"code",lang:null,meta:null,value:""}}function Y(){return{type:"inlineCode",value:""}}function q(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function X(){return{type:"emphasis",children:[]}}function J(){return{type:"heading",depth:0,children:[]}}function Z(){return{type:"break"}}function $(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function te(){return{type:"link",title:null,url:"",children:[]}}function ne(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function re(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function se(){return{type:"paragraph",children:[]}}function ae(){return{type:"strong",children:[]}}function ie(){return{type:"text",value:""}}function oe(){return{type:"thematicBreak"}}}(n)(function(e){for(;!sp(e););return e}(Um(n).document().write(function(){let e,t=1,n="",r=!0;return function(s,a,i){const o=[];let l,A,c,u,d;for(s=n+("string"===typeof s?s.toString():new TextDecoder(a||void 0).decode(s)),c=0,n="",r&&(65279===s.charCodeAt(0)&&c++,r=void 0);c<s.length;){if(Tm.lastIndex=c,l=Tm.exec(s),u=l&&void 0!==l.index?l.index:s.length,d=s.charCodeAt(u),!l){n=s.slice(c);break}if(10===d&&c===u&&e)o.push(-3),e=void 0;else switch(e&&(o.push(-5),e=void 0),c<u&&(o.push(s.slice(c,u)),t+=u-c),d){case 0:o.push(65533),t++;break;case 9:for(A=4*Math.ceil(t/4),o.push(-2);t++<A;)o.push(-1);break;case 10:o.push(-4),t=1;break;default:e=!0,t=1}c=u+1}return i&&(e&&o.push(-5),n&&o.push(n),o.push(null)),o}}()(e,t,!0))))}function Rm(e){return{line:e.line,column:e.column,offset:e.offset}}function Vm(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Vm(e,r):Km(e,r)}}function Km(e,t){let n;for(n in t)if(Pm.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function zm(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Eh({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Eh({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Eh({start:t.start,end:t.end})+") is still open")}function _m(e){const t=this;t.parser=function(n){return Om(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}const Gm="object"===typeof self?self:globalThis,Wm=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),r=s=>{if(e.has(s))return e.get(s);const[a,i]=t[s];switch(a){case 0:case-1:return n(i,s);case 1:{const e=n([],s);for(const t of i)e.push(r(t));return e}case 2:{const e=n({},s);for(const[t,n]of i)e[r(t)]=r(n);return e}case 3:return n(new Date(i),s);case 4:{const{source:e,flags:t}=i;return n(new RegExp(e,t),s)}case 5:{const e=n(new Map,s);for(const[t,n]of i)e.set(r(t),r(n));return e}case 6:{const e=n(new Set,s);for(const t of i)e.add(r(t));return e}case 7:{const{name:e,message:t}=i;return n(new Gm[e](t),s)}case 8:return n(BigInt(i),s);case"BigInt":return n(Object(BigInt(i)),s)}return n(new Gm[a](i),s)};return r})(new Map,e)(0),Ym="",{toString:qm}={},{keys:Xm}=Object,Jm=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=qm.call(e).slice(8,-1);switch(n){case"Array":return[1,Ym];case"Object":return[2,Ym];case"Date":return[3,Ym];case"RegExp":return[4,Ym];case"Map":return[5,Ym];case"Set":return[6,Ym]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},Zm=e=>{let[t,n]=e;return 0===t&&("function"===n||"symbol"===n)},$m=function(e){let{json:t,lossy:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];return((e,t,n,r)=>{const s=(e,t)=>{const s=r.push(e)-1;return n.set(t,s),s},a=r=>{if(n.has(r))return n.get(r);let[i,o]=Jm(r);switch(i){case 0:{let t=r;switch(o){case"bigint":i=8,t=r.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+o);t=null;break;case"undefined":return s([-1],r)}return s([i,t],r)}case 1:{if(o)return s([o,[...r]],r);const e=[],t=s([i,e],r);for(const n of r)e.push(a(n));return t}case 2:{if(o)switch(o){case"BigInt":return s([o,r.toString()],r);case"Boolean":case"Number":case"String":return s([o,r.valueOf()],r)}if(t&&"toJSON"in r)return a(r.toJSON());const n=[],l=s([i,n],r);for(const t of Xm(r))!e&&Zm(Jm(r[t]))||n.push([a(t),a(r[t])]);return l}case 3:return s([i,r.toISOString()],r);case 4:{const{source:e,flags:t}=r;return s([i,{source:e,flags:t}],r)}case 5:{const t=[],n=s([i,t],r);for(const[s,i]of r)(e||!Zm(Jm(s))&&!Zm(Jm(i)))&&t.push([a(s),a(i)]);return n}case 6:{const t=[],n=s([i,t],r);for(const s of r)!e&&Zm(Jm(s))||t.push(a(s));return n}}const{message:l}=r;return s([i,{name:o,message:l}],r)};return a})(!(t||n),!!t,new Map,r)(e),r},ef="function"===typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?Wm($m(e,t)):structuredClone(e):(e,t)=>Wm($m(e,t));function tf(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const a=e.charCodeAt(n);let i="";if(37===a&&cp(e.charCodeAt(n+1))&&cp(e.charCodeAt(n+2)))s=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(i=String.fromCharCode(a));else if(a>55295&&a<57344){const t=e.charCodeAt(n+1);a<56320&&t>56319&&t<57344?(i=String.fromCharCode(a,t),s=1):i="\ufffd"}else i=String.fromCharCode(a);i&&(t.push(e.slice(r,n),encodeURIComponent(i)),r=n+s+1,i=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function nf(e,t){const n=[{type:"text",value:"\u21a9"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function rf(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const sf=function(e){if(null===e||void 0===e)return of;if("function"===typeof e)return af(e);if("object"===typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=sf(e[n]);return af(r);function r(){let e=-1;for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];for(;++e<t.length;)if(t[e].apply(this,r))return!0;return!1}}(e):function(e){const t=e;return af(n);function n(n){const r=n;let s;for(s in e)if(r[s]!==t[s])return!1;return!0}}(e);if("string"===typeof e)return function(e){return af(t);function t(t){return t&&t.type===e}}(e);throw new Error("Expected function, string, or object as test")};function af(e){return function(t,n,r){return Boolean(lf(t)&&e.call(this,t,"number"===typeof n?n:void 0,r||void 0))}}function of(){return!0}function lf(e){return null!==e&&"object"===typeof e&&"type"in e}const Af=[],cf=!0,uf=!1,df="skip";function hf(e,t,n,r){let s;"function"===typeof t&&"function"!==typeof n?(r=n,n=t):s=t;const a=sf(s),i=r?-1:1;!function e(s,o,l){const A=s&&"object"===typeof s?s:{};if("string"===typeof A.type){const e="string"===typeof A.tagName?A.tagName:"string"===typeof A.name?A.name:void 0;Object.defineProperty(c,"name",{value:"node ("+s.type+(e?"<"+e+">":"")+")"})}return c;function c(){let A,c,u,d=Af;if((!t||a(s,o,l[l.length-1]||void 0))&&(d=function(e){if(Array.isArray(e))return e;if("number"===typeof e)return[cf,e];return null===e||void 0===e?Af:[e]}(n(s,l)),d[0]===uf))return d;if("children"in s&&s.children){const t=s;if(t.children&&d[0]!==df)for(c=(r?t.children.length:-1)+i,u=l.concat(t);c>-1&&c<t.children.length;){const n=t.children[c];if(A=e(n,c,u)(),A[0]===uf)return A;c="number"===typeof A[1]?A[1]:c+i}}return d}}(e,void 0,[])()}function pf(e,t,n,r){let s,a,i;"function"===typeof t&&"function"!==typeof n?(a=void 0,i=t,s=n):(a=t,i=n,s=r),hf(e,a,(function(e,t){const n=t[t.length-1],r=n?n.children.indexOf(e):void 0;return i(e,r,n)}),s)}function mf(e,t){const n=t.referenceType;let r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),a=s[0];a&&"text"===a.type?a.value="["+a.value:s.unshift({type:"text",value:"["});const i=s[s.length-1];return i&&"text"===i.type?i.value+=r:s.push({type:"text",value:r}),s}function ff(e){const t=e.spread;return null===t||void 0===t?e.children.length>1:t}const gf=9,vf=32;function yf(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const a=[];for(;r;)a.push(wf(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return a.push(wf(t.slice(s),s>0,!1)),a.join("")}function wf(e,t,n){let r=0,s=e.length;if(t){let t=e.codePointAt(r);for(;t===gf||t===vf;)r++,t=e.codePointAt(r)}if(n){let t=e.codePointAt(s-1);for(;t===gf||t===vf;)s--,t=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}const bf={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",r={};t.lang&&(r.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n="string"===typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=tf(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let i,o=e.footnoteCounts.get(r);void 0===o?(o=0,e.footnoteOrder.push(r),i=e.footnoteOrder.length):i=a+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(i)}]};e.patch(t,l);const A={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,A),e.applyData(t,A)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return mf(e,t);const s={src:tf(r.url||""),alt:t.alt};null!==r.title&&void 0!==r.title&&(s.title=r.title);const a={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,a),e.applyData(t,a)},image:function(e,t){const n={src:tf(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return mf(e,t);const s={href:tf(r.url||"")};null!==r.title&&void 0!==r.title&&(s.title=r.title);const a={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)},link:function(e,t){const n={href:tf(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},listItem:function(e,t,n){const r=e.all(t),s=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=ff(n[r])}return t}(n):ff(t),a={},i=[];if("boolean"===typeof t.checked){const e=r[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},r.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const e=r[o];(s||0!==o||"element"!==e.type||"p"!==e.tagName)&&i.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||s?i.push(e):i.push(...e.children)}const l=r[r.length-1];l&&(s||"element"!==l.type||"p"!==l.tagName)&&i.push({type:"text",value:"\n"});const A={type:"element",tagName:"li",properties:a,children:i};return e.patch(t,A),e.applyData(t,A)},list:function(e,t){const n={},r=e.all(t);let s=-1;for("number"===typeof t.start&&1!==t.start&&(n.start=t.start);++s<r.length;){const e=r[s];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],n),s.push(n)}if(n.length>0){const r={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=kh(t.children[1]),i=Ch(t.children[t.children.length-1]);a&&i&&(r.position={start:a,end:i}),s.push(r)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,a),e.applyData(t,a)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const r=n?n.children:void 0,s=0===(r?r.indexOf(t):1)?"th":"td",a=n&&"table"===n.type?n.align:void 0,i=a?a.length:t.children.length;let o=-1;const l=[];for(;++o<i;){const n=t.children[o],r={},i=a?a[o]:void 0;i&&(r.align=i);let A={type:"element",tagName:s,properties:r,children:[]};n&&(A.children=e.all(n),e.patch(n,A),A=e.applyData(n,A)),l.push(A)}const A={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,A),e.applyData(t,A)},text:function(e,t){const n={type:"text",value:yf(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:xf,yaml:xf,definition:xf,footnoteDefinition:xf};function xf(){}const Bf={}.hasOwnProperty,Cf={};function kf(e,t){e.position&&(t.position=function(e){const t=kh(e),n=Ch(e);if(t&&n)return{start:t,end:n}}(e))}function Sf(e,t){let n=t;if(e&&e.data){const t=e.data.hName,r=e.data.hChildren,s=e.data.hProperties;if("string"===typeof t)if("element"===n.type)n.tagName=t;else{n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}}"element"===n.type&&s&&Object.assign(n.properties,ef(s)),"children"in n&&n.children&&null!==r&&void 0!==r&&(n.children=r)}return n}function Ef(e,t){const n=t.data||{},r=!("value"in t)||Bf.call(n,"hProperties")||Bf.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,r),e.applyData(t,r)}function jf(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:"\n"});++r<e.length;)r&&n.push({type:"text",value:"\n"}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function If(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function Ff(e,t){const n=function(e,t){const n=t||Cf,r=new Map,s=new Map,a=new Map,i={...bf,...n.handlers},o={all:function(e){const t=[];if("children"in e){const n=e.children;let r=-1;for(;++r<n.length;){const s=o.one(n[r],e);if(s){if(r&&"break"===n[r-1].type&&(Array.isArray(s)||"text"!==s.type||(s.value=If(s.value)),!Array.isArray(s)&&"element"===s.type)){const e=s.children[0];e&&"text"===e.type&&(e.value=If(e.value))}Array.isArray(s)?t.push(...s):t.push(s)}}}return t},applyData:Sf,definitionById:r,footnoteById:s,footnoteCounts:a,footnoteOrder:[],handlers:i,one:function(e,t){const n=e.type,r=o.handlers[n];if(Bf.call(o.handlers,n)&&r)return r(o,e,t);if(o.options.passThrough&&o.options.passThrough.includes(n)){if("children"in e){const{children:t,...n}=e,r=ef(n);return r.children=o.all(e),r}return ef(e)}return(o.options.unknownHandler||Ef)(o,e,t)},options:n,patch:kf,wrap:jf};return pf(e,(function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?r:s,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}})),o}(e,t),r=n.one(e,void 0),s=function(e){const t="string"===typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||nf,r=e.options.footnoteBackLabel||rf,s=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",i=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const s=e.footnoteById.get(e.footnoteOrder[l]);if(!s)continue;const a=e.all(s),i=String(s.identifier).toUpperCase(),A=tf(i.toLowerCase());let c=0;const u=[],d=e.footnoteCounts.get(i);for(;void 0!==d&&++c<=d;){u.length>0&&u.push({type:"text",value:" "});let e="string"===typeof n?n:n(l,c);"string"===typeof e&&(e={type:"text",value:e}),u.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+A+(c>1?"-"+c:""),dataFootnoteBackref:"",ariaLabel:"string"===typeof r?r:r(l,c),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const h=a[a.length-1];if(h&&"element"===h.type&&"p"===h.tagName){const e=h.children[h.children.length-1];e&&"text"===e.type?e.value+=" ":h.children.push({type:"text",value:" "}),h.children.push(...u)}else a.push(...u);const p={type:"element",tagName:"li",properties:{id:t+"fn-"+A},children:e.wrap(a,!0)};e.patch(s,p),o.push(p)}if(0!==o.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...ef(i),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:"\n"}]}}(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&a.children.push({type:"text",value:"\n"},s),a}function Qf(e,t){return e&&"run"in e?async function(n,r){const s=Ff(n,{file:r,...t});await e.run(s,r)}:function(n,r){return Ff(n,{file:r,...t||e})}}function Nf(e){if(e)throw e}var Mf=n(755);function Uf(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Tf(){const e=[],t={run:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];let s=-1;const a=n.pop();if("function"!==typeof a)throw new TypeError("Expected function as last argument, not "+a);!function t(r){const i=e[++s];let o=-1;if(r)a(r);else{for(var l=arguments.length,A=new Array(l>1?l-1:0),c=1;c<l;c++)A[c-1]=arguments[c];for(;++o<n.length;)null!==A[o]&&void 0!==A[o]||(A[o]=n[o]);n=A,i?function(e,t){let n;return s;function s(){for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];const l=e.length>s.length;let A;l&&s.push(a);try{A=e.apply(this,s)}catch(r){if(l&&n)throw r;return a(r)}l||(A&&A.then&&"function"===typeof A.then?A.then(i,a):A instanceof Error?a(A):i(A))}function a(e){if(!n){n=!0;for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];t(e,...s)}}function i(e){a(null,e)}}(i,t)(...A):a(null,...A)}}(null,...n)},use:function(n){if("function"!==typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}const Df={basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');Hf(e);let n,r=0,s=-1,a=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;a--;)if(47===e.codePointAt(a)){if(n){r=a+1;break}}else s<0&&(n=!0,s=a+1);return s<0?"":e.slice(r,s)}if(t===e)return"";let i=-1,o=t.length-1;for(;a--;)if(47===e.codePointAt(a)){if(n){r=a+1;break}}else i<0&&(n=!0,i=a+1),o>-1&&(e.codePointAt(a)===t.codePointAt(o--)?o<0&&(s=a):(o=-1,s=i));r===s?s=i:s<0&&(s=e.length);return e.slice(r,s)},dirname:function(e){if(Hf(e),0===e.length)return".";let t,n=-1,r=e.length;for(;--r;)if(47===e.codePointAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},extname:function(e){Hf(e);let t,n=e.length,r=-1,s=0,a=-1,i=0;for(;n--;){const o=e.codePointAt(n);if(47!==o)r<0&&(t=!0,r=n+1),46===o?a<0?a=n:1!==i&&(i=1):a>-1&&(i=-1);else if(t){s=n+1;break}}if(a<0||r<0||0===i||1===i&&a===r-1&&a===s+1)return"";return e.slice(a,r)},join:function(){let e,t=-1;for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];for(;++t<r.length;)Hf(r[t]),r[t]&&(e=void 0===e?r[t]:e+"/"+r[t]);return void 0===e?".":function(e){Hf(e);const t=47===e.codePointAt(0);let n=function(e,t){let n,r,s="",a=0,i=-1,o=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.codePointAt(l);else{if(47===n)break;n=47}if(47===n){if(i===l-1||1===o);else if(i!==l-1&&2===o){if(s.length<2||2!==a||46!==s.codePointAt(s.length-1)||46!==s.codePointAt(s.length-2))if(s.length>2){if(r=s.lastIndexOf("/"),r!==s.length-1){r<0?(s="",a=0):(s=s.slice(0,r),a=s.length-1-s.lastIndexOf("/")),i=l,o=0;continue}}else if(s.length>0){s="",a=0,i=l,o=0;continue}t&&(s=s.length>0?s+"/..":"..",a=2)}else s.length>0?s+="/"+e.slice(i+1,l):s=e.slice(i+1,l),a=l-i-1;i=l,o=0}else 46===n&&o>-1?o++:o=-1}return s}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/");return t?"/"+n:n}(e)},sep:"/"};function Hf(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Lf={cwd:function(){return"/"}};function Pf(e){return Boolean(null!==e&&"object"===typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}function Of(e){if("string"===typeof e)e=new URL(e);else if(!Pf(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){const e=t.codePointAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const Rf=["history","path","basename","stem","extname","dirname"];class Vf{constructor(e){let t;t=e?Pf(e)?{path:e}:"string"===typeof e||function(e){return Boolean(e&&"object"===typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd=Lf.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,r=-1;for(;++r<Rf.length;){const e=Rf[r];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)Rf.includes(n)||(this[n]=t[n])}get basename(){return"string"===typeof this.path?Df.basename(this.path):void 0}set basename(e){zf(e,"basename"),Kf(e,"basename"),this.path=Df.join(this.dirname||"",e)}get dirname(){return"string"===typeof this.path?Df.dirname(this.path):void 0}set dirname(e){_f(this.basename,"dirname"),this.path=Df.join(e||"",this.basename)}get extname(){return"string"===typeof this.path?Df.extname(this.path):void 0}set extname(e){if(Kf(e,"extname"),_f(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Df.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Pf(e)&&(e=Of(e)),zf(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"===typeof this.path?Df.basename(this.path,this.extname):void 0}set stem(e){zf(e,"stem"),Kf(e,"stem"),this.path=Df.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=void 0,r}message(e,t,n){const r=new Qh(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){if(void 0===this.value)return"";if("string"===typeof this.value)return this.value;return new TextDecoder(e||void 0).decode(this.value)}}function Kf(e,t){if(e&&e.includes(Df.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Df.sep+"`")}function zf(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function _f(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const Gf=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},Wf={}.hasOwnProperty;class Yf extends Gf{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Tf()}copy(){const e=new Yf;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(Mf(!0,{},this.namespace)),e}data(e,t){return"string"===typeof e?2===arguments.length?(Zf("data",this.frozen),this.namespace[e]=t,this):Wf.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Zf("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const r=t.call(e,...n);"function"===typeof r&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=tg(e),n=this.parser||this.Parser;return Xf("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),Xf("process",this.parser||this.Parser),Jf("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(r,s){const a=tg(e),i=n.parse(a);function o(e,n){e||!n?s(e):r?r(n):t(void 0,n)}n.run(i,a,(function(e,t,r){if(e||!t||!r)return o(e);const s=t,a=n.stringify(s,r);var i;"string"===typeof(i=a)||function(e){return Boolean(e&&"object"===typeof e&&"byteLength"in e&&"byteOffset"in e)}(i)?r.value=a:r.result=a,o(e,r)}))}}processSync(e){let t,n=!1;return this.freeze(),Xf("processSync",this.parser||this.Parser),Jf("processSync",this.compiler||this.Compiler),this.process(e,(function(e,r){n=!0,Nf(e),t=r})),eg("processSync","process",n),t}run(e,t,n){$f(e),this.freeze();const r=this.transformers;return n||"function"!==typeof t||(n=t,t=void 0),n?s(void 0,n):new Promise(s);function s(s,a){const i=tg(t);r.run(e,i,(function(t,r,i){const o=r||e;t?a(t):s?s(o):n(void 0,o,i)}))}}runSync(e,t){let n,r=!1;return this.run(e,t,(function(e,t){Nf(e),n=t,r=!0})),eg("runSync","run",r),n}stringify(e,t){this.freeze();const n=tg(t),r=this.compiler||this.Compiler;return Jf("stringify",r),$f(e),r(e,n)}use(e){const t=this.attachers,n=this.namespace;if(Zf("use",this.frozen),null===e||void 0===e);else if("function"===typeof e){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];A(e,s)}else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?l(e):o(e)}return this;function i(e){if("function"===typeof e)A(e,[]);else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;A(t,n)}else o(e)}}function o(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(e.plugins),e.settings&&(n.settings=Mf(!0,n.settings,e.settings))}function l(e){let t=-1;if(null===e||void 0===e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){i(e[t])}}}function A(e,n){let r=-1,s=-1;for(;++r<t.length;)if(t[r][0]===e){s=r;break}if(-1===s)t.push([e,...n]);else if(n.length>0){let[r,...a]=n;const i=t[s][1];Uf(i)&&Uf(r)&&(r=Mf(!0,i,r)),t[s]=[e,r,...a]}}}}const qf=(new Yf).freeze();function Xf(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function Jf(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function Zf(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function $f(e){if(!Uf(e)||"string"!==typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function eg(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function tg(e){return function(e){return Boolean(e&&"object"===typeof e&&"message"in e&&"messages"in e)}(e)?e:new Vf(e)}const ng=[],rg={allowDangerousHtml:!0},sg=/^(https?|ircs?|mailto|xmpp)$/i,ag=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function ig(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",s=e.className,a=e.components,i=e.disallowedElements,o=e.rehypePlugins||ng,l=e.remarkPlugins||ng,A=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...rg}:rg,c=e.skipHtml,u=e.unwrapDisallowed,d=e.urlTransform||og,h=qf().use(_m).use(l).use(Qf,A).use(o),p=new Vf;"string"===typeof r&&(p.value=r);for(const g of ag)Object.hasOwn(e,g.from)&&(g.from,g.to&&g.to,g.id);const m=h.parse(p);let f=h.runSync(m,p);return s&&(f={type:"element",tagName:"div",properties:{className:s},children:"root"===f.type?f.children:[f]}),pf(f,(function(e,r,s){if("raw"===e.type&&s&&"number"===typeof r)return c?s.children.splice(r,1):s.children[r]={type:"text",value:e.value},r;if("element"===e.type){let t;for(t in Xh)if(Object.hasOwn(Xh,t)&&Object.hasOwn(e.properties,t)){const n=e.properties[t],r=Xh[t];(null===r||r.includes(e.tagName))&&(e.properties[t]=d(String(n||""),t,e))}}if("element"===e.type){let a=t?!t.includes(e.tagName):!!i&&i.includes(e.tagName);if(!a&&n&&"number"===typeof r&&(a=!n(e,r,s)),a&&s&&"number"===typeof r)return u&&e.children?s.children.splice(r,1,...e.children):s.children.splice(r,1),r}})),Ph(f,{Fragment:bo.Fragment,components:a,ignoreInvalidStyle:!0,jsx:bo.jsx,jsxs:bo.jsxs,passKeys:!0,passNode:!0})}function og(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return t<0||s>-1&&t>s||n>-1&&t>n||r>-1&&t>r||sg.test(e.slice(0,t))?e:""}const lg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"};var Ag=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:lg}))};const cg=A.forwardRef(Ag);class ug extends A.Component{constructor(e){super(e),this.state={visible:!1}}onConfirm(){this.setState({visible:!1},(()=>this.props.onConfirm()))}render(){try{let e=null;const t=this.props.disabled?"confirm-button disabled":"confirm-button";return e="string"===typeof this.props.children?(0,bo.jsx)("button",{className:t,children:this.props.children}):(0,bo.jsx)("div",{className:t,children:this.props.children}),(0,bo.jsx)(hc,{content:(0,bo.jsxs)("div",{children:[(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)(cg,{style:{color:"red"}}),(0,bo.jsx)("span",{style:{marginLeft:"10px"},children:this.props.prompt})]}),this.props.info,(0,bo.jsx)("hr",{}),(0,bo.jsx)("button",{onClick:()=>this.onConfirm(),children:"confirm"})]}),trigger:"click",overlayClassName:"confirm-tooltip",open:this.state.visible,onOpenChange:e=>this.setState({visible:e}),children:e})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"ConfirmButton",error:bC})}}}ug.defaultProps={prompt:"are you sure you want to do this?",info:null,disabled:!1};const dg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};var hg=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:dg}))};const pg=A.forwardRef(hg);class mg extends A.Component{constructor(e){super(e),this.state={open:!1,filterText:""}}toggleOpen(e){e.stopPropagation(),this.setState({open:!this.state.open})}setFilterText(e){this.setState({filterText:e})}select(e){this.setState({open:!1}),this.props.onSelect(e)}clear(e){e.stopPropagation(),this.props.onClear()}render(){try{if(0===this.props.options.length)return null;let e=this.props.disabled?"dropdown disabled":"dropdown";const t=[];let n;this.props.selectedID&&(n=this.props.options.find((e=>e.id===this.props.selectedID)));const r=n&&this.props.onClear;if(t.push((0,bo.jsxs)("div",{className:"dropdown-top",title:n?n.text:this.props.placeholder,children:[(0,bo.jsx)("div",{className:"item-text",children:n?n.text:this.props.placeholder}),r?(0,bo.jsx)(Le,{onClick:e=>this.clear(e)}):(0,bo.jsx)(pg,{className:"ellipsis"})]},"selection")),this.state.open){e+=" open";let n=null;this.props.options.length>15&&(n=(0,bo.jsx)("div",{className:"dropdown-filter",onClick:e=>e.stopPropagation(),role:"button",children:(0,bo.jsx)(xo,{text:this.state.filterText,placeholder:"search this list...",onChange:e=>this.setFilterText(e)})}));const r=this.props.options.map((e=>{if(null===e.text)return(0,bo.jsx)("hr",{},e.id);return so.match(this.state.filterText,e.text)?(0,bo.jsx)(fg,{option:e,selected:e.id===this.props.selectedID,select:e=>this.select(e)},e.id):null})).filter((e=>!!e));t.push((0,bo.jsxs)("div",{className:"dropdown-options",children:[n,r]},"options"))}return(0,bo.jsx)("div",{className:e,onClick:e=>this.toggleOpen(e),role:"button",children:t})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"Dropdown",error:bC})}}}mg.defaultProps={selectedID:null,placeholder:"select...",disabled:!1,onClear:null};class fg extends A.Component{click(e){e.stopPropagation(),this.props.option.disabled||this.props.select(this.props.option.id)}render(){try{let e="dropdown-option";return this.props.selected&&(e+=" selected"),this.props.option.disabled&&(e+=" disabled"),(0,bo.jsx)("div",{className:e,onClick:e=>this.click(e),role:"button",children:this.props.option.text})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"DropdownOption",error:bC})}}}class gg extends A.Component{render(){try{return this.props.children?(0,bo.jsxs)("div",{className:"note",children:[(0,bo.jsx)("div",{className:"top-left-roundel"}),(0,bo.jsx)("div",{className:"top-right-roundel"}),(0,bo.jsx)("div",{className:"bottom-left-roundel"}),(0,bo.jsx)("div",{className:"bottom-right-roundel"}),this.props.children]}):null}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"Note",error:bC})}}}const vg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M697.8 481.4c33.6-35 54.2-82.3 54.2-134.3v-10.2C752 229.3 663.9 142 555.3 142H259.4c-15.1 0-27.4 12.3-27.4 27.4v679.1c0 16.3 13.2 29.5 29.5 29.5h318.7c117 0 211.8-94.2 211.8-210.5v-11c0-73-37.4-137.3-94.2-175.1zM328 238h224.7c57.1 0 103.3 44.4 103.3 99.3v9.5c0 54.8-46.3 99.3-103.3 99.3H328V238zm366.6 429.4c0 62.9-51.7 113.9-115.5 113.9H328V542.7h251.1c63.8 0 115.5 51 115.5 113.9v10.8z"}}]},name:"bold",theme:"outlined"};var yg=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:vg}))};const wg=A.forwardRef(yg);const bg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M798 160H366c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h181.2l-156 544H229c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h432c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8H474.4l156-544H798c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"italic",theme:"outlined"};var xg=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:bg}))};const Bg=A.forwardRef(xg);const Cg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"}}]},name:"link",theme:"outlined"};var kg=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Cg}))};const Sg=A.forwardRef(kg);const Eg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M516 673c0 4.4 3.4 8 7.5 8h185c4.1 0 7.5-3.6 7.5-8v-48c0-4.4-3.4-8-7.5-8h-185c-4.1 0-7.5 3.6-7.5 8v48zm-194.9 6.1l192-161c3.8-3.2 3.8-9.1 0-12.3l-192-160.9A7.95 7.95 0 00308 351v62.7c0 2.4 1 4.6 2.9 6.1L420.7 512l-109.8 92.2a8.1 8.1 0 00-2.9 6.1V673c0 6.8 7.9 10.5 13.1 6.1zM880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"code",theme:"outlined"};var jg=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Eg}))};const Ig=A.forwardRef(jg);const Fg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"unordered-list",theme:"outlined"};var Qg=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Fg}))};const Ng=A.forwardRef(Qg);const Mg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M920 760H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-568H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM216 712H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h72.4v20.5h-35.7c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h35.7V838H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4V716c0-2.2-1.8-4-4-4zM100 188h38v120c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4V152c0-4.4-3.6-8-8-8h-78c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4zm116 240H100c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4h68.4l-70.3 77.7a8.3 8.3 0 00-2.1 5.4V592c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4v-36c0-2.2-1.8-4-4-4h-68.4l70.3-77.7a8.3 8.3 0 002.1-5.4V432c0-2.2-1.8-4-4-4z"}}]},name:"ordered-list",theme:"outlined"};var Ug=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Mg}))};const Tg=A.forwardRef(Ug);var Dg=n(3087);class Hg extends A.Component{constructor(e){super(e),this.state={detailsTab:"write"}}getIcon(e){switch(e){case"bold":return(0,bo.jsx)(wg,{});case"italic":return(0,bo.jsx)(Bg,{});case"link":return(0,bo.jsx)(Sg,{});case"quote":return(0,bo.jsx)(Po,{rotate:90});case"code":return(0,bo.jsx)(Ig,{});case"unordered-list":return(0,bo.jsx)(Ng,{});case"ordered-list":return(0,bo.jsx)(Tg,{})}return null}render(){try{return(0,bo.jsx)(Dg.default,{value:this.props.text,onChange:e=>this.props.onChange(e),selectedTab:this.state.detailsTab,onTabChange:e=>this.setState({detailsTab:e}),toolbarCommands:[["bold","italic"],["link","quote","code"],["unordered-list","ordered-list"]],getIcon:e=>this.getIcon(e),generateMarkdownPreview:e=>Promise.resolve((0,bo.jsx)(ig,{children:e}))})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"MarkdownEditor",error:bC})}}}class Lg extends A.Component{render(){try{if(this.props.display)try{return(0,bo.jsx)("div",{children:this.props.children})}catch{return null}return null}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"Conditional",error:bC})}}}class Pg extends A.Component{createSection(e,t){const n=e[t];if(0===n.length)return null;let r=null;if("legendary"===this.props.mode||"lair"===this.props.mode)switch(t){case"legendary":case"mythic":{let e=null,n=null;if(this.props.combatant.legendaryActions>0&&(e=(0,bo.jsxs)("div",{children:[(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("b",{children:this.props.combatant.legendaryActions})," legendary actions per round"]}),(0,bo.jsx)("hr",{})]}),"legendary"===this.props.mode)){let e=0;this.props.combatant.traits.filter((e=>("legendary"===e.type||"mythic"===e.type)&&e.uses>0)).forEach((t=>{let n=1;if(t.usage){const e=t.usage.toLowerCase().match(/\D*(\d*)\D*/);e&&(n=parseInt(e[1],10))}e+=n})),e=Math.min(e,this.props.combatant.legendaryActions);const t=Math.max(this.props.combatant.legendaryActions-e,0),r=[];for(let n=0;n!==e;++n)r.push((0,bo.jsx)(Id,{},"used "+n));for(let n=0;n!==t;++n)r.push((0,bo.jsx)(Nd,{},"unused "+n));n=(0,bo.jsxs)("div",{children:[(0,bo.jsx)("hr",{}),(0,bo.jsx)("div",{className:"section centered legendary-usage",children:r})]})}"legendary"===t&&(r=(0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{children:e}),(0,bo.jsx)("div",{className:"section",children:"one legendary action can be used at the end of each other combatant's turn; spent actions are refreshed at the start of the monster's turn"}),(0,bo.jsx)("div",{children:n})]})),"mythic"===t&&(r=(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"while the monster's mythic trait is active, the following can be used as legendary actions"})}))}break;case"lair":r=(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"one lair action can be taken each round on initiative 20"})})}else"legendary"===t&&(r=(0,bo.jsx)(gg,{children:(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("b",{children:this.props.combatant.legendaryActions})," legendary actions per round"]})})),"mythic"===t&&(r=(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"while the monster's mythic trait is active, the following can be used as legendary actions"})}));return(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"section subheading",children:io.traitType(t,!0)}),r,n]})}render(){try{const e={};return ho.forEach((t=>{e[t]=this.props.combatant.traits.filter((e=>e.type===t)).map((e=>(0,bo.jsx)(Og,{trait:e,mode:this.props.mode,showRollButtons:this.props.showRollButtons,copyTrait:e=>this.props.copyTrait(e),useTrait:e=>this.props.useTrait(e),rechargeTrait:e=>this.props.rechargeTrait(e),onRollDice:(e,t,n,r,s)=>this.props.onRollDice(e,t,n,r,s)},e.id)))})),0===this.props.combatant.traits.length?(0,bo.jsx)("div",{children:(0,bo.jsx)("i",{children:"no traits or actions"})}):"combat"===this.props.mode?(0,bo.jsxs)("div",{children:[this.createSection(e,"trait"),this.createSection(e,"action"),this.createSection(e,"bonus"),this.createSection(e,"reaction")]}):"legendary"===this.props.mode?(0,bo.jsxs)("div",{children:[this.createSection(e,"legendary"),this.createSection(e,"mythic")]}):"lair"===this.props.mode?(0,bo.jsx)("div",{children:this.createSection(e,"lair")}):(0,bo.jsxs)("div",{children:[this.createSection(e,"trait"),this.createSection(e,"action"),this.createSection(e,"bonus"),this.createSection(e,"reaction"),this.createSection(e,"legendary"),this.createSection(e,"mythic"),this.createSection(e,"lair")]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"TraitsPanel",error:bC})}}}Pg.defaultProps={mode:"view",showRollButtons:!1,copyTrait:null,useTrait:null,rechargeTrait:null,onRollDice:null};class Og extends A.Component{render(){try{let e=0,t=this.props.trait.name||"unnamed "+io.traitType(this.props.trait.type,!1);if(this.props.trait.usage){let n="";this.props.trait.usage.toLowerCase().startsWith("recharge")&&(e=1,this.props.trait.uses>0&&(n="; used"));const r=this.props.trait.usage.toLowerCase().match(/(\d+)\s*\/\s*day/);r&&(e=parseInt(r[1],10),this.props.trait.uses>0&&(n="; used "+this.props.trait.uses)),t+=" *("+this.props.trait.usage+n+")*"}"legendary"!==this.props.trait.type&&"mythic"!==this.props.trait.type||(e=1,this.props.trait.uses>0&&(t+=" *(used)*"));const n="**"+t+"** "+this.props.trait.text;switch(this.props.mode){case"view":return(0,bo.jsx)("div",{className:"section trait",children:(0,bo.jsx)(ig,{children:n})},this.props.trait.id);case"template":return(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsxs)("div",{className:"content",children:[(0,bo.jsx)(ig,{children:n}),(0,bo.jsxs)("div",{className:"section",children:["from ",this.props.source?this.props.source.name||"unnamed monster":""]})]}),(0,bo.jsxs)("div",{className:"icons",children:[(0,bo.jsx)(Po,{rotate:270,title:"import",onClick:()=>this.props.copyTrait(this.props.trait)}),(0,bo.jsx)(Lg,{display:this.props.showMultiple,children:(0,bo.jsx)(Td,{title:"see all",onClick:()=>this.props.viewMultiple(this.props.trait)})})]})]},this.props.trait.id);case"combat":case"legendary":case"lair":{let t="";const r=[];e>0&&(this.props.trait.uses>=e?(t="strikethrough",r.push((0,bo.jsx)("button",{className:"link",onClick:()=>this.props.rechargeTrait(this.props.trait),children:"recharge"},"use"))):r.push((0,bo.jsx)("button",{className:"link",onClick:()=>this.props.useTrait(this.props.trait),children:"use"},"use"))),this.props.showRollButtons&&(po.getToHitExpressions(this.props.trait).forEach((e=>{r.push((0,bo.jsx)(hc,{content:(0,bo.jsxs)("div",{children:[(0,bo.jsx)("button",{onClick:()=>this.props.onRollDice(this.props.trait.name,1,20,e.bonus,"advantage"),children:"adv"}),(0,bo.jsx)("button",{onClick:()=>this.props.onRollDice(this.props.trait.name,1,20,e.bonus,"disadvantage"),children:"dis"})]}),trigger:"contextMenu",children:(0,bo.jsx)("button",{className:"link",onClick:()=>this.props.onRollDice(this.props.trait.name,1,20,e.bonus,""),children:e.expression})},e.expression))})),po.getDiceExpressions(this.props.trait).forEach((e=>{r.push((0,bo.jsx)("button",{className:"link",onClick:()=>this.props.onRollDice(this.props.trait.name,e.count,e.sides,e.bonus,""),children:e.expression},e.expression))})));let s=null;return r.length>0&&(s=(0,bo.jsx)("div",{className:"trait-buttons",children:r})),(0,bo.jsxs)("div",{className:"section trait",children:[(0,bo.jsx)("div",{className:t,children:(0,bo.jsx)(ig,{children:n})}),s]},this.props.trait.id)}}}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"TraitPanel",error:bC})}}}Og.defaultProps={mode:"view",showRollButtons:!1,showMultiple:!1,source:null,copyTrait:null,useTrait:null,rechargeTrait:null,viewMultiple:null,onRollDice:null};class Rg extends A.Component{render(){try{return(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("div",{className:"subheading",children:"feature name"}),(0,bo.jsx)(xo,{text:this.props.trait.name,onChange:e=>this.props.changeValue(this.props.trait,"name",e)}),(0,bo.jsx)("div",{className:"subheading",children:"usage"}),(0,bo.jsx)(xo,{text:this.props.trait.usage,onChange:e=>this.props.changeValue(this.props.trait,"usage",e)}),(0,bo.jsx)("div",{className:"subheading",children:"details"}),(0,bo.jsx)(Hg,{text:this.props.trait.text,onChange:e=>this.props.changeValue(this.props.trait,"text",e)}),(0,bo.jsx)("hr",{}),(0,bo.jsx)(mg,{placeholder:"move to...",options:ho.map((e=>({id:e,text:io.traitType(e,!0),disabled:this.props.trait.type===e}))),onSelect:e=>this.props.changeValue(this.props.trait,"type",e)}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("button",{onClick:()=>this.props.copyTrait(this.props.trait),children:"create a copy of this feature"}),(0,bo.jsx)(ug,{onConfirm:()=>this.props.deleteTrait(this.props.trait),children:"delete this feature"})]},this.props.trait.id)}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"TraitEditorPanel",error:bC})}}}class Vg extends A.Component{getCR(){return io.challenge(this.props.monster.challenge)+" ("+(io.experience(this.props.monster.challenge)+" xp")+"; "+("proficiency bonus +"+io.proficiency(this.props.monster.challenge))+")"}getAC(){let e=this.props.monster.ac.toString();return this.props.monster.acInfo&&(e+=" ("+this.props.monster.acInfo+")"),e}getHP(){return po.getTypicalHP(this.props.monster)+" ("+po.getTypicalHPString(this.props.monster)+")"}statSection(e,t){if(!t)return null;let n=!0,r=null;if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]){let e=t;const s=[];Array.from(t.matchAll(/([^,;:/]*)\s+([+-]?)\s*(\d+)/g)).forEach((t=>{const n=t[0],r=t[2]||"+",a=parseInt(t[3],10)*("+"===r?1:-1);s.push((0,bo.jsx)(hc,{content:(0,bo.jsxs)("div",{children:[(0,bo.jsx)("button",{onClick:()=>this.props.onRollDice(n,1,20,a,"advantage"),children:"adv"}),(0,bo.jsx)("button",{onClick:()=>this.props.onRollDice(n,1,20,a,"disadvantage"),children:"dis"})]}),trigger:"contextMenu",children:(0,bo.jsx)("button",{className:"link",onClick:()=>this.props.onRollDice(n,1,20,a,""),children:n})},n)),e=e.replace(n,"")})),n=!!e.match(/[a-zA-Z]/),r=(0,bo.jsx)("div",{className:"roll-buttons",children:s})}return(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("b",{children:e})," ",n?t:null,r]})}getTags(){const e=[];let t=this.props.monster.size;const n=this.props.monster;n&&(t=n.displaySize||t);let r=(t+" "+this.props.monster.category).toLowerCase();return this.props.monster.tag&&(r+=" ("+this.props.monster.tag.toLowerCase()+")"),e.push((0,bo.jsx)(Pc,{children:r},"tag-main")),this.props.monster.alignment&&e.push((0,bo.jsx)(Pc,{children:this.props.monster.alignment.toLowerCase()},"tag-align")),e}getStats(){let e=null;const t=this.props.monster;if(null!==t.hpCurrent&&void 0!==t.hpCurrent){var n,r;const s=null!==(n=t.hpCurrent)&&void 0!==n?n:0,a=null!==(r=t.hpTemp)&&void 0!==r?r:0;let i=s.toString();a>0&&(i+="+"+a),e=(0,bo.jsxs)("div",{children:[(0,bo.jsx)("hr",{}),(0,bo.jsxs)(Os,{children:[(0,bo.jsx)(zs,{span:12,children:(0,bo.jsx)(Oc,{label:"armor class",value:this.props.monster.ac})}),(0,bo.jsx)(zs,{span:12,children:(0,bo.jsx)(Oc,{label:"hit points",value:i})})]})]})}return(0,bo.jsxs)("div",{className:"stats",children:[(0,bo.jsx)(Sd,{source:this.props.monster}),(0,bo.jsx)("div",{className:"section centered",children:this.getTags()}),e,(0,bo.jsx)("hr",{}),(0,bo.jsx)("div",{className:"section",children:(0,bo.jsx)(Rc,{combatant:this.props.monster,showRollButtons:this.props.showRollButtons,onRollDice:(e,t,n,r,s)=>this.props.onRollDice(e,t,n,r,s)})}),this.statSection("ac",this.getAC()),this.statSection("hp",this.getHP()),this.statSection("saving throws",this.props.monster.savingThrows,this.props.showRollButtons),this.statSection("skills",this.props.monster.skills,this.props.showRollButtons),this.statSection("speed",this.props.monster.speed),this.statSection("senses",this.props.monster.senses),this.statSection("damage resistances",this.props.monster.damage.resist),this.statSection("damage vulnerabilities",this.props.monster.damage.vulnerable),this.statSection("damage immunities",this.props.monster.damage.immune),this.statSection("condition immunities",this.props.monster.conditionImmunities),this.statSection("languages",this.props.monster.languages),this.statSection("challenge rating",this.getCR()),(0,bo.jsx)("hr",{}),(0,bo.jsx)(Pg,{combatant:this.props.monster,mode:this.props.combat?"combat":"view",showRollButtons:this.props.showRollButtons,useTrait:e=>this.props.useTrait(e),rechargeTrait:e=>this.props.rechargeTrait(e),onRollDice:(e,t,n,r,s)=>this.props.onRollDice(e,t,n,r,s)})]})}render(){try{const e=(this.props.monster?this.props.monster.displayName:null)||this.props.monster.name||"unnamed monster";return(0,bo.jsxs)("div",{className:"card monster",children:[(0,bo.jsx)("div",{className:"heading",children:(0,bo.jsx)("div",{className:"title",title:e,children:e})}),(0,bo.jsx)("div",{className:"card-content",children:this.getStats()})]},this.props.monster.id)}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"MonsterStatblockCard",error:bC})}}}Vg.defaultProps={combat:!1,showRollButtons:!1,useTrait:null,rechargeTrait:null,onRollDice:null};class Kg extends A.Component{getCR(){return io.challenge(this.props.monster.challenge)+" ("+(io.experience(this.props.monster.challenge)+" xp")+"; "+("proficiency bonus +"+io.proficiency(this.props.monster.challenge))+")"}getAC(){let e=this.props.monster.ac.toString();return this.props.monster.acInfo&&(e+=" ("+this.props.monster.acInfo+")"),e}getHP(){return po.getTypicalHP(this.props.monster)+" ("+po.getTypicalHPString(this.props.monster)+")"}statSection(e,t){return t?(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("b",{children:e})," ",t]}):null}getTags(){const e=[];let t=(this.props.monster.size+" "+this.props.monster.category).toLowerCase();return this.props.monster.tag&&(t+=" ("+this.props.monster.tag.toLowerCase()+")"),e.push((0,bo.jsx)(Pc,{children:t},"tag-main")),this.props.monster.alignment&&e.push((0,bo.jsx)(Pc,{children:this.props.monster.alignment.toLowerCase()},"tag-align")),e}getStats(){switch(this.props.section){case"overview":return(0,bo.jsxs)("div",{children:[(0,bo.jsx)(Sd,{source:this.props.monster}),(0,bo.jsx)("div",{className:"section centered",children:this.getTags()}),(0,bo.jsx)("hr",{}),this.statSection("speed",this.props.monster.speed),this.statSection("senses",this.props.monster.senses),this.statSection("languages",this.props.monster.languages),this.statSection("challenge rating",this.getCR())]});case"abilities":return(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"section",children:(0,bo.jsx)(Rc,{combatant:this.props.monster})}),this.statSection("saving throws",this.props.monster.savingThrows),this.statSection("skills",this.props.monster.skills)]});case"combat":return(0,bo.jsxs)("div",{children:[this.statSection("ac",this.getAC()),this.statSection("hp",this.getHP()),this.statSection("damage resistances",this.props.monster.damage.resist),this.statSection("damage vulnerabilities",this.props.monster.damage.vulnerable),this.statSection("damage immunities",this.props.monster.damage.immune),this.statSection("condition immunities",this.props.monster.conditionImmunities)]});case"features":return(0,bo.jsx)(Pg,{combatant:this.props.monster,mode:"template",copyTrait:e=>this.props.copyTrait(e)})}}render(){const e=this.props.monster.name||"unnamed monster";try{return(0,bo.jsxs)("div",{className:"card monster",children:[(0,bo.jsx)("div",{className:"heading",children:(0,bo.jsx)("div",{className:"title",title:e,children:e})}),(0,bo.jsx)("div",{className:"card-content",children:this.getStats()})]},this.props.monster.id)}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"MonsterTemplateCard",error:bC})}}}class zg extends A.Component{click(e){e.stopPropagation(),this.props.onChecked(!this.props.checked)}render(){try{let e="checkbox";this.props.checked&&(e+=" checked"),this.props.disabled&&(e+=" disabled");const t=(0,bo.jsx)("div",{className:"toggle-container",children:(0,bo.jsx)("div",{className:"toggle"})});return(0,bo.jsxs)("div",{className:e,onClick:e=>this.click(e),role:"button",children:[(0,bo.jsx)("div",{className:"checkbox-label",children:this.props.label}),t]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"Checkbox",error:bC})}}}zg.defaultProps={disabled:!1};const _g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M690 405h-46.9c-10.2 0-19.9 4.9-25.9 13.2L512 563.6 406.8 418.2c-6-8.3-15.6-13.2-25.9-13.2H334c-6.5 0-10.3 7.4-6.5 12.7l178 246c3.2 4.4 9.7 4.4 12.9 0l178-246c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"down-circle",theme:"outlined"};var Gg=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:_g}))};const Wg=A.forwardRef(Gg);const Yg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};var qg=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Yg}))};const Xg=A.forwardRef(qg);var Jg=n(403),Zg=n.n(Jg),$g=A.forwardRef((function(e,t){var n,r=e.prefixCls,s=e.forceRender,a=e.className,o=e.style,l=e.children,c=e.isActive,u=e.role,d=m(A.useState(c||s),2),h=d[0],p=d[1];return A.useEffect((function(){(s||c)&&p(!0)}),[s,c]),h?A.createElement("div",{ref:t,className:v()("".concat(r,"-content"),(n={},i(n,"".concat(r,"-content-active"),c),i(n,"".concat(r,"-content-inactive"),!c),n),a),style:o,role:u},A.createElement("div",{className:"".concat(r,"-content-box")},l)):null}));$g.displayName="PanelContent";const ev=$g;var tv=["className","id","style","prefixCls","headerClass","children","isActive","destroyInactivePanel","accordion","forceRender","openMotion","extra","collapsible"],nv=function(e){nt(n,e);var t=ot(n);function n(){var e;Ze(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).onItemClick=function(){var t=e.props,n=t.onItemClick,r=t.panelKey;"function"===typeof n&&n(r)},e.handleKeyPress=function(t){"Enter"!==t.key&&13!==t.keyCode&&13!==t.which||e.onItemClick()},e.renderIcon=function(){var t=e.props,n=t.showArrow,r=t.expandIcon,s=t.prefixCls,a=t.collapsible;if(!n)return null;var i="function"===typeof r?r(e.props):A.createElement("i",{className:"arrow"});return i&&A.createElement("div",{className:"".concat(s,"-expand-icon"),onClick:"header"===a||"icon"===a?e.onItemClick:null},i)},e.renderTitle=function(){var t=e.props,n=t.header,r=t.prefixCls,s=t.collapsible;return A.createElement("span",{className:"".concat(r,"-header-text"),onClick:"header"===s?e.onItemClick:null},n)},e}return et(n,[{key:"shouldComponentUpdate",value:function(e){return!Zg()(this.props,e)}},{key:"render",value:function(){var e,t,n=this.props,r=n.className,s=n.id,a=n.style,o=n.prefixCls,l=n.headerClass,c=n.children,u=n.isActive,d=n.destroyInactivePanel,h=n.accordion,p=n.forceRender,m=n.openMotion,g=n.extra,y=n.collapsible,w=f(n,tv),b="disabled"===y,x="header"===y,B="icon"===y,C=v()((i(e={},"".concat(o,"-item"),!0),i(e,"".concat(o,"-item-active"),u),i(e,"".concat(o,"-item-disabled"),b),e),r),k={className:v()("".concat(o,"-header"),(i(t={},l,l),i(t,"".concat(o,"-header-collapsible-only"),x),i(t,"".concat(o,"-icon-collapsible-only"),B),t)),"aria-expanded":u,"aria-disabled":b,onKeyPress:this.handleKeyPress};x||B||(k.onClick=this.onItemClick,k.role=h?"tab":"button",k.tabIndex=b?-1:0);var S=null!==g&&void 0!==g&&"boolean"!==typeof g;return delete w.header,delete w.panelKey,delete w.onItemClick,delete w.showArrow,delete w.expandIcon,A.createElement("div",Pe({},w,{className:C,style:a,id:s}),A.createElement("div",k,this.renderIcon(),this.renderTitle(),S&&A.createElement("div",{className:"".concat(o,"-extra")},g)),A.createElement(Gn,Pe({visible:u,leavedClassName:"".concat(o,"-content-hidden")},m,{forceRender:p,removeOnLeave:d}),(function(e,t){var n=e.className,r=e.style;return A.createElement(ev,{ref:t,prefixCls:o,className:n,style:r,isActive:u,forceRender:p,role:h?"tabpanel":null},c)})))}}]),n}(A.Component);nv.defaultProps={showArrow:!0,isActive:!1,onItemClick:function(){},headerClass:"",forceRender:!1};const rv=nv;function sv(e){var t=e;if(!Array.isArray(t)){var n=s(t);t="number"===n||"string"===n?[t]:[]}return t.map((function(e){return String(e)}))}var av=function(e){nt(n,e);var t=ot(n);function n(e){var r;Ze(this,n),(r=t.call(this,e)).onClickItem=function(e){var t=r.state.activeKey;if(r.props.accordion)t=t[0]===e?[]:[e];else{var n=(t=Kt(t)).indexOf(e);n>-1?t.splice(n,1):t.push(e)}r.setActiveKey(t)},r.getNewChild=function(e,t){if(!e)return null;var n=r.state.activeKey,s=r.props,a=s.prefixCls,i=s.openMotion,o=s.accordion,l=s.destroyInactivePanel,c=s.expandIcon,u=s.collapsible,d=e.key||String(t),h=e.props,p=h.header,m=h.headerClass,f=h.destroyInactivePanel,g=h.collapsible,v=null!==g&&void 0!==g?g:u,y={key:d,panelKey:d,header:p,headerClass:m,isActive:o?n[0]===d:n.indexOf(d)>-1,prefixCls:a,destroyInactivePanel:null!==f&&void 0!==f?f:l,openMotion:i,accordion:o,children:e.props.children,onItemClick:"disabled"===v?null:r.onClickItem,expandIcon:c,collapsible:v};return"string"===typeof e.type?e:(Object.keys(y).forEach((function(e){"undefined"===typeof y[e]&&delete y[e]})),A.cloneElement(e,y))},r.getItems=function(){return fa(r.props.children).map(r.getNewChild)},r.setActiveKey=function(e){"activeKey"in r.props||r.setState({activeKey:e}),r.props.onChange(r.props.accordion?e[0]:e)};var s=e.activeKey,a=e.defaultActiveKey;return"activeKey"in e&&(a=s),r.state={activeKey:sv(a)},r}return et(n,[{key:"shouldComponentUpdate",value:function(e,t){return!Zg()(this.props,e)||!Zg()(this.state,t)}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,r=t.className,s=t.style,a=t.accordion,o=v()((i(e={},n,!0),i(e,r,!!r),e));return A.createElement("div",{className:o,style:s,role:a?"tablist":null},this.getItems())}}],[{key:"getDerivedStateFromProps",value:function(e){var t={};return"activeKey"in e&&(t.activeKey=sv(e.activeKey)),t}}]),n}(A.Component);av.defaultProps={prefixCls:"rc-collapse",onChange:function(){},accordion:!1,destroyInactivePanel:!1},av.Panel=rv;const iv=av;av.Panel;var ov=function(e){var t=A.useContext(jr),n=t.getPrefixCls,r=t.direction,s=e.prefixCls,a=e.className,o=void 0===a?"":a,l=e.bordered,c=void 0===l||l,u=e.ghost,d=e.expandIconPosition,h=void 0===d?"start":d,p=n("collapse",s),m=A.useMemo((function(){return"left"===h?"start":"right"===h?"end":h}),[h]),f=v()("".concat(p,"-icon-position-").concat(m),i(i(i({},"".concat(p,"-borderless"),!c),"".concat(p,"-rtl"),"rtl"===r),"".concat(p,"-ghost"),!!u),o),g=Pe(Pe({},Pi),{motionAppear:!1,leavedClassName:"".concat(p,"-content-hidden")});return A.createElement(iv,Pe({openMotion:g},e,{expandIcon:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.expandIcon,r=n?n(t):A.createElement(Xg,{rotate:t.isActive?90:void 0});return sc(r,(function(){return{className:v()(r.props.className,"".concat(p,"-arrow"))}}))},prefixCls:p,className:f}),fa(e.children).map((function(e,t){var n;if(null===(n=e.props)||void 0===n?void 0:n.disabled){var r=e.key||String(t),s=e.props,a=s.disabled,i=s.collapsible;return sc(e,Pe(Pe({},Cc(e.props,["disabled"])),{key:r,collapsible:null!==i&&void 0!==i?i:a?"disabled":void 0}))}return e})))};ov.Panel=function(e){var t=A.useContext(jr).getPrefixCls,n=e.prefixCls,r=e.className,s=void 0===r?"":r,a=e.showArrow,o=void 0===a||a,l=t("collapse",n),c=v()(i({},"".concat(l,"-no-arrow"),!o),s);return A.createElement(iv.Panel,Pe({},e,{prefixCls:l,className:c}))};const lv=ov;class Av extends A.Component{render(){try{if(!this.props.children)return null;let e="expander";return this.props.className&&(e+=" "+this.props.className),this.props.disabled&&(e+=" disabled"),(0,bo.jsx)(lv,{className:e,defaultActiveKey:[],expandIcon:e=>(0,bo.jsx)(Wg,{rotate:e.isActive?-180:0}),expandIconPosition:"end",children:(0,bo.jsx)(lv.Panel,{header:(0,bo.jsx)("div",{className:"collapse-header-text",children:this.props.text}),children:this.props.children},"one")})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"Expander",error:bC})}}}Av.defaultProps={className:null,disabled:!1};class cv extends A.Component{onClick(){this.props.onClick&&this.props.onClick()}render(){try{if(!this.props.children)return null;let e="group-panel";return this.props.className&&(e+=" "+this.props.className),this.props.transparent&&(e+=" transparent"),this.props.onClick?(0,bo.jsx)("div",{className:e+" clickable",onClick:()=>this.onClick(),role:"button",children:this.props.children}):(0,bo.jsx)("div",{className:e,children:this.props.children})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"Group",error:bC})}}}cv.defaultProps={className:null,transparent:!1,onClick:null};const uv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"};var dv=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:uv}))};const hv=A.forwardRef(dv);const pv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};var mv=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:pv}))};const fv=A.forwardRef(mv);class gv extends A.Component{click(e,t){e.stopPropagation(),this.props.onNudgeValue(t)}touchEnd(e,t){e.preventDefault(),e.stopPropagation(),this.props.onNudgeValue(t)}render(){try{let e="spin-button",t="info-value",n="spin-button";this.props.downEnabled||(e+=" disabled"),0===this.props.value&&(t+=" disabled"),this.props.upEnabled||(n+=" disabled");const r=[],s=[];return(this.props.factors||[1]).forEach((t=>{r.push((0,bo.jsx)("div",{className:1===t?e:e+" multiple",onTouchEnd:e=>this.touchEnd(e,-1*t),onClick:e=>this.click(e,-1*t),role:"button",children:1===t?(0,bo.jsx)(hv,{}):(0,bo.jsx)("div",{children:t})},"minus"+t)),s.push((0,bo.jsx)("div",{className:1===t?n:n+" multiple",onTouchEnd:e=>this.touchEnd(e,1*t),onClick:e=>this.click(e,1*t),role:"button",children:1===t?(0,bo.jsx)(fv,{}):(0,bo.jsx)("div",{children:t})},"plus"+t))})),r.reverse(),(0,bo.jsxs)("div",{className:this.props.disabled?"number-spin disabled":"number-spin",children:[r,(0,bo.jsxs)("div",{className:"info",children:[(0,bo.jsx)("div",{className:"info-label",children:this.props.label}),(0,bo.jsx)("div",{className:t,children:this.props.value})]}),s]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"NumberSpin",error:bC})}}}gv.defaultProps={label:null,upEnabled:!0,downEnabled:!0,disabled:!1,factors:null};class vv extends A.Component{render(){try{var e;if(0===this.props.options.length)return null;const t=null!==(e=this.props.itemsPerRow)&&void 0!==e?e:this.props.options.length,n=this.props.options.map((e=>(0,bo.jsx)(yv,{option:e,width:100/t,selected:e.id===this.props.selectedID,onSelect:e=>this.props.onSelect(e)},e.id)));return(0,bo.jsx)("div",{className:this.props.disabled?"selector disabled":"selector",children:n})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"Selector",error:bC})}}}vv.defaultProps={itemsPerRow:null,disabled:!1};class yv extends A.Component{click(e){e.stopPropagation(),this.props.option.disabled||this.props.onSelect(this.props.option.id)}render(){try{let e="option";return this.props.selected&&(e+=" selected"),this.props.option.disabled&&(e+=" disabled"),(0,bo.jsx)("div",{className:e,style:{flex:"0 0 "+this.props.width+"%"},title:this.props.option.text,onClick:e=>this.click(e),role:"button",children:this.props.option.text},this.props.option.id)}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"SelectorOption",error:bC})}}}class wv extends A.Component{render(){try{return 0===this.props.options.length?null:(0,bo.jsx)("div",{className:this.props.disabled?"tabs disabled":"tabs",children:this.props.options.map((e=>(0,bo.jsx)(bv,{option:e,selected:e.id===this.props.selectedID,onSelect:e=>this.props.onSelect(e)},e.id)))})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"Tabs",error:bC})}}}wv.defaultProps={disabled:!1};class bv extends A.Component{click(e){e.stopPropagation(),this.props.option.disabled||this.props.onSelect(this.props.option.id)}render(){try{let e="tab";return this.props.selected&&(e+=" selected"),this.props.option.disabled&&(e+=" disabled"),(0,bo.jsx)("div",{className:e,title:this.props.option.text,onClick:e=>this.click(e),role:"button",children:this.props.option.text},this.props.option.id)}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"Tab",error:bC})}}}const xv=A.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0});function Bv(e,t,n){return(e-t)/(n-t)}function Cv(e,t,n,r){var s=Bv(t,n,r),a={};switch(e){case"rtl":a.right="".concat(100*s,"%"),a.transform="translateX(50%)";break;case"btt":a.bottom="".concat(100*s,"%"),a.transform="translateY(50%)";break;case"ttb":a.top="".concat(100*s,"%"),a.transform="translateY(-50%)";break;default:a.left="".concat(100*s,"%"),a.transform="translateX(-50%)"}return a}function kv(e,t){return Array.isArray(e)?e[t]:e}var Sv=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange"],Ev=A.forwardRef((function(e,t){var n,r,s=e.prefixCls,a=e.value,o=e.valueIndex,c=e.onStartMove,u=e.style,d=e.render,h=e.dragging,p=e.onOffsetChange,m=f(e,Sv),g=A.useContext(xv),y=g.min,w=g.max,b=g.direction,x=g.disabled,B=g.range,C=g.tabIndex,k=g.ariaLabelForHandle,S=g.ariaLabelledByForHandle,E=g.ariaValueTextFormatterForHandle,j="".concat(s,"-handle"),I=function(e){x||c(e,o)},F=Cv(b,a,y,w),Q=A.createElement("div",Pe({ref:t,className:v()(j,(n={},i(n,"".concat(j,"-").concat(o+1),B),i(n,"".concat(j,"-dragging"),h),n)),style:l(l({},F),u),onMouseDown:I,onTouchStart:I,onKeyDown:function(e){if(!x){var t=null;switch(e.which||e.keyCode){case na.LEFT:t="ltr"===b||"btt"===b?-1:1;break;case na.RIGHT:t="ltr"===b||"btt"===b?1:-1;break;case na.UP:t="ttb"!==b?1:-1;break;case na.DOWN:t="ttb"!==b?-1:1;break;case na.HOME:t="min";break;case na.END:t="max";break;case na.PAGE_UP:t=2;break;case na.PAGE_DOWN:t=-2}null!==t&&(e.preventDefault(),p(t,o))}},tabIndex:x?null:kv(C,o),role:"slider","aria-valuemin":y,"aria-valuemax":w,"aria-valuenow":a,"aria-disabled":x,"aria-label":kv(k,o),"aria-labelledby":kv(S,o),"aria-valuetext":null===(r=kv(E,o))||void 0===r?void 0:r(a)},m));return d&&(Q=d(Q,{index:o,prefixCls:s,value:a,dragging:h})),Q}));const jv=Ev;var Iv=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"],Fv=A.forwardRef((function(e,t){var n=e.prefixCls,r=e.style,s=e.onStartMove,a=e.onOffsetChange,i=e.values,o=e.handleRender,l=e.draggingIndex,c=f(e,Iv),u=A.useRef({});return A.useImperativeHandle(t,(function(){return{focus:function(e){var t;null===(t=u.current[e])||void 0===t||t.focus()}}})),A.createElement(A.Fragment,null,i.map((function(e,t){return A.createElement(jv,Pe({ref:function(e){e?u.current[t]=e:delete u.current[t]},dragging:l===t,prefixCls:n,style:kv(r,t),key:t,value:e,valueIndex:t,onStartMove:s,onOffsetChange:a,render:o},c))})))}));const Qv=Fv;function Nv(e){var t="touches"in e?e.touches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function Mv(e){var t=e.prefixCls,n=e.style,r=e.start,s=e.end,a=e.index,i=e.onStartMove,o=A.useContext(xv),c=o.direction,u=o.min,d=o.max,h=o.disabled,p=o.range,m="".concat(t,"-track"),f=Bv(r,u,d),g=Bv(s,u,d),y=function(e){!h&&i&&i(e,-1)},w={};switch(c){case"rtl":w.right="".concat(100*f,"%"),w.width="".concat(100*g-100*f,"%");break;case"btt":w.bottom="".concat(100*f,"%"),w.height="".concat(100*g-100*f,"%");break;case"ttb":w.top="".concat(100*f,"%"),w.height="".concat(100*g-100*f,"%");break;default:w.left="".concat(100*f,"%"),w.width="".concat(100*g-100*f,"%")}return A.createElement("div",{className:v()(m,p&&"".concat(m,"-").concat(a+1)),style:l(l({},w),n),onMouseDown:y,onTouchStart:y})}function Uv(e){var t=e.prefixCls,n=e.style,r=e.values,s=e.startPoint,a=e.onStartMove,i=A.useContext(xv),o=i.included,l=i.range,c=i.min,u=A.useMemo((function(){if(!l){if(0===r.length)return[];var e=null!==s&&void 0!==s?s:c,t=r[0];return[{start:Math.min(e,t),end:Math.max(e,t)}]}for(var n=[],a=0;a<r.length-1;a+=1)n.push({start:r[a],end:r[a+1]});return n}),[r,l,s,c]);return o?u.map((function(e,r){var s=e.start,i=e.end;return A.createElement(Mv,{index:r,prefixCls:t,style:kv(n,r),start:s,end:i,key:r,onStartMove:a})})):null}function Tv(e){var t=e.prefixCls,n=e.style,r=e.children,s=e.value,a=e.onClick,o=A.useContext(xv),c=o.min,u=o.max,d=o.direction,h=o.includedStart,p=o.includedEnd,m=o.included,f="".concat(t,"-text"),g=Cv(d,s,c,u);return A.createElement("span",{className:v()(f,i({},"".concat(f,"-active"),m&&h<=s&&s<=p)),style:l(l({},g),n),onMouseDown:function(e){e.stopPropagation()},onClick:function(){a(s)}},r)}function Dv(e){var t=e.prefixCls,n=e.marks,r=e.onClick,s="".concat(t,"-mark");return n.length?A.createElement("div",{className:s},n.map((function(e){var t=e.value,n=e.style,a=e.label;return A.createElement(Tv,{key:t,prefixCls:s,style:n,value:t,onClick:r},a)}))):null}function Hv(e){var t=e.prefixCls,n=e.value,r=e.style,s=e.activeStyle,a=A.useContext(xv),o=a.min,c=a.max,u=a.direction,d=a.included,h=a.includedStart,p=a.includedEnd,m="".concat(t,"-dot"),f=d&&h<=n&&n<=p,g=l(l({},Cv(u,n,o,c)),"function"===typeof r?r(n):r);return f&&(g=l(l({},g),"function"===typeof s?s(n):s)),A.createElement("span",{className:v()(m,i({},"".concat(m,"-active"),f)),style:g})}function Lv(e){var t=e.prefixCls,n=e.marks,r=e.dots,s=e.style,a=e.activeStyle,i=A.useContext(xv),o=i.min,l=i.max,c=i.step,u=A.useMemo((function(){var e=new Set;if(n.forEach((function(t){e.add(t.value)})),r&&null!==c)for(var t=o;t<=l;)e.add(t),t+=c;return Array.from(e)}),[o,l,c,r,n]);return A.createElement("div",{className:"".concat(t,"-step")},u.map((function(e){return A.createElement(Hv,{prefixCls:t,key:e,value:e,style:s,activeStyle:a})})))}var Pv=A.forwardRef((function(e,t){var n,r=e.prefixCls,a=void 0===r?"rc-slider":r,o=e.className,l=e.style,c=e.disabled,u=void 0!==c&&c,d=e.autoFocus,h=e.onFocus,p=e.onBlur,f=e.min,g=void 0===f?0:f,y=e.max,w=void 0===y?100:y,b=e.step,x=void 0===b?1:b,B=e.value,C=e.defaultValue,k=e.range,S=e.count,E=e.onChange,j=e.onBeforeChange,I=e.onAfterChange,F=e.allowCross,Q=void 0===F||F,N=e.pushable,M=void 0!==N&&N,U=e.draggableTrack,T=e.reverse,D=e.vertical,H=e.included,L=void 0===H||H,P=e.startPoint,O=e.trackStyle,R=e.handleStyle,V=e.railStyle,K=e.dotStyle,z=e.activeDotStyle,_=e.marks,G=e.dots,W=e.handleRender,Y=e.tabIndex,q=void 0===Y?0:Y,X=e.ariaLabelForHandle,J=e.ariaLabelledByForHandle,Z=e.ariaValueTextFormatterForHandle,$=A.useRef(),ee=A.useRef(),te=A.useMemo((function(){return D?T?"ttb":"btt":T?"rtl":"ltr"}),[T,D]),ne=A.useMemo((function(){return isFinite(g)?g:0}),[g]),re=A.useMemo((function(){return isFinite(w)?w:100}),[w]),se=A.useMemo((function(){return null!==x&&x<=0?1:x}),[x]),ae=A.useMemo((function(){return!0===M?se:M>=0&&M}),[M,se]),ie=A.useMemo((function(){return Object.keys(_||{}).map((function(e){var t=_[e],n={value:Number(e)};return t&&"object"===s(t)&&!A.isValidElement(t)&&("label"in t||"style"in t)?(n.style=t.style,n.label=t.label):n.label=t,n})).filter((function(e){var t=e.label;return t||"number"===typeof t})).sort((function(e,t){return e.value-t.value}))}),[_]),oe=function(e,t,n,r,s,a){var i=A.useCallback((function(n){var r=isFinite(n)?n:e;return r=Math.min(t,n),Math.max(e,r)}),[e,t]),o=A.useCallback((function(r){if(null!==n){var s=e+Math.round((i(r)-e)/n)*n,a=function(e){return(String(e).split(".")[1]||"").length},o=Math.max(a(n),a(t),a(e)),l=Number(s.toFixed(o));return e<=l&&l<=t?l:null}return null}),[n,e,t,i]),l=A.useCallback((function(s){var a=i(s),l=r.map((function(e){return e.value}));null!==n&&l.push(o(s)),l.push(e,t);var A=l[0],c=t-e;return l.forEach((function(e){var t=Math.abs(a-e);t<=c&&(A=e,c=t)})),A}),[e,t,r,n,i,o]),c=function s(a,i,l){var A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit";if("number"===typeof i){var c,u=a[l],d=u+i,h=[];r.forEach((function(e){h.push(e.value)})),h.push(e,t),h.push(o(u));var p=i>0?1:-1;"unit"===A?h.push(o(u+p*n)):h.push(o(d)),h=h.filter((function(e){return null!==e})).filter((function(e){return i<0?e<=u:e>=u})),"unit"===A&&(h=h.filter((function(e){return e!==u})));var m="unit"===A?u:d;c=h[0];var f=Math.abs(c-m);if(h.forEach((function(e){var t=Math.abs(e-m);t<f&&(c=e,f=t)})),void 0===c)return i<0?e:t;if("dist"===A)return c;if(Math.abs(i)>1){var g=Kt(a);return g[l]=c,s(g,i-p,l,A)}return c}return"min"===i?e:"max"===i?t:void 0},u=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",s=e[n],a=c(e,t,n,r);return{value:a,changed:a!==s}},d=function(e){return null===a&&0===e||"number"===typeof a&&e<a};return[l,function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",i=e.map(l),o=i[n],A=c(i,t,n,r);if(i[n]=A,!1===s){var h=a||0;n>0&&i[n-1]!==o&&(i[n]=Math.max(i[n],i[n-1]+h)),n<i.length-1&&i[n+1]!==o&&(i[n]=Math.min(i[n],i[n+1]-h))}else if("number"===typeof a||null===a){for(var p=n+1;p<i.length;p+=1)for(var m=!0;d(i[p]-i[p-1])&&m;){var f=u(i,1,p);i[p]=f.value,m=f.changed}for(var g=n;g>0;g-=1)for(var v=!0;d(i[g]-i[g-1])&&v;){var y=u(i,-1,g-1);i[g-1]=y.value,v=y.changed}for(var w=i.length-1;w>0;w-=1)for(var b=!0;d(i[w]-i[w-1])&&b;){var x=u(i,-1,w-1);i[w-1]=x.value,b=x.changed}for(var B=0;B<i.length-1;B+=1)for(var C=!0;d(i[B+1]-i[B])&&C;){var k=u(i,1,B+1);i[B+1]=k.value,C=k.changed}}return{value:i[n],values:i}}]}(ne,re,se,ie,Q,ae),le=m(oe,2),Ae=le[0],ce=le[1],ue=m(Rt(C,{value:B}),2),de=ue[0],he=ue[1],pe=A.useMemo((function(){var e=null===de||void 0===de?[]:Array.isArray(de)?de:[de],t=m(e,1)[0],n=null===de?[]:[void 0===t?ne:t];if(k){if(n=Kt(e),S||void 0===de){var r=S>=0?S+1:2;for(n=n.slice(0,r);n.length<r;){var s;n.push(null!==(s=n[n.length-1])&&void 0!==s?s:ne)}}n.sort((function(e,t){return e-t}))}return n.forEach((function(e,t){n[t]=Ae(e)})),n}),[de,k,ne,S,Ae]),me=A.useRef(pe);me.current=pe;var fe=function(e){return k?e:e[0]},ge=function(e){var t=Kt(e).sort((function(e,t){return e-t}));E&&!Zg()(t,me.current)&&E(fe(t)),he(t)},ve=function(e){if(!u){var t=0,n=re-ne;pe.forEach((function(r,s){var a=Math.abs(e-r);a<=n&&(n=a,t=s)}));var r=Kt(pe);r[t]=e,k&&!pe.length&&void 0===S&&r.push(e),null===j||void 0===j||j(fe(r)),ge(r),null===I||void 0===I||I(fe(r))}},ye=m(A.useState(null),2),we=ye[0],be=ye[1];A.useEffect((function(){if(null!==we){var e=pe.indexOf(we);e>=0&&$.current.focus(e)}be(null)}),[we]);var xe=A.useMemo((function(){return(!U||null!==se)&&U}),[U,se]),Be=function(e,t,n,r,s,a,i,o,l){var c=m(A.useState(null),2),u=c[0],d=c[1],h=m(A.useState(-1),2),p=h[0],f=h[1],g=m(A.useState(n),2),v=g[0],y=g[1],w=m(A.useState(n),2),b=w[0],x=w[1],B=A.useRef(null),C=A.useRef(null);A.useEffect((function(){-1===p&&y(n)}),[n,p]),A.useEffect((function(){return function(){document.removeEventListener("mousemove",B.current),document.removeEventListener("mouseup",C.current),document.removeEventListener("touchmove",B.current),document.removeEventListener("touchend",C.current)}}),[]);var k=function(e,t){v.some((function(t,n){return t!==e[n]}))&&(void 0!==t&&d(t),y(e),i(e))},S=function(e,t){if(-1===e){var n=b[0],i=b[b.length-1],o=r-n,A=s-i,c=t*(s-r);c=Math.max(c,o),c=Math.min(c,A);var u=a(n+c);c=u-n;var d=b.map((function(e){return e+c}));k(d)}else{var h=(s-r)*t,p=Kt(v);p[e]=b[e];var m=l(p,h,e,"dist");k(m.values,m.value)}},E=A.useRef(S);E.current=S;var j=A.useMemo((function(){var e=Kt(n).sort((function(e,t){return e-t})),t=Kt(v).sort((function(e,t){return e-t}));return e.every((function(e,n){return e===t[n]}))?v:n}),[n,v]);return[p,u,j,function(r,s){r.stopPropagation();var a=n[s];f(s),d(a),x(n);var i=Nv(r),l=i.pageX,A=i.pageY,c=function(n){n.preventDefault();var r,a=Nv(n),i=a.pageX,o=a.pageY,c=i-l,u=o-A,d=e.current.getBoundingClientRect(),h=d.width,p=d.height;switch(t){case"btt":r=-u/p;break;case"ttb":r=u/p;break;case"rtl":r=-c/h;break;default:r=c/h}E.current(s,r)},u=function e(t){t.preventDefault(),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",c),document.removeEventListener("touchend",e),document.removeEventListener("touchmove",c),B.current=null,C.current=null,f(-1),o()};document.addEventListener("mouseup",u),document.addEventListener("mousemove",c),document.addEventListener("touchend",u),document.addEventListener("touchmove",c),B.current=c,C.current=u}]}(ee,te,pe,ne,re,Ae,ge,(function(){null===I||void 0===I||I(fe(me.current))}),ce),Ce=m(Be,4),ke=Ce[0],Se=Ce[1],Ee=Ce[2],je=Ce[3],Ie=function(e,t){je(e,t),null===j||void 0===j||j(fe(me.current))},Fe=-1!==ke;A.useEffect((function(){if(!Fe){var e=pe.lastIndexOf(Se);$.current.focus(e)}}),[Fe]);var Qe=A.useMemo((function(){return Kt(Ee).sort((function(e,t){return e-t}))}),[Ee]),Ne=m(A.useMemo((function(){return k?[Qe[0],Qe[Qe.length-1]]:[ne,Qe[0]]}),[Qe,k,ne]),2),Me=Ne[0],Ue=Ne[1];A.useImperativeHandle(t,(function(){return{focus:function(){$.current.focus(0)},blur:function(){var e=document.activeElement;ee.current.contains(e)&&(null===e||void 0===e||e.blur())}}})),A.useEffect((function(){d&&$.current.focus(0)}),[]);var Te=A.useMemo((function(){return{min:ne,max:re,direction:te,disabled:u,step:se,included:L,includedStart:Me,includedEnd:Ue,range:k,tabIndex:q,ariaLabelForHandle:X,ariaLabelledByForHandle:J,ariaValueTextFormatterForHandle:Z}}),[ne,re,te,u,se,L,Me,Ue,k,q,X,J,Z]);return A.createElement(xv.Provider,{value:Te},A.createElement("div",{ref:ee,className:v()(a,o,(n={},i(n,"".concat(a,"-disabled"),u),i(n,"".concat(a,"-vertical"),D),i(n,"".concat(a,"-horizontal"),!D),i(n,"".concat(a,"-with-marks"),ie.length),n)),style:l,onMouseDown:function(e){e.preventDefault();var t,n=ee.current.getBoundingClientRect(),r=n.width,s=n.height,a=n.left,i=n.top,o=n.bottom,l=n.right,A=e.clientX,c=e.clientY;switch(te){case"btt":t=(o-c)/s;break;case"ttb":t=(c-i)/s;break;case"rtl":t=(l-A)/r;break;default:t=(A-a)/r}ve(Ae(ne+t*(re-ne)))}},A.createElement("div",{className:"".concat(a,"-rail"),style:V}),A.createElement(Uv,{prefixCls:a,style:O,values:Qe,startPoint:P,onStartMove:xe?Ie:null}),A.createElement(Lv,{prefixCls:a,marks:ie,dots:G,style:K,activeStyle:z}),A.createElement(Qv,{ref:$,prefixCls:a,style:R,values:Ee,draggingIndex:ke,onStartMove:Ie,onOffsetChange:function(e,t){if(!u){var n=ce(pe,e,t);null===j||void 0===j||j(fe(pe)),ge(n.values),null===I||void 0===I||I(fe(n.values)),be(n.value)}},onFocus:h,onBlur:p,handleRender:W}),A.createElement(Dv,{prefixCls:a,marks:ie,onClick:ve})))}));const Ov=Pv;const Rv=A.forwardRef((function(e,t){var n=e.open,r=(0,A.useRef)(null),s=(0,A.useRef)(null);function a(){En.cancel(s.current),s.current=null}return A.useEffect((function(){return n?s.current=En((function(){var e;null===(e=r.current)||void 0===e||e.forcePopupAlign(),s.current=null})):a(),a}),[n,e.title]),A.createElement(Ac,Pe({ref:It(r,t)},e))}));var Vv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},Kv=A.forwardRef((function(e,t){var n=A.useContext(jr),r=n.getPrefixCls,a=n.direction,o=n.getPopupContainer,l=m(A.useState({}),2),c=l[0],u=l[1],d=function(e,t){u((function(n){return Pe(Pe({},n),i({},e,t))}))},h=function(e,t){return e||(t?"rtl"===a?"left":"right":"top")},p=e.prefixCls,f=e.range,g=e.className,y=Vv(e,["prefixCls","range","className"]),w=r("slider",p),b=v()(g,i({},"".concat(w,"-rtl"),"rtl"===a));"rtl"!==a||y.vertical||(y.reverse=!y.reverse);var x=m(A.useMemo((function(){return f?"object"===s(f)?[!0,f.draggableTrack]:[!0,!1]:[!1]}),[f]),2),B=x[0],C=x[1];return A.createElement(Ov,Pe({},y,{step:y.step,range:B,draggableTrack:C,className:b,ref:t,prefixCls:w,handleRender:function(t,n){var s,a=n.index,i=n.dragging,l=r(),u=e.tooltip,p=void 0===u?{}:u,m=e.vertical,f=Pe({formatter:null!==(s=e.tipFormatter)&&void 0!==s?s:function(e){return"number"===typeof e?e.toString():""},open:e.tooltipVisible,placement:e.tooltipPlacement,getPopupContainer:e.getTooltipPopupContainer},p),g=f.open,v=f.placement,y=f.getPopupContainer,b=f.prefixCls,x=f.formatter,B=!!x&&(c[a]||i),C=g||void 0===g&&B,k=Pe(Pe({},t.props),{onMouseEnter:function(){return d(a,!0)},onMouseLeave:function(){return d(a,!1)}}),S=r("tooltip",b);return A.createElement(Rv,{prefixCls:S,title:x?x(n.value):"",open:C,placement:h(v,m),transitionName:"".concat(l,"-zoom-down"),key:a,overlayClassName:"".concat(w,"-tooltip"),getPopupContainer:y||o},A.cloneElement(t,k))}}))}));const zv=Kv;class _v extends A.Component{render(){try{const e=no.arrayToItems(["all types"].concat(co)),t=e.find((e=>"aberration"===e.id));t&&(t.text="aberr.");const n=e.find((e=>"celestial"===e.id));n&&(n.text="celest.");const r=e.find((e=>"construct"===e.id));r&&(r.text="const.");const s=e.find((e=>"elemental"===e.id));s&&(s.text="elem.");const a=e.find((e=>"humanoid"===e.id));a&&(a.text="human.");const i=e.find((e=>"monstrosity"===e.id));i&&(i.text="monst.");let o=null;this.props.showName&&(o=(0,bo.jsx)(xo,{text:this.props.filter.name,placeholder:"filter by name",noMargins:!0,onChange:e=>this.props.changeValue("name",e)},"search"));let l=null;return this.props.showRoles&&(l=(0,bo.jsx)(vv,{options:no.arrayToItems(["all roles"].concat(uo)),selectedID:this.props.filter.role,itemsPerRow:2,onSelect:e=>this.props.changeValue("role",e)})),(0,bo.jsxs)("div",{children:[o,(0,bo.jsxs)(Av,{text:this.props.prefix+" "+ao.getFilterDescription(this.props.filter),children:[(0,bo.jsx)(zv,{range:!0,min:0,max:30,value:[this.props.filter.challengeMin,this.props.filter.challengeMax],onChange:e=>this.props.changeValue("challenge",e)}),(0,bo.jsx)(mg,{options:no.arrayToItems(["all sizes"].concat(Ao)),placeholder:"filter by size...",selectedID:this.props.filter.size,onSelect:e=>this.props.changeValue("size",e)}),(0,bo.jsx)(vv,{options:e,selectedID:this.props.filter.category,itemsPerRow:3,onSelect:e=>this.props.changeValue("category",e)}),(0,bo.jsx)("div",{children:l}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("div",{className:"section",children:(0,bo.jsx)("button",{onClick:()=>this.props.resetFilter(),children:"clear filter"})})]})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"FilterPanel",error:bC})}}}_v.defaultProps={prefix:"showing",showName:!0,showRoles:!0};class Gv extends A.Component{constructor(e){super(e),this.state={monster:e.monster,page:"overview",selectedTraitID:null,sidebarView:"statblock",helpSection:"type",similarFilter:{size:!0,type:!0,subtype:!1,role:!1,alignment:!1,challenge:!0},addingToScratchpad:!1,scratchpadAddMode:"similar",scratchpadFilter:ro.createMonsterFilter(),scratchpadList:[],inspectedMonster:null,browseFeatureType:null,browseFeatureText:"",browseFeatureID:null}}setPage(e){const t=this.getHelpOptionsForPage(e);this.setState({page:e,helpSection:t[0]})}recalculateRole(){const e=this.state.monster;e.role=po.getRole(e)}addTrait(e){const t=po.addTrait(this.state.monster,e);this.recalculateRole(),this.setState({monster:this.state.monster,selectedTraitID:t.id})}moveTrait(e,t){const n=this.state.monster.traits.indexOf(e),r=this.state.monster.traits.indexOf(t);po.moveTrait(this.state.monster,n,r),this.recalculateRole(),this.setState({monster:this.state.monster,page:"features"})}copyTrait(e,t){const n=po.copyTrait(e,this.state.monster,t);this.recalculateRole(),this.setState({monster:this.state.monster,page:"features",selectedTraitID:n.id})}changeTrait(e,t,n){e[t]=n,this.recalculateRole(),this.setState({monster:this.state.monster,page:"features"})}deleteTrait(e){po.removeTrait(this.state.monster,e),this.recalculateRole(),this.setState({monster:this.state.monster,page:"features",selectedTraitID:null})}applyTheme(e){const t=po.applyTheme(this.state.monster,e);po.copyFields(this.state.monster,t),this.setState({monster:this.state.monster})}changeValue(e,t){po.changeValue(this.state.monster,e,t),this.recalculateRole(),this.setState({monster:this.state.monster})}nudgeValue(e,t){po.nudgeValue(this.state.monster,e,t),this.recalculateRole(),this.setState({monster:this.state.monster})}setHelpSection(e){this.setState({helpSection:e})}toggleMatch(e){const t=this.state.similarFilter;t[e]=!t[e],this.setState({similarFilter:t})}addToScratchpad(e){const t=this.state.scratchpadList;t.push(e),no.sort(t),this.setState({scratchpadList:t})}removeFromScratchpad(e){const t=this.state.scratchpadList.indexOf(e);this.state.scratchpadList.splice(t,1),this.setState({scratchpadList:this.state.scratchpadList})}addAllToScratchpad(e){const t=this.state.scratchpadList;e.forEach((e=>t.push(e))),no.sort(t),this.setState({scratchpadList:t})}clearScratchpad(){this.setState({scratchpadList:[]})}spliceMonsters(){po.spliceMonsters(this.state.monster,this.state.scratchpadList),this.recalculateRole(),this.setState({monster:this.state.monster})}getHelpOptionsForPage(e){switch(e){case"overview":return["type","subtype","align","challenge","size","speed","lang"];case"abilities":return["str","dex","con","int","wis","cha","saves","skills","senses"];case"combat":return["armor class","hit dice","resist","vulnerable","immune","conditions"];case"features":return["features"]}return[]}getSimilarMonsters(){const e=[];return this.props.library.forEach((t=>{t.monsters.forEach((t=>{let n=!0;this.state.monster.id===t.id&&(n=!1),this.state.similarFilter.size&&this.state.monster.size!==t.size&&(n=!1),this.state.similarFilter.type&&this.state.monster.category!==t.category&&(n=!1),this.state.similarFilter.subtype&&this.state.monster.tag!==t.tag&&(n=!1),this.state.similarFilter.role&&this.state.monster.role!==t.role&&(n=!1),this.state.similarFilter.alignment&&this.state.monster.alignment!==t.alignment&&(n=!1),this.state.similarFilter.challenge&&this.state.monster.challenge!==t.challenge&&(n=!1),n&&e.push(t)}))})),e}setRandomValue(e){po.setRandomValue(this.state.monster,e,this.state.scratchpadList),this.recalculateRole(),this.setState({monster:this.state.monster})}addRandomTrait(e){po.addRandomTrait(this.state.monster,e,this.state.scratchpadList),this.recalculateRole(),this.setState({monster:this.state.monster})}changeFilterValue(e,t){const n=this.state.scratchpadFilter;"challenge"===e?(n.challengeMin=t[0],n.challengeMax=t[1]):n[e]=t,this.setState({scratchpadFilter:n})}resetFilter(){this.setState({scratchpadFilter:ro.createMonsterFilter()})}matchMonster(e){return ao.matchMonster(e,this.state.scratchpadFilter)}getHelpSection(){switch(this.state.helpSection){case"type":return this.getValueSection("category","text",this.state.monster.category);case"subtype":return this.getValueSection("tag","text",this.state.monster.tag);case"align":return this.getValueSection("alignment","text",this.state.monster.alignment);case"challenge":return this.getValueSection("challenge","number",this.state.monster.challenge);case"size":return this.getValueSection("size","text",this.state.monster.size);case"speed":return this.getValueSection("speed","text",this.state.monster.speed);case"lang":return this.getValueSection("languages","text",this.state.monster.languages);case"str":return this.getValueSection("abilityScores.str","number",this.state.monster.abilityScores.str);case"dex":return this.getValueSection("abilityScores.dex","number",this.state.monster.abilityScores.dex);case"con":return this.getValueSection("abilityScores.con","number",this.state.monster.abilityScores.con);case"int":return this.getValueSection("abilityScores.int","number",this.state.monster.abilityScores.int);case"wis":return this.getValueSection("abilityScores.wis","number",this.state.monster.abilityScores.wis);case"cha":return this.getValueSection("abilityScores.cha","number",this.state.monster.abilityScores.cha);case"saves":return this.getValueSection("savingThrows","text",this.state.monster.savingThrows);case"skills":return this.getValueSection("skills","text",this.state.monster.skills);case"senses":return this.getValueSection("senses","text",this.state.monster.senses);case"armor class":return this.getValueSection("ac","number",this.state.monster.ac);case"hit dice":return this.getValueSection("hitDice","number",this.state.monster.hitDice);case"resist":return this.getValueSection("damage.resist","text",this.state.monster.damage.resist);case"vulnerable":return this.getValueSection("damage.vulnerable","text",this.state.monster.damage.vulnerable);case"immune":return this.getValueSection("damage.immune","text",this.state.monster.damage.immune);case"conditions":return this.getValueSection("conditionImmunities","text",this.state.monster.conditionImmunities);case"features":return this.getFeaturesSection();default:return null}}getValueSection(e,t,n){const r=this.state.scratchpadList.map((n=>{const r=e.split(".");let s=n,a=null;return r.forEach((e=>{e===r[r.length-1]?a=s[e]:s=s[e]})),"text"===t&&""===a&&(a=null),a})).filter((e=>null!==e)),s=[];if("number"===t){let e=null,t=null;if(r.forEach((n=>{(null===e||n<e)&&(e=n),(null===t||n>t)&&(t=n)})),null!==e&&null!==t)for(let n=e;n<=t;++n)s.push({value:n,count:0})}switch(r.forEach((e=>{const t=s.find((t=>t.value===e));t?t.count+=1:s.push({value:e,count:1})})),t){case"number":no.sort(s,[{field:"value",dir:"asc"}]);break;case"text":no.sort(s,[{field:"count",dir:"desc"},{field:"value",dir:"asc"}])}if("text"===t){0!==this.state.scratchpadList.length-r.length&&s.push({value:"",count:this.state.scratchpadList.length-r.length})}const a=s.map(((t,r)=>{let s="value-list";t.value===n&&(s+=" current-value");const a=100*t.count/this.state.scratchpadList.length;return(0,bo.jsxs)(Os,{className:s,gutter:10,align:"middle",children:[(0,bo.jsx)(zs,{span:8,className:"text-container",children:t.value||"(none specified)"}),(0,bo.jsx)(zs,{span:8,className:"bar-container",children:(0,bo.jsx)("div",{className:"bar",style:{width:a+"%"}})}),(0,bo.jsx)(zs,{span:8,children:(0,bo.jsx)("button",{onClick:()=>this.changeValue(e,t.value),children:"use this value"})})]},r)}));return(0,bo.jsx)("div",{children:a})}getFeaturesSection(){const e=[];return e.push((0,bo.jsxs)(Os,{className:"value-list",gutter:10,align:"middle",children:[(0,bo.jsx)(zs,{span:8,className:"text-container",children:(0,bo.jsx)("b",{children:"type"})}),(0,bo.jsx)(zs,{span:4,className:"text-container number",children:(0,bo.jsx)("b",{children:"avg"})}),(0,bo.jsx)(zs,{span:4,className:"text-container number",children:(0,bo.jsx)("b",{children:"min - max"})})]},"header")),ho.forEach((t=>{let n=null,r=null,s=0;this.state.scratchpadList.forEach((e=>{const a=e.traits.filter((e=>e.type===t)).length;(null===n||a<n)&&(n=a),(null===r||a>r)&&(r=a),s+=a}));const a=Math.round(s/this.state.scratchpadList.length);e.push((0,bo.jsxs)(Os,{className:"value-list",gutter:10,align:"middle",children:[(0,bo.jsx)(zs,{span:8,className:0===s?"text-container disabled":"text-container",children:io.traitType(t,!0)}),(0,bo.jsx)(zs,{span:4,className:0===s?"text-container number disabled":"text-container number",children:a}),(0,bo.jsxs)(zs,{span:4,className:0===s?"text-container number disabled":"text-container number",children:[n," - ",r]}),(0,bo.jsx)(zs,{span:8,children:(0,bo.jsx)("button",{className:0===s?"disabled":"",onClick:()=>this.addRandomTrait(t),children:"add random"})})]},t))})),(0,bo.jsx)("div",{children:e})}getScratchpad(){let e=null;if(this.state.scratchpadList.length>0){const t=no.sort(this.state.scratchpadList).map((e=>(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:(0,bo.jsx)(Kg,{monster:e,section:this.state.page,copyTrait:t=>this.copyTrait(t,e)})}),(0,bo.jsxs)("div",{className:"icons vertical",children:[(0,bo.jsx)(Je,{title:"show statblock",onClick:()=>this.setState({inspectedMonster:e})}),(0,bo.jsx)(Eo,{title:"remove monster",onClick:()=>this.removeFromScratchpad(e)})]})]},e.id)));let n=null;this.getHelpOptionsForPage(this.state.page).length>1&&(n=(0,bo.jsxs)("div",{children:[(0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{className:"section",children:"select one of the following fields to see its values from your scratchpad monsters"}),(0,bo.jsxs)("div",{className:"section",children:["you can also press the ",(0,bo.jsx)(Fo,{})," button beside a field to select a random value for that field"]})]}),(0,bo.jsx)(vv,{options:no.arrayToItems(this.getHelpOptionsForPage(this.state.page)),selectedID:this.state.helpSection,onSelect:e=>this.setHelpSection(e)})]})),e=(0,bo.jsxs)("div",{children:[(0,bo.jsxs)(Av,{text:"scratchpad monsters",children:[(0,bo.jsxs)(Os,{gutter:10,children:[(0,bo.jsx)(zs,{span:12,children:(0,bo.jsx)("button",{onClick:()=>this.setState({addingToScratchpad:!0}),children:"add monsters to list"})}),(0,bo.jsx)(zs,{span:12,children:(0,bo.jsx)("button",{className:0===this.state.scratchpadList.length?"disabled":"",onClick:()=>this.clearScratchpad(),children:"clear list"})})]}),(0,bo.jsx)("div",{children:t})]}),(0,bo.jsxs)("div",{className:"monster-help",children:[n,this.getHelpSection()]})]})}else e=(0,bo.jsx)("button",{onClick:()=>this.setState({addingToScratchpad:!0}),children:"add monsters to your scratchpad"});return(0,bo.jsxs)("div",{children:[(0,bo.jsxs)(gg,{children:[(0,bo.jsxs)("div",{className:"section",children:["this is your ",(0,bo.jsx)("b",{children:"scratchpad"}),"; you can add monsters to it to see their combined statistics"]}),(0,bo.jsx)("div",{className:"section",children:"you might find this useful if, for example, you want your monster to have similar abilities to other monsters"}),(0,bo.jsx)(Lg,{display:this.state.scratchpadList.length>=2,children:(0,bo.jsxs)("div",{className:"section",children:["you can also ",(0,bo.jsx)("button",{className:"link",onClick:()=>this.spliceMonsters(),children:"splice these monsters together"})," to create a unique hyrid monster"]})})]}),e]})}getContent(){switch(this.state.page){case"overview":return(0,bo.jsx)(Wv,{monster:this.state.monster,allowRandomize:this.state.scratchpadList.length>0,changeValue:(e,t)=>this.changeValue(e,t),nudgeValue:(e,t)=>this.nudgeValue(e,t),randomValue:e=>this.setRandomValue(e)});case"abilities":return(0,bo.jsx)(Yv,{monster:this.state.monster,allowRandomize:this.state.scratchpadList.length>0,changeValue:(e,t)=>this.changeValue(e,t),nudgeValue:(e,t)=>this.nudgeValue(e,t),randomValue:e=>this.setRandomValue(e)});case"combat":return(0,bo.jsx)(qv,{monster:this.state.monster,allowRandomize:this.state.scratchpadList.length>0,changeValue:(e,t)=>this.changeValue(e,t),nudgeValue:(e,t)=>this.nudgeValue(e,t),randomValue:e=>this.setRandomValue(e)});case"features":return(0,bo.jsx)(Xv,{monster:this.state.monster,selectedTraitID:this.state.selectedTraitID,addTrait:e=>this.addTrait(e),browse:e=>this.setState({browseFeatureType:e}),copyTrait:e=>this.copyTrait(e,null),moveTrait:(e,t)=>this.moveTrait(e,t),deleteTrait:e=>this.deleteTrait(e),selectTrait:e=>this.setState({selectedTraitID:e.id}),changeValue:(e,t,n)=>this.changeTrait(e,t,n)})}return null}getSidebar(){switch(this.state.sidebarView){case"statblock":return(0,bo.jsxs)("div",{children:[(0,bo.jsx)(Vg,{monster:this.state.monster}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("button",{onClick:()=>vo.takeScreenshot("statblock"),children:"export statblock image"})]});case"guidelines":return(0,bo.jsx)($v,{monster:this.state.monster});case"scratchpad":return this.getScratchpad()}return null}getDrawer(){const e={visible:!1,title:"drawer",content:null,footer:null,onClose:()=>null};if(e.footer=(0,bo.jsx)("button",{onClick:()=>e.onClose(),children:"close"}),this.state.inspectedMonster&&(e.visible=!0,e.title="monster",e.content=(0,bo.jsxs)("div",{className:"scrollable padded",children:[(0,bo.jsx)(Vg,{monster:this.state.inspectedMonster}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("button",{onClick:()=>vo.takeScreenshot("statblock"),children:"export statblock image"}),(0,bo.jsx)("button",{onClick:()=>this.applyTheme(this.state.inspectedMonster),children:"apply this monster as a theme"})]}),e.onClose=()=>{this.setState({inspectedMonster:null})}),this.state.browseFeatureType){var t;const n={};let r=[];this.props.library.forEach((e=>{e.monsters.forEach((e=>{e.traits.filter((e=>e.type===this.state.browseFeatureType)).filter((e=>so.matchTrait(this.state.browseFeatureText,e))).forEach((t=>{n[t.id]=e;let s=r.find((e=>e.name===t.name));s||(s={id:t.id,name:t.name,traits:[]},r.push(s)),s.traits.push(t)}))}))})),r=no.sort(r),e.visible=!0,e.title="import a "+io.traitType(this.state.browseFeatureType,!1),e.content=(0,bo.jsxs)("div",{className:"scrollable padded",children:[(0,bo.jsxs)(Lg,{display:null===this.state.browseFeatureID,children:[(0,bo.jsx)(xo,{text:this.state.browseFeatureText,placeholder:"search...",onChange:e=>this.setState({browseFeatureText:e})}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("div",{children:r.map((e=>(0,bo.jsx)(cv,{children:(0,bo.jsx)(Og,{trait:e.traits[0],mode:"template",source:n[e.traits[0].id],showMultiple:e.traits.length>1,copyTrait:e=>{const t=n[e.id];this.copyTrait(e,t)},viewMultiple:()=>this.setState({browseFeatureID:e.id})})},e.id)))})]}),(0,bo.jsxs)(Lg,{display:null!==this.state.browseFeatureID,children:[(0,bo.jsxs)("button",{onClick:()=>this.setState({browseFeatureID:null}),children:[(0,bo.jsx)(Mo,{style:{fontSize:"10px"}})," back to the list"]}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("div",{children:null===(t=r.find((e=>e.id===this.state.browseFeatureID)))||void 0===t?void 0:t.traits.map((e=>(0,bo.jsx)(cv,{children:(0,bo.jsx)(Og,{trait:e,mode:"template",source:n[e.id],copyTrait:e=>{const t=n[e.id];this.copyTrait(e,t)}})},e.id)))})]})]}),e.onClose=()=>{this.setState({browseFeatureType:null})}}if(this.state.addingToScratchpad){const t=[{id:"similar",text:"similar monsters"},{id:"all",text:"all monsters"}];let n=null;switch(this.state.scratchpadAddMode){case"similar":n=(0,bo.jsxs)(Av,{text:"similarity criteria",children:[(0,bo.jsx)(zg,{label:"size "+this.state.monster.size,checked:this.state.similarFilter.size,onChecked:()=>this.toggleMatch("size")}),(0,bo.jsx)(zg,{label:"type "+this.state.monster.category,checked:this.state.similarFilter.type,onChecked:()=>this.toggleMatch("type")}),(0,bo.jsx)(zg,{label:this.state.monster.tag?"subtype "+this.state.monster.tag:"subtype",checked:this.state.similarFilter.subtype,disabled:!this.state.monster.tag,onChecked:()=>this.toggleMatch("subtype")}),(0,bo.jsx)(zg,{label:this.state.monster.role?"role "+this.state.monster.role:"role",checked:this.state.similarFilter.role,disabled:!this.state.monster.role,onChecked:()=>this.toggleMatch("role")}),(0,bo.jsx)(zg,{label:this.state.monster.alignment?"alignment "+this.state.monster.alignment:"alignment",checked:this.state.similarFilter.alignment,disabled:!this.state.monster.alignment,onChecked:()=>this.toggleMatch("alignment")}),(0,bo.jsx)(zg,{label:"challenge rating "+io.challenge(this.state.monster.challenge),checked:this.state.similarFilter.challenge,onChecked:()=>this.toggleMatch("challenge")})]});break;case"all":n=(0,bo.jsx)(_v,{filter:this.state.scratchpadFilter,changeValue:(e,t)=>this.changeFilterValue(e,t),resetFilter:()=>this.resetFilter()})}let r=[];switch(this.state.scratchpadAddMode){case"similar":r=this.getSimilarMonsters();break;case"all":this.props.library.forEach((e=>{e.monsters.forEach((e=>{!r.includes(e)&&this.matchMonster(e)&&r.push(e)}))}))}let s=null;r=r.filter((e=>!this.state.scratchpadList.find((t=>t.id===e.id)))),0===r.length&&(s=(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"there are no monsters in your library which match the above criteria (or they are all in your scratchpad already)"})})),e.visible=!0,e.title="add to scratchpad",e.content=(0,bo.jsxs)("div",{className:"scrollable padded",children:[(0,bo.jsx)(wv,{options:t,selectedID:this.state.scratchpadAddMode,onSelect:e=>this.setState({scratchpadAddMode:e})}),n,(0,bo.jsx)("button",{className:0===r.length?"disabled":"",onClick:()=>this.addAllToScratchpad(r),children:"add all to scratchpad"}),(0,bo.jsx)("hr",{}),no.sort(r).map((e=>(0,bo.jsx)(cv,{children:(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:(0,bo.jsx)("div",{children:e.name||"unnamed monster"})}),(0,bo.jsx)("div",{className:"icons",children:(0,bo.jsx)(Do,{title:"add monster",onClick:()=>this.addToScratchpad(e)})})]})},e.id))),s]}),e.onClose=()=>{this.setState({addingToScratchpad:!1})}}return e}render(){try{const e=this.getDrawer();return(0,bo.jsxs)(Os,{className:"full-height",children:[(0,bo.jsxs)(zs,{span:12,className:"scrollable",children:[(0,bo.jsx)(wv,{options:no.arrayToItems(["overview","abilities","combat","features"]),selectedID:this.state.page,onSelect:e=>this.setPage(e)}),this.getContent()]}),(0,bo.jsxs)(zs,{span:12,className:"scrollable sidebar sidebar-right",children:[(0,bo.jsx)(wv,{options:no.arrayToItems(["statblock","guidelines","scratchpad"]),selectedID:this.state.sidebarView,onSelect:e=>this.setState({sidebarView:e})}),this.getSidebar()]}),(0,bo.jsxs)(_i,{className:this.props.options.theme,closable:!1,maskClosable:!0,width:"30%",open:e.visible,onClose:()=>e.onClose(),children:[(0,bo.jsx)("div",{className:"drawer-header",children:(0,bo.jsx)("div",{className:"app-title",children:e.title})}),(0,bo.jsx)("div",{className:"drawer-content",children:e.content}),(0,bo.jsx)("div",{className:"drawer-footer",children:e.footer})]})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"MonsterEditorModal",error:bC})}}}class Wv extends A.Component{randomName(){const e=oo.capitalise(oo.generateName());this.props.changeValue("name",e)}render(){try{return(0,bo.jsxs)(Os,{gutter:10,children:[(0,bo.jsxs)(zs,{span:24,children:[(0,bo.jsx)("div",{className:"subheading",children:"name"}),(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:(0,bo.jsx)(xo,{text:this.props.monster.name,onChange:e=>this.props.changeValue("name",e)})}),(0,bo.jsx)("div",{className:"icons",children:(0,bo.jsx)(Fo,{onClick:()=>this.randomName(),title:"generate a random name"})})]}),(0,bo.jsx)("div",{className:"subheading",children:"type"}),(0,bo.jsx)(Jv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("category"),children:(0,bo.jsx)(vv,{options:no.arrayToItems(co),selectedID:this.props.monster.category,itemsPerRow:5,onSelect:e=>this.props.changeValue("category",e)})})]}),(0,bo.jsxs)(zs,{span:12,children:[(0,bo.jsx)("div",{className:"subheading",children:"subtype"}),(0,bo.jsx)(Jv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("tag"),children:(0,bo.jsx)(xo,{text:this.props.monster.tag,placeholder:"none",onChange:e=>this.props.changeValue("tag",e)})}),(0,bo.jsx)("div",{className:"subheading",children:"size"}),(0,bo.jsx)(Jv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("size"),children:(0,bo.jsx)(gv,{value:this.props.monster.size,downEnabled:"tiny"!==this.props.monster.size,upEnabled:"gargantuan"!==this.props.monster.size,onNudgeValue:e=>this.props.nudgeValue("size",e)})}),(0,bo.jsx)("div",{className:"subheading",children:"alignment"}),(0,bo.jsx)(Jv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("alignment"),children:(0,bo.jsx)(xo,{text:this.props.monster.alignment,onChange:e=>this.props.changeValue("alignment",e)})}),(0,bo.jsx)("div",{className:"subheading",children:"challenge rating"}),(0,bo.jsx)(Jv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("challenge"),children:(0,bo.jsx)(gv,{value:io.challenge(this.props.monster.challenge),downEnabled:this.props.monster.challenge>0,onNudgeValue:e=>this.props.nudgeValue("challenge",e)})})]}),(0,bo.jsxs)(zs,{span:12,children:[(0,bo.jsxs)("div",{className:"subheading",children:["speed \xa0",(0,bo.jsx)(hc,{content:(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"section",children:"this can include special movement modes, which are:"}),(0,bo.jsxs)("ul",{children:[(0,bo.jsx)("li",{children:"burrow speed"}),(0,bo.jsx)("li",{children:"climb speed"}),(0,bo.jsx)("li",{children:"fly speed (which might include the ability to hover)"}),(0,bo.jsx)("li",{children:"swim speed"})]})]}),children:(0,bo.jsx)(Je,{})})]}),(0,bo.jsx)(Jv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("speed"),children:(0,bo.jsx)(xo,{text:this.props.monster.speed,onChange:e=>this.props.changeValue("speed",e)})}),(0,bo.jsx)("div",{className:"subheading",children:"languages"}),(0,bo.jsx)(Jv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("languages"),children:(0,bo.jsx)(xo,{text:this.props.monster.languages,onChange:e=>this.props.changeValue("languages",e)})}),(0,bo.jsx)("div",{className:"subheading",children:"portrait"}),(0,bo.jsx)(Sd,{source:this.props.monster,setPortrait:e=>this.props.changeValue("portrait",e),clear:()=>this.props.changeValue("portrait","")})]})]},"overview")}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"OverviewTab",error:bC})}}}class Yv extends A.Component{render(){try{const e=io.challenge(this.props.monster.challenge),t=io.proficiency(this.props.monster.challenge);return(0,bo.jsxs)(Os,{gutter:10,children:[(0,bo.jsxs)(zs,{span:12,children:[(0,bo.jsx)("div",{className:"subheading",children:"strength"}),(0,bo.jsx)(Jv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("abilityScores.str"),children:(0,bo.jsx)(gv,{value:this.props.monster.abilityScores.str+" ("+io.modifier(this.props.monster.abilityScores.str)+")",downEnabled:this.props.monster.abilityScores.str>0,onNudgeValue:e=>this.props.nudgeValue("abilityScores.str",e)})}),(0,bo.jsx)("div",{className:"subheading",children:"dexterity"}),(0,bo.jsx)(Jv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("abilityScores.dex"),children:(0,bo.jsx)(gv,{value:this.props.monster.abilityScores.dex+" ("+io.modifier(this.props.monster.abilityScores.dex)+")",downEnabled:this.props.monster.abilityScores.dex>0,onNudgeValue:e=>this.props.nudgeValue("abilityScores.dex",e)})}),(0,bo.jsx)("div",{className:"subheading",children:"constitution"}),(0,bo.jsx)(Jv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("abilityScores.con"),children:(0,bo.jsx)(gv,{value:this.props.monster.abilityScores.con+" ("+io.modifier(this.props.monster.abilityScores.con)+")",downEnabled:this.props.monster.abilityScores.con>0,onNudgeValue:e=>this.props.nudgeValue("abilityScores.con",e)})}),(0,bo.jsx)("div",{className:"subheading",children:"intelligence"}),(0,bo.jsx)(Jv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("abilityScores.int"),children:(0,bo.jsx)(gv,{value:this.props.monster.abilityScores.int+" ("+io.modifier(this.props.monster.abilityScores.int)+")",downEnabled:this.props.monster.abilityScores.int>0,onNudgeValue:e=>this.props.nudgeValue("abilityScores.int",e)})}),(0,bo.jsx)("div",{className:"subheading",children:"wisdom"}),(0,bo.jsx)(Jv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("abilityScores.wis"),children:(0,bo.jsx)(gv,{value:this.props.monster.abilityScores.wis+" ("+io.modifier(this.props.monster.abilityScores.wis)+")",downEnabled:this.props.monster.abilityScores.wis>0,onNudgeValue:e=>this.props.nudgeValue("abilityScores.wis",e)})}),(0,bo.jsx)("div",{className:"subheading",children:"charisma"}),(0,bo.jsx)(Jv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("abilityScores.cha"),children:(0,bo.jsx)(gv,{value:this.props.monster.abilityScores.cha+" ("+io.modifier(this.props.monster.abilityScores.cha)+")",downEnabled:this.props.monster.abilityScores.cha>0,onNudgeValue:e=>this.props.nudgeValue("abilityScores.cha",e)})})]}),(0,bo.jsxs)(zs,{span:12,children:[(0,bo.jsx)(gg,{children:(0,bo.jsxs)("div",{className:"section",children:["for skills and saving throws, remember that the proficiency bonus for a ",(0,bo.jsxs)("b",{children:["cr ",e]})," monster is ",(0,bo.jsxs)("b",{children:["+",t]})]})}),(0,bo.jsx)("div",{className:"subheading",children:"saving throws"}),(0,bo.jsx)(Jv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("savingThrows"),children:(0,bo.jsx)(xo,{text:this.props.monster.savingThrows,onChange:e=>this.props.changeValue("savingThrows",e)})}),(0,bo.jsx)("div",{className:"subheading",children:"skills"}),(0,bo.jsx)(Jv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("skills"),children:(0,bo.jsx)(xo,{text:this.props.monster.skills,onChange:e=>this.props.changeValue("skills",e)})}),(0,bo.jsxs)("div",{className:"subheading",children:["senses \xa0",(0,bo.jsx)(hc,{content:(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"section",children:"this should include the monster's passive perception and the range of any special senses, which are:"}),(0,bo.jsxs)("ul",{children:[(0,bo.jsx)("li",{children:"blindsight"}),(0,bo.jsx)("li",{children:"darkvision"}),(0,bo.jsx)("li",{children:"tremorsense"}),(0,bo.jsx)("li",{children:"truesight"})]})]}),children:(0,bo.jsx)(Je,{})})]}),(0,bo.jsx)(Jv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("senses"),children:(0,bo.jsx)(xo,{text:this.props.monster.senses,onChange:e=>this.props.changeValue("senses",e)})})]})]},"abilities")}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"AbilitiesTab",error:bC})}}}class qv extends A.Component{render(){try{return(0,bo.jsxs)(Os,{gutter:10,children:[(0,bo.jsxs)(zs,{span:12,children:[(0,bo.jsx)("div",{className:"subheading",children:"armor class"}),(0,bo.jsx)(Jv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("ac"),children:(0,bo.jsx)(gv,{value:this.props.monster.ac,downEnabled:this.props.monster.ac>0,onNudgeValue:e=>this.props.nudgeValue("ac",e)})}),(0,bo.jsx)("div",{className:"subheading",children:"armor type"}),(0,bo.jsx)(Jv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("acInfo"),children:(0,bo.jsx)(xo,{text:this.props.monster.acInfo,onChange:e=>this.props.changeValue("acInfo",e)})}),(0,bo.jsx)("div",{className:"subheading",children:"hit dice"}),(0,bo.jsx)(Jv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("hitDice"),children:(0,bo.jsx)(gv,{value:this.props.monster.hitDice+"d"+io.hitDieType(this.props.monster.size),downEnabled:this.props.monster.hitDice>1,onNudgeValue:e=>this.props.nudgeValue("hitDice",e)})}),(0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{className:"section",children:"to calculate hit points, the die type is based on the monster's size, and the die roll is modified by the monster's constitution modifier"}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("div",{className:"hp-value",children:po.getTypicalHP(this.props.monster)+" hp ("+po.getTypicalHPString(this.props.monster)+")"})]})]}),(0,bo.jsxs)(zs,{span:12,children:[(0,bo.jsx)("div",{className:"subheading",children:"damage resistances"}),(0,bo.jsx)(Jv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("damage.resist"),children:(0,bo.jsx)(xo,{text:this.props.monster.damage.resist,onChange:e=>this.props.changeValue("damage.resist",e)})}),(0,bo.jsx)("div",{className:"subheading",children:"damage vulnerabilities"}),(0,bo.jsx)(Jv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("damage.vulnerable"),children:(0,bo.jsx)(xo,{text:this.props.monster.damage.vulnerable,onChange:e=>this.props.changeValue("damage.vulnerable",e)})}),(0,bo.jsx)("div",{className:"subheading",children:"damage immunities"}),(0,bo.jsx)(Jv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("damage.immune"),children:(0,bo.jsx)(xo,{text:this.props.monster.damage.immune,onChange:e=>this.props.changeValue("damage.immune",e)})}),(0,bo.jsx)("div",{className:"subheading",children:"condition immunities"}),(0,bo.jsx)(Jv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("conditionImmunities"),children:(0,bo.jsx)(xo,{text:this.props.monster.conditionImmunities,onChange:e=>this.props.changeValue("conditionImmunities",e)})}),(0,bo.jsx)("div",{className:"subheading",children:"legendary actions"}),(0,bo.jsx)(Jv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("legendaryActions"),children:(0,bo.jsx)(gv,{value:this.props.monster.legendaryActions,downEnabled:this.props.monster.legendaryActions>0,onNudgeValue:e=>this.props.nudgeValue("legendaryActions",e)})})]})]},"combat")}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"CombatTab",error:bC})}}}class Xv extends A.Component{createSection(e,t){const n=e[t];return(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"trait-header-bar",children:(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:(0,bo.jsx)("div",{className:"subheading",children:io.traitType(t,!0)})}),(0,bo.jsxs)("div",{className:"icons",children:[(0,bo.jsx)(Do,{title:"new "+io.traitType(t,!1),onClick:()=>this.props.addTrait(t)}),(0,bo.jsx)(Po,{rotate:270,title:"import",onClick:()=>this.props.browse(t)})]})]})}),(0,bo.jsx)(Bc,{values:n,lockVertically:!0,onChange:e=>{let{oldIndex:t,newIndex:r}=e;return this.props.moveTrait(n[t],n[r])},renderList:e=>{let{children:t,props:n}=e;return(0,bo.jsx)("div",{...n,children:t})},renderItem:e=>{let{value:t,props:n,isDragged:r}=e;return(0,bo.jsx)("div",{...n,className:r?"dragged":"",children:(0,bo.jsx)(Zv,{trait:t,isSelected:t.id===this.props.selectedTraitID,select:e=>this.props.selectTrait(e),delete:e=>this.props.deleteTrait(e)},t.id)})}})]})}render(){try{const e=[],t={};ho.forEach((n=>{e.push({id:n,text:io.traitType(n,!1)}),t[n]=this.props.monster.traits.filter((e=>e.type===n))}));const n=this.props.monster.traits.find((e=>e.id===this.props.selectedTraitID));let r=null;return r=n?(0,bo.jsx)(Rg,{trait:n,copyTrait:e=>this.props.copyTrait(e),deleteTrait:e=>this.props.deleteTrait(e),changeValue:(e,t,n)=>this.props.changeValue(e,t,n)}):(0,bo.jsx)(gg,{children:"select one of the features from the column to the left to edit its details here"}),(0,bo.jsxs)(Os,{gutter:10,children:[(0,bo.jsxs)(zs,{span:8,children:[this.createSection(t,"trait"),this.createSection(t,"action"),this.createSection(t,"bonus"),this.createSection(t,"reaction"),this.createSection(t,"legendary"),this.createSection(t,"mythic"),this.createSection(t,"lair")]}),(0,bo.jsx)(zs,{span:16,children:r})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"FeaturesTab",error:bC})}}}class Jv extends A.Component{render(){try{return this.props.allowRandomize?(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:this.props.children}),(0,bo.jsx)("div",{className:"icons",children:(0,bo.jsx)(Fo,{title:"use a value from your scratchpad",onClick:()=>this.props.onRandomize()})})]}):this.props.children}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"FieldPanel",error:bC})}}}class Zv extends A.Component{render(){try{return(0,bo.jsx)(cv,{className:this.props.isSelected?"trait-bar selected":"trait-bar",onClick:()=>this.props.select(this.props.trait),children:(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:this.props.trait.name||"unnamed "+io.traitType(this.props.trait.type,!1)}),(0,bo.jsxs)("div",{className:"icons",children:[(0,bo.jsx)(Vo,{className:"grabber",title:"drag to reorder","data-movable-handle":!0}),(0,bo.jsx)(ug,{onConfirm:()=>this.props.delete(this.props.trait),children:(0,bo.jsx)(Eo,{title:"delete"})})]})]})})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"TraitBarPanel",error:bC})}}}class $v extends A.Component{render(){try{const e=io.challengeDetails();let t=1;this.props.monster.damage.immune?t=this.props.monster.challenge<11?2:this.props.monster.challenge<17?1.5:1.25:this.props.monster.damage.resist&&(t=this.props.monster.challenge<5?2:this.props.monster.challenge<11?1.5:this.props.monster.challenge<17?1.25:1);const n=po.getTypicalHP(this.props.monster)*t;let r=[],s=[];this.props.monster.traits.forEach((e=>{s=s.concat(po.getToHitExpressions(e).map((e=>e.bonus))),r=r.concat(po.getSaveExpressions(e).map((e=>e.dc)))}));const a=Math.min(...s),i=Math.max(...s),o=Math.min(...r),l=Math.max(...r);return(0,bo.jsxs)("div",{children:[(0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{className:"section",children:"this table shows typical values for certain stats (ac, hp, etc) for a given challenge rating"}),(0,bo.jsx)("div",{className:"section",children:"to gauge a monster's cr, take the average of its defensive cr (from ac and hp) and offensive cr (from attack bonus, save dc, and damage per round)"})]}),(0,bo.jsxs)("div",{className:"table alternating",children:[(0,bo.jsxs)(Os,{className:"table-row table-row-header",children:[(0,bo.jsx)(zs,{span:4,className:"table-cell",children:"cr"}),(0,bo.jsx)(zs,{span:4,className:"table-cell",children:"ac"}),(0,bo.jsx)(zs,{span:4,className:"table-cell",children:"effective hp"}),(0,bo.jsx)(zs,{span:4,className:"table-cell",children:"attack bonus"}),(0,bo.jsx)(zs,{span:4,className:"table-cell",children:"save dc"}),(0,bo.jsx)(zs,{span:4,className:"table-cell",children:"dmg / rnd"})]}),e.map((e=>{const t=e.cr===this.props.monster.challenge,r=e.ac===this.props.monster.ac,s=e.hpMin<=n&&e.hpMax>=n,A=a<=e.attack&&i>=e.attack,c=o<=e.save&&l>=e.save;return(0,bo.jsxs)(Os,{className:"table-row",children:[(0,bo.jsx)(zs,{span:4,className:t?"table-cell table-cell-highlight":"table-cell",children:io.challenge(e.cr)}),(0,bo.jsx)(zs,{span:4,className:r?"table-cell table-cell-highlight":"table-cell",children:e.ac}),(0,bo.jsxs)(zs,{span:4,className:s?"table-cell table-cell-highlight":"table-cell",children:[e.hpMin," - ",e.hpMax]}),(0,bo.jsxs)(zs,{span:4,className:A?"table-cell table-cell-highlight":"table-cell",children:["+",e.attack]}),(0,bo.jsx)(zs,{span:4,className:c?"table-cell table-cell-highlight":"table-cell",children:e.save}),(0,bo.jsxs)(zs,{span:4,className:"table-cell",children:[e.dmgMin," - ",e.dmgMax]})]},e.cr)}))]})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"GuidelinesPanel",error:bC})}}}class ey extends A.Component{constructor(e){super(e),this.state={pc:e.pc}}addCompanion(){const e=ro.createCompanion();this.state.pc.companions.push(e),this.setState({pc:this.state.pc})}removeCompanion(e){const t=this.state.pc;t.companions=this.state.pc.companions.filter((t=>t.id!==e)),this.setState({pc:t})}changeValue(e,t,n){e[t]=n,this.setState({pc:this.state.pc})}nudgeValue(e,t,n){const r=e[t];let s;if("size"===t)s=io.nudgeSize(r,n);else s=(r||0)+n;this.changeValue(e,t,s)}render(){try{const e=[];this.props.library.forEach((t=>{t.monsters.forEach((t=>{e.push({id:t.id,text:t.name})}))})),no.sort(e,[{field:"text",dir:"asc"}]);const t=this.state.pc.companions.map((t=>(0,bo.jsxs)(cv,{children:[(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:(0,bo.jsx)(xo,{text:t.name,placeholder:"companion name",onChange:e=>this.changeValue(t,"name",e)})}),(0,bo.jsx)("div",{className:"icons",children:(0,bo.jsx)(ug,{onConfirm:()=>this.removeCompanion(t.id),children:(0,bo.jsx)(Eo,{title:"delete companion"})})})]}),(0,bo.jsx)(mg,{options:e,placeholder:"select a stat block",selectedID:t.monsterID||void 0,onSelect:e=>this.changeValue(t,"monsterID",e),onClear:()=>this.changeValue(t,"monsterID",null)})]},t.id)));return 0===t.length&&t.push((0,bo.jsx)("div",{className:"section",children:(0,bo.jsx)("i",{children:"no companions (pets, retainers, mounts, etc)"})},"empty")),(0,bo.jsxs)(Os,{className:"full-height",children:[(0,bo.jsxs)(zs,{span:12,className:"scrollable padded",children:[(0,bo.jsx)("div",{className:"subheading",children:"character name"}),(0,bo.jsx)(xo,{text:this.state.pc.name,onChange:e=>this.changeValue(this.state.pc,"name",e)}),(0,bo.jsx)("div",{className:"subheading",children:"player name"}),(0,bo.jsx)(xo,{text:this.state.pc.player,onChange:e=>this.changeValue(this.state.pc,"player",e)}),(0,bo.jsx)("div",{className:"subheading",children:"size"}),(0,bo.jsx)(gv,{value:this.state.pc.size,downEnabled:"tiny"!==this.state.pc.size,upEnabled:"gargantuan"!==this.state.pc.size,onNudgeValue:e=>this.nudgeValue(this.state.pc,"size",e)}),(0,bo.jsx)("div",{className:"subheading",children:"race"}),(0,bo.jsx)(xo,{text:this.state.pc.race,onChange:e=>this.changeValue(this.state.pc,"race",e)}),(0,bo.jsx)("div",{className:"subheading",children:"class"}),(0,bo.jsx)(xo,{text:this.state.pc.classes,onChange:e=>this.changeValue(this.state.pc,"classes",e)}),(0,bo.jsx)("div",{className:"subheading",children:"level"}),(0,bo.jsx)(gv,{value:this.state.pc.level,downEnabled:this.state.pc.level>1,upEnabled:this.state.pc.level<20,onNudgeValue:e=>this.nudgeValue(this.state.pc,"level",e)}),(0,bo.jsx)("div",{className:"subheading",children:"passive skills"}),(0,bo.jsx)(gv,{value:this.state.pc.passiveInsight,label:"insight",downEnabled:this.state.pc.passiveInsight>0,onNudgeValue:e=>this.nudgeValue(this.state.pc,"passiveInsight",e)}),(0,bo.jsx)(gv,{value:this.state.pc.passiveInvestigation,label:"investigation",downEnabled:this.state.pc.passiveInvestigation>0,onNudgeValue:e=>this.nudgeValue(this.state.pc,"passiveInvestigation",e)}),(0,bo.jsx)(gv,{value:this.state.pc.passivePerception,label:"perception",downEnabled:this.state.pc.passivePerception>0,onNudgeValue:e=>this.nudgeValue(this.state.pc,"passivePerception",e)})]}),(0,bo.jsxs)(zs,{span:12,className:"scrollable padded",children:[(0,bo.jsx)("div",{className:"subheading",children:"darkvision"}),(0,bo.jsx)(gv,{value:this.state.pc.darkvision+" ft",downEnabled:this.state.pc.darkvision>0,onNudgeValue:e=>this.nudgeValue(this.state.pc,"darkvision",10*e)}),(0,bo.jsx)("div",{className:"subheading",children:"languages"}),(0,bo.jsx)(xo,{text:this.state.pc.languages,onChange:e=>this.changeValue(this.state.pc,"languages",e)}),(0,bo.jsx)("div",{className:"subheading",children:"d&d beyond link"}),(0,bo.jsx)(xo,{text:this.state.pc.url,placeholder:"https://ddb.ac/characters/...",onChange:e=>this.changeValue(this.state.pc,"url",e)}),(0,bo.jsx)("div",{className:"subheading",children:"portrait"}),(0,bo.jsx)(Sd,{source:this.state.pc,setPortrait:e=>this.changeValue(this.state.pc,"portrait",e),clear:()=>this.changeValue(this.state.pc,"portrait","")}),(0,bo.jsx)("div",{className:"subheading",children:"companions"}),t,(0,bo.jsx)("button",{onClick:()=>this.addCompanion(),children:"add a new companion"})]})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"PCEditorModal",error:bC})}}}const ty={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M342 88H120c-17.7 0-32 14.3-32 32v224c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V168h174c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zm578 576h-48c-8.8 0-16 7.2-16 16v176H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h222c17.7 0 32-14.3 32-32V680c0-8.8-7.2-16-16-16zM342 856H168V680c0-8.8-7.2-16-16-16h-48c-8.8 0-16 7.2-16 16v224c0 17.7 14.3 32 32 32h222c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zM904 88H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h174v176c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V120c0-17.7-14.3-32-32-32z"}}]},name:"expand",theme:"outlined"};var ny=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:ty}))};const ry=A.forwardRef(ny);const sy={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};var ay=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:sy}))};const iy=A.forwardRef(ay);const oy={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M632 888H392c-4.4 0-8 3.6-8 8v32c0 17.7 14.3 32 32 32h192c17.7 0 32-14.3 32-32v-32c0-4.4-3.6-8-8-8zM512 64c-181.1 0-328 146.9-328 328 0 121.4 66 227.4 164 284.1V792c0 17.7 14.3 32 32 32h264c17.7 0 32-14.3 32-32V676.1c98-56.7 164-162.7 164-284.1 0-181.1-146.9-328-328-328zm127.9 549.8L604 634.6V752H420V634.6l-35.9-20.8C305.4 568.3 256 484.5 256 392c0-141.4 114.6-256 256-256s256 114.6 256 256c0 92.5-49.4 176.3-128.1 221.8z"}}]},name:"bulb",theme:"outlined"};var ly=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:oy}))};const Ay=A.forwardRef(ly);const cy={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 289.1a362.49 362.49 0 00-79.9-115.7 370.83 370.83 0 00-118.2-77.8C610.7 76.6 562.1 67 512 67c-50.1 0-98.7 9.6-144.5 28.5-44.3 18.3-84 44.5-118.2 77.8A363.6 363.6 0 00169.4 289c-19.5 45-29.4 92.8-29.4 142 0 70.6 16.9 140.9 50.1 208.7 26.7 54.5 64 107.6 111 158.1 80.3 86.2 164.5 138.9 188.4 153a43.9 43.9 0 0022.4 6.1c7.8 0 15.5-2 22.4-6.1 23.9-14.1 108.1-66.8 188.4-153 47-50.4 84.3-103.6 111-158.1C867.1 572 884 501.8 884 431.1c0-49.2-9.9-97-29.4-142zM512 880.2c-65.9-41.9-300-207.8-300-449.1 0-77.9 31.1-151.1 87.6-206.3C356.3 169.5 431.7 139 512 139s155.7 30.5 212.4 85.9C780.9 280 812 353.2 812 431.1c0 241.3-234.1 407.2-300 449.1zm0-617.2c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 551c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 439c0-29.9 11.7-58 32.8-79.2C454 338.6 482.1 327 512 327c29.9 0 58 11.6 79.2 32.8C612.4 381 624 409.1 624 439c0 29.9-11.6 58-32.8 79.2z"}}]},name:"environment",theme:"outlined"};var uy=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:cy}))};const dy=A.forwardRef(uy);const hy={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M811.4 418.7C765.6 297.9 648.9 212 512.2 212S258.8 297.8 213 418.6C127.3 441.1 64 519.1 64 612c0 110.5 89.5 200 199.9 200h496.2C870.5 812 960 722.5 960 612c0-92.7-63.1-170.7-148.6-193.3zm36.3 281a123.07 123.07 0 01-87.6 36.3H263.9c-33.1 0-64.2-12.9-87.6-36.3A123.3 123.3 0 01140 612c0-28 9.1-54.3 26.2-76.3a125.7 125.7 0 0166.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10c54.3 14.5 92.1 63.8 92.1 120 0 33.1-12.9 64.3-36.3 87.7z"}}]},name:"cloud",theme:"outlined"};var py=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:hy}))};const my=A.forwardRef(py);const fy={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M840 836H184c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h656c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm0-724H184c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h656c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM610.8 378c6 0 9.4-7 5.7-11.7L515.7 238.7a7.14 7.14 0 00-11.3 0L403.6 366.3a7.23 7.23 0 005.7 11.7H476v268h-62.8c-6 0-9.4 7-5.7 11.7l100.8 127.5c2.9 3.7 8.5 3.7 11.3 0l100.8-127.5c3.7-4.7.4-11.7-5.7-11.7H548V378h62.8z"}}]},name:"column-height",theme:"outlined"};var gy=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:fy}))};const vy=A.forwardRef(gy);const yy={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z",fill:e}},{tag:"path",attrs:{d:"M184 840h656V184H184v656zm143.5-228.7l178-246c3.2-4.4 9.7-4.4 12.9 0l178 246c3.9 5.3.1 12.7-6.4 12.7h-46.9c-10.2 0-19.9-4.9-25.9-13.2L512 465.4 406.8 610.8c-6 8.3-15.6 13.2-25.9 13.2H334c-6.5 0-10.3-7.4-6.5-12.7z",fill:t}},{tag:"path",attrs:{d:"M334 624h46.9c10.3 0 19.9-4.9 25.9-13.2L512 465.4l105.2 145.4c6 8.3 15.7 13.2 25.9 13.2H690c6.5 0 10.3-7.4 6.4-12.7l-178-246a7.95 7.95 0 00-12.9 0l-178 246c-3.8 5.3 0 12.7 6.5 12.7z",fill:e}}]}},name:"up-square",theme:"twotone"};var wy=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:yy}))};const by=A.forwardRef(wy);const xy={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z",fill:e}},{tag:"path",attrs:{d:"M184 840h656V184H184v656zm150-440h46.9c10.3 0 19.9 4.9 25.9 13.2L512 558.6l105.2-145.4c6-8.3 15.7-13.2 25.9-13.2H690c6.5 0 10.3 7.4 6.4 12.7l-178 246a7.95 7.95 0 01-12.9 0l-178-246c-3.8-5.3 0-12.7 6.5-12.7z",fill:t}},{tag:"path",attrs:{d:"M505.5 658.7c3.2 4.4 9.7 4.4 12.9 0l178-246c3.9-5.3.1-12.7-6.4-12.7h-46.9c-10.2 0-19.9 4.9-25.9 13.2L512 558.6 406.8 413.2c-6-8.3-15.6-13.2-25.9-13.2H334c-6.5 0-10.3 7.4-6.5 12.7l178 246z",fill:e}}]}},name:"down-square",theme:"twotone"};var By=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:xy}))};const Cy=A.forwardRef(By);const ky={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512.5 190.4l-94.4 191.3-211.2 30.7 152.8 149-36.1 210.3 188.9-99.3 188.9 99.2-36.1-210.3 152.8-148.9-211.2-30.7z",fill:t}},{tag:"path",attrs:{d:"M908.6 352.8l-253.9-36.9L541.2 85.8c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L370.3 315.9l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1L239 839.4a31.95 31.95 0 0046.4 33.7l227.1-119.4 227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3zM665.3 561.3l36.1 210.3-188.9-99.2-188.9 99.3 36.1-210.3-152.8-149 211.2-30.7 94.4-191.3 94.4 191.3 211.2 30.7-152.8 148.9z",fill:e}}]}},name:"star",theme:"twotone"};var Sy=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:ky}))};const Ey=A.forwardRef(Sy);class jy extends A.Component{render(){try{if(0===this.props.items.length)return null;const e=this.props.items.map((e=>(0,bo.jsx)(Iy,{item:e,selected:this.props.selectedItemID===e.id,onSelect:e=>this.props.onSelect(e)},e.id)));return(0,bo.jsx)("div",{className:"radio-group",children:e})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"RadioGroup",error:bC})}}}jy.defaultProps={selectedItemID:null};class Iy extends A.Component{click(e){e.stopPropagation(),this.props.onSelect(this.props.item.id)}render(){try{let e="radio-item",t=null;return this.props.selected&&(e+=" selected",this.props.item.details&&(t=(0,bo.jsx)("div",{className:"radio-item-details",children:this.props.item.details}))),this.props.item.disabled&&(e+=" disabled"),(0,bo.jsxs)("div",{className:e,onClick:e=>this.click(e),role:"button",children:[(0,bo.jsxs)("div",{className:"radio-item-top",children:[(0,bo.jsx)("div",{className:"radio-item-text",children:this.props.item.text}),(0,bo.jsx)("div",{className:"radio-item-info",children:this.props.item.info})]}),t]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"RadioGroupItem",error:bC})}}}const Fy={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"};var Qy=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Fy}))};const Ny=A.forwardRef(Qy);const My={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};var Uy=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:My}))};const Ty=A.forwardRef(Uy);class Dy extends A.Component{render(){try{const e=[];return this.props.combatants.forEach((t=>{t.conditions.forEach((n=>{e.push((0,bo.jsx)(Hy,{condition:n,combatant:t,combatants:this.props.allCombatants,showCombatantName:this.props.combatants.length>1,nudgeConditionValue:(e,t,n)=>this.props.nudgeConditionValue(e,t,n),editCondition:e=>this.props.editCondition(t,e),deleteCondition:e=>this.props.deleteCondition(t,e)},n.id))}))})),(0,bo.jsxs)("div",{className:"section",children:[e,(0,bo.jsx)("button",{onClick:()=>this.props.addCondition(),children:"add a condition"})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"ConditionsPanel",error:bC})}}}class Hy extends A.Component{render(){try{let e=this.props.condition.name||"condition";"custom"===e&&(e=this.props.condition.text||"custom condition"),"exhaustion"===this.props.condition.name&&(e+=" ("+this.props.condition.level+")"),this.props.showCombatantName&&(e=ao.getCombatantName(this.props.combatant,this.props.combatants)+": "+e);const t=[];if("exhaustion"===this.props.condition.name&&t.push((0,bo.jsx)("div",{className:"section",children:(0,bo.jsx)(gv,{value:this.props.condition.level,label:"level",downEnabled:this.props.condition.level>1,upEnabled:this.props.condition.level<6,onNudgeValue:e=>this.props.nudgeConditionValue(this.props.condition,"level",e)})},"level")),"custom"!==this.props.condition.name){const e=io.conditionText(this.props.condition);for(let n=0;n!==e.length;++n)t.push((0,bo.jsx)("div",{className:"section",children:e[n]},n))}return(0,bo.jsx)(cv,{children:(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsxs)("div",{className:"content",children:[(0,bo.jsx)("div",{className:"subheading",children:e}),(0,bo.jsx)(Lg,{display:null!==this.props.condition.duration,children:(0,bo.jsx)("div",{className:"section",children:(0,bo.jsx)("i",{children:io.conditionDurationText(this.props.condition,this.props.combatants)})})}),t]}),(0,bo.jsxs)("div",{className:"icons vertical",children:[(0,bo.jsx)(Ty,{title:"edit",onClick:()=>this.props.editCondition(this.props.condition)}),(0,bo.jsx)(Eo,{title:"remove",onClick:()=>this.props.deleteCondition(this.props.condition)})]})]})})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"ConditionPanel",error:bC})}}}const Ly={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"}}]},name:"undo",theme:"outlined"};var Py=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Ly}))};const Oy=A.forwardRef(Py);const Ry={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"};var Vy=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Ry}))};const Ky=A.forwardRef(Vy);const zy={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"};var _y=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:zy}))};const Gy=A.forwardRef(_y);const Wy={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"};var Yy=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Wy}))};const qy=A.forwardRef(Yy);class Xy extends A.Component{constructor(e){super(e),this.state={step:1}}click(e,t){e.stopPropagation(),this.props.onMove(t,this.state.step)}undo(e){e.stopPropagation(),this.props.undo&&this.props.undo.enabled&&this.props.undo.onUndo()}toggleStep(e){e.stopPropagation(),this.setState({step:1===this.state.step?.5:1})}render(){try{let e="radial";this.props.disabled&&(e+=" disabled");let t=null;if(this.props.showToggle){const e=1!==this.state.step?"\xbd":"";t=(0,bo.jsx)("div",{className:"radial-toggle",role:"button",onClick:e=>this.toggleStep(e),children:e})}let n=null;if(this.props.undo){let e="undo";this.props.undo.enabled||(e+=" disabled"),n=(0,bo.jsx)(zs,{flex:"1",children:(0,bo.jsxs)("div",{className:e,children:[(0,bo.jsx)(Oy,{title:"undo",onClick:e=>this.undo(e)}),this.props.undo.text]})})}let r=null;if(this.props.altitude){let e="altitude";this.props.altitude.enabled||(e+=" disabled"),r=(0,bo.jsx)(zs,{flex:"1",children:(0,bo.jsxs)("div",{className:e,children:[(0,bo.jsx)(Ky,{title:"move up",onClick:e=>this.click(e,"UP")}),this.props.altitude.text,(0,bo.jsx)(Gy,{title:"move down",onClick:e=>this.click(e,"DOWN")})]})})}return(0,bo.jsx)("div",{className:e,children:(0,bo.jsxs)(Os,{align:"middle",children:[n,(0,bo.jsx)(zs,{flex:"2",children:(0,bo.jsx)("div",{className:"dial",children:(0,bo.jsxs)("div",{className:"cells",children:[(0,bo.jsx)("div",{className:"radial-cell",children:(0,bo.jsx)("div",{className:"radial-arrow radial-arrow-diag",onClick:e=>this.click(e,"NW"),role:"button",children:(0,bo.jsx)(qy,{rotate:-45})})}),(0,bo.jsx)("div",{className:"radial-cell",children:(0,bo.jsx)("div",{className:"radial-arrow",onClick:e=>this.click(e,"N"),role:"button",children:(0,bo.jsx)(qy,{})})}),(0,bo.jsx)("div",{className:"radial-cell",children:(0,bo.jsx)("div",{className:"radial-arrow radial-arrow-diag",onClick:e=>this.click(e,"NE"),role:"button",children:(0,bo.jsx)(qy,{rotate:45})})}),(0,bo.jsx)("div",{className:"radial-cell",children:(0,bo.jsx)("div",{className:"radial-arrow",onClick:e=>this.click(e,"W"),role:"button",children:(0,bo.jsx)(qy,{rotate:-90})})}),(0,bo.jsx)("div",{className:"radial-cell",children:t}),(0,bo.jsx)("div",{className:"radial-cell",children:(0,bo.jsx)("div",{className:"radial-arrow",onClick:e=>this.click(e,"E"),role:"button",children:(0,bo.jsx)(qy,{rotate:90})})}),(0,bo.jsx)("div",{className:"radial-cell",children:(0,bo.jsx)("div",{className:"radial-arrow radial-arrow-diag",onClick:e=>this.click(e,"SW"),role:"button",children:(0,bo.jsx)(qy,{rotate:-135})})}),(0,bo.jsx)("div",{className:"radial-cell",children:(0,bo.jsx)("div",{className:"radial-arrow",onClick:e=>this.click(e,"S"),role:"button",children:(0,bo.jsx)(qy,{rotate:180})})}),(0,bo.jsx)("div",{className:"radial-cell",children:(0,bo.jsx)("div",{className:"radial-arrow radial-arrow-diag",onClick:e=>this.click(e,"SE"),role:"button",children:(0,bo.jsx)(qy,{rotate:135})})})]})})}),r]})})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"MovementPanel",error:bC})}}}Xy.defaultProps={showToggle:!1,undo:null,altitude:null,disabled:!1};class Jy extends A.Component{constructor(e){super(e),this.state={view:e.defaultTab,damageMode:"damage",value:0,damageMultipliers:{}}}nudgeValue(e){this.setState({value:Math.max(this.state.value+e,0)})}setView(e){this.setState({view:e})}setDamageMultiplier(e,t){const n=this.state.damageMultipliers;n[e]=t,this.setState({damageMultipliers:n})}heal(){if(null===this.props.changeHP)return;const e=this.state.value;this.setState({value:0},(()=>{const t=[];this.props.combatants.forEach((n=>{var r,s,a;const i=null!==(r=n.hpMax)&&void 0!==r?r:0;let o=(null!==(s=n.hpCurrent)&&void 0!==s?s:0)+e;o=Math.min(o,i),t.push({id:n.id,hp:o,temp:null!==(a=n.hpTemp)&&void 0!==a?a:0,damage:0})})),this.props.changeHP(t)}))}damage(){if(null===this.props.changeHP)return;const e=this.state.value;this.setState({value:0},(()=>{const t=[];this.props.combatants.forEach((n=>{var r,s,a;const i=null!==(r=this.state.damageMultipliers[n.id])&&void 0!==r?r:1;let o=null!==(s=n.hpCurrent)&&void 0!==s?s:0,l=null!==(a=n.hpTemp)&&void 0!==a?a:0;const A=Math.floor(e*i);let c=A;const u=Math.min(c,l);c-=u,l-=u,o-=c,o=Math.max(o,0),t.push({id:n.id,hp:o,temp:l,damage:A})})),this.props.changeHP(t)}))}addTempHP(){if(null===this.props.changeHP)return;const e=this.state.value;this.setState({value:0},(()=>{const t=[];this.props.combatants.forEach((n=>{var r,s;t.push({id:n.id,hp:null!==(r=n.hpCurrent)&&void 0!==r?r:0,temp:Math.max(e,null!==(s=n.hpTemp)&&void 0!==s?s:0),damage:0})})),this.props.changeHP(t)}))}getDamageMultiplier(e){var t;let n="normal";const r=null!==(t=this.state.damageMultipliers[e])&&void 0!==t?t:1;return r<1&&(n="half"),r>1&&(n="double"),(0,bo.jsx)(vv,{options:no.arrayToItems(["half","normal","double"]),selectedID:n,onSelect:t=>{let n=1;"half"===t&&(n=.5),"double"===t&&(n=2),this.setDamageMultiplier(e,n)}})}getMainSection(){const e=[],t=[],n=[];if(this.props.nextTurn&&this.props.combatants.every((e=>e.current))&&e.push((0,bo.jsx)("button",{onClick:()=>this.props.nextTurn(),children:"end turn"},"endTurn")),this.props.combatants.every((e=>e.active))){if(this.props.makeCurrent&&this.props.makeDefeated)if(this.props.combatants.every((e=>e.current)))e.push((0,bo.jsx)("button",{onClick:()=>this.props.makeDefeated(this.props.combatants),children:"mark as defeated and end turn"},"makeDefeated"));else{if(1===this.props.combatants.length){!!this.props.allCombatants.find((e=>e.mountID===this.props.combatants[0].id))||e.push((0,bo.jsx)("button",{onClick:()=>this.props.makeCurrent(this.props.combatants[0]),children:"start turn"},"makeCurrent"))}e.push((0,bo.jsx)("button",{onClick:()=>this.props.makeDefeated(this.props.combatants),children:"mark as defeated"},"makeDefeated"))}if(this.props.combatants.every((e=>"pc"!==e.type))){this.props.allCombatants.filter((e=>"pc"===e.type)).forEach((e=>{const n=ao.getCombatantName(e,[]),r="engaged:"+n;t.push((0,bo.jsx)(Pc.CheckableTag,{checked:this.props.combatants.every((e=>e.tags.includes(r))),onChange:()=>this.props.toggleTag(this.props.combatants,r),children:n},e.id))}))}}if(1===this.props.combatants.length&&"bright light"!==this.props.lighting){const e=this.props.combatants[0];0===e.darkvision&&null===e.lightSource&&n.push((0,bo.jsx)(gg,{children:(0,bo.jsxs)("div",{className:"section",children:[ao.getCombatantName(e,[])," is in ",this.props.lighting,", and has no darkvision or light source"]})},"light"))}this.props.makeActive&&this.props.combatants.every((e=>e.defeated))&&e.push((0,bo.jsx)("button",{onClick:()=>this.props.makeActive(this.props.combatants),children:"mark as active"},"makeActive"));let r=null;e.length>0&&(r=(0,bo.jsxs)("div",{children:[e,(0,bo.jsx)("hr",{})]}));let s=null;return t.length>0&&(s=(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("b",{children:"engaged with: "}),t]})),(0,bo.jsxs)("div",{children:[n,r,(0,bo.jsx)(Zy,{combatants:this.props.combatants,editable:!0,toggleTag:(e,t)=>this.props.toggleTag(e,t),toggleCondition:(e,t)=>this.props.toggleCondition(e,t),toggleHidden:e=>this.props.toggleHidden(e)}),s]})}getHPSection(){if(!this.props.combatants.every((e=>"monster"===e.type)))return null;const e=this.props.combatants.map((e=>{const t=e;let n=null,r=null,s=null,a=null;return t.damage.resist&&(n=(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("b",{children:"resistances"})," ",t.damage.resist," ",this.props.combatants.length>1?(0,bo.jsxs)("i",{children:[" - ",ao.getCombatantName(e,[])]}):null]})),t.damage.vulnerable&&(r=(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("b",{children:"vulnerabilities"})," ",t.damage.vulnerable," ",this.props.combatants.length>1?(0,bo.jsxs)("i",{children:[" - ",ao.getCombatantName(e,[])]}):null]})),t.damage.immune&&(s=(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("b",{children:"immunities"})," ",t.damage.immune," ",this.props.combatants.length>1?(0,bo.jsxs)("i",{children:[" - ",ao.getCombatantName(e,[])]}):null]})),t.tags.includes("conc")&&(a=(0,bo.jsxs)("div",{className:"section",children:[ao.getCombatantName(t,[])," is ",(0,bo.jsx)("b",{children:"concentrating"}),", and will need to make a check if they take damage"]})),n||r||s||a?(0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{children:n}),(0,bo.jsx)("div",{children:r}),(0,bo.jsx)("div",{children:s}),(0,bo.jsx)("div",{children:a})]},e.id):null}));let t=null;if(1===this.props.combatants.length){const e=this.props.combatants[0].id;let r=this.state.value;if("damage"===this.state.damageMode&&this.state.value>0){var n;const t=null!==(n=this.state.damageMultipliers[e])&&void 0!==n?n:1;t<1&&(r=(0,bo.jsxs)("div",{children:[this.state.value," hp ",(0,bo.jsx)(Ny,{className:"inline-text"})," ",Math.floor(this.state.value/2)," hp"]})),t>1&&(r=(0,bo.jsxs)("div",{children:[this.state.value," hp ",(0,bo.jsx)(Ny,{className:"inline-text"})," ",2*this.state.value," hp"]}))}t=(0,bo.jsxs)("div",{children:[(0,bo.jsx)(vv,{options:no.arrayToItems(["damage","healing","temp hp"]),selectedID:this.state.damageMode,onSelect:e=>this.setState({damageMode:e})}),(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsxs)("div",{className:"content",children:[(0,bo.jsx)(gv,{label:this.state.damageMode,value:r,factors:[1,10],downEnabled:this.state.value>0,onNudgeValue:e=>this.nudgeValue(e)}),(0,bo.jsx)(Lg,{display:"damage"===this.state.damageMode,children:this.getDamageMultiplier(e)})]}),(0,bo.jsxs)("div",{className:"icons",children:[(0,bo.jsx)(Lg,{display:"damage"===this.state.damageMode,children:(0,bo.jsx)(Ve,{className:0===this.state.value?"disabled":"",title:"apply damage",onClick:()=>this.damage()})}),(0,bo.jsx)(Lg,{display:"healing"===this.state.damageMode,children:(0,bo.jsx)(Ve,{className:0===this.state.value?"disabled":"",title:"apply healing",onClick:()=>this.heal()})}),(0,bo.jsx)(Lg,{display:"temp hp"===this.state.damageMode,children:(0,bo.jsx)(Ve,{className:0===this.state.value?"disabled":"",title:"apply temp hp",onClick:()=>this.addTempHP()})})]})]})]})}else{const e=this.props.combatants.map((e=>1===this.props.combatants.length?(0,bo.jsx)("div",{children:this.getDamageMultiplier(e.id)},e.id):(0,bo.jsxs)(Os,{align:"middle",justify:"center",children:[(0,bo.jsx)(zs,{span:8,children:(0,bo.jsx)("div",{children:ao.getCombatantName(e,[])})}),(0,bo.jsx)(zs,{span:16,children:this.getDamageMultiplier(e.id)})]},e.id)));t=(0,bo.jsxs)("div",{children:[(0,bo.jsx)(gv,{value:this.state.value,label:"damage",factors:[1,10],downEnabled:this.state.value>0,onNudgeValue:e=>this.nudgeValue(e)}),e,(0,bo.jsx)("button",{className:0===this.state.value?"disabled":"",onClick:()=>this.damage(),children:"apply damage"}),(0,bo.jsx)("hr",{}),(0,bo.jsx)(Av,{text:"healing",children:(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:(0,bo.jsx)(gv,{value:this.state.value,label:"healing",factors:[1,10],downEnabled:this.state.value>0,onNudgeValue:e=>this.nudgeValue(e)})}),(0,bo.jsx)("div",{className:"icons",children:(0,bo.jsx)(Ve,{className:0===this.state.value?"disabled":"",title:"apply healing",onClick:()=>this.heal()})})]})})]})}let r=null;const s=this.props.combatants.filter((e=>null!=e.hpCurrent&&e.hpCurrent<=0));if(s.length>0){const e=1===s.length&&s[0].current?"mark as defeated and end turn":"mark as defeated";let t=null;this.props.combatants.length>1&&(t=(0,bo.jsx)("ul",{children:s.map((e=>(0,bo.jsx)("li",{children:ao.getCombatantName(e,[])},e.id)))})),r=(0,bo.jsxs)("button",{onClick:()=>this.props.makeDefeated(s),children:[e,t]})}return(0,bo.jsxs)("div",{children:[e,t,r]})}getConditionSection(){const e=this.props.combatants.map((e=>{if("monster"!==e.type)return null;const t=e;return t.conditionImmunities?(0,bo.jsx)(gg,{children:(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("b",{children:"immunities"})," ",t.conditionImmunities," ",this.props.combatants.length>1?(0,bo.jsxs)("i",{children:[" - ",ao.getCombatantName(e,[])]}):null]})},e.id):null})),t=(0,bo.jsx)(Dy,{combatants:this.props.combatants,allCombatants:this.props.allCombatants,addCondition:()=>this.props.addCondition(this.props.combatants),editCondition:(e,t)=>this.props.editCondition(e,t),deleteCondition:(e,t)=>this.props.deleteCondition(e,t),nudgeConditionValue:(e,t,n)=>this.props.nudgeValue(e,t,n)});return(0,bo.jsxs)("div",{children:[e,t]})}getMapSection(){if(!this.props.map)return null;const e=this.props.combatants.every((e=>this.props.map&&this.props.map.items.find((t=>t.id===e.id))));if(e){let e=null,t=null,n=null,r=null;if(1===this.props.combatants.length){const s=this.props.combatants[0],a=this.props.map.items.find((e=>e.id===s.id));if(a){if(s.path){const t=yo.getDistance(a,s.path,this.props.options.diagonals);e={enabled:s.path.length>0,text:(0,bo.jsxs)("div",{className:"section centered",children:[(0,bo.jsx)("b",{children:5*t})," ft"]}),onUndo:()=>this.props.undoStep(s)}}t={enabled:!0,text:(0,bo.jsxs)("div",{className:"section centered",children:[(0,bo.jsx)("b",{children:5*a.z})," ft"]})}}let i=null;s.aura.radius>0&&(i=(0,bo.jsxs)("div",{children:[(0,bo.jsx)(vv,{options:no.arrayToItems(["square","rounded","circle"]),selectedID:s.aura.style,onSelect:e=>this.props.changeValue(s.aura,"style",e)}),(0,bo.jsx)("input",{type:"color",value:s.aura.color,onChange:e=>this.props.changeValue(s.aura,"color",e.target.value)}),(0,bo.jsx)("button",{onClick:()=>this.props.changeValue(s.aura,"radius",0),children:"remove aura"})]})),n=(0,bo.jsxs)(Av,{text:"aura",children:[(0,bo.jsx)(gv,{value:s.aura.radius+" ft.",label:"radius",downEnabled:s.aura.radius>0,onNudgeValue:e=>this.props.nudgeValue(s.aura,"radius",5*e)}),(0,bo.jsx)("div",{children:i})]}),r=(0,bo.jsx)("button",{onClick:()=>this.props.mapAdd(s),children:"place on a different square"})}return(0,bo.jsxs)("div",{children:[(0,bo.jsx)(Xy,{showToggle:!0,undo:e,altitude:t,onMove:(e,t)=>this.props.mapMove(this.props.combatants,e,t)}),(0,bo.jsx)("hr",{}),n,r,(0,bo.jsx)("button",{onClick:()=>this.props.mapRemove(this.props.combatants),children:"remove from the map"})]})}return 1===this.props.combatants.length?(0,bo.jsx)("button",{onClick:()=>this.props.mapAdd(this.props.combatants[0]),children:"add to the map"},"mapAdd"):null}getAdvancedSection(){let e=null;this.props.removeCombatants&&this.props.combatants.every((e=>!e.current))&&(e=(0,bo.jsx)(ug,{onConfirm:()=>{this.props.removeCombatants&&this.props.removeCombatants(this.props.combatants)},children:"remove from encounter"}));let t=null,n=null,r=null,s=null,a=null,i=null,o=null,l=null,A=null;if(1===this.props.combatants.length){const e=this.props.combatants[0];if(t=(0,bo.jsx)(Av,{text:"name",children:(0,bo.jsx)(xo,{text:e.displayName,onChange:t=>this.props.changeValue(e,"displayName",t)})}),"monster"===e.type){var c,u,d,h,p,m;const t=e;n=(0,bo.jsxs)(Av,{text:"hit points",children:[(0,bo.jsx)(gv,{value:null!==(c=t.hpCurrent)&&void 0!==c?c:0,label:"hp",factors:[1,10],downEnabled:(null!==(u=t.hpCurrent)&&void 0!==u?u:0)>0,upEnabled:(null!==(d=t.hpCurrent)&&void 0!==d?d:0)<(null!==(h=t.hpMax)&&void 0!==h?h:0),onNudgeValue:e=>this.props.nudgeValue(t,"hpCurrent",e)}),(0,bo.jsx)(gv,{value:null!==(p=t.hpTemp)&&void 0!==p?p:0,label:"temp hp",factors:[1,10],downEnabled:(null!==(m=t.hpTemp)&&void 0!==m?m:0)>0,onNudgeValue:e=>this.props.nudgeValue(t,"hpTemp",e)})]})}var f;if(r=(0,bo.jsx)(Av,{text:"size",children:(0,bo.jsx)(gv,{value:e.displaySize,label:"size",downEnabled:"tiny"!==e.displaySize,upEnabled:"gargantuan"!==e.displaySize,onNudgeValue:t=>this.props.nudgeValue(e,"displaySize",t)})}),!e.pending)s=(0,bo.jsx)(Av,{text:"initiative score",children:(0,bo.jsx)(gv,{value:null!==(f=e.initiative)&&void 0!==f?f:0,label:"initiative",onNudgeValue:t=>this.props.nudgeValue(e,"initiative",t)})});a=(0,bo.jsx)(Av,{text:"faction",children:(0,bo.jsx)(vv,{options:no.arrayToItems(["foe","neutral","ally"]),selectedID:e.faction,onSelect:t=>this.props.changeValue(e,"faction",t)})}),i=(0,bo.jsx)(Av,{text:"vision",children:(0,bo.jsx)(gv,{value:e.darkvision+" ft",label:"darkvision",downEnabled:e.darkvision>0,onNudgeValue:t=>this.props.nudgeValue(e,"darkvision",10*t)})}),o=(0,bo.jsxs)(Av,{text:"light source",children:[(0,bo.jsx)(vv,{options:no.arrayToItems(["none","candle","torch","lantern","custom"]),selectedID:e.lightSource?e.lightSource.name:"none",onSelect:t=>{switch(t){case"none":this.props.changeValue(e,"lightSource",null);break;case"candle":this.props.changeValue(e,"lightSource",{name:"candle",bright:5,dim:10});break;case"torch":this.props.changeValue(e,"lightSource",{name:"torch",bright:20,dim:40});break;case"lantern":this.props.changeValue(e,"lightSource",{name:"lantern",bright:30,dim:60});break;case"custom":{const t=e.lightSource?e.lightSource.bright:0,n=e.lightSource?e.lightSource.dim:0;this.props.changeValue(e,"lightSource",{name:"custom",bright:t,dim:n})}}}}),(0,bo.jsxs)(Lg,{display:null!==e.lightSource&&"custom"===e.lightSource.name,children:[(0,bo.jsx)(gv,{label:"bright light radius",value:(e.lightSource?e.lightSource.bright:0)+" ft",downEnabled:null!==e.lightSource&&e.lightSource.bright>0,upEnabled:null!==e.lightSource&&e.lightSource.bright<e.lightSource.dim,onNudgeValue:t=>this.props.nudgeValue(e.lightSource,"bright",5*t)}),(0,bo.jsx)(gv,{label:"dim light radius",value:(e.lightSource?e.lightSource.dim:0)+" ft",downEnabled:null!==e.lightSource&&e.lightSource.dim>e.lightSource.bright,onNudgeValue:t=>this.props.nudgeValue(e.lightSource,"dim",5*t)})]})]});if(!this.props.allCombatants.find((t=>t.mountID===e.id))){const t=this.props.allCombatants.filter((t=>t.id!==e.id)).filter((e=>!!e.mountID)).map((e=>e.mountID)),n=this.props.allCombatants.filter((t=>t.id!==e.id)).filter((e=>"placeholder"!==e.type)).filter((e=>!e.mountID)).filter((e=>!t.includes(e.id))).map((e=>({id:e.id,text:ao.getCombatantName(e,[])})));no.sort(n,[{field:"text",dir:"asc"}]);let r=null;r=n.length>0?(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"subheading",children:"mounted on:"}),(0,bo.jsx)(mg,{options:n,selectedID:e.mountID,onSelect:t=>this.props.changeValue(e,"mountID",t),onClear:()=>this.props.changeValue(e,"mountID",null)})]}):(0,bo.jsx)(gg,{children:"no mounts available"});let s=null;e.mountID&&(s=(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"subheading",children:"mount is:"}),(0,bo.jsx)(vv,{options:no.arrayToItems(["controlled","independent"]),selectedID:e.mountType,onSelect:t=>this.props.changeValue(e,"mountType",t)})]})),l=(0,bo.jsxs)(Av,{text:"mounted combat",children:[r,(0,bo.jsx)("div",{children:s})]})}A=(0,bo.jsxs)("div",{children:[(0,bo.jsx)("hr",{}),(0,bo.jsx)(Hg,{text:e.note,onChange:t=>this.props.changeValue(e,"note",t)})]})}const g=[];return this.props.combatants.filter((e=>"pc"===e.type)).forEach((e=>{e.companions.filter((e=>!this.props.allCombatants.find((t=>t.id===e.id)))).forEach((e=>{g.push((0,bo.jsxs)("button",{onClick:()=>this.props.addCompanion(e),children:["add ",e.name]},e.id))}))})),(0,bo.jsxs)("div",{children:[e,t,n,r,s,a,i,o,l,g,A]})}render(){try{const e=["main","hp","cond","map","adv"],t=this.props.allCombatants.filter((e=>!!e.mountID&&"controlled"===e.mountType)).map((e=>e.mountID||""));if(this.props.map&&!this.props.combatants.some((e=>t.includes(e.id)))||e.splice(3,1),this.props.combatants.every((e=>"monster"===e.type))||e.splice(1,1),!this.props.showTabs)return(0,bo.jsxs)("div",{children:[e.includes("main")?this.getMainSection():null,e.includes("hp")?(0,bo.jsxs)("div",{children:[(0,bo.jsx)("hr",{}),this.getHPSection()]}):null,e.includes("cond")?(0,bo.jsxs)("div",{children:[(0,bo.jsx)("hr",{}),this.getConditionSection()]}):null,e.includes("map")?(0,bo.jsxs)("div",{children:[(0,bo.jsx)("hr",{}),this.getMapSection()]}):null,e.includes("adv")?(0,bo.jsxs)("div",{children:[(0,bo.jsx)("hr",{}),(0,bo.jsx)(Av,{text:"advanced controls",children:this.getAdvancedSection()})]}):null]});let n=this.state.view;e.includes(n)||(n=e[0]);let r=null;switch(n){case"main":r=this.getMainSection();break;case"hp":r=this.getHPSection();break;case"cond":r=this.getConditionSection();break;case"map":r=this.getMapSection();break;case"adv":r=this.getAdvancedSection()}return(0,bo.jsxs)("div",{className:"combat-controls",children:[(0,bo.jsx)(wv,{options:no.arrayToItems(e),selectedID:n,onSelect:e=>this.setView(e)}),r]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"CombatControlsPanel",error:bC})}}}Jy.defaultProps={showTabs:!0,defaultTab:"main",makeCurrent:null,makeActive:null,makeDefeated:null,nextTurn:null,changeHP:null,removeCombatants:null};class Zy extends A.Component{createTag(e,t,n){return this.props.editable?(0,bo.jsx)(Pc.CheckableTag,{checked:t,onChange:()=>n(),children:e}):t?(0,bo.jsx)(Pc,{children:e}):null}render(){try{return(0,bo.jsxs)("div",{className:"section",children:[this.createTag("bane",this.props.combatants.every((e=>e.tags.includes("bane"))),(()=>this.props.toggleTag(this.props.combatants,"bane"))),this.createTag("bless",this.props.combatants.every((e=>e.tags.includes("bless"))),(()=>this.props.toggleTag(this.props.combatants,"bless"))),this.createTag("concentrating",this.props.combatants.every((e=>e.tags.includes("conc"))),(()=>this.props.toggleTag(this.props.combatants,"conc"))),this.createTag("hidden",!this.props.combatants.every((e=>e.showOnMap)),(()=>this.props.toggleHidden(this.props.combatants))),this.createTag("prone",this.props.combatants.every((e=>e.conditions.some((e=>"prone"===e.name)))),(()=>this.props.toggleCondition(this.props.combatants,"prone"))),this.createTag("unconscious",this.props.combatants.every((e=>e.conditions.some((e=>"unconscious"===e.name)))),(()=>this.props.toggleCondition(this.props.combatants,"unconscious")))]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"CombatantTags",error:bC})}}}class $y extends A.Component{constructor(e){super(e),this.cache=[];let t=50;switch(e.mode){case"thumbnail":t=15;break;case"setup":t=25}this.state={size:t,selectionStartSquare:null,selectionEndSquare:null,wallStartVertex:null,wallEndVertex:null}}gridSquareMouseDown(e,t){this.setState({selectionStartSquare:{x:e,y:t},selectionEndSquare:null})}gridSquareEntered(e,t){this.state.selectionStartSquare?this.setState({selectionEndSquare:{x:e,y:t}}):this.props.gridSquareEntered&&this.props.gridSquareEntered(e,t)}gridSquareMouseUp(e,t){if(this.state.selectionStartSquare){const n=this.state.selectionStartSquare.x,r=this.state.selectionStartSquare.y;this.setState({selectionStartSquare:null,selectionEndSquare:null},(()=>{if(n===e&&r===t)this.props.gridSquareClicked&&this.props.gridSquareClicked(e,t);else if(this.props.gridRectangleSelected){const s=Math.min(n,e),a=Math.min(r,t),i=Math.max(n,e),o=Math.max(r,t);this.props.gridRectangleSelected(s,a,i,o)}}))}}isGridSquareSelected(e,t){if(this.state.selectionStartSquare&&this.state.selectionEndSquare){const n=Math.min(this.state.selectionStartSquare.x,this.state.selectionEndSquare.x),r=Math.min(this.state.selectionStartSquare.y,this.state.selectionEndSquare.y),s=Math.max(this.state.selectionStartSquare.x,this.state.selectionEndSquare.x),a=Math.max(this.state.selectionStartSquare.y,this.state.selectionEndSquare.y);return e>=n&&e<=s&&t>=r&&t<=a}return!1}vertexMouseDown(e,t){this.setState({wallStartVertex:{x:e,y:t},wallEndVertex:null})}vertexEntered(e,t){this.state.wallStartVertex&&this.setState({wallEndVertex:{x:e,y:t}})}vertexMouseUp(e,t){if(this.state.wallStartVertex){const n=this.state.wallStartVertex.x,r=this.state.wallStartVertex.y;this.setState({wallStartVertex:null,wallEndVertex:null},(()=>{if(n===e&&r===t);else if(this.props.verticesSelected){const s=Math.min(n,e),a=Math.min(r,t),i=Math.max(n,e),o=Math.max(r,t);this.props.verticesSelected(s,a,i,o)}}))}}isVertexSelected(e,t){if(this.state.wallStartVertex&&e===this.state.wallStartVertex.x&&t===this.state.wallStartVertex.y)return!0;if(this.state.wallStartVertex&&this.state.wallEndVertex){if(this.state.wallStartVertex.x===this.state.wallEndVertex.x&&e===this.state.wallStartVertex.x){const e=Math.min(this.state.wallStartVertex.y,this.state.wallEndVertex.y),n=Math.max(this.state.wallStartVertex.y,this.state.wallEndVertex.y);return t>=e&&t<=n}if(this.state.wallStartVertex.y===this.state.wallEndVertex.y&&t===this.state.wallStartVertex.y){const t=Math.min(this.state.wallStartVertex.x,this.state.wallEndVertex.x),n=Math.max(this.state.wallStartVertex.x,this.state.wallEndVertex.x);return e>=t&&e<=n}}return!1}getMapDimensions(){let e=this.props.selectedAreaID?yo.getViewport(this.props.map,this.props.selectedAreaID):null;if(!e){const t=this.props.map.items.filter((e=>"edit"!==this.props.mode||"tile"===e.type));t.forEach((t=>{e?(e.minX=Math.min(e.minX,t.x),e.maxX=Math.max(e.maxX,t.x+t.width-1),e.minY=Math.min(e.minY,t.y),e.maxY=Math.max(e.maxY,t.y+t.height-1)):e={minX:t.x,maxX:t.x+t.width-1,minY:t.y,maxY:t.y+t.height-1}})),this.props.map.areas.forEach((t=>{e&&(e.minX=Math.min(e.minX,t.x),e.maxX=Math.max(e.maxX,t.x+t.width-1),e.minY=Math.min(e.minY,t.y),e.maxY=Math.max(e.maxY,t.y+t.height-1))})),this.props.combatants.filter((e=>e.aura.radius>0)).forEach((t=>{const n=this.props.map.items.find((e=>e.id===t.id));if(n){const r=t.aura.radius/5;let s=1;const a=t;a&&(s=Math.max(io.miniSize(a.size),1));const i=n.x-r,o=n.x+(s-1)+r,l=n.y-r,A=n.y+(s-1)+r;e&&(e.minX=Math.min(e.minX,i),e.maxX=Math.max(e.maxX,o),e.minY=Math.min(e.minY,l),e.maxY=Math.max(e.maxY,A))}}))}if(!e){if("thumbnail"===this.props.mode)return null;e={minX:0,maxX:0,minY:0,maxY:0}}if("thumbnail"===this.props.mode||"interactive-player"===this.props.mode){const t=yo.getWalls(this.props.map,(e=>e.blocksLineOfSight)),n=this.props.combatants.filter((e=>"pc"===e.type&&this.props.selectedItemIDs.includes(e.id))),r=[];for(let s=e.minX;s<=e.maxX;++s)for(let a=e.minY;a<=e.maxY;++a){let e=!1;this.props.fog.find((e=>e.x===s&&e.y===a))||("interactive-player"===this.props.mode?n.forEach((n=>{const r=this.props.map.items.find((e=>e.id===n.id));if(r){const i=Math.max(yo.getTokenSize(n,this.props.combatants),1);this.canSee(t,{x:r.x+i/2,y:r.y+i/2},{x:s+.5,y:a+.5})&&(e=!0)}})):e=!0),e&&r.push({x:s,y:a})}if(!(r.length>0))return null;{const t=r.map((e=>e.x)),n=r.map((e=>e.y));e={minX:Math.min(...t),maxX:Math.max(...t),minY:Math.min(...n),maxY:Math.max(...n)}}}return e.minX-=this.props.paddingSquares,e.maxX+=this.props.paddingSquares,e.minY-=this.props.paddingSquares,e.maxY+=this.props.paddingSquares,e}getStyle(e,t,n,r,s,a){let i=0,o=0;n<1&&"wall"!==s&&(i=(1-n)/2),r<1&&"wall"!==s&&(o=(1-r)/2);let l="0";switch(s){case"rounded":l=this.state.size+"px";break;case"circle":case"vertex":l="50%"}const A=this.state.size/12,c=e+i-a.minX,u=t+o-a.minY;let d=this.state.size*c,h=this.state.size*u;"vertex"===s&&(d-=Math.max(5,A),h-=Math.max(5,A)),"wall"===s&&(d-=A,h-=A);let p=this.state.size*n,m=this.state.size*r;return"vertex"===s&&(p=Math.max(10,2*A),m=Math.max(10,2*A)),"wall"===s&&(p+=2*A,m+=2*A),{left:d+"px",top:h+"px",width:p+"px",height:m+"px",borderRadius:l,backgroundSize:this.state.size+"px"}}getActiveToken(){const e=this.props.combatants.find((e=>e.current));if(e){const t=this.props.map.items.find((t=>t.id===e.id));if(t)return{token:t,combatant:e,combatants:this.props.combatants}}return null}canSee(e,t,n){const r=JSON.stringify(t),s=JSON.stringify(n),a=this.cache.find((e=>e.a===r&&e.b===s||e.a===s&&e.b===r));if(a)return a.visible;const i=yo.canSee(e,t,n);return this.cache.push({a:r,b:s,visible:i}),i}getControls(){if("thumbnail"!==this.props.mode){const e=[];if(("setup"===this.props.mode||"interactive-dm"===this.props.mode)&&this.props.map.areas.length>0){const t=[{id:"",text:"whole map"}];this.props.map.areas.forEach((e=>{t.push({id:e.id,text:e.name||"unnamed area"})})),e.push((0,bo.jsx)(hc,{content:(0,bo.jsx)(jy,{items:t,selectedItemID:this.props.selectedAreaID,onSelect:e=>this.props.areaSelected(e)}),placement:"bottom",overlayClassName:"map-control-tooltip",children:(0,bo.jsx)(ry,{title:"areas"})},"areas"))}e.push((0,bo.jsx)(hc,{content:(0,bo.jsx)(gv,{value:"zoom",downEnabled:this.state.size>3,onNudgeValue:e=>this.setState({size:Math.max(this.state.size+3*e,3)})}),placement:"bottom",overlayClassName:"map-control-tooltip",children:(0,bo.jsx)(iy,{title:"zoom"})},"zoom"));("edit"===this.props.mode||"interactive-dm"===this.props.mode)&&e.push((0,bo.jsx)(hc,{content:(0,bo.jsxs)("div",{children:[(0,bo.jsx)(gv,{value:this.props.lighting,downEnabled:"darkness"!==this.props.lighting,upEnabled:"bright light"!==this.props.lighting,onNudgeValue:e=>this.props.changeLighting(io.nudgeLighting(this.props.lighting,e))}),(0,bo.jsx)("button",{onClick:()=>this.props.toggleFeature("lightSource"),children:this.props.features.lightSource?"click on the map to add a light source, or click here to cancel":"add a light source"})]}),placement:"bottom",overlayClassName:"map-control-tooltip",children:(0,bo.jsx)(Ay,{title:"lighting"})},"light"));"interactive-dm"===this.props.mode&&e.push((0,bo.jsx)(hc,{content:(0,bo.jsxs)("div",{children:[(0,bo.jsx)(zg,{label:"highlight map square",checked:this.props.features.highlight,onChecked:()=>this.props.toggleFeature("highlight")}),(0,bo.jsx)(Lg,{display:this.props.features.highlight,children:(0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{className:"section",children:"use your mouse to indicate a square on the map"}),(0,bo.jsx)("div",{className:"section",children:"that square will be highlighted on the shared map as well"})]})})]}),placement:"bottom",overlayClassName:"map-control-tooltip",children:(0,bo.jsx)(dy,{title:"highlight map square",className:this.props.features.highlight?"selected":""})},"highlight"));return("setup"===this.props.mode||"interactive-dm"===this.props.mode)&&e.push((0,bo.jsx)(hc,{content:(0,bo.jsxs)("div",{children:[(0,bo.jsx)(zg,{label:"edit fog of war",checked:this.props.features.editFog,onChecked:()=>this.props.toggleFeature("editFog")}),(0,bo.jsxs)(Lg,{display:this.props.features.editFog,children:[(0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{className:"section",children:"fog of war conceals areas from your players"}),(0,bo.jsx)("div",{className:"section",children:"click on map squares to turn fog of war on and off"}),(0,bo.jsx)("div",{className:"section",children:"you can also click and drag to select an area"})]}),(0,bo.jsx)("button",{onClick:()=>this.props.fillFog(),children:"fill fog of war"}),(0,bo.jsx)("button",{onClick:()=>this.props.clearFog(),className:0===this.props.fog.length?"disabled":"",children:"clear fog of war"})]})]}),placement:"bottom",overlayClassName:"map-control-tooltip",children:(0,bo.jsx)(my,{title:"fog of war",className:this.props.features.editFog?"selected":""})},"fog")),(0,bo.jsx)("div",{className:"map-menu",children:e})}return null}getTiles(e){return this.props.map.items.filter((e=>"tile"===e.type)).map((t=>(0,bo.jsx)(nw,{tile:t,style:this.getStyle(t.x,t.y,t.width,t.height,t.style,e),selectable:"edit"===this.props.mode,selected:this.props.selectedItemIDs.includes(t.id),select:(e,t)=>"edit"===this.props.mode?this.props.itemSelected(e,t):null},t.id)))}getWalls(e){return this.props.map.walls.map((t=>{const n=Math.min(t.pointA.x,t.pointB.x),r=Math.min(t.pointA.y,t.pointB.y),s=Math.abs(t.pointA.x-t.pointB.x),a=Math.abs(t.pointA.y-t.pointB.y);return(0,bo.jsx)(sw,{wall:t,mode:this.props.mode,style:this.getStyle(n,r,s,a,"wall",e),selectable:"edit"===this.props.mode,openable:("edit"===this.props.mode||"interactive-dm"===this.props.mode)&&"wall"!==t.display,selected:this.props.selectedItemIDs.includes(t.id),select:(e,t)=>this.props.wallSelected(e,t),changeValue:(e,t,n)=>this.props.changeValue(e,t,n)},t.id)}))}getAreas(e){if("edit"===this.props.mode||"interactive-dm"===this.props.mode||"interactive-plot"===this.props.mode){let t=this.props.map.areas.slice();return"edit"!==this.props.mode&&"interactive-dm"!==this.props.mode||(t=t.filter((e=>this.props.selectedItemIDs.includes(e.id)))),t.map((t=>{const n=this.props.areaClassNames.find((e=>e.id===t.id));return(0,bo.jsx)(ew,{className:n?n.className:null,style:this.getStyle(t.x,t.y,t.width,t.height,"square",e),selected:this.props.selectedItemIDs.includes(t.id),onClick:()=>this.props.areaClicked(t)},t.id)}))}return null}getAreaNames(e){return this.props.showAreaNames?this.props.map.areas.map((t=>(0,bo.jsx)("div",{className:"map-area-name",style:this.getStyle(t.x,t.y,t.width,t.height,null,e),children:t.name},t.id+" name"))):null}getOverlays(e){return"edit"!==this.props.mode&&"thumbnail"!==this.props.mode?this.props.map.items.filter((e=>"overlay"===e.type)).map((t=>{const n=this.getStyle(t.x,t.y,t.width,t.height,t.style,e);return n.backgroundColor=t.color+t.opacity.toString(16),(0,bo.jsx)(iw,{overlay:t,style:n,selected:this.props.selectedItemIDs.includes(t.id),select:(e,t)=>this.props.itemSelected(e,t)},t.id)})):null}getAuras(e){return"edit"!==this.props.mode&&"thumbnail"!==this.props.mode?this.props.combatants.filter((e=>e.aura.radius>0)).filter((e=>e.showOnMap||"interactive-player"!==this.props.mode)).map((t=>{const n=this.props.map.items.find((e=>e.id===t.id));if(n){const r=t.aura.radius/5,s=2*r+Math.min(yo.getTokenSize(t,this.props.combatants),1),a=this.getStyle(n.x-r,n.y-r,s,s,t.aura.style,e);return a.backgroundColor=t.aura.color,(0,bo.jsx)("div",{className:"aura",style:a},t.id+" aura")}return null})):null}getSteps(e){if("interactive-dm"===this.props.mode||"interactive-player"===this.props.mode){const t=[];return this.props.map.items.forEach((n=>{const r=this.props.combatants.find((e=>e.id===n.id));if(r&&r.path&&r.path.filter((e=>!!e)).length>0&&"interactive-player"!==this.props.mode&&!r.showOnMap)try{const n=yo.getTokenSize(r,this.props.combatants);r.path.filter((e=>!!e)).forEach((r=>{t.push((0,bo.jsx)(tw,{x:r.x,y:r.y,style:this.getStyle(r.x,r.y,n,n,"circle",e),mode:"step"},r.id))}))}catch(bC){console.error("drawing steps"),console.error("path is "+r.path),console.error(bC)}})),t}return null}getDistances(e){if("interactive-dm"===this.props.mode||"interactive-player"===this.props.mode){const t=[];return this.props.map.items.forEach((n=>{const r=this.props.combatants.find((e=>e.id===n.id));if(r&&r.path){const s=r.path.filter((e=>!!e));if(s.length>0)try{const a=yo.getTokenSize(r,this.props.combatants),i=yo.getDistance(n,s,this.props.options?this.props.options.diagonals:""),o=s[0],l=this.getStyle(o.x,o.y,a,a,"circle",e);l.fontSize=a*this.state.size/5+"px",t.push((0,bo.jsx)(tw,{x:o.x,y:o.y,style:l,mode:"step",content:5*i+" ft"},r.id+"-distance"))}catch(bC){console.error("drawing distances"),console.error("path is "+s),console.error(bC)}}})),t}return null}getTokens(e){if("edit"!==this.props.mode&&"interactive-plot"!==this.props.mode){const t=[],n=this.getActiveToken(),r=this.props.combatants.map((e=>e.mountID||"")).filter((e=>""!==e));return this.props.map.items.filter((e=>"monster"===e.type||"pc"===e.type||"companion"===e.type||"token"===e.type)).filter((e=>!r.includes(e.id))).sort(((e,t)=>{const n=this.props.combatants.find((t=>t.id===e.id)),r=this.props.combatants.find((e=>e.id===t.id)),s=n?yo.getTokenSize(n,this.props.combatants):io.miniSize(e.size);return(r?yo.getTokenSize(r,this.props.combatants):io.miniSize(t.size))-s})).forEach((r=>{let s=io.miniSize(r.size),a=!1;const i=this.props.combatants.find((e=>e.id===r.id));i&&(s=yo.getTokenSize(i,this.props.combatants),a="pc"===i.type);const o=this.getStyle(r.x,r.y,s,s,"circle",e);o.fontSize=s*this.state.size/4+"px",t.push((0,bo.jsx)(ow,{token:r,combatant:i||null,combatants:this.props.combatants,user:"interactive-player"===this.props.mode?"player":"dm",activeToken:n,style:o,width:s*this.state.size,simple:"thumbnail"===this.props.mode,showGauge:"interactive-dm"===this.props.mode,showHidden:"interactive-dm"===this.props.mode||a,selectable:"interactive-dm"===this.props.mode,selected:this.props.selectedItemIDs.includes(r.id),select:(e,t)=>this.props.itemSelected(e,t),remove:e=>this.props.itemRemove(e),conditionRemove:(e,t)=>this.props.conditionRemove(e,t),toggleTag:(e,t)=>this.props.toggleTag(e,t),toggleCondition:(e,t)=>this.props.toggleCondition(e,t),toggleHidden:e=>this.props.toggleHidden(e)},r.id))})),t}return null}getLighting(e){const t=[],n=yo.getWalls(this.props.map,(e=>e.blocksLineOfSight)),r=[];"interactive-dm"===this.props.mode&&(this.props.combatants.filter((e=>e.current)).forEach((e=>r.push(e))),this.props.combatants.filter((e=>this.props.selectedItemIDs.includes(e.id))).forEach((e=>r.push(e)))),"interactive-player"===this.props.mode&&this.props.combatants.filter((e=>"pc"===e.type&&this.props.selectedItemIDs.includes(e.id))).forEach((e=>r.push(e)));const s=[];this.props.map.lightSources.forEach((e=>{s.push({x:e.x,y:e.y,z:e.z,width:1,height:1,depth:1,bright:e.bright,dim:e.dim})})),this.props.combatants.filter((e=>null!==e.lightSource)).forEach((e=>{const t=Math.max(yo.getTokenSize(e,this.props.combatants),1),n=this.props.map.items.find((t=>t.id===e.id));n&&s.push({x:n.x,y:n.y,z:n.z,width:t,height:t,depth:t,bright:e.lightSource?e.lightSource.bright:0,dim:e.lightSource?e.lightSource.dim:0})}));for(let i=e.minX;i<=e.maxX;++i)for(let a=e.minY;a<=e.maxY;++a){let e=this.props.lighting,o=!0;this.props.fog.find((e=>e.x===i&&e.y===a))?e="darkness":(o=0===r.length||r.some((e=>{const t=this.props.map.items.find((t=>t.id===e.id));if(t){const r=Math.max(yo.getTokenSize(e,this.props.combatants),1);return this.canSee(n,{x:t.x+r/2,y:t.y+r/2},{x:i+.5,y:a+.5})}return!1})),o||(e="darkness"),o&&"bright light"!==e&&s.forEach((t=>{const r=yo.calculateDistance(t,i,a,0);if(t.dim>0&&t.dim>=r){this.canSee(n,{x:t.x+t.width/2,y:t.y+t.height/2},{x:i+.5,y:a+.5})&&("darkness"===e&&(e="dim light"),t.bright>0&&t.bright>=r&&(e="bright light"))}})),o&&"bright light"!==e&&r.filter((e=>e.darkvision>0)).forEach((t=>{const n=this.props.map.items.find((e=>e.id===t.id));if(n){const r=Math.max(yo.getTokenSize(t,this.props.combatants),1),s={x:n.x,y:n.y,z:n.z,width:r,height:r,depth:r},o=yo.calculateDistance(s,i,a,0);t.darkvision>=o&&("dim light"===e?e="bright light":"darkness"===e&&(e="dim light"))}}))),"bright light"!==e&&t.push({x:i,y:a,level:e.replaceAll(" ","-")})}const a=[];return["dim-light","darkness"].forEach((n=>{let r=[];for(let s=e.minX;s<=e.maxX;++s)for(let a=e.minY;a<=e.maxY;++a)t.find((e=>e.x===s&&e.y===a&&e.level===n))&&r.push({x:s,y:a});for(;r.length>0;){const t={x1:r[0].x,y1:r[0].y,x2:r[0].x,y2:r[0].y};for(;;){let e=!1,n=!0;for(let a=t.x1;a<=t.x2+1;++a)for(let e=t.y1;e<=t.y2;++e)r.find((t=>t.x===a&&t.y===e))||(n=!1);n&&(t.x2+=1,e=!0);let s=!0;for(let a=t.x1;a<=t.x2;++a)for(let e=t.y1;e<=t.y2+1;++e)r.find((t=>t.x===a&&t.y===e))||(s=!1);if(s&&(t.y2+=1,e=!0),!e)break}r=r.filter((e=>e.x<t.x1||e.x>t.x2||e.y<t.y1||e.y>t.y2)),a.push((0,bo.jsx)(tw,{x:t.x1,y:t.y1,style:this.getStyle(t.x1,t.y1,t.x2-t.x1+1,t.y2-t.y1+1,"square",e),mode:n},"light "+t.x1+","+t.y1))}})),a}getLightSources(e){return"edit"===this.props.mode||"interactive-dm"===this.props.mode?this.props.map.lightSources.map((t=>(0,bo.jsx)(aw,{lightSource:t,style:this.getStyle(t.x,t.y,1,1,"square",e),changeLightSource:(e,t,n,r)=>this.props.changeLightSource(e,t,n,r),removeLightSource:e=>this.props.removeLightSource(e)},t.id))):null}getGrid(e){if(this.props.showGrid){const t=[];let n=null;this.props.features.highlight||this.props.features.editFog||(n=this.getActiveToken());for(let r=e.minY;r!==e.maxY+1;++r)for(let s=e.minX;s!==e.maxX+1;++s)t.push((0,bo.jsx)(tw,{x:s,y:r,style:this.getStyle(s,r,1,1,"square",e),selected:this.isGridSquareSelected(s,r),showDistanceTo:n,onMouseDown:(e,t)=>this.gridSquareMouseDown(e,t),onMouseUp:(e,t)=>this.gridSquareMouseUp(e,t),onMouseEnter:(e,t)=>this.gridSquareEntered(e,t)},"grid "+s+","+r));return t}return null}getWallVertices(e){if(this.props.showWallVertices){const t=[];for(let n=e.minY+1;n!==e.maxY+1;++n)for(let r=e.minX+1;r!==e.maxX+1;++r)t.push((0,bo.jsx)(rw,{x:r,y:n,style:this.getStyle(r,n,1,1,"vertex",e),selected:this.isVertexSelected(r,n),onMouseDown:(e,t)=>this.vertexMouseDown(e,t),onMouseUp:(e,t)=>this.vertexMouseUp(e,t),onMouseEnter:(e,t)=>this.vertexEntered(e,t)},"vertex "+r+","+n));return t}return null}getFocus(e){return this.props.focussedSquare?(0,bo.jsx)("div",{className:"grid-focus",style:this.getStyle(this.props.focussedSquare.x-1,this.props.focussedSquare.y-1,3,3,"circle",e)}):null}render(){try{this.cache=[];const e=this.getMapDimensions();if(!e){let e="blank map";return(this.props.map.items.length>0||this.props.map.walls.length>0)&&(e="nothing is visible"),(0,bo.jsx)("div",{className:"section centered",children:e})}const t=1+e.maxX-e.minX,n=1+e.maxY-e.minY,r=this.state.size*t+2;let s=this.state.size*n+2;return"thumbnail"!==this.props.mode&&(s+=42),(0,bo.jsxs)("div",{className:"map-panel "+this.props.mode,style:{width:r+"px",height:s+"px"},onClick:()=>this.props.itemSelected?this.props.itemSelected(null,!1):null,role:"button",children:[this.getControls(),(0,bo.jsxs)("div",{id:this.props.map.id,className:"grid",children:[this.getTiles(e),this.getWalls(e),this.getAreas(e),this.getAreaNames(e),this.getOverlays(e),this.getAuras(e),this.getSteps(e),this.getDistances(e),this.getTokens(e),this.getLighting(e),this.getLightSources(e),this.getGrid(e),this.getWallVertices(e),this.getFocus(e)]})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"MapPanel",error:bC})}}}$y.defaultProps={mode:"thumbnail",features:{highlight:!1,editFog:!1,lightSource:!1},options:null,paddingSquares:0,combatants:[],showGrid:!1,showWallVertices:!1,showAreaNames:!1,areaClassNames:[],selectedItemIDs:[],selectedAreaID:null,fog:[],lighting:"bright light",focussedSquare:null,itemSelected:null,wallSelected:null,itemRemove:null,conditionRemove:null,toggleTag:null,toggleCondition:null,toggleHidden:null,areaSelected:null,gridSquareEntered:null,gridSquareClicked:null,gridRectangleUpdated:null,gridRectangleSelected:null,verticesSelected:null,areaClicked:()=>null,changeLighting:null,changeLightSource:null,removeLightSource:null,toggleFeature:null,fillFog:null,clearFog:null,changeValue:null};class ew extends A.Component{render(){try{let e="map-area";return this.props.className&&(e+=" "+this.props.className),this.props.selected&&(e+=" selected"),(0,bo.jsx)("div",{className:e,style:this.props.style,onClick:e=>{e.stopPropagation(),this.props.onClick()},role:"button"})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"Area",error:bC})}}}class tw extends A.Component{mouseDown(e){e.stopPropagation(),this.props.onMouseDown&&this.props.onMouseDown(this.props.x,this.props.y)}mouseUp(e){e.stopPropagation(),this.props.onMouseUp&&this.props.onMouseUp(this.props.x,this.props.y)}mouseEnter(e){e.stopPropagation(),this.props.onMouseEnter&&this.props.onMouseEnter(this.props.x,this.props.y)}render(){try{let e=null;this.props.content&&(e=(0,bo.jsx)("div",{className:"content",style:{fontSize:this.props.style.fontSize},children:this.props.content}));const t=(0,bo.jsx)("div",{className:"grid-square "+this.props.mode+(this.props.selected?" selected":""),style:this.props.style,onMouseDown:e=>this.mouseDown(e),onMouseUp:e=>this.mouseUp(e),onMouseEnter:e=>this.mouseEnter(e),role:"button",children:e});if(this.props.showDistanceTo){const e={x:this.props.x,y:this.props.y,z:this.props.showDistanceTo.token.z,width:1,height:1,depth:1},n=5*yo.getDistanceBetweenItems(e,this.props.showDistanceTo.token);return(0,bo.jsx)(hc,{content:(0,bo.jsxs)("div",{className:"section",children:[n," ft away from ",this.props.showDistanceTo.combatant?ao.getCombatantName(this.props.showDistanceTo.combatant,this.props.showDistanceTo.combatants):"you"]}),placement:"bottom",overlayClassName:"map-hover-tooltip",children:t})}return t}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"GridSquare",error:bC})}}}tw.defaultProps={mode:"cell",selected:!1,showDistanceTo:null,content:null,onMouseDown:null,onMouseUp:null,onMouseEnter:null};class nw extends A.Component{onClick(e){this.props.selectable&&(e.stopPropagation(),this.props.select(this.props.tile.id,e.ctrlKey))}render(){try{let e="map-tile "+this.props.tile.terrain;this.props.selected&&(e+=" selected");let t=null;if("custom"===this.props.tile.terrain){const e=vo.getImage(this.props.tile.customBackground);e&&(t=(0,bo.jsx)("img",{className:"custom-image",alt:"map tile",src:e.data}))}"link"===this.props.tile.terrain&&(t=(0,bo.jsx)("img",{className:"custom-image",alt:"map tile",src:this.props.tile.customLink}));let n=null;if(this.props.tile.content&&"stairway"===this.props.tile.content.type)switch(this.props.tile.content.style){case"stairs":switch(this.props.tile.content.orientation){case"horizontal":n=(0,bo.jsxs)("svg",{className:"tile-content",children:[(0,bo.jsx)("line",{className:"thin-line",x1:"0",y1:"12.5%",x2:"100%",y2:"12.5%"}),(0,bo.jsx)("line",{className:"thin-line",x1:"0",y1:"25%",x2:"100%",y2:"25%"}),(0,bo.jsx)("line",{className:"thin-line",x1:"0",y1:"37.5%",x2:"100%",y2:"37.5%"}),(0,bo.jsx)("line",{className:"thin-line",x1:"0",y1:"50%",x2:"100%",y2:"50%"}),(0,bo.jsx)("line",{className:"thin-line",x1:"0",y1:"62.5%",x2:"100%",y2:"62.5%"}),(0,bo.jsx)("line",{className:"thin-line",x1:"0",y1:"75%",x2:"100%",y2:"75%"}),(0,bo.jsx)("line",{className:"thin-line",x1:"0",y1:"87.5%",x2:"100%",y2:"87.5%"})]});break;case"vertical":n=(0,bo.jsxs)("svg",{className:"tile-content",children:[(0,bo.jsx)("line",{className:"thin-line",x1:"12.5%",y1:"0",x2:"12.5%",y2:"100%"}),(0,bo.jsx)("line",{className:"thin-line",x1:"25%",y1:"0",x2:"25%",y2:"100%"}),(0,bo.jsx)("line",{className:"thin-line",x1:"37.5%",y1:"0",x2:"37.5%",y2:"100%"}),(0,bo.jsx)("line",{className:"thin-line",x1:"50%",y1:"0",x2:"50%",y2:"100%"}),(0,bo.jsx)("line",{className:"thin-line",x1:"62.5%",y1:"0",x2:"62.5%",y2:"100%"}),(0,bo.jsx)("line",{className:"thin-line",x1:"75%",y1:"0",x2:"75%",y2:"100%"}),(0,bo.jsx)("line",{className:"thin-line",x1:"87.5%",y1:"0",x2:"87.5%",y2:"100%"})]})}break;case"spiral":n=(0,bo.jsxs)("svg",{className:"tile-content",children:[(0,bo.jsx)("ellipse",{className:"outline",cx:"50%",cy:"50%",rx:"40%",ry:"40%"}),(0,bo.jsx)("ellipse",{className:"filled",cx:"50%",cy:"50%",rx:"10%",ry:"10%"}),(0,bo.jsx)("line",{className:"thin-line",x1:"50%",y1:"10%",x2:"50%",y2:"90%"}),(0,bo.jsx)("line",{className:"thin-line",x1:"10%",y1:"50%",x2:"90%",y2:"50%"}),(0,bo.jsx)("line",{className:"thin-line",x1:"20%",y1:"20%",x2:"80%",y2:"80%"}),(0,bo.jsx)("line",{className:"thin-line",x1:"20%",y1:"80%",x2:"80%",y2:"20%"})]});break;case"ladder":switch(this.props.tile.content.orientation){case"horizontal":n=(0,bo.jsxs)("svg",{className:"tile-content",children:[(0,bo.jsx)("circle",{className:"filled",cx:"20%",cy:"50%",r:"7%"}),(0,bo.jsx)("line",{className:"thin-line",x1:"20%",y1:"50%",x2:"80%",y2:"50%"}),(0,bo.jsx)("circle",{className:"filled",cx:"80%",cy:"50%",r:"7%"})]});break;case"vertical":n=(0,bo.jsxs)("svg",{className:"tile-content",children:[(0,bo.jsx)("circle",{className:"filled",cx:"50%",cy:"20%",r:"7%"}),(0,bo.jsx)("line",{className:"thin-line",x1:"50%",y1:"20%",x2:"50%",y2:"80%"}),(0,bo.jsx)("circle",{className:"filled",cx:"50%",cy:"80%",r:"7%"})]})}}return(0,bo.jsxs)("div",{className:e,style:this.props.style,onClick:e=>this.onClick(e),role:"button",children:[t,n]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"Tile",error:bC})}}}class rw extends A.Component{mouseDown(e){e.stopPropagation(),this.props.onMouseDown&&this.props.onMouseDown(this.props.x,this.props.y)}mouseUp(e){e.stopPropagation(),this.props.onMouseUp&&this.props.onMouseUp(this.props.x,this.props.y)}mouseEnter(e){e.stopPropagation(),this.props.onMouseEnter&&this.props.onMouseEnter(this.props.x,this.props.y)}render(){try{let e="wall-vertex";return this.props.selected&&(e+=" selected"),(0,bo.jsx)("div",{className:e,style:this.props.style,onMouseDown:e=>this.mouseDown(e),onMouseUp:e=>this.mouseUp(e),onMouseEnter:e=>this.mouseEnter(e),role:"button"})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"WallVertex",error:bC})}}}class sw extends A.Component{constructor(e){super(e),this.state={hovered:!1,clicked:!1}}handleHoverChange(e){this.setState({hovered:e,clicked:!1})}handleClickChange(e){this.setState({hovered:!1,clicked:e})}onClick(e){this.props.selectable&&(e.stopPropagation(),this.props.select(this.props.wall.id,e.ctrlKey))}getPopoverContent(e){const t=(this.props.wall.isConcealed?"concealed ":"")+this.props.wall.display+" "+(this.props.wall.blocksMovement?"(closed)":"(open)");return e?(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"section centered",children:(0,bo.jsx)("b",{children:t})}),(0,bo.jsx)("hr",{}),(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)(vv,{options:no.arrayToItems(["open","closed"]),selectedID:this.props.wall.blocksMovement?"closed":"open",onSelect:e=>this.props.changeValue(this.props.wall,"blocksMovement","closed"===e)}),(0,bo.jsx)(zg,{label:"blocks line-of-sight",checked:this.props.wall.blocksLineOfSight,onChecked:e=>this.props.changeValue(this.props.wall,"blocksLineOfSight",e)}),(0,bo.jsx)(zg,{label:"concealed",checked:this.props.wall.isConcealed,onChecked:e=>this.props.changeValue(this.props.wall,"isConcealed",e)})]})]}):(0,bo.jsx)("div",{children:(0,bo.jsx)("div",{className:"section centered",children:(0,bo.jsx)("b",{children:t})})})}render(){try{let e="map-wall";"wall"!==this.props.wall.display&&(e+=" doorway"),this.props.openable&&(e+=" openable"),this.props.selected&&(e+=" selected");let t=this.props.wall.display;this.props.wall.isConcealed&&"interactive-player"===this.props.mode&&(t="wall");let n=null;switch(t){case"wall":n=(0,bo.jsx)("div",{className:"wall"});break;case"door":n=(0,bo.jsx)("svg",{className:"wall-content",children:(0,bo.jsx)("rect",{className:"outline",x:"0%",y:"0%",width:"100%",height:"100%"})});break;case"double-door":switch(yo.getWallOrientation(this.props.wall)){case"horizontal":n=(0,bo.jsxs)("svg",{className:"wall-content",children:[(0,bo.jsx)("rect",{className:"outline",x:"0%",y:"0%",width:"100%",height:"100%"}),(0,bo.jsx)("line",{className:"thin-line",x1:"50%",y1:"0%",x2:"50%",y2:"100%"})]});break;case"vertical":n=(0,bo.jsxs)("svg",{className:"wall-content",children:[(0,bo.jsx)("rect",{className:"outline",x:"0%",y:"0%",width:"100%",height:"100%"}),(0,bo.jsx)("line",{className:"thin-line",x1:"0%",y1:"50%",x2:"100%",y2:"50%"})]})}break;case"bars":switch(yo.getWallOrientation(this.props.wall)){case"horizontal":n=(0,bo.jsxs)("svg",{className:"wall-content",children:[(0,bo.jsx)("circle",{className:"filled",cx:"20%",cy:"50%",r:"5%"}),(0,bo.jsx)("circle",{className:"filled",cx:"35%",cy:"50%",r:"5%"}),(0,bo.jsx)("circle",{className:"filled",cx:"50%",cy:"50%",r:"5%"}),(0,bo.jsx)("circle",{className:"filled",cx:"65%",cy:"50%",r:"5%"}),(0,bo.jsx)("circle",{className:"filled",cx:"80%",cy:"50%",r:"5%"})]});break;case"vertical":n=(0,bo.jsxs)("svg",{className:"wall-content",children:[(0,bo.jsx)("circle",{className:"filled",cx:"50%",cy:"20%",r:"5%"}),(0,bo.jsx)("circle",{className:"filled",cx:"50%",cy:"35%",r:"5%"}),(0,bo.jsx)("circle",{className:"filled",cx:"50%",cy:"50%",r:"5%"}),(0,bo.jsx)("circle",{className:"filled",cx:"50%",cy:"65%",r:"5%"}),(0,bo.jsx)("circle",{className:"filled",cx:"50%",cy:"80%",r:"5%"})]})}}let r=null;return this.props.openable&&"wall"!==t&&(r=(0,bo.jsx)(hc,{content:this.getPopoverContent(!1),placement:"bottom",overlayClassName:"map-hover-tooltip",open:this.state.hovered,onOpenChange:e=>this.handleHoverChange(e),children:(0,bo.jsx)(hc,{content:this.getPopoverContent(!0),trigger:"contextMenu",placement:"bottom",overlayClassName:"map-click-tooltip",open:this.state.clicked,onOpenChange:e=>this.handleClickChange(e),children:(0,bo.jsx)(vy,{className:"wall-icon",rotate:"horizontal"===yo.getWallOrientation(this.props.wall)?0:90})})})),(0,bo.jsxs)("div",{className:e,style:this.props.style,onClick:e=>this.onClick(e),role:"button",children:[n,r]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"Wall",error:bC})}}}class aw extends A.Component{constructor(e){super(e),this.state={hovered:!1,clicked:!1}}handleHoverChange(e){this.setState({hovered:e,clicked:!1})}handleClickChange(e){this.setState({hovered:!1,clicked:e})}getPopoverContent(e){const t="custom"===this.props.lightSource.name?"custom light source":this.props.lightSource.name;return e?(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"section centered",children:(0,bo.jsx)("b",{children:t})}),(0,bo.jsx)("hr",{}),(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)(vv,{options:no.arrayToItems(["candle","torch","lantern","custom"]),selectedID:this.props.lightSource.name,onSelect:e=>{switch(e){case"candle":this.props.changeLightSource(this.props.lightSource,"candle",5,10);break;case"torch":this.props.changeLightSource(this.props.lightSource,"torch",20,40);break;case"lantern":this.props.changeLightSource(this.props.lightSource,"lantern",30,60);break;case"custom":this.props.changeLightSource(this.props.lightSource,"custom",this.props.lightSource.bright,this.props.lightSource.dim)}}}),(0,bo.jsxs)(Lg,{display:"custom"===this.props.lightSource.name,children:[(0,bo.jsx)(gv,{label:"bright light radius",value:this.props.lightSource.bright+" ft",downEnabled:this.props.lightSource.bright>0,upEnabled:this.props.lightSource.bright<this.props.lightSource.dim,onNudgeValue:e=>this.props.changeLightSource(this.props.lightSource,this.props.lightSource.name,this.props.lightSource.bright+5*e,this.props.lightSource.dim)}),(0,bo.jsx)(gv,{label:"dim light radius",value:this.props.lightSource.dim+" ft",downEnabled:this.props.lightSource.dim>this.props.lightSource.bright,onNudgeValue:e=>this.props.changeLightSource(this.props.lightSource,this.props.lightSource.name,this.props.lightSource.bright,this.props.lightSource.dim+5*e)})]}),(0,bo.jsx)("button",{onClick:()=>this.props.removeLightSource(this.props.lightSource),children:"remove from map"})]})]}):(0,bo.jsx)("div",{children:(0,bo.jsx)("div",{className:"section centered",children:(0,bo.jsx)("b",{children:t})})})}render(){try{let e=null;return e=(0,bo.jsx)(hc,{content:this.getPopoverContent(!1),placement:"bottom",overlayClassName:"map-hover-tooltip",open:this.state.hovered,onOpenChange:e=>this.handleHoverChange(e),children:(0,bo.jsx)(hc,{content:this.getPopoverContent(!0),trigger:"contextMenu",placement:"bottom",overlayClassName:"map-click-tooltip",open:this.state.clicked,onOpenChange:e=>this.handleClickChange(e),children:(0,bo.jsx)(Ay,{className:"light-source-icon"})})}),(0,bo.jsx)("div",{className:"map-light-source",style:this.props.style,role:"button",children:e})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"LightSource",error:bC})}}}class iw extends A.Component{select(e){e.stopPropagation(),this.props.select(this.props.overlay.id,e.ctrlKey)}render(){try{let e="overlay";return this.props.selected&&(e+=" selected"),(0,bo.jsx)("div",{className:e,style:this.props.style,onClick:e=>this.select(e),role:"button"})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"MapOverlay",error:bC})}}}class ow extends A.Component{constructor(e){super(e),this.state={hovered:!1,clicked:!1}}handleHoverChange(e){this.setState({hovered:e,clicked:!1})}handleClickChange(e){this.setState({hovered:!1,clicked:e})}select(e){this.props.selectable&&(e.stopPropagation(),this.props.select(this.props.token.id,e.ctrlKey))}getPopoverContent(e){let t="token",n=null;const r=[];if(this.props.activeToken&&this.props.activeToken.token.id!==this.props.token.id){const e=this.props.combatant?yo.getTokenSize(this.props.combatant,this.props.combatants):0,t=this.props.activeToken.combatant?yo.getTokenSize(this.props.activeToken.combatant,this.props.combatants):0,n={x:this.props.token.x,y:this.props.token.y,z:this.props.token.z,width:this.props.combatant?e:this.props.token.width,height:this.props.combatant?e:this.props.token.height,depth:this.props.combatant?e:this.props.token.depth},s={x:this.props.activeToken.token.x,y:this.props.activeToken.token.y,z:this.props.activeToken.token.z,width:this.props.activeToken.combatant?t:this.props.activeToken.token.width,height:this.props.activeToken.combatant?t:this.props.activeToken.token.height,depth:this.props.activeToken.combatant?t:this.props.activeToken.token.depth},a=5*yo.getDistanceBetweenItems(n,s);r.push((0,bo.jsxs)("div",{className:"section",children:[a," ft away from ",this.props.activeToken.combatant?ao.getCombatantName(this.props.activeToken.combatant,this.props.combatants):"you"]},"distance"))}if(this.props.combatant){if(t=ao.getCombatantName(this.props.combatant,this.props.combatants),n=(0,bo.jsx)(Zy,{combatants:[this.props.combatant],editable:e,toggleTag:(e,t)=>this.props.toggleTag(e,t),toggleCondition:(e,t)=>this.props.toggleCondition(e,t),toggleHidden:e=>this.props.toggleHidden(e)}),"monster"===this.props.combatant.type){const e=ao.getCombatantState(this.props.combatant);"unhurt"!==e&&r.push((0,bo.jsx)("div",{className:"section",children:e},"injury"))}if(0!==this.props.token.z&&r.push((0,bo.jsxs)("div",{className:"section",children:["altitude: ",Math.abs(5*this.props.token.z)," ft ",this.props.token.z>0?"up":"down"]},"altitude")),e)this.props.combatant.conditions.filter((e=>"prone"!==e.name&&"unconscious"!==e.name)).forEach((e=>{r.push((0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:(0,bo.jsx)(cv,{children:e.name})}),(0,bo.jsx)("div",{className:"icons",children:(0,bo.jsx)(Eo,{onClick:()=>this.props.conditionRemove(this.props.combatant,e)})})]},e.id))}));else{const e=this.props.combatant.conditions.map((e=>e.name)).filter((e=>"prone"!==e&&"unconscious"!==e&&"custom"!==e)).join(", ");""!==e&&r.push((0,bo.jsx)("div",{className:"section",children:e},"conditions"));const t=this.props.combatant.conditions.find((e=>"custom"===e.name));t&&io.conditionText(t).forEach(((e,n)=>{r.push((0,bo.jsx)("div",{className:"section",children:e},t.id+"-"+n))}))}this.props.combatant.note&&r.push((0,bo.jsx)("div",{className:"section",children:(0,bo.jsx)(ig,{children:this.props.combatant.note})},"note"))}return e&&r.push((0,bo.jsx)("button",{onClick:()=>this.props.remove(this.props.token.id),children:"remove from the map"},"remove")),(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"section centered",children:(0,bo.jsx)("b",{children:t})},"name"),n,r.length>0?(0,bo.jsx)("hr",{}):null,r]})}render(){try{let e="token",t="token";if(this.props.selected&&(t+=" selected"),this.props.simple&&(t+=" not-interactive"),this.props.combatant&&(e=ao.getCombatantName(this.props.combatant,this.props.combatants),t+=" "+this.props.combatant.faction,this.props.combatant.current&&(t+=" current"),!this.props.combatant.showOnMap)){if(!this.props.showHidden)return null;t+=" hidden"}let n=null,r=null,s=null,a=null;if(this.props.combatant&&!this.props.simple){const t=this.props.combatant;if(t&&t.portrait)n=(0,bo.jsx)("img",{className:"portrait",src:t.portrait,alt:e});else{const e=ao.getCombatantName(this.props.combatant,this.props.combatants).toUpperCase().replace(/[^A-Z0-9 ]/,"").split(" ").map((e=>e[0])).join("");n=(0,bo.jsx)("div",{className:"initials",children:e})}if("monster"===this.props.combatant.type&&this.props.showGauge){const e=this.props.combatant.hpCurrent||0,t=this.props.combatant.hpMax||0;if(e<t){let n="darkorange";e>=t?n="green":e<=t/2&&(n="crimson"),r=(0,bo.jsx)(ud,{type:"circle",status:"normal",strokeColor:n,showInfo:!1,percent:100*e/t,width:this.props.width-3})}}this.props.token.z>0&&(s=(0,bo.jsx)("div",{className:"badge",children:(0,bo.jsx)(by,{twoToneColor:"#3c78dc"})})),this.props.token.z<0&&(s=(0,bo.jsx)("div",{className:"badge",children:(0,bo.jsx)(Cy,{twoToneColor:"#3c78dc"})}));let i=0;this.props.combatant.conditions&&(i+=this.props.combatant.conditions.length),this.props.combatant.tags&&(i+=this.props.combatant.tags.filter((e=>!e.startsWith("engaged"))).length),i>0&&(a=(0,bo.jsx)("div",{className:"conditions",children:(0,bo.jsx)(Ey,{twoToneColor:"#3c78dc"})}))}const i=(0,bo.jsxs)("div",{className:t,style:this.props.style,onClick:e=>this.select(e),role:"button",children:[n,r,s,a]});return this.props.selectable?(0,bo.jsx)(hc,{content:this.getPopoverContent(!1),placement:"bottom",overlayClassName:"map-hover-tooltip",open:this.state.hovered,onOpenChange:e=>this.handleHoverChange(e),children:(0,bo.jsx)(hc,{content:this.getPopoverContent(!0),trigger:"contextMenu",placement:"bottom",overlayClassName:"map-click-tooltip",open:this.state.clicked,onOpenChange:e=>this.handleClickChange(e),children:i})}):(0,bo.jsx)(hc,{content:this.getPopoverContent(!1),placement:"bottom",overlayClassName:"map-hover-tooltip",children:i})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"MapToken",error:bC})}}}class lw extends A.Component{constructor(e){super(e),this.state={mode:"link",map:e.map,imageLink:null,imageID:null,size:0,square:0,imageDimensions:{width:0,height:0},mapDimensions:{width:10,height:10}}}readFile(e){const t=new FileReader;return t.onload=t=>{if(t.target){const n=t.target.result;this.state.imageID&&window.localStorage.removeItem("image-"+this.state.imageID);try{const t={id:no.guid(),name:e.name,data:n},r=JSON.stringify(t);window.localStorage.setItem("image-"+t.id,r);const s=new Image;s.onload=()=>{const e=Math.round(Math.min(s.width,s.height)/10);this.setState({imageID:t.id,size:n.length,square:e,imageDimensions:{width:s.width,height:s.height},mapDimensions:{width:Math.round(s.width/e),height:Math.round(s.height/e)}},(()=>{this.updateMap(t.name)}))},s.src=n}catch{Ss.open({message:"can't upload this image",description:"not enough storage space for this image ("+no.toData(n.length)+"); try reducing the resolution or removing unused images",closeIcon:(0,bo.jsx)(Le,{}),duration:5})}}},t.readAsDataURL(e),!1}nudgeSquare(e){const t=Math.max(0,this.state.square+e);this.setState({square:t,mapDimensions:{width:Math.round(this.state.imageDimensions.width/t),height:Math.round(this.state.imageDimensions.height/t)}},(()=>{this.updateMap(null)}))}nudgeWidth(e){const t=Math.max(0,this.state.mapDimensions.width+e);this.setState({mapDimensions:{width:t,height:this.state.mapDimensions.height}},(()=>{this.updateMap(null)}))}nudgeHeight(e){const t=Math.max(0,this.state.mapDimensions.height+e);this.setState({mapDimensions:{width:this.state.mapDimensions.width,height:t}},(()=>{this.updateMap(null)}))}updateMap(e){const t=this.state.map;if(e&&(t.name=e),this.state.imageLink){const e=ro.createMapItem();e.type="tile",e.terrain="link",e.customLink=this.state.imageLink,e.width=this.state.mapDimensions.width,e.height=this.state.mapDimensions.height,t.items=[e]}else if(this.state.imageID){const e=ro.createMapItem();e.type="tile",e.terrain="custom",e.customBackground=this.state.imageID,e.width=this.state.mapDimensions.width,e.height=this.state.mapDimensions.height,t.items=[e]}else t.items=[];this.setState({map:t})}render(){var e;try{let t=null;switch(this.state.mode){case"link":t=(0,bo.jsxs)("div",{children:[(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"enter the address, name, and dimensions of the image you want to use"})}),(0,bo.jsx)("div",{className:"subheading",children:"address"}),(0,bo.jsx)(xo,{text:null!==(e=this.state.imageLink)&&void 0!==e?e:"",placeholder:"https://...",onChange:e=>this.setState({imageLink:e},(()=>this.updateMap(this.state.map.name)))}),(0,bo.jsx)("div",{className:"subheading",children:"map name"}),(0,bo.jsx)(xo,{text:this.state.map.name,placeholder:"map name",onChange:e=>this.updateMap(e)}),(0,bo.jsx)("div",{className:"subheading",children:"map dimensions"}),(0,bo.jsx)(gv,{value:this.state.mapDimensions.width+" sq",label:"width",downEnabled:this.state.mapDimensions.width>1,onNudgeValue:e=>this.nudgeWidth(e)}),(0,bo.jsx)(gv,{value:this.state.mapDimensions.height+" sq",label:"height",downEnabled:this.state.mapDimensions.height>1,onNudgeValue:e=>this.nudgeHeight(e)})]});break;case"upload":t=this.state.imageID?(0,bo.jsxs)("div",{children:[(0,bo.jsxs)(gg,{children:[(0,bo.jsxs)("div",{className:"section",children:["this image is ",no.toData(this.state.size)]}),(0,bo.jsx)("div",{className:"section",children:"set the name and dimensions of this map image"}),(0,bo.jsx)("div",{className:"section",children:"changing the size of a map square, in pixels, will change the map's dimensions"}),(0,bo.jsx)("div",{className:"section",children:"you can then fine-tune the exact width and height of the map"})]}),(0,bo.jsx)("div",{className:"subheading",children:"map name"}),(0,bo.jsx)(xo,{text:this.state.map.name,placeholder:"map name",onChange:e=>this.updateMap(e)}),(0,bo.jsx)("div",{className:"subheading",children:"map square size"}),(0,bo.jsx)(gv,{value:this.state.square+" px",label:"square size",factors:[1,10],downEnabled:this.state.square>1,onNudgeValue:e=>this.nudgeSquare(e)}),(0,bo.jsx)("div",{className:"subheading",children:"map dimensions"}),(0,bo.jsx)(gv,{value:this.state.mapDimensions.width+" sq",label:"width",downEnabled:this.state.mapDimensions.width>1,onNudgeValue:e=>this.nudgeWidth(e)}),(0,bo.jsx)(gv,{value:this.state.mapDimensions.height+" sq",label:"height",downEnabled:this.state.mapDimensions.height>1,onNudgeValue:e=>this.nudgeHeight(e)})]}):(0,bo.jsxs)("div",{children:[(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"select the file you want to upload"})}),(0,bo.jsxs)(kd.Dragger,{accept:"image/*",showUploadList:!1,beforeUpload:e=>this.readFile(e),children:[(0,bo.jsx)("p",{className:"ant-upload-drag-icon",children:(0,bo.jsx)(zc,{})}),(0,bo.jsx)("p",{className:"ant-upload-text",children:"click here, or drag a file here, to upload it"}),(0,bo.jsx)("p",{className:"ant-upload-text",children:"try to upload small images if possible"})]})]})}return(0,bo.jsxs)(Os,{className:"full-height",children:[(0,bo.jsxs)(zs,{span:8,className:"scrollable",children:[(0,bo.jsx)(wv,{options:no.arrayToItems(["link","upload"]),selectedID:this.state.mode,onSelect:e=>this.setState({mode:e})}),t]}),(0,bo.jsx)(zs,{span:16,className:"scrollable both-ways",children:(0,bo.jsx)($y,{map:this.state.map,mode:"edit",showGrid:!0,gridSquareClicked:()=>null})})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"MapImportModal",error:bC})}}}class Aw extends A.Component{constructor(e){super(e),this.state={source:"",monster:e.monster}}setSource(e){this.setState({source:e})}analyse(){po.import(this.state.source,this.state.monster),this.setState({monster:this.state.monster})}render(){try{return(0,bo.jsxs)(Os,{className:"full-height",children:[(0,bo.jsxs)(zs,{span:12,className:"scrollable",children:[(0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{className:"section",children:"go to the following link to find the monster you want to import"}),(0,bo.jsx)("div",{className:"section",children:(0,bo.jsx)("a",{href:"https://www.dndbeyond.com/monsters",target:"_blank",rel:"noopener noreferrer",children:"https://www.dndbeyond.com/monsters"})}),(0,bo.jsxs)("div",{className:"section",children:["then right-click on the page and select ",(0,bo.jsx)("b",{children:"view page source"})]}),(0,bo.jsx)("div",{className:"section",children:"copy the entire page source into the clipboard, paste it into the box below, and press the analyse button"})]}),(0,bo.jsx)(xo,{text:this.state.source,placeholder:"paste page source here",multiLine:!0,onChange:e=>this.setSource(e)}),(0,bo.jsx)("button",{onClick:()=>this.analyse(),children:"analyse"})]}),(0,bo.jsx)(zs,{span:12,className:"scrollable",style:{padding:"5px"},children:(0,bo.jsx)(Vg,{monster:this.state.monster})})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"MonsterImportModal",error:bC})}}}class cw{static importParty(e,t){t.name="",t.pcs=[];const n=(new DOMParser).parseFromString(e,"text/html");try{t.name=n.getElementsByClassName("page-title")[0].innerText.trim()}catch(r){console.error(r)}try{const e=n.getElementsByClassName("ddb-campaigns-detail-body-listing ddb-campaigns-detail-body-listing-active")[0].getElementsByClassName("ddb-campaigns-character-card");for(let n=0;n!==e.length;++n){const r=e[n];t.pcs.push(cw.getCharacter(r,!0))}}catch(r){console.error(r)}try{const e=n.getElementsByClassName("ddb-campaigns-detail-body-listing ddb-campaigns-detail-body-listing-inactive")[0].getElementsByClassName("ddb-campaigns-character-card");for(let n=0;n!==e.length;++n){const r=e[n];t.pcs.push(cw.getCharacter(r,!1))}}catch(r){console.error(r)}}static getCharacter(e,t){const n=ro.createPC();n.name=e.getElementsByClassName("ddb-campaigns-character-card-header-upper-character-info-primary")[0].innerText.trim(),n.player=e.getElementsByClassName("ddb-campaigns-character-card-header-upper-character-info-secondary")[1].innerText.trim().substring(8),n.active=t;const r=e.getElementsByClassName("ddb-campaigns-character-card-header-upper-character-info-secondary")[0].innerText.trim().split("|");n.level=Number.parseInt(r[0].substring(4).trim(),10),n.race=r[1].trim(),n.classes=r[2].trim();const s=e.getElementsByClassName("ddb-campaigns-character-card-header-upper-details-link")[0];return n.url="https://www.dndbeyond.com"+s.getAttribute("href"),n}static importPC(e,t){try{const n=JSON.parse(e);t.name=n.character.name,t.size=n.character.race.size,t.race=n.character.race.fullName;let r=0,s="";n.character.classes.forEach((e=>{r+=e.level,""!==s&&(s+=" / "),s+=e.definition.name,e.subclassDefinition&&(s+=" ("+e.subclassDefinition.name+")")})),t.classes=s,t.level=r;const a=[].concat(n.character.modifiers.race).concat(n.character.modifiers.class).concat(n.character.modifiers.background).concat(n.character.modifiers.item).concat(n.character.modifiers.feat).concat(n.character.modifiers.condition),i=a.filter((e=>"language"===e.type)).map((e=>e.friendlySubtypeName));t.languages=i.join(", ");const o=io.proficiency(r);let l=n.character.stats[3].value,A=n.character.stats[4].value;a.filter((e=>"bonus"===e.type&&"intelligence-score"===e.subType)).forEach((e=>l+=e.value)),a.filter((e=>"bonus"===e.type&&"wisdom-score"===e.subType)).forEach((e=>A+=e.value));let c=0,u=0,d=0;const h=a.filter((e=>"insight"===e.subType||"wisdom-ability-checks"===e.subType)).map((e=>e.type));h.includes("expertise")?c=2:h.includes("proficiency")?c=1:h.includes("half-proficiency-round-up")&&(c=.5);const p=a.filter((e=>"investigation"===e.subType||"intelligence-ability-checks"===e.subType)).map((e=>e.type));p.includes("expertise")?u=2:p.includes("proficiency")?u=1:h.includes("half-proficiency-round-up")&&(u=.5);const m=a.filter((e=>"perception"===e.subType||"wisdom-ability-checks"===e.subType)).map((e=>e.type));m.includes("expertise")?d=2:m.includes("proficiency")?d=1:h.includes("half-proficiency-round-up")&&(d=.5),t.passiveInsight=10+io.modifierValue(A)+Math.floor(o*c),t.passiveInvestigation=10+io.modifierValue(l)+Math.floor(o*u),t.passivePerception=10+io.modifierValue(A)+Math.floor(o*d),t.companions=[],n.character.creatures.forEach((e=>{const n=ro.createCompanion();n.name=e.name,t.companions.push(n)}))}catch(bC){console.error(bC)}}}class uw extends A.Component{render(){try{let e=null;if(this.props.pc.companions.length>0){const t=this.props.pc.companions.map((e=>(0,bo.jsx)(cv,{children:e.name},e.id)));e=(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"section subheading",children:"companions"}),t]})}const t=(this.props.pc?this.props.pc.displayName:null)||this.props.pc.name||"unnamed pc";return(0,bo.jsxs)("div",{className:"card pc",children:[(0,bo.jsx)("div",{className:"heading",children:(0,bo.jsx)("div",{className:"title",title:t,children:t})}),(0,bo.jsx)("div",{className:"card-content",children:(0,bo.jsxs)("div",{className:"stats",children:[(0,bo.jsx)(Sd,{source:this.props.pc}),(0,bo.jsxs)("div",{className:"section centered lowercase",children:[(0,bo.jsx)(Pc,{children:this.props.pc.race||"unknown race"}),(0,bo.jsx)(Pc,{children:this.props.pc.classes||"unknown class"}),(0,bo.jsx)(Pc,{children:"level "+this.props.pc.level})]}),(0,bo.jsx)(Lg,{display:!!this.props.pc.url,children:(0,bo.jsx)("div",{className:"section centered",children:(0,bo.jsx)("a",{href:this.props.pc.url,target:"_blank",rel:"noopener noreferrer",children:"d&d beyond sheet"})})}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("div",{className:"section subheading",children:"size"}),(0,bo.jsx)("div",{className:"section",children:this.props.pc.size}),(0,bo.jsx)("div",{className:"section subheading",children:"languages"}),(0,bo.jsx)("div",{className:"section",children:this.props.pc.languages||"none listed"}),(0,bo.jsx)("div",{className:"section subheading",children:"darkvision"}),(0,bo.jsx)("div",{className:"section",children:this.props.pc.darkvision>0?this.props.pc.darkvision+" ft":"none"}),(0,bo.jsx)("hr",{}),(0,bo.jsxs)(Os,{children:[(0,bo.jsx)(zs,{span:8,children:(0,bo.jsx)(Oc,{prefix:"passive",label:"insight",value:this.props.pc.passiveInsight})}),(0,bo.jsx)(zs,{span:8,children:(0,bo.jsx)(Oc,{prefix:"passive",label:"investigation",value:this.props.pc.passiveInvestigation})}),(0,bo.jsx)(zs,{span:8,children:(0,bo.jsx)(Oc,{prefix:"passive",label:"perception",value:this.props.pc.passivePerception})})]}),e]})})]},this.props.pc.id)}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"PCStatblockCard",error:bC})}}}class dw extends A.Component{constructor(e){super(e),this.state={showContent:!0}}toggleContentVisible(){this.setState({showContent:!this.state.showContent})}render(){try{const e=this.props.content.filter((e=>!!e));if(0===e.length)return null;let t=null;if(this.props.heading){let e=null;this.props.showToggle&&(e=(0,bo.jsx)(Wg,{className:this.state.showContent?"rotate":"",onClick:()=>this.toggleContentVisible()})),t=(0,bo.jsxs)("div",{className:"heading fixed-top",children:[(0,bo.jsx)("div",{className:"title",children:this.props.heading}),e]})}let n=null;if(this.state.showContent){let t=6;switch(this.props.columns){case 1:t=24;break;case 2:t=12;break;case 3:t=8}n=(0,bo.jsx)(Os,{align:"top",gutter:10,children:e.map((n=>(0,bo.jsx)(zs,{span:t,children:n},e.indexOf(n))))})}return(0,bo.jsxs)("div",{className:"grid-panel",children:[t,n]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"GridPanel",error:bC})}}}dw.defaultProps={columns:0,heading:null,showToggle:!1};class hw extends A.Component{constructor(e){super(e),this.state={source:"",party:e.party}}setSource(e){this.setState({source:e})}analyse(){cw.importParty(this.state.source,this.state.party),this.setState({party:this.state.party})}render(){try{return(0,bo.jsxs)(Os,{className:"full-height",children:[(0,bo.jsxs)(zs,{span:12,className:"scrollable",children:[(0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{className:"section",children:"go to the following link to find the party you want to import"}),(0,bo.jsx)("div",{className:"section",children:(0,bo.jsx)("a",{href:"https://www.dndbeyond.com/my-campaigns",target:"_blank",rel:"noopener noreferrer",children:"https://www.dndbeyond.com/my-campaigns"})}),(0,bo.jsxs)("div",{className:"section",children:["then right-click on the page and select ",(0,bo.jsx)("b",{children:"view page source"})]}),(0,bo.jsx)("div",{className:"section",children:"copy the entire page source into the clipboard, paste it into the box below, and press the analyse button"})]}),(0,bo.jsx)(xo,{text:this.state.source,placeholder:"paste page source here",multiLine:!0,onChange:e=>this.setSource(e)}),(0,bo.jsx)("button",{onClick:()=>this.analyse(),children:"analyse"})]}),(0,bo.jsx)(zs,{span:12,className:"scrollable",children:(0,bo.jsx)(dw,{heading:this.props.party.name,columns:1,content:this.props.party.pcs.map((e=>(0,bo.jsx)(uw,{pc:e},e.id)))})})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"PartyImportModal",error:bC})}}}class pw extends A.Component{constructor(e){super(e),this.state={source:"",pc:e.pc}}setSource(e){this.setState({source:e})}analyse(){cw.importPC(this.state.source,this.state.pc),this.setState({pc:this.state.pc})}render(){try{return(0,bo.jsxs)(Os,{className:"full-height",children:[(0,bo.jsxs)(zs,{span:12,className:"scrollable",children:[(0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{className:"section",children:"go to the following link to find the pc you want to import"}),(0,bo.jsx)("div",{className:"section",children:(0,bo.jsx)("a",{href:"https://www.dndbeyond.com/",target:"_blank",rel:"noopener noreferrer",children:"https://www.dndbeyond.com/"})}),(0,bo.jsxs)("div",{className:"section",children:["then right-click on the page and select ",(0,bo.jsx)("b",{children:"view page source"})]}),(0,bo.jsx)("div",{className:"section",children:"copy the entire page source into the clipboard, paste it into the box below, and press the analyse button"})]}),(0,bo.jsx)(xo,{text:this.state.source,placeholder:"paste page source here",multiLine:!0,onChange:e=>this.setSource(e)}),(0,bo.jsx)("button",{onClick:()=>this.analyse(),children:"analyse"})]}),(0,bo.jsx)(zs,{span:12,className:"scrollable",children:(0,bo.jsx)(uw,{pc:this.state.pc})})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"PCImportModal",error:bC})}}}class mw extends A.Component{monsterClicked(e,t){this.props.onMonsterClicked&&t&&(e.stopPropagation(),this.props.onMonsterClicked(t))}getSlot(e){let t="unknown monster";const n=ao.slotToMonster(e,(e=>this.props.getMonster(e)));return n&&(t=n.name||"unnamed monster"),null!==this.props.onMonsterClicked?(0,bo.jsxs)("div",{className:"content-then-info encounter-slot clickable",onClick:e=>this.monsterClicked(e,n),role:"button",children:[(0,bo.jsx)("div",{className:"content",children:(0,bo.jsx)("div",{className:"section",children:t})}),(0,bo.jsxs)("div",{className:"info",children:["x",e.count]})]},e.id):(0,bo.jsxs)("div",{className:"content-then-info encounter-slot",children:[(0,bo.jsx)("div",{className:"content",children:(0,bo.jsx)("div",{className:"section",children:t})}),(0,bo.jsxs)("div",{className:"info",children:["x",e.count]})]},e.id)}render(){try{return(0,bo.jsxs)("div",{className:"encounter-info-panel",children:[this.props.encounter.slots.map((e=>this.getSlot(e))),this.props.encounter.waves.map((e=>(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"section subheading",children:e.name||"unnamed wave"}),e.slots.map((e=>this.getSlot(e)))]},e.id)))]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"EncounterInfoPanel",error:bC})}}}mw.defaultProps={onMonsterClicked:null};class fw extends A.Component{getEncounters(){const e=[];return this.props.encounters.forEach((t=>{let n=null;if(this.props.party){const e=ao.getEncounterDifficulty(t,null,this.props.party,(e=>this.props.getMonster(e)));n="diff-"+Math.min(4,e.adjusted)}e.push((0,bo.jsxs)(cv,{className:n,onClick:()=>this.props.onSelect(t),children:[(0,bo.jsx)("div",{className:"section subheading",children:t.name||"unnamed encounter"}),(0,bo.jsx)(mw,{encounter:t,getMonster:e=>this.props.getMonster(e)})]},t.id))})),e}render(){try{return(0,bo.jsxs)("div",{className:"scrollable",children:[(0,bo.jsx)("div",{className:"section heading",children:"which encounter do you want to use?"}),this.getEncounters()]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"EncounterSelectionModal",error:bC})}}}class gw extends A.Component{constructor(e){super(e),this.state={images:vo.allImages(),filter:""}}setFilter(e){this.setState({filter:e})}readFile(e){const t=new FileReader;return t.onload=t=>{if(t.target)try{const n=t.target.result;vo.saveImage(no.guid(),e.name,n),this.setState({images:vo.allImages()})}catch{Ss.open({message:"can't upload this image",description:"not enough storage space; try reducing the resolution or removing unused images",closeIcon:(0,bo.jsx)(Le,{}),duration:5})}},t.readAsDataURL(e),!1}render(){try{const e=this.state.images.filter((e=>so.match(this.state.filter,e.name))).map((e=>(0,bo.jsxs)(cv,{onClick:()=>this.props.select?this.props.select(e.id):null,children:[(0,bo.jsx)("div",{className:"subheading",children:e.name}),(0,bo.jsx)("img",{className:"section nonselectable-image",src:e.data,alt:e.name})]},e.id)));return 0===e.length&&e.push((0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"no images"})},"empty")),this.state.images.length>0&&e.unshift((0,bo.jsx)(xo,{text:this.state.filter,placeholder:"search for an image",onChange:e=>this.setFilter(e)},"search")),(0,bo.jsxs)("div",{className:"scrollable",children:[(0,bo.jsx)("div",{children:(0,bo.jsxs)(kd.Dragger,{accept:"image/*",showUploadList:!1,beforeUpload:e=>this.readFile(e),children:[(0,bo.jsx)("p",{className:"ant-upload-drag-icon",children:(0,bo.jsx)(zc,{})}),(0,bo.jsx)("p",{className:"ant-upload-text",children:"click here, or drag a file here, to upload it"}),(0,bo.jsx)("p",{className:"ant-upload-text",children:"try to upload small images if possible"})]})}),e]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"ImageSelectionModal",error:bC})}}}class vw extends A.Component{getMaps(){const e=[];return this.props.maps.forEach((t=>{e.push((0,bo.jsxs)(cv,{onClick:()=>this.props.onSelect(t),children:[(0,bo.jsx)("div",{className:"section subheading",children:t.name||"unnamed map"}),(0,bo.jsx)($y,{map:t,showAreaNames:!0})]},t.id))})),e}render(){try{return(0,bo.jsxs)("div",{className:"scrollable",children:[(0,bo.jsx)("div",{className:"section heading",children:"which map do you want to use?"}),this.getMaps()]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"MapSelectionModal",error:bC})}}}class yw extends A.Component{constructor(e){super(e);const t=ro.createMonsterFilter();e.originalMonster&&(t.category=e.originalMonster.category,t.challengeMin=e.originalMonster.challenge,t.challengeMax=e.originalMonster.challenge),this.state={filter:t}}changeFilterValue(e,t){const n=this.state.filter;"challenge"===e?(n.challengeMin=t[0],n.challengeMax=t[1]):n[e]=t,this.setState({filter:n})}resetFilter(){this.setState({filter:ro.createMonsterFilter()})}render(){try{const e=[],t=!!this.props.slot&&this.props.slot.roles.length>0;this.props.library.forEach((n=>{n.monsters.forEach((n=>{const r=ao.matchMonster(n,this.state.filter),s=!t||this.props.slot.roles.includes(n.role);r&&s&&e.push(n)}))})),e.sort(((e,t)=>e.name<t.name?-1:e.name>t.name?1:0));let n=(0,bo.jsx)(jy,{items:e.map((e=>({id:e.id,text:e.name||"unnamed monster",info:"cr "+io.challenge(e.challenge)}))),selectedItemID:this.props.monster?this.props.monster.id:null,onSelect:t=>{var n;return this.props.setMonster(null!==(n=e.find((e=>e.id===t)))&&void 0!==n?n:null)}});if(0===e.length){const e=ao.getFilterDescription(this.state.filter);n=(0,bo.jsxs)(gg,{children:["there are no monsters that meet the criteria ",(0,bo.jsx)("i",{children:e})]},"empty")}let r=(0,bo.jsx)(gg,{children:"select a monster from the list at the left to see its statblock here"});return this.props.monster&&(r=(0,bo.jsx)(Vg,{monster:this.props.monster})),(0,bo.jsxs)(Os,{className:"full-height",children:[(0,bo.jsxs)(zs,{span:8,className:"scrollable",children:[(0,bo.jsx)("div",{className:"section",children:(0,bo.jsx)(_v,{filter:this.state.filter,showRoles:!t,changeValue:(e,t)=>this.changeFilterValue(e,t),resetFilter:()=>this.resetFilter()})}),(0,bo.jsx)("hr",{}),n]}),(0,bo.jsx)(zs,{span:16,className:"scrollable",children:r})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"MonsterSelectionModal",error:bC})}}}class ww extends A.Component{constructor(e){super(e),this.state={mode:"theme"}}setMode(e){this.setState({mode:e})}render(){try{let e=JSON.parse(JSON.stringify(this.props.monster));if(this.props.selectedThemeID){const t=this.props.themes.find((e=>e.id===this.props.selectedThemeID));t&&(e=po.applyTheme(e,t))}0!==this.props.deltaCR&&(e=po.adjustCR(e,this.props.deltaCR));const t=this.props.themes.map((e=>({id:e.id,text:e.name||"unnamed theme",info:"cr "+io.challenge(e.challenge)})));return t.unshift({id:"",text:"no theme",info:""}),(0,bo.jsxs)(Os,{className:"full-height",children:[(0,bo.jsxs)(zs,{span:8,className:"scrollable",children:[(0,bo.jsx)(wv,{options:no.arrayToItems(["theme","cr"]),selectedID:this.state.mode,onSelect:e=>this.setMode(e)}),(0,bo.jsxs)(Lg,{display:"theme"===this.state.mode,children:[(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"you can quickly modify this monster by selecting one of the following themes"})}),(0,bo.jsx)(jy,{items:t,selectedItemID:this.props.selectedThemeID,onSelect:e=>this.props.selectTheme(e)})]}),(0,bo.jsxs)(Lg,{display:"cr"===this.state.mode,children:[(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"you can adjust the challenge rating of this monster to make it more or less deadly"})}),(0,bo.jsx)(gv,{label:"challenge rating adjustment",value:(this.props.deltaCR>0?"+":"")+this.props.deltaCR,downEnabled:e.challenge>0,upEnabled:e.challenge<30,onNudgeValue:e=>this.props.setDeltaCR(this.props.deltaCR+e)})]})]}),(0,bo.jsx)(zs,{span:16,className:"scrollable",children:(0,bo.jsx)(Vg,{monster:e})})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"ThemeSelectionModal",error:bC})}}}class bw extends A.Component{constructor(e){super(e),this.state={addingToMapID:null,editFog:!1}}setAddingToMapID(e){this.setState({addingToMapID:e,editFog:!1})}toggleEditFog(){this.setState({addingToMapID:null,editFog:!this.state.editFog})}gridSquareClicked(e,t){this.state.addingToMapID&&(this.props.slotInfo.forEach((n=>{n.members.filter((e=>e.id===this.state.addingToMapID)).forEach((n=>{n.location={x:e,y:t,z:0}}))})),this.setState({addingToMapID:null},(()=>{this.props.setSlotInfo(this.props.slotInfo)}))),this.state.editFog&&this.gridRectangleSelected(e,t,e,t)}gridRectangleSelected(e,t,n,r){if(this.state.editFog){const s=this.props.fog;for(let a=e;a<=n;++a)for(let e=t;e<=r;++e){const t=s.findIndex((t=>t.x===a&&t.y===e));-1===t?s.push({x:a,y:e}):s.splice(t,1)}this.props.setFog(s)}}fillFog(){const e=[],t=yo.mapDimensions(this.props.map.items);if(t){for(let n=t.minX;n<=t.maxX;++n)for(let r=t.minY;r<=t.maxY;++r)e.push({x:n,y:r});this.props.setFog(e)}}clearFog(){this.props.setFog([])}removeAll(){this.props.slotInfo.forEach((e=>{e.members.forEach((e=>{e.location=null}))})),this.props.setSlotInfo(this.props.slotInfo)}generateMap(e){const t=ro.createMap();yo.generate(e,t),this.props.setMap(t)}render(){if(null===this.props.map){let e=null;if(this.props.maps.length>0){const t=this.props.maps.map((e=>({id:e.id,text:e.name||"unnamed map"})));e=(0,bo.jsx)(mg,{options:t,placeholder:"select a map",onSelect:e=>{const t=this.props.maps.find((t=>t.id===e))||null,n=JSON.parse(JSON.stringify(t));this.props.setMap(n)}})}return(0,bo.jsxs)("div",{className:"scrollable",children:[(0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{className:"section",children:"no map is currently selected"}),(0,bo.jsx)("div",{className:"section",children:"this is fine - you don't have to use a map to run an encounter"})]}),e,(0,bo.jsx)("button",{onClick:()=>this.generateMap(5),children:"generate a random delve"})]})}const e=[],t=[],n=[];this.props.slotInfo.forEach((r=>{r.members.forEach((s=>{if(null===s.location)e.push((0,bo.jsx)(cv,{children:(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:s.name}),(0,bo.jsx)("div",{className:"icons",children:(0,bo.jsx)(dy,{title:"add to map",onClick:()=>this.setAddingToMapID(s.id)})})]})},s.id));else{const e=this.props.getMonster(r.monsterID);if(e){const r=ao.convertMonsterToCombatant(e,0,0,s.name,"foe");t.push(r);const a=ro.createMapItem();a.id=r.id,a.type="monster";const i=io.miniSize(e.size);a.height=i,a.width=i,a.depth=i,a.x=s.location.x,a.y=s.location.y,a.z=s.location.z,n.push(a)}}}))}));const r=JSON.parse(JSON.stringify(this.props.map));return r.items=r.items.concat(n),(0,bo.jsxs)("div",{className:"scrollable both-ways",children:[(0,bo.jsx)($y,{map:r,mode:"setup",features:{highlight:!1,editFog:this.state.editFog,lightSource:!1},showGrid:null!==this.state.addingToMapID||this.state.editFog,combatants:t,selectedAreaID:this.props.areaID,fog:this.props.fog,lighting:this.props.lighting,areaSelected:e=>this.props.setAreaID(e),gridSquareClicked:(e,t)=>this.gridSquareClicked(e,t),gridRectangleSelected:(e,t,n,r)=>this.gridRectangleSelected(e,t,n,r),changeLighting:e=>this.props.setLighting(e),toggleFeature:e=>{if("editFog"===e)this.toggleEditFog()},fillFog:()=>this.fillFog(),clearFog:()=>this.clearFog()}),(0,bo.jsx)("hr",{}),(0,bo.jsxs)(Lg,{display:e.length>0,children:[(0,bo.jsx)(gg,{children:(0,bo.jsxs)("div",{className:"section",children:["you can add these monsters to the map by clicking on the ",(0,bo.jsx)(dy,{})," button and then clicking on a map square"]})}),(0,bo.jsx)("div",{children:e})]}),(0,bo.jsx)(Lg,{display:0===e.length,children:(0,bo.jsx)("button",{onClick:()=>this.removeAll(),children:"remove all from map"})})]})}}const xw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"};var Bw=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:xw}))};const Cw=A.forwardRef(Bw);class kw extends A.Component{constructor(e){super(e);let t=e.party;t||1===e.parties.length&&(t=e.parties[0]),this.state={selectedPartyID:t?t.id:null,selectedWaveID:null,customPartySize:5,customPartyLevel:1}}selectParty(e){this.setState({selectedPartyID:e})}setWave(e){this.setState({selectedWaveID:e})}render(){try{const t=ao.getMonsterCount(this.props.encounter,this.state.selectedWaveID),n=ao.getEncounterXP(this.props.encounter,this.state.selectedWaveID,(e=>this.props.getMonster(e))),r=ao.getAdjustedEncounterXP(this.props.encounter,this.state.selectedWaveID,(e=>this.props.getMonster(e)));let s=null;if(this.props.encounter.waves.length>0){const e=[{id:this.props.encounter.id,text:"encounter"}];this.props.encounter.waves.forEach((t=>{e.push({id:t.id,text:t.name||"unnamed wave"})})),s=(0,bo.jsxs)("div",{children:[(0,bo.jsx)("hr",{}),(0,bo.jsx)(mg,{placeholder:"encounter plus all waves",options:e,selectedID:this.state.selectedWaveID,onSelect:e=>this.setWave(e),onClear:()=>this.setWave(null)})]})}const a=(0,bo.jsxs)("div",{children:[s,(0,bo.jsx)("hr",{}),(0,bo.jsx)("div",{className:"section",children:(0,bo.jsxs)(Os,{children:[(0,bo.jsx)(zs,{span:16,children:"xp for these monsters"}),(0,bo.jsxs)(zs,{span:8,className:"right-value",children:[n," xp"]})]})}),(0,bo.jsx)(Lg,{display:r!==n,children:(0,bo.jsx)("div",{className:"section",children:(0,bo.jsxs)(Os,{children:[(0,bo.jsxs)(zs,{span:16,children:["effective xp for ",t," monster(s)"]}),(0,bo.jsxs)(zs,{span:8,className:"right-value",children:[r," xp"]})]})})})]});let i,o,l=this.props.party;if(null===l)if("custom"===this.state.selectedPartyID){l=ro.createParty();for(let e=0;e!==this.state.customPartySize;++e){const e=ro.createPC();e.level=this.state.customPartyLevel,l.pcs.push(e)}}else{var e;l=null!==(e=this.props.parties.find((e=>e.id===this.state.selectedPartyID)))&&void 0!==e?e:null}if(l){const e=ao.getEncounterThresholds(l),t=ao.getEncounterDifficulty(this.props.encounter,this.state.selectedWaveID,l,(e=>this.props.getMonster(e)));i=(0,bo.jsxs)("div",{className:"table",children:[(0,bo.jsxs)("div",{className:"table-row",children:[(0,bo.jsx)("div",{className:"table-cell easy",children:(0,bo.jsx)("b",{children:"easy"})}),(0,bo.jsx)("div",{className:"table-cell medium",children:(0,bo.jsx)("b",{children:"medium"})}),(0,bo.jsx)("div",{className:"table-cell hard",children:(0,bo.jsx)("b",{children:"hard"})}),(0,bo.jsx)("div",{className:"table-cell deadly",children:(0,bo.jsx)("b",{children:"deadly"})})]}),(0,bo.jsxs)("div",{className:"table-row",children:[(0,bo.jsxs)("div",{className:"table-cell",children:[e.easy," xp"]}),(0,bo.jsxs)("div",{className:"table-cell",children:[e.medium," xp"]}),(0,bo.jsxs)("div",{className:"table-cell",children:[e.hard," xp"]}),(0,bo.jsxs)("div",{className:"table-cell",children:[e.deadly," xp"]})]})]});const n=t=>100*t/Math.max(r,1.2*e.deadly),s=e=>100-n(e);o=(0,bo.jsxs)("div",{children:[(0,bo.jsxs)("div",{className:"difficulty-gauge",children:[(0,bo.jsx)("div",{className:"bar-container",children:(0,bo.jsx)("div",{className:"bar trivial",style:{left:"0",right:s(e.easy)+"%"}})}),(0,bo.jsx)("div",{className:"bar-container",children:(0,bo.jsx)("div",{className:"bar easy",style:{left:n(e.easy)+"%",right:s(e.medium)+"%"}})}),(0,bo.jsx)("div",{className:"bar-container",children:(0,bo.jsx)("div",{className:"bar medium",style:{left:n(e.medium)+"%",right:s(e.hard)+"%"}})}),(0,bo.jsx)("div",{className:"bar-container",children:(0,bo.jsx)("div",{className:"bar hard",style:{left:n(e.hard)+"%",right:s(e.deadly)+"%"}})}),(0,bo.jsx)("div",{className:"bar-container",children:(0,bo.jsx)("div",{className:"bar deadly",style:{left:n(e.deadly)+"%",right:"0"}})}),(0,bo.jsx)("div",{className:"encounter-container",children:(0,bo.jsx)("div",{className:"encounter",style:{left:n(r)-.5+"%"}})})]}),a,(0,bo.jsx)("div",{className:"section",children:(0,bo.jsxs)(Os,{children:[(0,bo.jsx)(zs,{span:16,children:"difficulty for this party"}),(0,bo.jsx)(zs,{span:8,className:"right-value",children:ao.getDifficultyDescription(t.basic)})]})}),(0,bo.jsx)(Lg,{display:t.adjusted!==t.basic,children:(0,bo.jsx)("div",{className:"section",children:(0,bo.jsxs)(Os,{children:[(0,bo.jsxs)(zs,{span:16,children:["effective difficulty for ",l.pcs.filter((e=>e.active)).length," pc(s)"]}),(0,bo.jsx)(zs,{span:8,className:"right-value",children:ao.getDifficultyDescription(t.adjusted)})]})})})]})}else o=a;if(!this.props.party){const e=this.props.parties.map((e=>({id:e.id,text:e.name||"unnamed party"})));e.push({id:"custom",text:"custom party"});let t=null;return"custom"===this.state.selectedPartyID&&(t=(0,bo.jsxs)("div",{children:[(0,bo.jsx)(gv,{value:this.state.customPartySize,label:"party size",downEnabled:this.state.customPartySize>1,onNudgeValue:e=>this.setState({customPartySize:this.state.customPartySize+e})}),(0,bo.jsx)(gv,{value:this.state.customPartyLevel,label:"party level",downEnabled:this.state.customPartyLevel>1,upEnabled:this.state.customPartyLevel<20,onNudgeValue:e=>this.setState({customPartyLevel:this.state.customPartyLevel+e})})]})),(0,bo.jsxs)("div",{children:[(0,bo.jsx)(mg,{options:e,placeholder:"select party...",selectedID:this.state.selectedPartyID,onSelect:e=>this.selectParty(e),onClear:()=>this.selectParty(null)}),t,i,o]})}return(0,bo.jsxs)("div",{children:[i,o]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"DifficultyChartPanel",error:bC})}}}kw.defaultProps={parties:[],party:null};class Sw extends A.Component{constructor(e){super(e),this.state={combatSetup:e.combatSetup,encounterFixed:!!e.combatSetup.encounter,mapFixed:!!e.combatSetup.map}}setEncounterID(e){const t=this.state.combatSetup,n=this.props.encounters.find((t=>t.id===e));t.encounter=n?JSON.parse(JSON.stringify(n)):null,t.slotInfo=io.getCombatSlotData(t.encounter,(e=>this.props.getMonster(e))),this.setState({combatSetup:t},(()=>this.props.notify()))}clearMap(){const e=this.state.combatSetup;e.map=null,e.mapAreaID=null,e.slotInfo.forEach((e=>{e.members.forEach((e=>e.location=null))})),this.setState({combatSetup:e})}setWaveID(e){const t=this.state.combatSetup;if(t.waveID=e,t.encounter){const n=t.encounter.waves.find((t=>t.id===e));n&&(t.slotInfo=io.getCombatSlotData(n,(e=>this.props.getMonster(e))))}this.setState({combatSetup:t},(()=>this.props.notify()))}generateEncounter(e){const t=ro.createEncounter(),n=ro.createMonsterFilter();let r=0,s=0;if(this.state.combatSetup.party){r=ao.getXPForDifficulty(this.state.combatSetup.party,e);const t=this.state.combatSetup.party.pcs.filter((e=>e.active));t.forEach((e=>{s+=e.level}));const a=s/t.length;n.challengeMax=Math.max(a,5)}ao.buildEncounter(t,r,"",n,this.props.library,(e=>this.props.getMonster(e)));const a=this.state.combatSetup;a.encounter=t,a.slotInfo=io.getCombatSlotData(t,(e=>this.props.getMonster(e))),this.setState({combatSetup:a},(()=>this.props.notify()))}changeValue(e,t,n){e[t]=n;const r=e;r.members&&("init"===t&&r.members.forEach((e=>e.init=n)),"hp"===t&&r.members.forEach((e=>e.hp=n))),this.setState({combatSetup:this.state.combatSetup})}nudgeValue(e,t,n){e[t]=e[t]+n;const r=this.state.combatSetup;if(r.encounter){if(r.waveID){const e=r.encounter.waves.find((e=>e.id===r.waveID));e&&(r.slotInfo=io.getCombatSlotData(e,(e=>this.props.getMonster(e))))}else r.slotInfo=io.getCombatSlotData(r.encounter,(e=>this.props.getMonster(e)));this.setState({combatSetup:r})}}render(){try{let e=null,t=null;switch(this.props.type){case"start":e=(0,bo.jsxs)("div",{children:[(0,bo.jsx)(Ew,{combatSetup:this.state.combatSetup,encounters:this.props.encounters,fixed:this.state.encounterFixed,setEncounterID:e=>this.setEncounterID(e),generateEncounter:e=>this.generateEncounter(e),getMonster:e=>this.props.getMonster(e)}),(0,bo.jsx)(jw,{combatSetup:this.state.combatSetup,maps:this.props.maps,options:this.props.options,fixed:this.state.mapFixed,clearMap:()=>this.clearMap(),changeValue:(e,t,n)=>this.changeValue(e,t,n),getMonster:e=>this.props.getMonster(e)})]}),t=(0,bo.jsx)("div",{children:(0,bo.jsx)(Nw,{type:this.props.type,combatSetup:this.state.combatSetup,getMonster:e=>this.props.getMonster(e),changeValue:(e,t,n)=>this.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.nudgeValue(e,t,n)})});break;case"add-wave":e=(0,bo.jsx)("div",{children:(0,bo.jsx)(Iw,{combatSetup:this.state.combatSetup,setWaveID:e=>this.setWaveID(e),getMonster:e=>this.props.getMonster(e)})}),t=(0,bo.jsx)("div",{children:(0,bo.jsx)(Nw,{type:this.props.type,combatSetup:this.state.combatSetup,getMonster:e=>this.props.getMonster(e),changeValue:(e,t,n)=>this.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.nudgeValue(e,t,n)})});break;case"add-combatants":e=(0,bo.jsx)("div",{children:(0,bo.jsx)(Qw,{combatSetup:this.state.combatSetup,library:this.props.library,addMonster:e=>this.props.addMonster(e)})}),t=(0,bo.jsxs)("div",{children:[(0,bo.jsx)(Fw,{encounter:this.state.combatSetup.encounter,nudgeValue:(e,t,n)=>this.nudgeValue(e,t,n),getMonster:e=>this.props.getMonster(e)}),(0,bo.jsx)(Nw,{type:this.props.type,combatSetup:this.state.combatSetup,getMonster:e=>this.props.getMonster(e),changeValue:(e,t,n)=>this.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.nudgeValue(e,t,n)})]})}return(0,bo.jsxs)(Os,{className:"full-height",children:[(0,bo.jsx)(zs,{span:12,className:"scrollable",children:e}),(0,bo.jsx)(zs,{span:12,className:"scrollable",children:t})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"CombatStartModal",error:bC})}}}Sw.defaultProps={encounters:null,maps:null,addMonster:null};class Ew extends A.Component{render(){let e=null;if(!this.props.combatSetup.encounter){let t=null;if(this.props.encounters.length>0){const e=this.props.encounters.map((e=>({id:e.id,text:e.name||"unnamed encounter"})));t=(0,bo.jsx)(mg,{options:e,placeholder:"select an encounter",onSelect:e=>this.props.setEncounterID(e)})}let n=null;this.props.combatSetup.party&&(n=(0,bo.jsx)("button",{onClick:()=>this.props.generateEncounter("medium"),children:"generate a random encounter"})),e=(0,bo.jsxs)("div",{children:[t,n]})}let t=null;if(this.props.combatSetup.encounter){let e=null;this.props.combatSetup.encounter.notes&&(e=(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"subheading",children:"notes"}),(0,bo.jsx)(ig,{children:this.props.combatSetup.encounter.notes})]}));const n=this.props.combatSetup.encounter.slots.map((e=>{const t=ao.slotToMonster(e,(e=>this.props.getMonster(e)));let n="";return t&&(n=t.name||"unnamed monster"),e.count>1&&(n+=" (x"+e.count+")"),(0,bo.jsx)(cv,{children:n},e.id)}));0===n.length&&n.push((0,bo.jsx)(gg,{children:"no monsters"},"empty")),t=(0,bo.jsxs)("div",{children:[e,(0,bo.jsx)("div",{className:"subheading",children:"monsters"}),n]})}let n=null;this.props.combatSetup.encounter&&!this.props.fixed&&(n=(0,bo.jsx)(Le,{title:"remove encounter",onClick:()=>this.props.setEncounterID(null)}));let r=null;return this.props.combatSetup.party&&this.props.combatSetup.encounter&&(r=(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"subheading",children:"difficulty"}),(0,bo.jsx)(kw,{party:this.props.combatSetup.party,encounter:this.props.combatSetup.encounter,getMonster:e=>this.props.getMonster(e)})]})),(0,bo.jsxs)("div",{children:[(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:(0,bo.jsx)("div",{className:"heading",children:"encounter"})}),(0,bo.jsx)("div",{className:"icons",children:n})]}),e,t,r]})}}class jw extends A.Component{constructor(e){super(e),this.state={editing:!1}}setEditing(e){this.setState({editing:e})}render(){let e=null;if(this.props.combatSetup.map){const t=[],n=[];this.props.combatSetup.slotInfo.forEach((e=>{e.members.forEach((r=>{if(null!==r.location){var s;const a=null===(s=this.props.combatSetup.encounter)||void 0===s?void 0:s.slots.find((t=>t.id===e.id));if(a&&a.monsterID){const e=this.props.getMonster(a.monsterID);if(e){const s=ao.convertMonsterToCombatant(e,r.init,r.hp,r.name,a.faction);t.push(s);const i=ro.createMapItem();i.id=s.id,i.type="monster";const o=io.miniSize(e.size);i.height=o,i.width=o,i.depth=o,i.x=r.location.x,i.y=r.location.y,i.z=r.location.z,n.push(i)}}}}))}));const r=JSON.parse(JSON.stringify(this.props.combatSetup.map));r.items=r.items.concat(n),e=(0,bo.jsx)("div",{className:"scrollable horizontal-only",children:(0,bo.jsx)($y,{map:r,mode:"thumbnail",combatants:this.props.combatSetup.combatants.concat(t),selectedAreaID:this.props.combatSetup.mapAreaID,fog:this.props.combatSetup.fog,lighting:this.props.combatSetup.lighting})})}else e=(0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{className:"section",children:"not using a map for this encounter"}),(0,bo.jsxs)("div",{className:"section",children:["to choose a map, click the ",(0,bo.jsx)(Ty,{})," button above"]})]});let t=null;return this.props.combatSetup.map&&!this.props.fixed&&(t=(0,bo.jsx)(Le,{title:"remove map",onClick:()=>this.props.clearMap()})),(0,bo.jsxs)("div",{children:[(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:(0,bo.jsx)("div",{className:"heading",children:"map"})}),(0,bo.jsxs)("div",{className:"icons",children:[(0,bo.jsx)(Ty,{title:"edit map",onClick:()=>this.setEditing(!0)}),t]})]}),e,(0,bo.jsxs)(_i,{className:this.props.options.theme,closable:!1,maskClosable:!0,width:"50%",open:this.state.editing,onClose:()=>this.setEditing(!1),children:[(0,bo.jsx)("div",{className:"drawer-header",children:(0,bo.jsx)("div",{className:"app-title",children:"map setup"})}),(0,bo.jsx)("div",{className:"drawer-content",children:(0,bo.jsx)(bw,{maps:this.props.maps,map:this.props.combatSetup.map,setMap:e=>this.props.changeValue(this.props.combatSetup,"map",e),areaID:this.props.combatSetup.mapAreaID,setAreaID:e=>this.props.changeValue(this.props.combatSetup,"mapAreaID",e),lighting:this.props.combatSetup.lighting,setLighting:e=>this.props.changeValue(this.props.combatSetup,"lighting",e),fog:this.props.combatSetup.fog,setFog:e=>this.props.changeValue(this.props.combatSetup,"fog",e),slotInfo:this.props.combatSetup.slotInfo,setSlotInfo:e=>this.props.changeValue(this.props.combatSetup,"slotInfo",e),getMonster:e=>this.props.getMonster(e)})}),(0,bo.jsx)("div",{className:"drawer-footer",children:(0,bo.jsx)("button",{onClick:()=>this.setEditing(!1),children:"close"})})]})]})}}class Iw extends A.Component{render(){if(null===this.props.combatSetup.encounter)return(0,bo.jsx)("div",{className:"section",children:"you have not selected an encounter"});{if(0===this.props.combatSetup.encounter.waves.length)return(0,bo.jsx)("div",{className:"section",children:"you have not defined any waves"});const e=this.props.combatSetup.encounter.waves.map((e=>({id:e.id,text:e.name||"unnamed wave"})));let t=null;if(this.props.combatSetup.waveID){const e=this.props.combatSetup.encounter.waves.find((e=>e.id===this.props.combatSetup.waveID));if(e){const n=e.slots.map((e=>{let t="";const n=this.props.getMonster(e.monsterID);return n&&(t=n.name),t=t||"unnamed monster",e.count>1&&(t+=" (x"+e.count+")"),(0,bo.jsx)(cv,{children:t},e.id)}));0===n.length&&n.push((0,bo.jsx)(gg,{children:"no monsters"},"empty")),t=(0,bo.jsx)("div",{children:n})}}return(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"heading",children:"wave"}),(0,bo.jsx)(mg,{options:e,placeholder:"select wave",selectedID:this.props.combatSetup.waveID?this.props.combatSetup.waveID:void 0,onSelect:e=>this.props.setWaveID(e),onClear:()=>this.props.setWaveID(null)}),t]})}}}class Fw extends A.Component{render(){const e=this.props.encounter.slots.map((e=>{let t="";const n=this.props.getMonster(e.monsterID);return n&&(t=n.name),t=t||"unnamed monster",e.count>1&&(t+=" (x"+e.count+")"),(0,bo.jsxs)(cv,{children:[t,(0,bo.jsx)(gv,{value:"count: "+e.count,downEnabled:e.count>1,onNudgeValue:t=>this.props.nudgeValue(e,"count",t)})]},e.id)}));return 0===e.length&&e.push((0,bo.jsx)(gg,{children:"no monsters"},"empty")),(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"heading",children:"selected monsters"}),e]})}}class Qw extends A.Component{constructor(e){super(e),this.state={filter:ro.createMonsterFilter()}}changeFilterValue(e,t){const n=this.state.filter;"challenge"===e?(n.challengeMin=t[0],n.challengeMax=t[1]):n[e]=t,this.setState({filter:n})}resetFilter(){this.setState({filter:ro.createMonsterFilter()})}matchMonster(e){return ao.matchMonster(e,this.state.filter)}render(){const e=[];this.props.library.forEach((t=>{t.monsters.forEach((t=>{this.matchMonster(t)&&e.push(t)}))})),e.sort(((e,t)=>e.name<t.name?-1:e.name>t.name?1:0));let t=[];var n;this.props.combatSetup.encounter&&(t=null===(n=this.props.combatSetup.encounter)||void 0===n?void 0:n.slots.map((e=>e.monsterID)));let r=e.filter((e=>!t.includes(e.id))).map((e=>(0,bo.jsx)(cv,{children:(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:(0,bo.jsx)("div",{children:e.name||"unnamed monster"})}),(0,bo.jsx)("div",{className:"icons",children:(0,bo.jsx)(Do,{title:"add monster",onClick:()=>this.props.addMonster(e)})})]})},e.id)));return 0===r.length&&(r=(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"there are no monsters that match the above criteria (or you have already selected them all)"})})),(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"heading",children:"monsters"}),(0,bo.jsx)(_v,{filter:this.state.filter,changeValue:(e,t)=>this.changeFilterValue(e,t),resetFilter:()=>this.resetFilter()}),r]})}}class Nw extends A.Component{constructor(e){super(e),this.state={standardInitOptions:!0,standardHPOptions:!0,additionalOptions:!1,view:"count"}}setView(e){this.setState({view:e})}getSlots(e,t){return this.props.combatSetup.slotInfo.map((n=>{const r=e.slots.find((e=>e.id===n.id));if(!r)return null;const s=this.props.getMonster(r.monsterID);return s?(0,bo.jsx)(Mw,{slotInfo:n,encounterSlot:r,monster:s,view:t,changeValue:(e,t,n)=>this.props.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.props.nudgeValue(e,t,n)},n.id):null}))}render(){var e;if("start"===this.props.type&&!this.props.combatSetup.encounter)return(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"heading",children:"options"}),(0,bo.jsx)("div",{className:"section",children:"select an encounter to see monster information here."})]});if("add-wave"===this.props.type&&!this.props.combatSetup.waveID)return(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"heading",children:"options"}),(0,bo.jsx)("div",{className:"section",children:"select a wave to see monster information here."})]});if("add-combatants"===this.props.type&&0===(null===(e=this.props.combatSetup.encounter)||void 0===e?void 0:e.slots.length))return(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"heading",children:"options"}),(0,bo.jsx)("div",{className:"section",children:"add monsters to see their information here."})]});if(this.props.combatSetup.encounter){let e=this.props.combatSetup.encounter;if(this.props.combatSetup.waveID){const t=this.props.combatSetup.encounter.waves.find((e=>e.id===this.props.combatSetup.waveID));t&&(e=t)}return 0===e.slots.length?null:(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"heading",children:"options"}),(0,bo.jsx)(zg,{checked:this.state.standardInitOptions,label:"roll initiative automatically for monsters",onChecked:e=>this.setState({standardInitOptions:e})}),(0,bo.jsxs)(Lg,{display:!this.state.standardInitOptions,children:[(0,bo.jsx)("div",{children:this.getSlots(e,"initiative")}),(0,bo.jsx)("hr",{})]}),(0,bo.jsx)(zg,{checked:this.state.standardHPOptions,label:"use typical hp for monsters",onChecked:e=>this.setState({standardHPOptions:e})}),(0,bo.jsxs)(Lg,{display:!this.state.standardHPOptions,children:[(0,bo.jsx)("div",{children:this.getSlots(e,"hit points")}),(0,bo.jsx)("hr",{})]}),(0,bo.jsx)(zg,{checked:this.state.additionalOptions,label:"show additional options",onChecked:e=>this.setState({additionalOptions:e})}),(0,bo.jsxs)(Lg,{display:this.state.additionalOptions,children:[(0,bo.jsx)(vv,{options:no.arrayToItems(["count","names","faction"]),selectedID:this.state.view,onSelect:e=>this.setView(e)}),(0,bo.jsx)("div",{children:this.getSlots(e,this.state.view)})]})]})}return null}}class Mw extends A.Component{rollInit(e){const t=io.dieRoll(),n=io.modifierValue(this.props.monster.abilityScores.dex);this.props.changeValue(null!==e&&void 0!==e?e:this.props.slotInfo,"init",t+n)}rollHP(e){const t=io.hitDieType(this.props.monster.size),n=io.dieRoll(t,this.props.monster.hitDice),r=io.modifierValue(this.props.monster.abilityScores.con)*this.props.monster.hitDice;this.props.changeValue(null!==e&&void 0!==e?e:this.props.slotInfo,"hp",n+r)}getValueSection(e,t,n,r,s){return(0,bo.jsxs)(Os,{align:"middle",children:[(0,bo.jsx)(zs,{span:20,children:(0,bo.jsx)(zv,{min:e,max:t,value:n[r],onChange:e=>this.props.changeValue(n,r,e)})}),(0,bo.jsx)(zs,{span:4,children:(0,bo.jsxs)("div",{className:"combatant-value",children:[n[r],(0,bo.jsx)(Cw,{title:"reroll",onClick:()=>s()})]})})]})}getInitSection(){let e=null;this.props.encounterSlot.count>1&&(e=(0,bo.jsx)(zg,{label:"roll initiative once for this group",checked:this.props.slotInfo.useGroupInit,onChecked:e=>this.props.changeValue(this.props.slotInfo,"useGroupInit",e)}));const t=io.modifierValue(this.props.monster.abilityScores.dex),n=1+t,r=20+t,s=[];return this.props.slotInfo.useGroupInit?s.push((0,bo.jsx)("div",{children:this.getValueSection(n,r,this.props.slotInfo,"init",(()=>this.rollInit(null)))},"init")):this.props.slotInfo.members.forEach((e=>{s.push((0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"combatant-name",children:e.name}),this.getValueSection(n,r,e,"init",(()=>this.rollInit(e)))]},e.id))})),(0,bo.jsxs)("div",{children:[e,s]})}getHPSection(){let e=null;this.props.encounterSlot.count>1&&(e=(0,bo.jsx)(zg,{label:"use the same hp for every monster in this group",checked:this.props.slotInfo.useGroupHP,onChecked:e=>this.props.changeValue(this.props.slotInfo,"useGroupHP",e)}));const t=po.getTypicalHP(this.props.monster),n=io.modifierValue(this.props.monster.abilityScores.con)*this.props.monster.hitDice,r=this.props.monster.hitDice+n,s=this.props.monster.hitDice*io.hitDieType(this.props.monster.size)+n,a=[];return this.props.slotInfo.useGroupHP?a.push((0,bo.jsxs)("div",{children:[this.getValueSection(r,s,this.props.slotInfo,"hp",(()=>this.rollHP(null))),(0,bo.jsx)("button",{className:this.props.slotInfo.hp!==t?"":"disabled",onClick:()=>this.props.changeValue(this.props.slotInfo,"hp",t),children:"reset to average hp"})]},"hp")):this.props.slotInfo.members.forEach((e=>{a.push((0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"combatant-name",children:e.name}),this.getValueSection(r,s,e,"hp",(()=>this.rollHP(e))),(0,bo.jsx)("button",{className:e.hp!==t?"":"disabled",onClick:()=>this.props.changeValue(e,"hp",t),children:"reset to average hp"})]},e.id))})),(0,bo.jsxs)("div",{children:[e,a]})}getCountSection(){return(0,bo.jsx)("div",{children:(0,bo.jsx)(gv,{value:"count: "+this.props.encounterSlot.count,downEnabled:this.props.encounterSlot.count>1,onNudgeValue:e=>this.props.nudgeValue(this.props.encounterSlot,"count",e)})})}getNameSection(){return this.props.slotInfo.members.map((e=>(0,bo.jsx)(xo,{text:e.name,onChange:t=>this.props.changeValue(e,"name",t)},e.id)))}getFactionSection(){return(0,bo.jsx)("div",{children:(0,bo.jsx)(vv,{options:no.arrayToItems(["foe","neutral","ally"]),selectedID:this.props.encounterSlot.faction,onSelect:e=>this.props.changeValue(this.props.encounterSlot,"faction",e)})})}render(){let e=this.props.monster.name||"unnamed monster",t=null;switch(this.props.view){case"initiative":e+=" (1d20 "+io.modifier(this.props.monster.abilityScores.dex)+")",t=this.getInitSection();break;case"hit points":e+=" ("+po.getTypicalHPString(this.props.monster)+")",t=this.getHPSection();break;case"count":t=this.getCountSection();break;case"names":t=this.getNameSection();break;case"faction":t=this.getFactionSection()}return(0,bo.jsx)(cv,{children:(0,bo.jsxs)("div",{className:"combatant-setup",children:[(0,bo.jsx)("div",{className:"subheading",children:e}),t]})})}}class Uw extends A.Component{constructor(e){super(e),this.state={condition:e.condition}}setCondition(e){if(this.state.condition.name!==e){const t=this.state.condition;t.name=e,t.level=1,t.text="",this.setState({condition:t})}}setCustomText(e){const t=this.state.condition;t.text=e,this.setState({condition:t})}setDuration(e){let t=null;switch(e){case"saves":t=ro.createConditionDurationSaves();break;case"combatant":t=ro.createConditionDurationCombatant();break;case"rounds":t=ro.createConditionDurationRounds()}const n=this.state.condition;n.duration=t,this.setState({condition:n})}changeValue(e,t,n){e[t]=n,this.setState({condition:this.state.condition})}nudgeValue(e,t,n){let r=e[t]+n;"level"===t&&(r=Math.max(r,1),r=Math.min(r,6)),"count"===t&&(r=Math.max(r,1)),"saveDC"===t&&(r=Math.max(r,0)),e[t]=r,this.setState({condition:this.state.condition})}render(){try{const e=lo.map((e=>{let t=null;const n=[];if(e===this.state.condition.name&&("exhaustion"===e&&(t=(0,bo.jsx)(gv,{value:this.props.condition.level,label:"exhaustion",downEnabled:this.props.condition.level>1,upEnabled:this.props.condition.level<6,onNudgeValue:e=>this.nudgeValue(this.props.condition,"level",e)})),"custom"===e&&(t=(0,bo.jsx)(xo,{text:this.state.condition.text,placeholder:"",onChange:e=>this.setCustomText(e)})),"custom"!==this.state.condition.name)){const e=io.conditionText(this.state.condition);for(let t=0;t!==e.length;++t)n.push((0,bo.jsx)("li",{className:"section",children:e[t]},t))}const r=this.props.combatants.filter((e=>"monster"===e.type)).some((t=>!!t&&-1!==t.conditionImmunities.indexOf(e)));return{id:e,text:e,details:(0,bo.jsxs)("div",{children:[t,(0,bo.jsx)("ul",{children:n})]},e),disabled:r}})),t=[{id:"start",text:"start of turn"},{id:"end",text:"end of turn"}],n=this.props.allCombatants.filter((e=>"placeholder"!==e.type)).map((e=>{const t=e;return{id:t.id,text:ao.getCombatantName(t,this.props.allCombatants)}}));no.sort(n,[{field:"text",dir:"asc"}]);const r=[{id:"none",text:"until removed (default)",details:(0,bo.jsx)("div",{className:"section",children:(0,bo.jsx)("div",{children:"the condition persists until it is manually removed"})})},{id:"saves",text:"until a successful save",details:(0,bo.jsxs)("div",{children:[(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("div",{className:"subheading",children:"number of saves required"}),(0,bo.jsx)(gv,{value:this.props.condition.duration?this.props.condition.duration.count:"",downEnabled:!!this.props.condition.duration&&this.props.condition.duration.count>1,onNudgeValue:e=>this.nudgeValue(this.props.condition.duration,"count",e)})]}),(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("div",{className:"subheading",children:"save dc"}),(0,bo.jsx)(gv,{value:this.props.condition.duration?"dc "+this.props.condition.duration.saveDC:"",downEnabled:!!this.props.condition.duration&&this.props.condition.duration.saveDC>0,onNudgeValue:e=>this.nudgeValue(this.props.condition.duration,"saveDC",e)})]}),(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("div",{className:"subheading",children:"type of save"}),(0,bo.jsx)(vv,{options:no.arrayToItems(["str","dex","con","int","wis","cha","death"]),selectedID:this.props.condition.duration?this.props.condition.duration.saveType:null,onSelect:e=>this.changeValue(this.props.condition.duration,"saveType",e)})]}),(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("div",{className:"subheading",children:"make the save at the start or end of the turn"}),(0,bo.jsx)(vv,{options:t,selectedID:this.props.condition.duration?this.props.condition.duration.point:null,onSelect:e=>this.changeValue(this.props.condition.duration,"point",e)})]})]})},{id:"combatant",text:"until someone's next turn",details:(0,bo.jsxs)("div",{children:[(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("div",{className:"subheading",children:"start or end of the turn"}),(0,bo.jsx)(vv,{options:t,selectedID:this.props.condition.duration?this.props.condition.duration.point:null,onSelect:e=>this.changeValue(this.props.condition.duration,"point",e)})]}),(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("div",{className:"subheading",children:"combatant"}),(0,bo.jsx)(mg,{options:n,selectedID:this.props.condition.duration&&this.props.condition.duration.combatantID||void 0,onSelect:e=>this.changeValue(this.props.condition.duration,"combatantID",e)})]})]})},{id:"rounds",text:"for a number of rounds",details:(0,bo.jsx)("div",{children:(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("div",{className:"subheading",children:"number of rounds"}),(0,bo.jsx)(gv,{value:this.props.condition.duration?this.props.condition.duration.count:"",downEnabled:!!this.props.condition.duration&&this.props.condition.duration.count>1,onNudgeValue:e=>this.nudgeValue(this.props.condition.duration,"count",e)})]})})}];return(0,bo.jsxs)(Os,{className:"full-height",children:[(0,bo.jsxs)(zs,{span:12,className:"scrollable",children:[(0,bo.jsx)("div",{className:"heading",children:"condition"}),(0,bo.jsx)(jy,{items:e,selectedItemID:this.state.condition.name,onSelect:e=>this.setCondition(e)})]}),(0,bo.jsxs)(zs,{span:12,className:"scrollable",children:[(0,bo.jsx)("div",{className:"heading",children:"duration"}),(0,bo.jsx)(jy,{items:r,selectedItemID:this.state.condition.duration?this.state.condition.duration.type:"none",onSelect:e=>this.setDuration(e)})]})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"ConditionModal",error:bC})}}}class Tw extends A.Component{render(){try{if(0===this.props.data.length)return null;const e=Math.max(...this.props.data.map((e=>e.value)));let t;if(this.props.collapse)t=this.props.data.filter((e=>e.value>0));else{const e=this.props.data.find((e=>e.value>0));this.props.data.reverse();const n=this.props.data.find((e=>e.value>0));this.props.data.reverse();const r=e?this.props.data.indexOf(e):0,s=n?this.props.data.indexOf(n):this.props.data.length-1;t=this.props.data.slice(r,s+1)}const n=t.map((t=>(0,bo.jsx)("div",{className:"bar-container",children:(0,bo.jsx)("div",{className:"bar",style:{width:"calc((100% - 1px) * "+t.value+" / "+e+")"},children:(0,bo.jsxs)("div",{className:"label",children:[t.text,": ",this.props.onFormatValue(t.value)]})})},t.text)));return(0,bo.jsx)("div",{className:"plot",children:n})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"ChartPanel",error:bC})}}}Tw.defaultProps={collapse:!1,onFormatValue:e=>e.toString()};class Dw extends A.Component{constructor(e){super(e),this.state={chart:"challenge"}}selectChart(e){this.setState({chart:e})}render(){try{const e=[];if(this.props.groups.forEach((t=>t.monsters.forEach((t=>e.push(t))))),0===e.length)return null;let t=[];switch(this.state.chart){case"challenge":t=[0,.125,.25,.5,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30].map((t=>({text:"cr "+io.challenge(t),value:e.filter((e=>e.challenge===t)).length})));break;case"size":t=Ao.map((t=>({text:t,value:e.filter((e=>e.size===t)).length})));break;case"type":t=co.map((t=>({text:t,value:e.filter((e=>e.category===t)).length})));break;case"role":t=uo.map((t=>({text:t,value:e.filter((e=>e.role===t)).length})))}const n=[{id:"challenge",text:"challenge rating"},{id:"size",text:"size"},{id:"type",text:"type"},{id:"role",text:"role"}];return(0,bo.jsxs)("div",{className:"scrollable padded",children:[(0,bo.jsx)(vv,{options:n,selectedID:this.state.chart,onSelect:e=>this.selectChart(e)}),(0,bo.jsx)(Tw,{data:t})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"DemographicsModal",error:bC})}}}class Hw extends A.Component{render(){try{const e=(0,bo.jsx)(ig,{children:this.props.content});return(0,bo.jsx)("div",{className:"scrollable padded",children:e})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"MarkdownModal",error:bC})}}}class Lw extends A.Component{render(){try{const e=[];this.props.encounter.slots.forEach((t=>e.push(t))),this.props.encounter.waves.forEach((t=>{t.slots.forEach((t=>{const n=e.find((e=>e.monsterID===t.monsterID&&e.monsterThemeID===t.monsterThemeID));n?n.count+=t.count:e.push(t)}))}));const t=e.map((e=>{let t=this.props.getMonster(e.monsterID);if(t){if(e.monsterThemeID){const n=this.props.getMonster(e.monsterThemeID);n&&(t=po.applyTheme(t,n))}e.deltaCR&&(t=po.adjustCR(t,e.deltaCR));let n=t.size+" "+t.category;return t.tag&&(n+=" ("+t.tag+")"),(0,bo.jsxs)(cv,{children:[(0,bo.jsx)("div",{className:"heading",children:t.name||"unnamed monster"}),(0,bo.jsxs)("div",{className:"content-then-info",children:[(0,bo.jsxs)("div",{className:"content",children:[(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("b",{children:"type"})," ",n.toLowerCase()]}),(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("b",{children:"features"})," ",t.traits.map((e=>e.name||"unnamed feature")).sort().join(", ").toLowerCase()]})]}),(0,bo.jsx)("div",{className:"info",children:(0,bo.jsxs)("div",{className:"subheading",children:["x ",e.count]})})]})]},e.id)}return null}));return(0,bo.jsxs)("div",{className:"scrollable padded",children:[(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"use this list to help select the miniatures you'll need to run this encounter"})}),t]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"MinisChecklistModal",error:bC})}}}const Pw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};var Ow=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Pw}))};const Rw=A.forwardRef(Ow);const Vw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"};var Kw=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Vw}))};const zw=A.forwardRef(Kw);function _w(){return"function"===typeof BigInt}function Gw(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),(t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,"")).startsWith(".")&&(t="0".concat(t));var r=t||"0",s=r.split("."),a=s[0]||"0",i=s[1]||"0";"0"===a&&"0"===i&&(n=!1);var o=n?"-":"";return{negative:n,negativeStr:o,trimStr:r,integerStr:a,decimalStr:i,fullStr:"".concat(o).concat(r)}}function Ww(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function Yw(e){var t=String(e);if(Ww(e)){var n=Number(t.slice(t.indexOf("e-")+2)),r=t.match(/\.(\d+)/);return(null===r||void 0===r?void 0:r[1])&&(n+=r[1].length),n}return t.includes(".")&&Xw(t)?t.length-t.indexOf(".")-1:0}function qw(e){var t=String(e);if(Ww(e)){if(e>Number.MAX_SAFE_INTEGER)return String(_w()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(_w()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(Yw(t))}return Gw(t).fullStr}function Xw(e){return"number"===typeof e?!Number.isNaN(e):!!e&&(/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e))}function Jw(e){var t="number"===typeof e?qw(e):Gw(e).fullStr;return t.includes(".")?Gw(t.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}var Zw=function(){function e(t){Ze(this,e),this.origin="",this.number=void 0,this.empty=void 0,(t||0===t)&&String(t).trim()?(this.origin=String(t),this.number=Number(t)):this.empty=!0}return et(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=Number(t);if(Number.isNaN(n))return this;var r=this.number+n;if(r>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var s=Math.max(Yw(this.number),Yw(n));return new e(r.toFixed(s))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toNumber()===(null===e||void 0===e?void 0:e.toNumber())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this.isInvalidate()?"":qw(this.number):this.origin}}]),e}(),$w=function(){function e(t){if(Ze(this,e),this.origin="",this.negative=void 0,this.integer=void 0,this.decimal=void 0,this.decimalLen=void 0,this.empty=void 0,this.nan=void 0,(t||0===t)&&String(t).trim())if(this.origin=String(t),"-"!==t){var n=t;if(Ww(n)&&(n=Number(n)),Xw(n="string"===typeof n?n:qw(n))){var r=Gw(n);this.negative=r.negative;var s=r.trimStr.split(".");this.integer=BigInt(s[0]);var a=s[1]||"0";this.decimal=BigInt(a),this.decimalLen=a.length}else this.nan=!0}else this.nan=!0;else this.empty=!0}return et(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(e){var t="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(e,"0"));return BigInt(t)}},{key:"negate",value:function(){var t=new e(this.toString());return t.negative=!t.negative,t}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=new e(t);if(n.isInvalidate())return this;var r=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),s=Gw((this.alignDecimal(r)+n.alignDecimal(r)).toString()),a=s.negativeStr,i=s.trimStr,o="".concat(a).concat(i.padStart(r+1,"0"));return new e("".concat(o.slice(0,-r),".").concat(o.slice(-r)))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toString()===(null===e||void 0===e?void 0:e.toString())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this.isInvalidate()?"":Gw("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}();function eb(e){return _w()?new $w(e):new Zw(e)}function tb(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(""===e)return"";var s=Gw(e),a=s.negativeStr,i=s.integerStr,o=s.decimalStr,l="".concat(t).concat(o),A="".concat(a).concat(i);if(n>=0){var c=Number(o[n]);return c>=5&&!r?tb(eb(e).add("".concat(a,"0.").concat("0".repeat(n)).concat(10-c)).toString(),t,n,r):0===n?A:"".concat(A).concat(t).concat(o.padEnd(n,"0").slice(0,n))}return".0"===l?A:"".concat(A).concat(l)}function nb(e){var t=e.prefixCls,n=e.upNode,r=e.downNode,s=e.upDisabled,a=e.downDisabled,o=e.onStep,l=A.useRef(),c=A.useRef();c.current=o;var u=function(e,t){e.preventDefault(),c.current(t),l.current=setTimeout((function e(){c.current(t),l.current=setTimeout(e,200)}),600)},d=function(){clearTimeout(l.current)};if(A.useEffect((function(){return d}),[]),Yo())return null;var h="".concat(t,"-handler"),p=v()(h,"".concat(h,"-up"),i({},"".concat(h,"-up-disabled"),s)),m=v()(h,"".concat(h,"-down"),i({},"".concat(h,"-down-disabled"),a)),f={unselectable:"on",role:"button",onMouseUp:d,onMouseLeave:d};return A.createElement("div",{className:"".concat(h,"-wrap")},A.createElement("span",Pe({},f,{onMouseDown:function(e){u(e,!0)},"aria-label":"Increase Value","aria-disabled":s,className:p}),n||A.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})),A.createElement("span",Pe({},f,{onMouseDown:function(e){u(e,!1)},"aria-label":"Decrease Value","aria-disabled":a,className:m}),r||A.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})))}var rb=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","controls","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"],sb=function(e,t){return e||t.isEmpty()?t.toString():t.toNumber()},ab=function(e){var t=eb(e);return t.isInvalidate()?null:t},ib=A.forwardRef((function(e,t){var n,r=e.prefixCls,a=void 0===r?"rc-input-number":r,o=e.className,l=e.style,c=e.min,u=e.max,d=e.step,h=void 0===d?1:d,p=e.defaultValue,g=e.value,y=e.disabled,w=e.readOnly,b=e.upHandler,x=e.downHandler,B=e.keyboard,C=e.controls,k=void 0===C||C,S=e.stringMode,E=e.parser,j=e.formatter,I=e.precision,F=e.decimalSeparator,Q=e.onChange,N=e.onInput,M=e.onPressEnter,U=e.onStep,T=f(e,rb),D="".concat(a,"-input"),H=A.useRef(null),L=m(A.useState(!1),2),P=L[0],O=L[1],R=A.useRef(!1),V=A.useRef(!1),K=A.useRef(!1),z=m(A.useState((function(){return eb(null!==g&&void 0!==g?g:p)})),2),_=z[0],G=z[1];var W=A.useCallback((function(e,t){if(!t)return I>=0?I:Math.max(Yw(e),Yw(h))}),[I,h]),Y=A.useCallback((function(e){var t=String(e);if(E)return E(t);var n=t;return F&&(n=n.replace(F,".")),n.replace(/[^\w.-]+/g,"")}),[E,F]),q=A.useRef(""),X=A.useCallback((function(e,t){if(j)return j(e,{userTyping:t,input:String(q.current)});var n="number"===typeof e?qw(e):e;if(!t){var r=W(n,t);if(Xw(n)&&(F||r>=0))n=tb(n,F||".",r)}return n}),[j,W,F]),J=m(A.useState((function(){var e=null!==p&&void 0!==p?p:g;return _.isInvalidate()&&["string","number"].includes(s(e))?Number.isNaN(e)?"":e:X(_.toString(),!1)})),2),Z=J[0],$=J[1];function ee(e,t){$(X(e.isInvalidate()?e.toString(!1):e.toString(!t),t))}q.current=Z;var te=A.useMemo((function(){return ab(u)}),[u,I]),ne=A.useMemo((function(){return ab(c)}),[c,I]),re=A.useMemo((function(){return!(!te||!_||_.isInvalidate())&&te.lessEquals(_)}),[te,_]),se=A.useMemo((function(){return!(!ne||!_||_.isInvalidate())&&_.lessEquals(ne)}),[ne,_]),ae=function(e,t){var n=(0,A.useRef)(null);return[function(){try{var t=e.selectionStart,r=e.selectionEnd,s=e.value,a=s.substring(0,t),i=s.substring(r);n.current={start:t,end:r,value:s,beforeTxt:a,afterTxt:i}}catch(bC){}},function(){if(e&&n.current&&t)try{var r=e.value,s=n.current,a=s.beforeTxt,i=s.afterTxt,o=s.start,l=r.length;if(r.endsWith(i))l=r.length-n.current.afterTxt.length;else if(r.startsWith(a))l=a.length;else{var A=a[o-1],c=r.indexOf(A,o-1);-1!==c&&(l=c+1)}e.setSelectionRange(l,l)}catch(bC){le(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(bC.message))}}]}(H.current,P),ie=m(ae,2),oe=ie[0],Ae=ie[1],ce=function(e){return te&&!e.lessEquals(te)?te:ne&&!ne.lessEquals(e)?ne:null},ue=function(e){return!ce(e)},de=function(e,t){var n,r=e,s=ue(r)||r.isEmpty();if(r.isEmpty()||t||(r=ce(r)||r,s=!0),!w&&!y&&s){var a=r.toString(),i=W(a,t);return i>=0&&(r=eb(tb(a,".",i)),ue(r)||(r=eb(tb(a,".",i,!0)))),r.equals(_)||(n=r,void 0===g&&G(n),null===Q||void 0===Q||Q(r.isEmpty()?null:sb(S,r)),void 0===g&&ee(r,t)),r}return _},he=function(){var e=(0,A.useRef)(0),t=function(){En.cancel(e.current)};return(0,A.useEffect)((function(){return t}),[]),function(n){t(),e.current=En((function(){n()}))}}(),pe=function e(t){if(oe(),$(t),!V.current){var n=eb(Y(t));n.isNaN()||de(n,!0)}null===N||void 0===N||N(t),he((function(){var n=t;E||(n=t.replace(/\u3002/g,".")),n!==t&&e(n)}))},me=function(e){var t;if(!(e&&re||!e&&se)){R.current=!1;var n=eb(K.current?Jw(h):h);e||(n=n.negate());var r=(_||eb(0)).add(n.toString()),s=de(r,!1);null===U||void 0===U||U(sb(S,s),{offset:K.current?Jw(h):h,type:e?"up":"down"}),null===(t=H.current)||void 0===t||t.focus()}},fe=function(e){var t=eb(Y(Z)),n=t;n=t.isNaN()?_:de(t,e),void 0!==g?ee(_,!1):n.isNaN()||ee(n,!1)};return Ht((function(){_.isInvalidate()||ee(_,!1)}),[I]),Ht((function(){var e=eb(g);G(e);var t=eb(Y(Z));e.equals(t)&&R.current&&!j||ee(e,R.current)}),[g]),Ht((function(){j&&Ae()}),[Z]),A.createElement("div",{className:v()(a,o,(n={},i(n,"".concat(a,"-focused"),P),i(n,"".concat(a,"-disabled"),y),i(n,"".concat(a,"-readonly"),w),i(n,"".concat(a,"-not-a-number"),_.isNaN()),i(n,"".concat(a,"-out-of-range"),!_.isInvalidate()&&!ue(_)),n)),style:l,onFocus:function(){O(!0)},onBlur:function(){fe(!1),O(!1),R.current=!1},onKeyDown:function(e){var t=e.which,n=e.shiftKey;R.current=!0,K.current=!!n,t===na.ENTER&&(V.current||(R.current=!1),fe(!1),null===M||void 0===M||M(e)),!1!==B&&!V.current&&[na.UP,na.DOWN].includes(t)&&(me(na.UP===t),e.preventDefault())},onKeyUp:function(){R.current=!1,K.current=!1},onCompositionStart:function(){V.current=!0},onCompositionEnd:function(){V.current=!1,pe(H.current.value)},onBeforeInput:function(){R.current=!0}},k&&A.createElement(nb,{prefixCls:a,upNode:b,downNode:x,upDisabled:re,downDisabled:se,onStep:me}),A.createElement("div",{className:"".concat(D,"-wrap")},A.createElement("input",Pe({autoComplete:"off",role:"spinbutton","aria-valuemin":c,"aria-valuemax":u,"aria-valuenow":_.isInvalidate()?null:_.toString(),step:h},T,{ref:It(H,t),className:D,value:Z,onChange:function(e){pe(e.target.value)},disabled:y,readOnly:w}))))}));ib.displayName="InputNumber";const ob=ib;Ts("warning","error","");function lb(e,t,n){return v()(i(i(i(i(i({},"".concat(e,"-status-success"),"success"===t),"".concat(e,"-status-warning"),"warning"===t),"".concat(e,"-status-error"),"error"===t),"".concat(e,"-status-validating"),"validating"===t),"".concat(e,"-has-feedback"),n))}var Ab=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const cb=A.forwardRef((function(e,t){var n=A.useContext(jr),r=n.getPrefixCls,a=n.direction,o=A.useContext(ts),l=m(A.useState(!1),2),c=l[0],u=l[1],d=A.useRef(null);A.useImperativeHandle(t,(function(){return d.current}));var h=e.className,p=e.size,f=e.disabled,g=e.prefixCls,y=e.addonBefore,w=e.addonAfter,b=e.prefix,x=e.bordered,B=void 0===x||x,C=e.readOnly,k=e.status,S=e.controls,E=Ab(e,["className","size","disabled","prefixCls","addonBefore","addonAfter","prefix","bordered","readOnly","status","controls"]),j=r("input-number",g),I=Ri(j,a),F=I.compactSize,Q=I.compactItemClassnames,N=A.createElement(zw,{className:"".concat(j,"-handler-up-inner")}),M=A.createElement(Rw,{className:"".concat(j,"-handler-down-inner")}),U="boolean"===typeof S?S:void 0;"object"===s(S)&&(N="undefined"===typeof S.upIcon?N:A.createElement("span",{className:"".concat(j,"-handler-up-inner")},S.upIcon),M="undefined"===typeof S.downIcon?M:A.createElement("span",{className:"".concat(j,"-handler-down-inner")},S.downIcon));var T=(0,A.useContext)(Ni),D=T.hasFeedback,H=T.status,L=T.isFormItemInput,P=T.feedbackIcon,O=function(e,t){return t||e}(H,k),R=F||p||o,V=A.useContext(Zr),K=null!==f&&void 0!==f?f:V,z=v()(i(i(i(i(i({},"".concat(j,"-lg"),"large"===R),"".concat(j,"-sm"),"small"===R),"".concat(j,"-rtl"),"rtl"===a),"".concat(j,"-borderless"),!B),"".concat(j,"-in-form-item"),L),lb(j,O),Q,h),_=A.createElement(ob,Pe({ref:d,disabled:K,className:z,upHandler:N,downHandler:M,prefixCls:j,readOnly:C,controls:U},E));if(null!=b||D){var G=v()("".concat(j,"-affix-wrapper"),lb("".concat(j,"-affix-wrapper"),O,D),i(i(i(i(i(i(i(i({},"".concat(j,"-affix-wrapper-focused"),c),"".concat(j,"-affix-wrapper-disabled"),e.disabled),"".concat(j,"-affix-wrapper-sm"),"small"===o),"".concat(j,"-affix-wrapper-lg"),"large"===o),"".concat(j,"-affix-wrapper-rtl"),"rtl"===a),"".concat(j,"-affix-wrapper-readonly"),C),"".concat(j,"-affix-wrapper-borderless"),!B),"".concat(h),!(y||w)&&h));_=A.createElement("div",{className:G,style:e.style,onMouseUp:function(){return d.current.focus()}},b&&A.createElement("span",{className:"".concat(j,"-prefix")},b),sc(_,{style:null,value:e.value,onFocus:function(t){var n;u(!0),null===(n=e.onFocus)||void 0===n||n.call(e,t)},onBlur:function(t){var n;u(!1),null===(n=e.onBlur)||void 0===n||n.call(e,t)}}),D&&A.createElement("span",{className:"".concat(j,"-suffix")},P))}if(null!=y||null!=w){var W="".concat(j,"-group"),Y="".concat(W,"-addon"),q=y?A.createElement("div",{className:Y},y):null,X=w?A.createElement("div",{className:Y},w):null,J=v()("".concat(j,"-wrapper"),W,i({},"".concat(W,"-rtl"),"rtl"===a)),Z=v()("".concat(j,"-group-wrapper"),i(i(i({},"".concat(j,"-group-wrapper-sm"),"small"===o),"".concat(j,"-group-wrapper-lg"),"large"===o),"".concat(j,"-group-wrapper-rtl"),"rtl"===a),lb("".concat(j,"-group-wrapper"),O,D),h);_=A.createElement("div",{className:Z,style:e.style},A.createElement("div",{className:J},q&&A.createElement(Vi,null,A.createElement(Mi,{status:!0,override:!0},q)),sc(_,{style:null,disabled:K}),X&&A.createElement(Vi,null,A.createElement(Mi,{status:!0,override:!0},X))))}return _}));class ub extends A.Component{constructor(e){super(e),this.state={monsterData:e.monsterData,mapData:e.mapData,encounterData:e.encounterData,customPartySize:5,customPartyLevel:1}}getMonsterSection(e){const t=po.filterMonsters(this.props.library,e.cr,e.size,e.type,e.role);let n="challenge rating "+io.challenge(e.cr);return e.size&&(n+=" "+e.size),e.type&&(n+=" "+e.type),e.role&&(n+=" ("+e.role+")"),(0,bo.jsxs)("div",{children:[(0,bo.jsxs)(gg,{children:[(0,bo.jsx)(Lg,{display:t.length>=2,children:(0,bo.jsxs)("div",{className:"section",children:["a ",(0,bo.jsx)("b",{children:n})," monster will be created by splicing together ",(0,bo.jsxs)("b",{children:[t.length," existing monsters"]})]})}),(0,bo.jsx)(Lg,{display:t.length<2,children:(0,bo.jsxs)("div",{className:"section",children:["there are not enough ",(0,bo.jsx)("b",{children:n})," monsters to splice together"]})})]}),(0,bo.jsxs)(Os,{gutter:10,children:[(0,bo.jsxs)(zs,{span:6,children:[(0,bo.jsx)("div",{className:"subheading",children:"challenge rating"}),(0,bo.jsx)(gv,{value:io.challenge(e.cr),onNudgeValue:t=>{e.cr=io.nudgeChallenge(e.cr,t),this.setState({monsterData:e},(()=>{this.props.onUpdated()}))}})]}),(0,bo.jsxs)(zs,{span:6,children:[(0,bo.jsx)("div",{className:"subheading",children:"size"}),(0,bo.jsx)(zg,{label:"specify the size",checked:null!==e.size,onChecked:t=>{e.size=t?"medium":null,this.setState({monsterData:e},(()=>{this.props.onUpdated()}))}}),(0,bo.jsx)(Lg,{display:null!==e.size,children:(0,bo.jsx)(gv,{value:e.size,downEnabled:"tiny"!==e.size,upEnabled:"gargantuan"!==e.size,onNudgeValue:t=>{e.size=io.nudgeSize(e.size,t),this.setState({monsterData:e},(()=>{this.props.onUpdated()}))}})})]}),(0,bo.jsxs)(zs,{span:6,children:[(0,bo.jsx)("div",{className:"subheading",children:"type"}),(0,bo.jsx)(zg,{label:"specify the type",checked:null!==e.type,onChecked:t=>{e.type=t?"humanoid":null,this.setState({monsterData:e},(()=>{this.props.onUpdated()}))}}),(0,bo.jsx)(Lg,{display:null!==e.type,children:(0,bo.jsx)(jy,{items:co.map((e=>({id:e,text:e}))),selectedItemID:e.type,onSelect:t=>{e.type=t,this.setState({monsterData:e},(()=>{this.props.onUpdated()}))}})})]}),(0,bo.jsxs)(zs,{span:6,children:[(0,bo.jsx)("div",{className:"subheading",children:"role"}),(0,bo.jsx)(zg,{label:"specify the role",checked:null!==e.role,onChecked:t=>{e.role=t?"soldier":null,this.setState({monsterData:e},(()=>{this.props.onUpdated()}))}}),(0,bo.jsx)(Lg,{display:null!==e.role,children:(0,bo.jsx)(jy,{items:uo.map((e=>({id:e,text:e}))),selectedItemID:e.role,onSelect:t=>{e.role=t,this.setState({monsterData:e},(()=>{this.props.onUpdated()}))}})})]})]})]})}getMapSection(e){return(0,bo.jsxs)("div",{children:[(0,bo.jsx)(gg,{children:(0,bo.jsxs)("div",{className:"section",children:["the map will be created by adding tiles until there are ",(0,bo.jsxs)("b",{children:[e.areas," areas"]})]})}),(0,bo.jsx)(gv,{label:"areas",value:e.areas,downEnabled:e.areas>1,onNudgeValue:t=>{e.areas+=t,this.setState({mapData:e},(()=>{this.props.onUpdated()}))}})]})}setType(e){const t=this.state.encounterData;t.type=e,this.setState({encounterData:t},(()=>{this.props.onUpdated()}))}setXP(e){const t=this.state.encounterData;t.xp=Math.max(0,e),this.setState({encounterData:t},(()=>{this.props.onUpdated()}))}setParty(e,t,n){const r=this.state.encounterData;r.partyID=e,r.xp=this.calculateXP(r,t,n),this.setState({encounterData:r,customPartySize:t,customPartyLevel:n},(()=>{this.props.onUpdated()}))}setDifficulty(e){const t=this.state.encounterData;t.difficulty=e,t.xp=this.calculateXP(t,this.state.customPartySize,this.state.customPartyLevel),this.setState({encounterData:t},(()=>{this.props.onUpdated()}))}setTemplate(e){const t=this.state.encounterData;t.template=e,this.setState({encounterData:t},(()=>{this.props.onUpdated()}))}changeFilterValue(e,t){const n=this.state.encounterData,r=n.filter;"challenge"===e?(r.challengeMin=t[0],r.challengeMax=t[1]):r[e]=t,n.filter=r,this.setState({encounterData:n},(()=>{this.props.onUpdated()}))}resetFilter(){const e=this.state.encounterData;e.filter=ro.createMonsterFilter(),this.setState({encounterData:e},(()=>{this.props.onUpdated()}))}calculateXP(e,t,n){let r=0;if(""===e.partyID){const s=ro.createParty();for(let e=0;e!==t;++e){const e=ro.createPC();e.level=n,s.pcs.push(e)}r=ao.getXPForDifficulty(s,e.difficulty)}else{const t=this.props.parties.find((t=>t.id===e.partyID));t&&(r=ao.getXPForDifficulty(t,e.difficulty))}return r}getEncounterSection(e){const t=ao.getFilterDescription(e.filter);let n="",r=null;switch(e.type){case"party":n=e.difficulty+" difficulty",r=(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"section subheading",children:"party"}),(0,bo.jsx)(mg,{placeholder:"select party...",options:this.props.parties.map((e=>({id:e.id,text:e.name||"unnamed party"}))).concat({id:"",text:"custom party"}),selectedID:e.partyID,onSelect:e=>this.setParty(e,this.state.customPartySize,this.state.customPartyLevel),onClear:()=>this.setParty(null,this.state.customPartySize,this.state.customPartyLevel)}),(0,bo.jsxs)(Lg,{display:""===e.partyID,children:[(0,bo.jsx)(gv,{value:this.state.customPartySize,label:"party size",downEnabled:this.state.customPartySize>1,onNudgeValue:e=>this.setParty("",this.state.customPartySize+e,this.state.customPartyLevel)}),(0,bo.jsx)(gv,{value:this.state.customPartyLevel,label:"party level",downEnabled:this.state.customPartyLevel>1,upEnabled:this.state.customPartyLevel<20,onNudgeValue:e=>this.setParty("",this.state.customPartySize,this.state.customPartyLevel+e)})]}),(0,bo.jsx)("div",{className:"section subheading",children:"difficulty"}),(0,bo.jsx)(gv,{value:e.difficulty,downEnabled:"easy"!==e.difficulty,upEnabled:"deadly"!==e.difficulty,onNudgeValue:t=>this.setDifficulty(io.nudgeDifficulty(e.difficulty,t))})]});break;case"xp":n=e.xp+" xp",r=(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"section subheading",children:"xp value"}),(0,bo.jsx)(cb,{value:e.xp,min:100,step:1e3,onChange:e=>{const t=parseInt((null!==e&&void 0!==e?e:0).toString(),10);this.setXP(t)}})]})}let s=null;if(""!==e.template){const r="random"===e.template?"a random template":"the "+e.template+" template";s=(0,bo.jsxs)("div",{className:"section",children:["the encounter will be created by adding ",(0,bo.jsxs)("b",{children:["random ",t]})," to ",(0,bo.jsx)("b",{children:r})," until it reaches ",(0,bo.jsx)("b",{children:n})]})}else s=(0,bo.jsxs)("div",{className:"section",children:["the encounter will be created by adding ",(0,bo.jsxs)("b",{children:["random ",t]})," until it reaches ",(0,bo.jsx)("b",{children:n})]});return(0,bo.jsxs)("div",{children:[(0,bo.jsx)(gg,{children:s}),(0,bo.jsxs)(Os,{gutter:10,children:[(0,bo.jsxs)(zs,{span:8,children:[(0,bo.jsx)("div",{className:"section subheading",children:"method"}),(0,bo.jsx)(vv,{options:[{id:"party",text:"by difficulty"},{id:"xp",text:"by xp value"}],selectedID:e.type,onSelect:e=>this.setType(e)}),r]}),(0,bo.jsxs)(zs,{span:8,children:[(0,bo.jsx)("div",{className:"section subheading",children:"template"}),(0,bo.jsx)(zg,{label:"use an encounter template",checked:""!==e.template,onChecked:e=>this.setTemplate(e?"random":"")}),(0,bo.jsxs)(Lg,{display:""!==e.template,children:[(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"select the template you would like to use"})}),(0,bo.jsx)(jy,{items:ao.encounterTemplates(!0).map((e=>({id:e.name,text:e.name,details:(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)(Lg,{display:"random"===e.name,children:(0,bo.jsx)("div",{children:"a random template"})}),e.slots.map(((e,t)=>(0,bo.jsxs)("div",{className:"content-then-info",children:[(0,bo.jsx)("div",{className:"content",children:e.roles.join(" / ")}),(0,bo.jsxs)("div",{className:"info",children:["min ",e.count]})]},t)))]})}))),selectedItemID:e.template,onSelect:e=>this.setTemplate(e)})]})]}),(0,bo.jsxs)(zs,{span:8,children:[(0,bo.jsx)("div",{className:"section subheading",children:"monsters"}),(0,bo.jsx)(_v,{filter:e.filter,prefix:"use",showName:!1,showRoles:!1,changeValue:(e,t)=>this.changeFilterValue(e,t),resetFilter:()=>this.resetFilter()})]})]})]})}render(){try{let e=null;this.state.monsterData&&(e=this.getMonsterSection(this.state.monsterData));let t=null;this.state.encounterData&&(t=this.getEncounterSection(this.state.encounterData));let n=null;this.state.mapData&&(n=this.getMapSection(this.state.mapData));const r=!!this.state.mapData&&!!this.state.encounterData;return(0,bo.jsxs)("div",{className:"scrollable padded",children:[e,(0,bo.jsx)(Lg,{display:r,children:(0,bo.jsx)("div",{className:"heading",children:"for the map"})}),n,(0,bo.jsx)(Lg,{display:r,children:(0,bo.jsx)("div",{className:"heading",children:"for the encounters"})}),t]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"RandomGeneratorModal",error:bC})}}}class db{static getAward(e){var t;return null!==(t=db.getAwards().find((t=>t.id===e)))&&void 0!==t?t:null}static getAwards(){const e=[db.createAward("award-003","social","Peace Sells","Reconcile differences between mortal enemies"),db.createAward("award-001","social","I Speak Jive","Act as the party translator"),db.createAward("award-004","social","Well I Didn't Vote For Him","Legitimately achieve high political status"),db.createAward("award-024","social","Maybe We Can Reason With It","Defeat an enemy using only social skills"),db.createAward("award-006","social","Objection","Win a legal case"),db.createAward("award-009","social","Hey, It's Enrico Palazzo","Beat a performance check while in disguise"),db.createAward("award-035","social","Chewbacca Defense","Successfully use poor logic in a persuasion check"),db.createAward("award-060","social","Bottoms Up","Win a drinking contest"),db.createAward("award-007","social","Dobby Is Free","Team up with an NPC sidekick"),db.createAward("award-019","social","Missionary Position","Convert an NPC's religion"),db.createAward("award-041","social","Do You Hear The People Sing?","Overthrow a government"),db.createAward("award-046","social","You Got Me Monologuing","Take advantage of a talkative villain"),db.createAward("award-083","social","Sexual Tyrannosaurus","Seduce an NPC"),db.createAward("award-000","exploration","Crikey","Tame an animal"),db.createAward("award-014","exploration","Oh Yeah","Burst through a wall"),db.createAward("award-033","exploration","Safety First","Discover a trap before it discovers you"),db.createAward("award-050","exploration","Who Needs Sleep?","Go 3 days without a long rest"),db.createAward("award-076","exploration","Glutton For Punishment","Knowingly activate a trap"),db.createAward("award-101","exploration","Suck It, Boromir","Simply walk into a well-guarded place"),db.createAward("award-049","exploration","And Stay Out","Get kicked out of a public establishment"),db.createAward("award-103","exploration","African Or European?","Spend more than 30 minutes on a puzzle"),db.createAward("award-022","combat","Hippie","Deal no damage in an encounter"),db.createAward("award-042","combat","Are You Not Entertained?","Finish an encounter within 3 rounds"),db.createAward("award-043","combat","Make It Last","Finish an encounter after at least 10 rounds"),db.createAward("award-053","combat","Get Over Here","Grapple enemies 3 times in an encounter"),db.createAward("award-021","combat","Nuke It From Orbit","Deal 20 overkill damage to an enemy"),db.createAward("award-023","combat","Walking Guillotine","Decapitate 20 enemies"),db.createAward("award-037","combat","It's Super Effective","Trigger an enemy's vulnerability"),db.createAward("award-055","combat","Avengers Assemble","Have the party team up on a single enemy"),db.createAward("award-056","combat","You Merely Adopted The Dark","Hit an enemy in complete darkness"),db.createAward("award-077","combat","I've Fallen And I Can't Get Up","Remain prone for 3 rounds"),db.createAward("award-078","combat","Hadouken","Lob a flaming projectile at en enemy"),db.createAward("award-079","combat","French Tactics","Retreat from 5 battles"),db.createAward("award-081","combat","My Turn","Revive an enemy in order to kill them yourself"),db.createAward("award-093","combat","Your Mother Was A Hamster","Taunt an enemy to get their attention"),db.createAward("award-032","combat","Butterfingers","Disarm an NPC"),db.createAward("award-054","combat","Rasputin","Have 3 impairing conditions at once"),db.createAward("award-097","combat","Imperial Marksmanship","Achieve only ranged misses in an encounter"),db.createAward("award-025","murder","Finish Him","Deliver 10 coups de gr\xe2ce"),db.createAward("award-094","murder","Clever Girl","Flank and kill an unsuspecting enemy"),db.createAward("award-058","murder","This Is Sparta","Kill an enemy using falling damage"),db.createAward("award-059","murder","Ain't Got Time To Bleed","Kill 3 enemies in an encounter while at half HP"),db.createAward("award-062","murder","Sic Semper Tyrannis","Kill a beloved political figure"),db.createAward("award-063","murder","Armaments 2:9-21","Kill an enemy with a holy weapon"),db.createAward("award-064","murder","Showoff","Kill all enemies in an encounter by yourself"),db.createAward("award-065","murder","Buzzkill","Kill an annoying NPC"),db.createAward("award-066","murder","I Can Kill You With My Brain","Kill an enemy using only skill checks"),db.createAward("award-067","murder","Dracarys","Kill an enemy with an animal"),db.createAward("award-068","murder","Whose Life Is It Anyway?","Kill an enemy with an improvised weapon"),db.createAward("award-069","murder","Finesse","Kill an enemy with no overkill damage"),db.createAward("award-070","murder","Nothing Is True","Kill an enemy without being seen or heard"),db.createAward("award-071","murder","Douple Tap","Kill an undead enemy with a headshot"),db.createAward("award-072","murder","Long Live The King","Kill and replace a sovereign leader"),db.createAward("award-073","murder","Sorry About The Mess","Kill an enemy in a public place"),db.createAward("award-074","murder","Dark And Full Of Terrors","Kill an enemy in the name of a god"),db.createAward("award-075","murder","Fatality","Kill an enemy using the environment"),db.createAward("award-108","survival","Birth Of The Joker","Survive 50 points of acid damage"),db.createAward("award-109","survival","Are You God Of Hammers?","Survive 50 points of bludgeoning damage"),db.createAward("award-110","survival","Overlook Hotel","Survive 50 points of cold damage"),db.createAward("award-111","survival","I'm Very Badly Burned","Survive 50 points of fire damage"),db.createAward("award-112","survival","Is That All You Got?","Survive 50 points of force damage"),db.createAward("award-113","survival","It's Electrifying","Survive 50 points of lightning damage"),db.createAward("award-114","survival","Thriller","Survive 50 points of necrotic damage"),db.createAward("award-115","survival","I'm A Leaf On The Wind","Survive 50 points of piercing damage"),db.createAward("award-116","survival","Mithridates, He Died Old","Survive 50 points of poison damage"),db.createAward("award-117","survival","Nosebleed","Survive 50 points of psychic damage"),db.createAward("award-118","survival","So Bright I Gotta Wear Shades","Survive 50 points of radiant damage"),db.createAward("award-119","survival","Just A Flesh Wound","Survive 50 points of slashing damage"),db.createAward("award-120","survival","Loud Noises","Survive 50 points of thunder damage"),db.createAward("award-098","survival","Gonna Need A Bigger Boat","Survive an encounter with a sea monster"),db.createAward("award-099","survival","All Washed Up","Survive a shipwreck"),db.createAward("award-045","survival","It's In The Pipes","Survive being petrified"),db.createAward("award-008","survival","Stop, Drop, And Roll","Survive 3 rounds of ongoing fire damage"),db.createAward("award-002","economic","Holla Holla Get Dolla","Amass 10,000 gold pieces"),db.createAward("award-092","economic","Sticky Fingers","Steal 1,000 gold pieces"),db.createAward("award-080","economic","My Precious","Retrieve a MacGuffin"),db.createAward("award-106","economic","Bloodbath And Beyond","Open a shop"),db.createAward("award-104","economic","Nothing To See Here","Take and / or give 20 bribes"),db.createAward("award-090","economic","It Belongs In A Museum","Take an artifact from a dungeon"),db.createAward("award-052","economic","Spare No Expense","Go broke"),db.createAward("award-085","dice","Did You Break A Mirror?","Roll 2 natural 1s in a row"),db.createAward("award-086","dice","Taxi!","Roll 2 natural 1s on an advantaged roll"),db.createAward("award-087","dice","Single File Solar System","Roll 2 natural 20s in a row"),db.createAward("award-088","dice","I Am A Golden God","Roll 2 natural 20s on a disadvantaged roll"),db.createAward("award-039","dice","Never Tell Me The Odds","Succeed only because you rolled a 20"),db.createAward("award-048","dice","A Bird In The Hand","Get a worse result on a reroll"),db.createAward("award-051","dice","Who Needs Rules?","Go a full session without touching your dice"),db.createAward("award-015","paragon","For King And Country","Successfully defend a royal life"),db.createAward("award-034","paragon","Flawless Victory","The party takes 0 damage in an encounter"),db.createAward("award-044","paragon","Breaker Of Chains","Free 20 captive people"),db.createAward("award-082","paragon","All The World's A Stage","Roleplay your character exceptionally"),db.createAward("award-095","paragon","I Volunteer As Tribute","Sacrifice yourself"),db.createAward("award-096","paragon","Friendship Is Magic","Save a fellow PC"),db.createAward("award-102","paragon","It Still Only Counts As One","Kill a large enemy by yourself"),db.createAward("award-018","renegade","The Rains Of Castamere","Commit genocide"),db.createAward("award-012","renegade","I'm Gotham's Reckoning","Destroy an entire city"),db.createAward("award-084","renegade","Chaos Is A Ladder","Shift your alignment to chaotic"),db.createAward("award-100","renegade","You Either Die A Hero...","Shift your alignment to evil"),db.createAward("award-107","renegade","Sudden But Inevitable","Betray the party for your own gain"),db.createAward("award-091","renegade","99 Red Balloons","Start a war"),db.createAward("award-105","renegade","This Is Bat Country","Take drugs"),db.createAward("award-013","renegade","Homewrecker","Break up an NPC relationship"),db.createAward("award-016","oops","Did I Do That?","Cause a total party kill"),db.createAward("award-010","oops","Tubthumping","Reach 0 HP twice in a single encounter"),db.createAward("award-005","oops","Helen Keller","Become deafened and blinded simultaneously"),db.createAward("award-028","oops","He's Dead, Jim","Die for the first time"),db.createAward("award-029","oops","Fool Me Twice","Die for the second time"),db.createAward("award-030","oops","Angered The Dice Gods","Die for the third time"),db.createAward("award-026","oops","Was That Important?","Destroy an item necessary for a quest"),db.createAward("award-057","oops","I Was Elected To Lead","Ignore a crucial plot point"),db.createAward("award-047","oops","It's Not A Tumor","Get a permanent deformity"),db.createAward("award-038","oops","She Turned Me Into A Newt","Be polymorphed against your will"),db.createAward("award-040","oops","Keaton Was Keyser Soze","Fall for a red herring"),db.createAward("award-089","misc","The Cardinal Sin","Deliberately split the party"),db.createAward("award-031","misc","Karma","Experience revenge from an old enemy"),db.createAward("award-036","misc","Get On With It","Talk out of character for a full minute"),db.createAward("award-061","misc","Don't You Forget About Me","Meet with a recurring villain"),db.createAward("award-020","misc","The Black Wind Howls","Correctly predict the death of another PC")];return no.sort(e),e}static getCategories(){const e=[];return db.getAwards().filter((e=>"misc"!==e.category)).forEach((t=>{e.includes(t.category)||e.push(t.category)})),e.sort(),e.push("misc"),e}static createAward(e,t,n,r){const s=ro.createAward();return s.id=e,s.category=t,s.name=n,s.description=r,s}}const hb={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M320 480c0 49.1 19.1 95.3 53.9 130.1 34.7 34.8 81 53.9 130.1 53.9h16c49.1 0 95.3-19.1 130.1-53.9 34.8-34.7 53.9-81 53.9-130.1V184H320v296zM184 352c0 41 26.9 75.8 64 87.6-37.1-11.9-64-46.7-64-87.6zm364 382.5C665 721.8 758.4 630.2 773.8 514 758.3 630.2 665 721.7 548 734.5zM250.2 514C265.6 630.2 359 721.8 476 734.5 359 721.7 265.7 630.2 250.2 514z",fill:t}},{tag:"path",attrs:{d:"M868 160h-92v-40c0-4.4-3.6-8-8-8H256c-4.4 0-8 3.6-8 8v40h-92a44 44 0 00-44 44v148c0 81.7 60 149.6 138.2 162C265.7 630.2 359 721.7 476 734.5v105.2H280c-17.7 0-32 14.3-32 32V904c0 4.4 3.6 8 8 8h512c4.4 0 8-3.6 8-8v-32.3c0-17.7-14.3-32-32-32H548V734.5C665 721.7 758.3 630.2 773.8 514 852 501.6 912 433.7 912 352V204a44 44 0 00-44-44zM248 439.6a91.99 91.99 0 01-64-87.6V232h64v207.6zM704 480c0 49.1-19.1 95.4-53.9 130.1-34.8 34.8-81 53.9-130.1 53.9h-16c-49.1 0-95.4-19.1-130.1-53.9-34.8-34.8-53.9-81-53.9-130.1V184h384v296zm136-128c0 41-26.9 75.8-64 87.6V232h64v120z",fill:e}}]}},name:"trophy",theme:"twotone"};var pb=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:hb}))};const mb=A.forwardRef(pb);class fb extends A.Component{render(){try{return(0,bo.jsx)(cv,{children:(0,bo.jsxs)(Os,{gutter:10,align:"middle",children:[(0,bo.jsx)(zs,{span:4,children:(0,bo.jsx)(mb,{style:{fontSize:"50px"},twoToneColor:"#d4af37"})}),(0,bo.jsxs)(zs,{span:20,children:[(0,bo.jsxs)("div",{className:"content-then-info",children:[(0,bo.jsx)("div",{className:"content",children:(0,bo.jsx)("div",{className:"section subheading",children:this.props.award.name.toLowerCase()})}),(0,bo.jsx)("div",{className:"info",children:(0,bo.jsx)(Pc,{children:this.props.award.category})})]}),(0,bo.jsx)("div",{className:"section",children:this.props.award.description.toLowerCase()}),this.props.children]})]})})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"AwardPanel",error:bC})}}}class gb extends A.Component{render(){try{if(!this.props.source)return null;let e=null;switch(this.props.source.type){case"pc":e=(0,bo.jsx)(uw,{pc:this.props.source});break;case"monster":e=(0,bo.jsx)(Vg,{monster:this.props.source})}let t=null;"monster"===this.props.source.type&&(t=(0,bo.jsx)("div",{children:(0,bo.jsx)("button",{onClick:()=>vo.takeScreenshot("statblock"),children:"export statblock image"})}));let n=null;if(this.props.options.showAwards&&"pc"===this.props.source.type){const e=this.props.source.awards.map((e=>{const t=db.getAward(e);return t?(0,bo.jsx)(fb,{award:t},t.id):null}));e.length>0&&(n=(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"subheading",children:"awards"}),e]}))}return(0,bo.jsxs)("div",{className:"scrollable padded",children:[(0,bo.jsx)("div",{id:"statblock",children:e}),null!==t?(0,bo.jsx)("hr",{}):null,t,null!==n?(0,bo.jsx)("hr",{}):null,n]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"StatBlockModal",error:bC})}}}class vb extends A.Component{success(){switch(this.props.notification.type){case"condition-save":case"condition-end":{const e=this.props.notification.data;e.duration&&("saves"!==e.duration.type&&"rounds"!==e.duration.type||(e.duration.count-=1,this.props.close(this.props.notification,0===e.duration.count)))}break;case"trait-recharge":this.props.notification.data.uses=0,this.props.close(this.props.notification,!1)}}render(){try{const e=ao.getCombatantName(this.props.notification.combatant,[]);switch(this.props.notification.type){case"condition-save":{const t=this.props.notification.data,n="custom"===t.name?t.text:t.name,r=t.duration;let s=r.saveType.toString();return"death"!==s&&(s=s.toUpperCase()),(0,bo.jsxs)("div",{children:[(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("b",{children:e})," (",(0,bo.jsx)("i",{children:n}),") must make a ",s," save against dc ",r.saveDC]}),(0,bo.jsxs)(Os,{gutter:10,children:[(0,bo.jsx)(zs,{span:12,children:(0,bo.jsx)("button",{onClick:()=>this.success(),children:"success"})}),(0,bo.jsx)(zs,{span:12,children:(0,bo.jsx)("button",{onClick:()=>this.props.close(this.props.notification,!1),children:"failure"})})]})]})}case"condition-end":{const t=this.props.notification.data,n="custom"===t.name?t.text:t.name;return(0,bo.jsx)("div",{children:(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("b",{children:e})," is no longer affected by condition ",(0,bo.jsx)("b",{children:n})]})})}case"trait-recharge":{const t=this.props.notification.data;return(0,bo.jsxs)("div",{children:[(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("b",{children:e})," can attempt to recharge ",(0,bo.jsx)("b",{children:t.name})]}),(0,bo.jsx)("div",{className:"section",children:t.usage}),(0,bo.jsxs)(Os,{gutter:10,children:[(0,bo.jsx)(zs,{span:12,children:(0,bo.jsx)("button",{onClick:()=>this.success(),children:"recharge"})}),(0,bo.jsx)(zs,{span:12,children:(0,bo.jsx)("button",{onClick:()=>this.props.openSidebar(),children:"roll 1d6"})})]})]})}}}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"CombatNotificationPanel",error:bC})}}}vb.defaultProps={openSidebar:null};class yb extends A.Component{getDieTypeBox(e){const t=this.props.dice[e];return(0,bo.jsxs)("div",{className:t>0?"die-type":"die-type none",onClick:t=>this.dieTypeClicked(t,e,!t.ctrlKey),onContextMenu:t=>this.dieTypeClicked(t,e,!1),role:"button",children:[(0,bo.jsxs)("div",{className:"die-type-name",children:["d",100===e?"%":e]}),(0,bo.jsx)("div",{className:"die-type-value",children:t})]})}getConstantBox(){const e=this.props.constant;return(0,bo.jsxs)("div",{className:e>0?"die-type":"die-type none",onClick:e=>this.dieTypeClicked(e,0,!e.ctrlKey),onContextMenu:e=>this.dieTypeClicked(e,0,!1),role:"button",children:[(0,bo.jsx)("div",{className:"die-type-name",children:"+/-"}),(0,bo.jsx)("div",{className:"die-type-value",children:e})]})}dieTypeClicked(e,t,n){if(e.preventDefault(),0===t){const e=this.props.constant+(n?1:-1);this.props.setConstant(e)}else{const e=Math.max(this.props.dice[t]+(n?1:-1),0);this.props.setDie(t,e)}}render(){try{const e=this.props.dice[4]+this.props.dice[6]+this.props.dice[8]+this.props.dice[10]+this.props.dice[12]+this.props.dice[20]+this.props.dice[100];let t="";[100,20,12,10,8,6,4].forEach((e=>{0!==this.props.dice[e]&&(t&&(t+=" + "),t+=this.props.dice[e]+"d"+e)})),0!==this.props.constant&&(t&&(this.props.constant>0?t+=" + ":t+=" - "),t+=Math.abs(this.props.constant));let n=null;return n=1===e&&1===this.props.dice[20]?(0,bo.jsxs)(Os,{gutter:10,children:[(0,bo.jsx)(zs,{span:12,children:(0,bo.jsxs)("button",{onClick:()=>this.props.rollDice(t,""),children:["roll ",t]})}),(0,bo.jsx)(zs,{span:6,children:(0,bo.jsx)("button",{onClick:()=>this.props.rollDice(t+" (adv)","advantage"),children:"adv"})}),(0,bo.jsx)(zs,{span:6,children:(0,bo.jsx)("button",{onClick:()=>this.props.rollDice(t+" (dis)","disadvantage"),children:"dis"})})]}):(0,bo.jsx)("div",{children:(0,bo.jsxs)("button",{className:e>0?"":"disabled",onClick:()=>this.props.rollDice(t,""),children:["roll ",t]})}),(0,bo.jsxs)("div",{className:"die-roll-panel",children:[(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:(0,bo.jsxs)("div",{className:"die-types",children:[this.getDieTypeBox(4),this.getDieTypeBox(6),this.getDieTypeBox(8),this.getDieTypeBox(10),this.getDieTypeBox(12),this.getDieTypeBox(20),this.getDieTypeBox(100),this.getConstantBox()]})}),(0,bo.jsx)("div",{className:"icons",children:(0,bo.jsx)(Le,{className:e>0?"die-reset-button":"die-reset-button disabled",title:"reset dice",onClick:()=>this.props.resetDice()})})]}),(0,bo.jsx)("hr",{}),n]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"DieRollPanel",error:bC})}}}class wb extends A.Component{render(){try{let e=null;this.props.result.text&&(e=(0,bo.jsx)("div",{className:"section subheading",children:this.props.result.text}));const t=[];let n=0;if(this.props.result.rolls.forEach((e=>{let r="";20===e.sides&&(1===e.value&&(r="nat1"),20===e.value&&(r="nat20")),t.push((0,bo.jsxs)(Pc,{className:r,children:["d",e.sides,": ",(0,bo.jsx)("b",{children:e.value})]},e.id)),n+=e.value})),0!==this.props.result.constant){const e=this.props.result.constant>0?"+":"-";t.push((0,bo.jsxs)(Pc,{children:[e," ",(0,bo.jsx)("b",{children:Math.abs(this.props.result.constant)})]},"constant")),n+=this.props.result.constant}const r=""===this.props.result.mode?null:(0,bo.jsx)(Ye,{className:"roll-icon "+this.props.result.mode,title:this.props.result.mode});return(0,bo.jsx)(cv,{children:(0,bo.jsxs)("div",{className:"die-roll-result",children:[(0,bo.jsxs)("div",{className:"info",children:[e,(0,bo.jsxs)("div",{className:"rolls",children:[t,r]})]}),(0,bo.jsx)("div",{className:"sum",children:n})]})})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"DieRollResultPanel",error:bC})}}}wb.defaultProps={text:null};class bb extends A.Component{render(){try{const e=this.props.shortcuts.concat(this.props.tabs.map((e=>(0,bo.jsx)("div",{className:e.selected?"navigator-item selected":"navigator-item",onClick:()=>e.onSelect(),role:"button",children:e.text},e.id))));return(0,bo.jsx)("div",{className:"page-footer",children:e})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"PageFooter",error:bC})}}}bb.defaultProps={tabs:[],shortcuts:[]};const xb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M603.3 327.5l-246 178a7.95 7.95 0 000 12.9l246 178c5.3 3.8 12.7 0 12.7-6.5V643c0-10.2-4.9-19.9-13.2-25.9L457.4 512l145.4-105.2c8.3-6 13.2-15.6 13.2-25.9V334c0-6.5-7.4-10.3-12.7-6.5z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"left-circle",theme:"outlined"};var Bb=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:xb}))};const Cb=A.forwardRef(Bb);const kb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M666.7 505.5l-246-178A8 8 0 00408 334v46.9c0 10.2 4.9 19.9 13.2 25.9L566.6 512 421.2 617.2c-8.3 6-13.2 15.6-13.2 25.9V690c0 6.5 7.4 10.3 12.7 6.5l246-178c4.4-3.2 4.4-9.8 0-13z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"right-circle",theme:"outlined"};var Sb=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:kb}))};const Eb=A.forwardRef(Sb);const jb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"};var Ib=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:jb}))};const Fb=A.forwardRef(Ib);class Qb extends A.Component{render(){try{const e=this.props.breadcrumbs.map((e=>(0,bo.jsx)("div",{className:"breadcrumb",onClick:()=>e.onClick(),role:"button",children:e.text},e.id)));let t=null;return this.props.onToggleSidebar&&(t=(0,bo.jsx)(Cb,{className:"toggle",title:"show sidebar",onClick:()=>this.props.onToggleSidebar()}),this.props.sidebarVisible&&(t=(0,bo.jsx)(Eb,{className:"toggle",title:"hide sidebar",onClick:()=>this.props.onToggleSidebar()}))),this.props.onToggleSettings&&(t=(0,bo.jsx)(Fb,{className:"toggle",title:"settings",onClick:()=>this.props.onToggleSettings()})),(0,bo.jsxs)("div",{className:"page-header",children:[(0,bo.jsx)("div",{className:"app-title",children:e}),t]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"PageHeader",error:bC})}}}Qb.defaultProps={sidebarVisible:!1,onToggleSidebar:null,onToggleSettings:null};const Nb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M876.6 239.5c-.5-.9-1.2-1.8-2-2.5-5-5-13.1-5-18.1 0L684.2 409.3l-67.9-67.9L788.7 169c.8-.8 1.4-1.6 2-2.5 3.6-6.1 1.6-13.9-4.5-17.5-98.2-58-226.8-44.7-311.3 39.7-67 67-89.2 162-66.5 247.4l-293 293c-3 3-2.8 7.9.3 11l169.7 169.7c3.1 3.1 8.1 3.3 11 .3l292.9-292.9c85.5 22.8 180.5.7 247.6-66.4 84.4-84.5 97.7-213.1 39.7-311.3zM786 499.8c-58.1 58.1-145.3 69.3-214.6 33.6l-8.8 8.8-.1-.1-274 274.1-79.2-79.2 230.1-230.1s0 .1.1.1l52.8-52.8c-35.7-69.3-24.5-156.5 33.6-214.6a184.2 184.2 0 01144-53.5L537 318.9a32.05 32.05 0 000 45.3l124.5 124.5a32.05 32.05 0 0045.3 0l132.8-132.8c3.7 51.8-14.4 104.8-53.6 143.9z"}}]},name:"tool",theme:"outlined"};var Mb=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Nb}))};const Ub=A.forwardRef(Mb);const Tb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};var Db=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Tb}))};const Hb=A.forwardRef(Db);const Lb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-260 72h96v209.9L621.5 312 572 347.4V136zm220 752H232V136h280v296.9c0 3.3 1 6.6 3 9.3a15.9 15.9 0 0022.3 3.7l83.8-59.9 81.4 59.4c2.7 2 6 3.1 9.4 3.1 8.8 0 16-7.2 16-16V136h64v752z"}}]},name:"book",theme:"outlined"};var Pb=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Lb}))};const Ob=A.forwardRef(Pb),Rb="15.31.1";class Vb extends A.Component{constructor(e){super(e),this.state={view:"dojo",flag:""}}setView(e){this.setState({view:e})}setFlag(e){this.setState({flag:e})}addFlag(){const e=this.state.flag;this.setState({flag:""},(()=>{this.props.addFlag(e)}))}clearImages(){this.props.clearUnusedImages(),this.setState({view:this.state.view})}readFile(e){return e.text().then((e=>this.props.importAll(e))),!1}render(){try{let e=null;switch(this.state.view){case"dojo":e=(0,bo.jsxs)("div",{children:[(0,bo.jsxs)("div",{className:"section",children:["designed by ",(0,bo.jsx)("a",{href:"mailto:andy.aiken@live.co.uk",children:"andy aiken"})]}),(0,bo.jsxs)("div",{className:"section",children:["version ",(0,bo.jsx)("b",{children:Rb})]}),(0,bo.jsxs)("div",{className:"section",children:["if you would like to raise a bug or request a new feature, you can do so here: ",(0,bo.jsx)("a",{href:"https://github.com/andyaiken/dojo",target:"_blank",rel:"noopener noreferrer",children:"repository"})]}),(0,bo.jsxs)("div",{className:"section",children:["the roadmap for planned new features can be found here: ",(0,bo.jsx)("a",{href:"https://github.com/andyaiken/dojo/projects/8?fullscreen=true",target:"_blank",rel:"noopener noreferrer",children:"roadmap"})]})]});break;case"settings":{const t=["light","dark"].map((e=>({id:e,text:e+" theme"})));let n=0,r=0;for(let e=0;e!==window.localStorage.length;++e){const t=window.localStorage.key(e);if(t){const e=window.localStorage.getItem(t);e&&(t.startsWith("data")&&(n+=e.length),t.startsWith("image")&&(r+=e.length))}}e=(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"subheading",children:"optional features"}),(0,bo.jsx)(zg,{label:"add die roll buttons to monster stat blocks",checked:this.props.options.showMonsterDieRolls,onChecked:e=>this.props.setOption("showMonsterDieRolls",e)}),(0,bo.jsx)(zg,{label:"show party awards",checked:this.props.options.showAwards,onChecked:e=>this.props.setOption("showAwards",e)}),(0,bo.jsx)("div",{className:"subheading",children:"settings"}),(0,bo.jsx)(mg,{options:t,selectedID:this.props.options.theme,onSelect:e=>this.props.setOption("theme",e)}),(0,bo.jsx)(mg,{options:[{id:"one",text:"diagonals count as one square (5 ft)"},{id:"onepointfive",text:"diagonals count as 1\xbd squares (7.5 ft)"},{id:"two",text:"diagonals count as two squares (10 ft)"}],selectedID:this.props.options.diagonals,onSelect:e=>this.props.setOption("diagonals",e)}),(0,bo.jsx)("hr",{}),(0,bo.jsxs)(Av,{text:"feature flags",children:[(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:(0,bo.jsx)(xo,{placeholder:"add a feature flag",text:this.state.flag,onChange:e=>this.setFlag(e)})}),(0,bo.jsx)("div",{className:"icons",children:(0,bo.jsx)(Do,{title:"add",onClick:()=>this.addFlag()})})]}),(0,bo.jsx)("div",{children:this.props.options.featureFlags.map((e=>(0,bo.jsx)(cv,{children:(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:e}),(0,bo.jsx)("div",{className:"icons",children:(0,bo.jsx)(Eo,{title:"remove",onClick:()=>this.props.removeFlag(e)})})]})},"flag")))})]}),(0,bo.jsx)(Lg,{display:"dm"===this.props.user,children:(0,bo.jsxs)(Av,{text:"stored data",children:[(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsxs)(Os,{children:[(0,bo.jsx)(zs,{span:16,children:"total"}),(0,bo.jsx)(zs,{span:8,className:"right-value",children:no.toData(n+r)})]}),(0,bo.jsxs)(Os,{children:[(0,bo.jsx)(zs,{span:16,children:"data"}),(0,bo.jsx)(zs,{span:8,className:"right-value",children:no.toData(n)})]}),(0,bo.jsxs)(Os,{children:[(0,bo.jsx)(zs,{span:16,children:"images"}),(0,bo.jsx)(zs,{span:8,className:"right-value",children:no.toData(r)})]})]}),(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"the browser has a limited amount of storage space; if you run into problems, try removing any unused images"})}),(0,bo.jsx)("button",{onClick:()=>this.clearImages(),children:"remove unused images"}),(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"make a backup of your data, or move it between computers, by exporting it"})}),(0,bo.jsx)("button",{onClick:()=>this.props.exportAll(),children:"export all data"}),(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"import a backup"})}),(0,bo.jsxs)(kd.Dragger,{accept:".dojo",showUploadList:!1,beforeUpload:e=>this.readFile(e),children:[(0,bo.jsx)("p",{className:"ant-upload-drag-icon",children:(0,bo.jsx)(zc,{})}),(0,bo.jsx)("p",{className:"ant-upload-text",children:"click here, or drag a file here, to upload it"})]})]})})]})}break;case"ogl":e=(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"subheading",children:"open game license"}),(0,bo.jsx)("div",{className:"section",children:"The following text is the property of Wizards of the Coast, Inc. and is Copyright 2000 Wizards of the Coast, Inc ('Wizards'). All Rights Reserved."}),(0,bo.jsxs)("ol",{children:[(0,bo.jsxs)("li",{children:[(0,bo.jsx)("b",{children:"Definitions"}),": (a)'Contributors' means the copyright and/or trademark owners who have contributed Open Game Content; (b)'Derivative Material' means copyrighted material including derivative works and translations (including into other computer languages), potation, modification, correction, addition, extension, upgrade, improvement, compilation, abridgment or other form in which an existing work may be recast, transformed or adapted; (c) 'Distribute' means to reproduce, license, rent, lease, sell, broadcast, publicly display, transmit or otherwise distribute; (d)'Open Game Content' means the game mechanic and includes the methods, procedures, processes and routines to the extent such content does not embody the Product Identity and is an enhancement over the prior art and any additional content clearly identified as Open Game Content by the Contributor, and means any work covered by this License, including translations and derivative works under copyright law, but specifically excludes Product Identity. (e) 'Product Identity' means product and product line names, logos and identifying marks including trade dress; artifacts; creatures characters; stories, storylines, plots, thematic elements, dialogue, incidents, language, artwork, symbols, designs, depictions, likenesses, formats, poses, concepts, themes and graphic, photographic and other visual or audio representations; names and descriptions of characters, spells, enchantments, personalities, teams, personas, likenesses and special abilities; places, locations, environments, creatures, equipment, magical or supernatural abilities or effects, logos, symbols, or graphic designs; and any other trademark or registered trademark clearly identified as Product identity by the owner of the Product Identity, and which specifically excludes the Open Game Content; (f) 'Trademark' means the logos, names, mark, sign, motto, designs that are used by a Contributor to identify itself or its products or the associated products contributed to the Open Game License by the Contributor (g) 'Use', 'Used' or 'Using' means to use, Distribute, copy, edit, format, modify, translate and otherwise create Derivative Material of Open Game Content. (h) 'You' or 'Your' means the licensee in terms of this agreement."]}),(0,bo.jsxs)("li",{children:[(0,bo.jsx)("b",{children:"The License"}),": This License applies to any Open Game Content that contains a notice indicating that the Open Game Content may only be Used under and in terms of this License. You must affix such a notice to any Open Game Content that you Use. No terms may be added to or subtracted from this License except as described by the License itself. No other terms or conditions may be applied to any Open Game Content distributed using this License."]}),(0,bo.jsxs)("li",{children:[(0,bo.jsx)("b",{children:"Offer and Acceptance"}),": By Using the Open Game Content You indicate Your acceptance of the terms of this License."]}),(0,bo.jsxs)("li",{children:[(0,bo.jsx)("b",{children:"Grant and Consideration"}),": In consideration for agreeing to use this License, the Contributors grant You a perpetual, worldwide, royalty-free, non-exclusive license with the exact terms of this License to Use, the Open Game Content."]}),(0,bo.jsxs)("li",{children:[(0,bo.jsx)("b",{children:"Representation of Authority to Contribute"}),": If You are contributing original material as Open Game Content, You represent that Your Contributions are Your original creation and/or You have sufficient rights to grant the rights conveyed by this License."]}),(0,bo.jsxs)("li",{children:[(0,bo.jsx)("b",{children:"Notice of License Copyright"}),": You must update the COPYRIGHT NOTICE portion of this License to include the exact text of the COPYRIGHT NOTICE of any Open Game Content You are copying, modifying or distributing, and You must add the title, the copyright date, and the copyright holder's name to the COPYRIGHT NOTICE of any original Open Game Content you Distribute."]}),(0,bo.jsxs)("li",{children:[(0,bo.jsx)("b",{children:"Use of Product Identity"}),": You agree not to Use any Product Identity, including as an indication as to compatibility, except as expressly licensed in another, independent Agreement with the owner of each element of that Product Identity. You agree not to indicate compatibility or co-adaptability with any Trademark or Registered Trademark in conjunction with a work containing Open Game Content except as expressly licensed in another, independent Agreement with the owner of such Trademark or Registered Trademark. The use of any Product Identity in Open Game Content does not constitute a challenge to the ownership of that Product Identity. The owner of any Product Identity used in Open Game Content shall retain all rights, title and interest in and to that Product Identity."]}),(0,bo.jsxs)("li",{children:[(0,bo.jsx)("b",{children:"Identification"}),": If you distribute Open Game Content You must clearly indicate which portions of the work that you are distributing are Open Game Content."]}),(0,bo.jsxs)("li",{children:[(0,bo.jsx)("b",{children:"Updating the License"}),": Wizards or its designated Agents may publish updated versions of this License. You may use any authorized version of this License to copy, modify and distribute any Open Game Content originally distributed under any version of this License."]}),(0,bo.jsxs)("li",{children:[(0,bo.jsx)("b",{children:"Copy of this License"}),": You MUST include a copy of this License with every copy of the Open Game Content You Distribute."]}),(0,bo.jsxs)("li",{children:[(0,bo.jsx)("b",{children:"Use of Contributor Credits"}),": You may not market or advertise the Open Game Content using the name of any Contributor unless You have written permission from the Contributor to do so."]}),(0,bo.jsxs)("li",{children:[(0,bo.jsx)("b",{children:"Inability to Comply"}),": If it is impossible for You to comply with any of the terms of this License with respect to some or all of the Open Game Content due to statute, judicial order, or governmental regulation then You may not Use any Open Game Material so affected."]}),(0,bo.jsxs)("li",{children:[(0,bo.jsx)("b",{children:"Termination"}),": This License will terminate automatically if You fail to comply with all terms herein and fail to cure such breach within 30 days of becoming aware of the breach. All sublicenses shall survive the termination of this License."]}),(0,bo.jsxs)("li",{children:[(0,bo.jsx)("b",{children:"Reformation"}),": If any provision of this License is held to be unenforceable, such provision shall be reformed only to the extent necessary to make it enforceable."]}),(0,bo.jsxs)("li",{children:[(0,bo.jsx)("b",{children:"COPYRIGHT NOTICE"})," Open Game License v 1.0 Copyright 2000, Wizards of the Coast, Inc."]})]})]})}return(0,bo.jsxs)("div",{className:"sidebar-container",children:[(0,bo.jsxs)("div",{className:"sidebar-header",children:[(0,bo.jsx)("div",{className:"heading",children:"about"}),(0,bo.jsx)(vv,{options:no.arrayToItems(["dojo","settings","ogl"]),selectedID:this.state.view,onSelect:e=>this.setView(e)})]}),(0,bo.jsx)("div",{className:"sidebar-content",children:e})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"AboutSidebar",error:bC})}}}var Kb=n(5491),zb=n.n(Kb),_b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},Gb=(Ts("small","default","large"),null);var Wb=function(e){var t=e.spinPrefixCls,n=e.spinning,r=void 0===n||n,s=e.delay,a=e.className,o=e.size,l=void 0===o?"default":o,c=e.tip,u=e.wrapperClassName,d=e.style,h=e.children,p=_b(e,["spinPrefixCls","spinning","delay","className","size","tip","wrapperClassName","style","children"]),f=A.useState((function(){return r&&!function(e,t){return!!e&&!!t&&!isNaN(Number(t))}(r,s)})),g=m(f,2),y=g[0],w=g[1];A.useEffect((function(){var e=zb()((function(){w(r)}),s);return e(),function(){var t;null===(t=null===e||void 0===e?void 0:e.cancel)||void 0===t||t.call(e)}}),[s,r]);var b=function(n){var r=n.direction,s=v()(t,i(i(i(i(i({},"".concat(t,"-sm"),"small"===l),"".concat(t,"-lg"),"large"===l),"".concat(t,"-spinning"),y),"".concat(t,"-show-text"),!!c),"".concat(t,"-rtl"),"rtl"===r),a),o=Cc(p,["indicator","prefixCls"]),m=A.createElement("div",Pe({},o,{style:d,className:s,"aria-live":"polite","aria-busy":y}),function(e,t){var n=t.indicator,r="".concat(e,"-dot");return null===n?null:nc(n)?sc(n,{className:v()(n.props.className,r)}):nc(Gb)?sc(Gb,{className:v()(Gb.props.className,r)}):A.createElement("span",{className:v()(r,"".concat(e,"-dot-spin"))},A.createElement("i",{className:"".concat(e,"-dot-item")}),A.createElement("i",{className:"".concat(e,"-dot-item")}),A.createElement("i",{className:"".concat(e,"-dot-item")}),A.createElement("i",{className:"".concat(e,"-dot-item")}))}(t,e),c?A.createElement("div",{className:"".concat(t,"-text")},c):null);if("undefined"!==typeof h){var f=v()("".concat(t,"-container"),i({},"".concat(t,"-blur"),y));return A.createElement("div",Pe({},o,{className:v()("".concat(t,"-nested-loading"),u)}),y&&A.createElement("div",{key:"loading"},m),A.createElement("div",{className:f,key:"container"},h))}return m};return A.createElement(Ir,null,b)},Yb=function(e){var t=e.prefixCls,n=(0,A.useContext(jr).getPrefixCls)("spin",t),r=Pe(Pe({},e),{spinPrefixCls:n});return A.createElement(Wb,Pe({},r))};Yb.setDefaultIndicator=function(e){Gb=e};const qb=Yb;class Xb extends A.Component{render(){try{let e=null;switch(this.props.view){case"skills":e=(0,bo.jsx)(Jb,{filename:"/dojo/data/skills.md"},"skills");break;case"conditions":e=(0,bo.jsx)(Jb,{filename:"/dojo/data/conditions.md"},"conditions");break;case"actions":e=(0,bo.jsx)(Jb,{filename:"/dojo/data/actions.md"},"actions")}return(0,bo.jsxs)("div",{className:"sidebar-container",children:[(0,bo.jsxs)("div",{className:"sidebar-header",children:[(0,bo.jsx)("div",{className:"heading",children:"reference"}),(0,bo.jsx)(vv,{options:no.arrayToItems(["skills","conditions","actions"]),selectedID:this.props.view,onSelect:e=>this.props.setView(e)})]}),(0,bo.jsx)("div",{className:"sidebar-content",children:e})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"ReferenceSidebar",error:bC})}}}class Jb extends A.Component{constructor(e){super(e),this.state={source:null}}componentDidMount(){this.state.source||this.fetchData()}async fetchData(){const e=await fetch(this.props.filename),t=await e.text();this.setState({source:t})}render(){try{return(0,bo.jsx)(qb,{spinning:null===this.state.source,indicator:(0,bo.jsx)(Sr,{style:{fontSize:20,marginTop:100}}),children:(0,bo.jsx)(ig,{children:this.state.source||""})})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"MarkdownReference",error:bC})}}}class Zb extends A.Component{constructor(e){super(e),this.state={text:""}}setSearchTerm(e){this.setState({text:e})}render(){try{const e=[];return this.state.text.length>2&&(this.props.parties.filter((e=>so.matchParty(this.state.text,e))).forEach((t=>{const n=[];t.pcs.filter((e=>so.matchPC(this.state.text,e))).forEach((e=>{const t=[];e.companions.filter((e=>so.matchCompanion(this.state.text,e))).forEach((e=>{t.push((0,bo.jsx)(cv,{children:(0,bo.jsx)("div",{className:"section",children:e.name})},e.id))})),n.push((0,bo.jsxs)(cv,{children:[(0,bo.jsx)("div",{className:"section",children:e.name}),(0,bo.jsx)("div",{children:t})]},e.id))})),e.push((0,bo.jsxs)(cv,{onClick:()=>this.props.openParty(t.id),children:[(0,bo.jsx)("div",{className:"section",children:t.name}),(0,bo.jsx)("div",{children:n})]},t.id))})),this.props.library.filter((e=>so.matchGroup(this.state.text,e))).forEach((t=>{const n=[];t.monsters.filter((e=>so.matchMonster(this.state.text,e))).forEach((e=>{const t=[];e.traits.filter((e=>so.matchTrait(this.state.text,e))).forEach((e=>{t.push((0,bo.jsx)(cv,{children:(0,bo.jsx)("div",{className:"section",children:e.name})},e.id))})),n.push((0,bo.jsxs)(cv,{children:[(0,bo.jsx)("div",{className:"section",children:e.name}),(0,bo.jsx)("div",{children:t})]},e.id))})),e.push((0,bo.jsxs)(cv,{onClick:()=>this.props.openGroup(t.id),children:[(0,bo.jsx)("div",{className:"section",children:t.name}),(0,bo.jsx)("div",{children:n})]},t.id))})),this.props.encounters.filter((e=>so.matchEncounter(this.state.text,e,(e=>this.props.getMonster(e))))).forEach((t=>{const n=[];t.slots.filter((e=>so.matchEncounterSlot(this.state.text,e,(e=>this.props.getMonster(e))))).forEach((e=>{const t=this.props.getMonster(e.monsterID);n.push((0,bo.jsx)(cv,{children:(0,bo.jsx)("div",{className:"section",children:t?t.name:"monster"})},e.id))}));const r=[];t.waves.filter((e=>so.matchEncounterWave(this.state.text,e,(e=>this.props.getMonster(e))))).forEach((e=>{const t=[];e.slots.filter((e=>so.matchEncounterSlot(this.state.text,e,(e=>this.props.getMonster(e))))).forEach((e=>{const n=this.props.getMonster(e.monsterID);t.push((0,bo.jsx)(cv,{children:(0,bo.jsx)("div",{className:"section",children:n?n.name:"monster"})},e.id))})),r.push((0,bo.jsxs)(cv,{children:[(0,bo.jsx)("div",{className:"section",children:e.name}),(0,bo.jsx)("div",{children:t})]},e.id))})),e.push((0,bo.jsxs)(cv,{onClick:()=>this.props.openEncounter(t.id),children:[(0,bo.jsx)("div",{className:"section",children:t.name}),(0,bo.jsx)("div",{children:n}),(0,bo.jsx)("div",{children:r})]},t.id))})),this.props.maps.filter((e=>so.matchMap(this.state.text,e))).forEach((t=>{const n=[];t.areas.filter((e=>so.matchMapArea(this.state.text,e))).forEach((e=>{n.push((0,bo.jsx)(cv,{children:(0,bo.jsx)("div",{className:"section",children:e.name})},e.id))})),e.push((0,bo.jsxs)(cv,{onClick:()=>this.props.openMap(t.id),children:[(0,bo.jsx)("div",{className:"section",children:t.name}),(0,bo.jsx)("div",{children:n})]},t.id))})),this.props.adventures.filter((e=>so.matchAdventure(this.state.text,e))).forEach((t=>{const n=[];t.plot.scenes.filter((e=>so.matchScene(this.state.text,e))).forEach((e=>{n.push((0,bo.jsx)(cv,{children:(0,bo.jsx)("div",{className:"section",children:e.name})},e.id))})),e.push((0,bo.jsxs)(cv,{onClick:()=>this.props.openAdventure(t.id),children:[(0,bo.jsx)("div",{className:"section",children:t.name}),(0,bo.jsx)("div",{children:n})]},t.id))})),0===e.length&&e.push((0,bo.jsx)(gg,{children:"nothing found"},"empty"))),(0,bo.jsxs)("div",{className:"sidebar-container",children:[(0,bo.jsxs)("div",{className:"sidebar-header",children:[(0,bo.jsx)("div",{className:"heading",children:"search"}),(0,bo.jsx)(xo,{text:this.state.text,placeholder:"enter your search term here",minLength:3,onChange:e=>this.setSearchTerm(e)})]}),(0,bo.jsx)("div",{className:"sidebar-content",children:e})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"SearchSidebar",error:bC})}}}class $b{static getTarotDeck(){return[].concat($b.getTarotMinorArcana()).concat($b.getTarotMajorArcana())}static getTarotMajorArcana(){return[this.createMajorArcana(0,"the fool","innocence, new beginnings, free spirit","recklessness, taken advantage of, inconsideration"),this.createMajorArcana(1,"the magician","willpower, desire, creation, manifestation","trickery, illusions, out of touch"),this.createMajorArcana(2,"the high priestess","intuitive, unconscious, inner voice","lack of center, lost inner voice, repressed feelings"),this.createMajorArcana(3,"the empress","motherhood, fertility, nature","dependence, smothering, emptiness, nosiness"),this.createMajorArcana(4,"the emperor","authority, structure, control, fatherhood","tyranny, rigidity, coldness"),this.createMajorArcana(5,"the hierophant","tradition, conformity, morality, ethics","rebellion, subversiveness, new approaches"),this.createMajorArcana(6,"the lovers","partnerships, duality, union","loss of balance, one-sidedness, disharmony"),this.createMajorArcana(7,"the chariot","direction, control, willpower","lack of control, lack of direction, aggression"),this.createMajorArcana(8,"justice","cause and effect, clarity, truth","dishonesty, unaccountability, unfairness"),this.createMajorArcana(9,"the hermit","contemplation, search for truth, inner guidance","loneliness, isolation, lost your way"),this.createMajorArcana(10,"the wheel of fortune","change, cycles, inevitable fate","no control, clinging to control, bad luck"),this.createMajorArcana(11,"strength","inner strength, bravery, compassion, focus","self doubt, weakness, insecurity"),this.createMajorArcana(12,"the hanged man","sacrifice, release, martyrdom","stalling, needless sacrifice, fear of sacrifice"),this.createMajorArcana(13,"death","end of cycle, beginnings, change, metamorphosis","fear of change, holding on, stagnation, decay"),this.createMajorArcana(14,"temperance","middle path, patience, finding meaning","extremes, excess, lack of balance"),this.createMajorArcana(15,"the devil","addiction, materialism, playfulness","freedom, release, restoring control"),this.createMajorArcana(16,"the tower","sudden upheaval, broken pride, disaster","disaster avoided, delayed disaster, fear of suffering"),this.createMajorArcana(17,"the star","hope, faith, rejuvenation","faithlessness, discouragement, insecurity"),this.createMajorArcana(18,"the moon","unconscious, illusions, intuition","confusion, fear, misinterpretation"),this.createMajorArcana(19,"the sun","joy, success, celebration, positivity","negativity, depression, sadness"),this.createMajorArcana(20,"judgement","reflection, reckoning, awakening","lack of self awareness, doubt, self loathing"),this.createMajorArcana(21,"the world","fulfillment, harmony, completion","incompletion, no closure")]}static getTarotMinorArcana(){return[this.createMinorArcana("ace","swords","breakthrough, clarity, sharp mind","confusion, brutality, chaos"),this.createMinorArcana(2,"swords","difficult choices, indecision, stalemate","lesser of two evils, no right choice, confusion"),this.createMinorArcana(3,"swords","heartbreak, suffering, grief","recovery, forgiveness, moving on"),this.createMinorArcana(4,"swords","rest, restoration, contemplation","restlessness, burnout, stress"),this.createMinorArcana(5,"swords","unbridled ambition, win at all costs, sneakiness","lingering resentment, desire to reconcile, forgiveness"),this.createMinorArcana(6,"swords","transition, leaving behind, moving on","emotional baggage, unresolved issues, resisting transition"),this.createMinorArcana(7,"swords","deception, trickery, tactics and strategy","coming clean, rethinking approach, deception"),this.createMinorArcana(8,"swords","imprisonment, entrapment, self-victimization","self acceptance, new perspective, freedom"),this.createMinorArcana(9,"swords","anxiety, hopelessness, trauma","hope, reaching out, despair"),this.createMinorArcana(10,"swords","failure, collapse, defeat","can't get worse, only upwards, inevitable end"),this.createMinorArcana("page","swords","curiosity, restlessness, mental energy","deception, manipulation, all talk"),this.createMinorArcana("knight","swords","action, impulsiveness, defending beliefs","no direction, disregard for consequences, unpredictability"),this.createMinorArcana("queen","swords","complexity, perceptiveness, clear mindedness","cold hearted, cruel, bitterness"),this.createMinorArcana("king","swords","head over heart, discipline, truth","manipulative, cruel, weakness"),this.createMinorArcana("ace","wands","creation, willpower, inspiration, desire","lack of energy, lack of passion, boredom"),this.createMinorArcana(2,"wands","planning, making decisions, leaving home","fear of change, playing safe, bad planning"),this.createMinorArcana(3,"wands","looking ahead, expansion, rapid growth","obstacles, delays, frustration"),this.createMinorArcana(4,"wands","community, home, celebration","lack of support, transience, home conflicts"),this.createMinorArcana(5,"wands","competition, rivalry, conflict","avoiding conflict, respecting differences"),this.createMinorArcana(6,"wands","victory, success, public reward","excess pride, lack of recognition, punishment"),this.createMinorArcana(7,"wands","perseverance, defensive, maintaining control","give up, destroyed confidence, overwhelmed"),this.createMinorArcana(8,"wands","rapid action, movement, quick decisions","panic, waiting, slowdown"),this.createMinorArcana(9,"wands","resilience, grit, last stand","exhaustion, fatigue, questioning motivations"),this.createMinorArcana(10,"wands","accomplishment, responsibility, burden","inability to delegate, overstressed, burnt out"),this.createMinorArcana("page","wands","exploration, excitement, freedom","lack of direction, procrastination, creating conflict"),this.createMinorArcana("knight","wands","action, adventure, fearlessness","anger, impulsiveness, recklessness"),this.createMinorArcana("queen","wands","courage, determination, joy","selfishness, jealousy, insecurities"),this.createMinorArcana("king","wands","big picture, leader, overcoming challenges","impulsive, overbearing, unachievable expectations"),this.createMinorArcana("ace","cups","new feelings, spirituality, intuition","emotional loss, blocked creativity, emptiness"),this.createMinorArcana(2,"cups","unity, partnership, connection","imbalance, broken communication, tension"),this.createMinorArcana(3,"cups","friendship, community, happiness","overindulgence, gossip, isolation"),this.createMinorArcana(4,"cups","apathy, contemplation, disconnectedness","sudden awareness, choosing happiness, acceptance"),this.createMinorArcana(5,"cups","loss, grief, self-pity","acceptance, moving on, finding peace"),this.createMinorArcana(6,"cups","familiarity, happy memories, healing","moving forward, leaving home, independence"),this.createMinorArcana(7,"cups","searching for purpose, choices, daydreaming","lack of purpose, diversion, confusion"),this.createMinorArcana(8,"cups","walking away, disillusionment, leaving behind","avoidance, fear of change, fear of loss"),this.createMinorArcana(9,"cups","satisfaction, emotional stability, luxury","lack of inner joy, smugness, dissatisfaction"),this.createMinorArcana(10,"cups","inner happiness, fulfillment, dreams coming true","shattered dreams, broken family, domestic disharmony"),this.createMinorArcana("page","cups","happy surprise, dreamer, sensitivity","emotional immaturity, insecurity, disappointment"),this.createMinorArcana("knight","cups","following the heart, idealist, romantic","moodiness, disappointment"),this.createMinorArcana("queen","cups","compassion, calm, comfort","martyrdom, insecurity, dependence"),this.createMinorArcana("king","cups","compassion, control, balance","coldness, moodiness, bad advice"),this.createMinorArcana("ace","pentacles","opportunity, prosperity, new venture","lost opportunity, missed chance, bad investment"),this.createMinorArcana(2,"pentacles","balancing decisions, priorities, adapting to change","loss of balance, disorganized, overwhelmed"),this.createMinorArcana(3,"pentacles","teamwork, collaboration, building","lack of teamwork, disorganized, group conflict"),this.createMinorArcana(4,"pentacles","conservation, frugality, security","greediness, stinginess, possessiveness"),this.createMinorArcana(5,"pentacles","need, poverty, insecurity","recovery, charity, improvement"),this.createMinorArcana(6,"pentacles","charity, generosity, sharing","strings attached, stinginess, power and domination"),this.createMinorArcana(7,"pentacles","hard work, perseverance, diligence","work without results, distractions, lack of rewards"),this.createMinorArcana(8,"pentacles","apprenticeship, passion, high standards","lack of passion, uninspired, no motivation"),this.createMinorArcana(9,"pentacles","fruits of labor, rewards, luxury","reckless spending, living beyond means, false success"),this.createMinorArcana(10,"pentacles","legacy, culmination, inheritance","fleeting success, lack of stability, lack of resources"),this.createMinorArcana("page","pentacles","ambition, desire, diligence","lack of commitment, greediness, laziness"),this.createMinorArcana("knight","pentacles","efficiency, hard work, responsibility","laziness, obsessiveness, work without reward"),this.createMinorArcana("queen","pentacles","practicality, creature comforts, financial security","self-centeredness, jealousy, smothering"),this.createMinorArcana("king","pentacles","abundance, prosperity, security","greed, indulgence, sensuality")]}static createMinorArcana(e,t,n,r){return{id:no.guid(),value:e,name:e+" of "+t,data:{upright:n,reversed:r}}}static createMajorArcana(e,t,n,r){return{id:no.guid(),value:e,name:t,data:{upright:n,reversed:r}}}static getStandardDeck(){const e=[];return["hearts","diamonds","spades","clubs"].forEach((t=>{let n=0;switch(t){case"hearts":n=9829;break;case"diamonds":n=9830;break;case"spades":n=9824;break;case"clubs":n=9827}["ace",2,3,4,5,6,7,8,9,10,"jack","queen","king"].forEach((r=>{e.push($b.createCard(r,t,n))}))})),e}static getStandardDeckWithJokers(){const e=$b.getStandardDeck();return e.push($b.createJoker()),e.push($b.createJoker()),e}static createCard(e,t,n){return{id:no.guid(),value:e,name:e+" of "+t,data:n}}static createJoker(){return{id:no.guid(),value:"",name:"joker",data:null}}static getDeckOfManyThings(){return[$b.createManyThingsCard("vizier"),$b.createManyThingsCard("sun"),$b.createManyThingsCard("moon"),$b.createManyThingsCard("star"),$b.createManyThingsCard("comet"),$b.createManyThingsCard("the fates"),$b.createManyThingsCard("throne"),$b.createManyThingsCard("key"),$b.createManyThingsCard("knight"),$b.createManyThingsCard("gem"),$b.createManyThingsCard("talons"),$b.createManyThingsCard("the void"),$b.createManyThingsCard("flames"),$b.createManyThingsCard("skull"),$b.createManyThingsCard("idiot"),$b.createManyThingsCard("donjon"),$b.createManyThingsCard("ruin"),$b.createManyThingsCard("euryale"),$b.createManyThingsCard("rogue"),$b.createManyThingsCard("balance"),$b.createManyThingsCard("fool"),$b.createManyThingsCard("jester")]}static getDeckOfManyThingsSmall(){return[$b.createManyThingsCard("sun"),$b.createManyThingsCard("moon"),$b.createManyThingsCard("star"),$b.createManyThingsCard("throne"),$b.createManyThingsCard("key"),$b.createManyThingsCard("knight"),$b.createManyThingsCard("the void"),$b.createManyThingsCard("flames"),$b.createManyThingsCard("skull"),$b.createManyThingsCard("ruin"),$b.createManyThingsCard("euryale"),$b.createManyThingsCard("rogue"),$b.createManyThingsCard("jester")]}static createManyThingsCard(e){return{id:no.guid(),value:"",name:e,data:9763}}}class ex extends A.Component{constructor(e){super(e),this.state={flipped:!1}}flip(){this.setState({flipped:!this.state.flipped})}render(){try{let e="",t="",n="";return this.props.card.data&&("number"===typeof this.props.card.data?(e=String.fromCharCode(this.props.card.data),t="suit",n=String.fromCharCode(this.props.card.data)):(e=this.props.reversed?this.props.card.data.reversed:this.props.card.data.upright,n=this.props.reversed?"(reversed)":"")),(0,bo.jsx)("div",{className:this.state.flipped?"playing-card flipped":"playing-card",onClick:()=>this.flip(),role:"button",children:(0,bo.jsxs)("div",{className:"playing-card-inner",children:[(0,bo.jsx)("div",{className:"playing-card-front",children:"?"}),(0,bo.jsxs)("div",{className:"playing-card-back",children:[(0,bo.jsx)("div",{className:"playing-card-name",children:(0,bo.jsx)("div",{children:this.props.card.name})}),(0,bo.jsx)("div",{className:"playing-card-data scrollable "+t,children:(0,bo.jsx)("div",{children:e})}),(0,bo.jsxs)("div",{className:"playing-card-footer",children:[(0,bo.jsx)("div",{children:n}),(0,bo.jsx)("div",{children:(0,bo.jsx)("b",{children:"number"===typeof this.props.card.value?this.props.card.value:""})})]})]})]})})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"PlayingCardPanel",error:bC})}}}class tx extends A.Component{constructor(e){super(e),this.state={externalWindow:null,containerElement:null}}componentDidMount(){const e=window.open("","","width=800, height=500, left=200, top=200");let t=null;if(e){t=e.document.createElement("div"),t.className="dojo popout",e.document.body.appendChild(t);Array.from(document.styleSheets).forEach((t=>{const n=t;if(t.href){const n=document.createElement("link");n.rel="stylesheet",n.href=t.href,e.document.head.appendChild(n)}else if(n&&n.cssRules&&n.cssRules.length>0){const t=document.createElement("style");Array.from(n.cssRules).forEach((e=>{t.appendChild(document.createTextNode(e.cssText))})),e.document.head.appendChild(t)}})),e.document.title=this.props.title,e.addEventListener("beforeunload",(()=>{this.props.onCloseWindow()}))}this.setState({externalWindow:e,containerElement:t})}componentWillUnmount(){this.state.externalWindow&&this.state.externalWindow.close()}render(){try{return this.state.containerElement?dt.createPortal(this.props.children,this.state.containerElement):null}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"Popout",error:bC})}}}class nx extends A.Component{render(){try{const e=[{id:"die",text:"die roller"},{id:"handout",text:"handout"},{id:"language",text:"language"},{id:"oracle",text:"oracle"}];let t=null;switch(this.props.view){case"die":t=(0,bo.jsx)(rx,{dice:this.props.dice,constant:this.props.constant,dieRolls:this.props.dieRolls,setDie:(e,t)=>this.props.setDie(e,t),setConstant:e=>this.props.setConstant(e),rollDice:(e,t)=>this.props.rollDice(e,t),resetDice:()=>this.props.resetDice()});break;case"handout":t=(0,bo.jsx)(ix,{handout:this.props.handout,setHandout:e=>this.props.setHandout(e)});break;case"language":t=(0,bo.jsx)(sx,{mode:this.props.languageMode,setMode:e=>this.props.setLanguageMode(e),selectedLanguagePreset:this.props.selectedLanguagePreset,selectedLanguages:this.props.selectedLanguages,output:this.props.languageOutput,selectLanguagePreset:e=>this.props.selectLanguagePreset(e),addLanguage:e=>this.props.addLanguage(e),removeLanguage:e=>this.props.removeLanguage(e),clearLanguages:()=>this.props.clearLanguages(),selectRandomLanguages:()=>this.props.selectRandomLanguages(),generateLanguage:()=>this.props.generateLanguage()});break;case"oracle":t=(0,bo.jsx)(ox,{draws:this.props.draws,drawCards:(e,t)=>this.props.drawCards(e,t),resetDraw:()=>this.props.resetDraw()})}return(0,bo.jsxs)("div",{className:"sidebar-container",children:[(0,bo.jsxs)("div",{className:"sidebar-header",children:[(0,bo.jsx)("div",{className:"heading",children:"tools"}),(0,bo.jsx)(vv,{options:e,selectedID:this.props.view,onSelect:e=>this.props.setView(e)})]}),(0,bo.jsx)("div",{className:"sidebar-content",children:t})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"ToolsSidebar",error:bC})}}}class rx extends A.Component{render(){try{return(0,bo.jsxs)("div",{children:[(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"click to increment a die type; right-click to decrement"})}),(0,bo.jsx)(yb,{dice:this.props.dice,constant:this.props.constant,setDie:(e,t)=>this.props.setDie(e,t),setConstant:e=>this.props.setConstant(e),resetDice:()=>this.props.resetDice(),rollDice:(e,t)=>this.props.rollDice(e,t)}),(0,bo.jsx)("hr",{}),this.props.dieRolls.map((e=>(0,bo.jsx)(wb,{result:e},e.id)))]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"DieRollerTool",error:bC})}}}class sx extends A.Component{constructor(e){super(e),this.state={search:""}}setSearch(e){this.setState({search:e})}render(){try{let e=null;switch(this.props.mode){case"common":e=(0,bo.jsx)("div",{id:"common",children:(0,bo.jsx)(vv,{options:no.arrayToItems(oo.getLanguagePresets().map((e=>e.name))),selectedID:this.props.selectedLanguagePreset,itemsPerRow:4,onSelect:e=>this.props.selectLanguagePreset(e)})});break;case"custom":{let t=this.props.selectedLanguages.join(", ");""===t&&(t="none");const n=oo.getSourceLanguages().filter((e=>so.match(this.state.search,e))).map((e=>(0,bo.jsx)(zg,{label:e,checked:this.props.selectedLanguages.includes(e),onChecked:t=>t?this.props.addLanguage(e):this.props.removeLanguage(e)},e)));n.unshift((0,bo.jsxs)("div",{children:[(0,bo.jsx)(xo,{placeholder:"filter languages...",text:this.state.search,onChange:e=>this.setSearch(e)}),(0,bo.jsx)("hr",{})]},"search")),e=(0,bo.jsxs)("div",{id:"custom",children:[(0,bo.jsx)(cv,{children:(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:(0,bo.jsxs)("div",{className:"section",children:["selected languages: ",this.props.selectedLanguages.sort().join(", ")||"(none)"]})}),(0,bo.jsx)("div",{className:"icons",children:(0,bo.jsx)(Le,{title:"clear languages",className:0===this.props.selectedLanguages.length?"disabled":"",onClick:()=>this.props.clearLanguages()})})]})}),(0,bo.jsx)(Av,{text:"languages",children:n})]})}break;case"random":e=(0,bo.jsx)(cv,{children:(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:(0,bo.jsxs)("div",{className:"section",children:["selected languages: ",this.props.selectedLanguages.sort().join(", ")||"(none)"]})}),(0,bo.jsx)("div",{className:"icons",children:(0,bo.jsx)(Fo,{title:"choose again",onClick:()=>this.props.selectRandomLanguages()})})]})},"random")}const t=[];this.props.output.length>0&&t.push((0,bo.jsx)("hr",{},"div"));for(let n=0;n!==this.props.output.length;++n)t.push((0,bo.jsx)(ax,{text:this.props.output[n],languages:this.props.selectedLanguages},n));return(0,bo.jsxs)("div",{children:[(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"you can use this tool to generate words and sentences in fantasy languages"})}),(0,bo.jsx)(vv,{options:no.arrayToItems(["common","custom","random"]),selectedID:this.props.mode,onSelect:e=>this.props.setMode(e)}),e,(0,bo.jsx)("hr",{}),(0,bo.jsx)("button",{className:this.props.selectedLanguages.length>0?"":"disabled",onClick:()=>this.props.generateLanguage(),children:"generate text"}),t]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"LanguageTool",error:bC})}}}class ax extends A.Component{copy(e){e.stopPropagation(),navigator.clipboard.writeText(this.props.text)}render(){try{return(0,bo.jsx)(cv,{children:(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:(0,bo.jsx)("div",{className:"section",children:this.props.text.toLowerCase()})}),(0,bo.jsx)("div",{className:"icons vertical",children:(0,bo.jsx)(Td,{title:"copy to clipboard",onClick:e=>this.copy(e)})})]})})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"GeneratedText",error:bC})}}}class ix extends A.Component{constructor(e){super(e),this.state={mode:"image",playerViewOpen:!1}}setMode(e){this.setState({mode:e},(()=>{this.props.setHandout(null)}))}readFile(e){const t=new FileReader;return t.onload=e=>{e.target&&this.props.setHandout({type:this.state.mode,src:e.target.result})},t.readAsDataURL(e),!1}setPlayerViewOpen(e){this.setState({playerViewOpen:e})}clear(){this.setState({playerViewOpen:!1},(()=>{this.props.setHandout(null)}))}getAccept(){switch(this.state.mode){case"image":return"image/*";case"audio":return"audio/*";case"video":return"video/*";case"text":return".txt"}}getDisplay(){if(!this.props.handout)return null;switch(this.props.handout.type){case"image":return(0,bo.jsx)("img",{className:"nonselectable-image",src:this.props.handout.src||"",alt:"handout"});case"audio":return(0,bo.jsx)("audio",{controls:!0,children:(0,bo.jsx)("source",{src:this.props.handout.src||""})});case"video":return(0,bo.jsx)("video",{controls:!0,children:(0,bo.jsx)("source",{src:this.props.handout.src||""})});case"text":return(0,bo.jsx)(ig,{children:this.props.handout.src});case"readaloud":return(0,bo.jsx)("div",{className:"scrollable",children:(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:this.props.handout.src})})})}return null}getPlayerView(){return this.state.playerViewOpen?(0,bo.jsx)(tx,{title:"Handout",onCloseWindow:()=>this.setPlayerViewOpen(!1),children:(0,bo.jsx)("div",{children:this.getDisplay()})}):null}render(){try{let e=null;return e=this.props.handout?(0,bo.jsxs)("div",{children:[this.getDisplay(),(0,bo.jsx)("hr",{}),(0,bo.jsx)(zg,{label:"share in player view",checked:this.state.playerViewOpen,onChecked:e=>this.setPlayerViewOpen(e)}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("button",{onClick:()=>this.clear(),children:"change handout"})]}):(0,bo.jsxs)("div",{children:[(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"you can use this tool to select a file and show it to your players"})}),(0,bo.jsx)(vv,{options:no.arrayToItems(["image","audio","video","text"]),selectedID:this.state.mode,onSelect:e=>this.setMode(e)}),(0,bo.jsxs)(kd.Dragger,{accept:this.getAccept(),showUploadList:!1,beforeUpload:e=>this.readFile(e),children:[(0,bo.jsx)("p",{className:"ant-upload-drag-icon",children:(0,bo.jsx)(zc,{})}),(0,bo.jsx)("p",{className:"ant-upload-text",children:"click here, or drag a file here, to upload it"})]})]}),(0,bo.jsxs)("div",{children:[e,this.getPlayerView()]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"HandoutTool",error:bC})}}}class ox extends A.Component{constructor(e){super(e),this.state={deck:"tarot deck"}}draw(e){let t=[];switch(this.state.deck){case"tarot deck":t=$b.getTarotDeck();break;case"tarot deck (major arcana)":t=$b.getTarotMajorArcana();break;case"tarot deck (minor arcana)":t=$b.getTarotMinorArcana();break;case"standard deck":t=$b.getStandardDeck();break;case"standard deck (with jokers)":t=$b.getStandardDeckWithJokers();break;case"deck of many things":t=$b.getDeckOfManyThings();break;case"deck of many things (13 cards)":t=$b.getDeckOfManyThingsSmall()}this.props.drawCards(e,t)}render(){try{let e=null;if(this.props.draws.length>0){const t=this.props.draws.map((e=>(0,bo.jsx)(zs,{span:8,children:(0,bo.jsx)(ex,{card:e.card,reversed:e.reversed})},e.id)));e=(0,bo.jsxs)("div",{children:[(0,bo.jsx)(Os,{gutter:10,justify:"space-around",children:t}),(0,bo.jsx)("button",{onClick:()=>this.props.resetDraw(),children:"reset"})]})}else e=(0,bo.jsxs)(Os,{gutter:10,children:[(0,bo.jsx)(zs,{span:12,children:(0,bo.jsx)("button",{onClick:()=>this.draw(1),children:"draw a card"})}),(0,bo.jsx)(zs,{span:12,children:(0,bo.jsx)("button",{onClick:()=>this.draw(3),children:"draw three cards"})})]});return(0,bo.jsxs)("div",{children:[(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"this tool lets you draw cards from various different decks"})}),(0,bo.jsx)(mg,{options:no.arrayToItems(["tarot deck","tarot deck (major arcana)","tarot deck (minor arcana)","standard deck","standard deck (with jokers)","deck of many things","deck of many things (13 cards)"]),selectedID:this.state.deck,onSelect:e=>this.setState({deck:e})}),e]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"OracleTool",error:bC})}}}class lx extends A.Component{render(){try{if(!this.props.sidebar.visible)return null;const e=[];switch(this.props.user){case"dm":e.push((0,bo.jsx)(Ub,{className:"tools"===this.props.sidebar.type?"sidebar-icon selected":"sidebar-icon",title:"tools",onClick:()=>this.props.onSelectSidebar("tools")},"tools")),e.push((0,bo.jsx)(Hb,{className:"search"===this.props.sidebar.type?"sidebar-icon selected":"sidebar-icon",title:"search",onClick:()=>this.props.onSelectSidebar("search")},"search")),e.push((0,bo.jsx)(Je,{className:"about"===this.props.sidebar.type?"sidebar-icon selected":"sidebar-icon",title:"about",onClick:()=>this.props.onSelectSidebar("about")},"about"));break;case"player":e.push((0,bo.jsx)(Ob,{className:"reference"===this.props.sidebar.type?"sidebar-icon selected":"sidebar-icon",title:"reference",onClick:()=>this.props.onSelectSidebar("reference")},"reference")),e.push((0,bo.jsx)(Je,{className:"about"===this.props.sidebar.type?"sidebar-icon selected":"sidebar-icon",title:"about",onClick:()=>this.props.onSelectSidebar("about")},"about"))}let t=null;switch(this.props.sidebar.type){case"tools":t=(0,bo.jsx)(nx,{view:this.props.sidebar.subtype,setView:e=>{const t=this.props.sidebar;t.subtype=e,this.props.onUpdateSidebar(t)},dice:this.props.sidebar.dice,constant:this.props.sidebar.constant,dieRolls:this.props.sidebar.dieRolls,setDie:(e,t)=>{const n=this.props.sidebar;n.dice[e]=t,this.props.onUpdateSidebar(n)},setConstant:e=>{const t=this.props.sidebar;t.constant=e,this.props.onUpdateSidebar(t)},rollDice:(e,t)=>{const n=this.props.sidebar,r=io.rollDice(e,n.dice,n.constant,t);n.dieRolls.unshift(r),this.props.onUpdateSidebar(n)},resetDice:()=>{const e=this.props.sidebar;[4,6,8,10,12,20,100].forEach((t=>e.dice[t]=0)),e.constant=0,this.props.onUpdateSidebar(e)},handout:this.props.sidebar.handout,setHandout:e=>{const t=this.props.sidebar;t.handout=e,this.props.onUpdateSidebar(t)},languageMode:this.props.sidebar.languageMode,setLanguageMode:e=>{const t=this.props.sidebar;switch(t.languageMode=e,e){case"common":t.languagePreset=oo.getLanguagePresets()[0].name,t.selectedLanguages=oo.getLanguagePresets()[0].languages;break;case"random":t.languagePreset=null,t.selectedLanguages=oo.getRandomLanguages();break;case"custom":t.languagePreset=null,t.selectedLanguages=[]}this.props.onUpdateSidebar(t)},selectedLanguagePreset:this.props.sidebar.languagePreset,selectedLanguages:this.props.sidebar.selectedLanguages,languageOutput:this.props.sidebar.languageOutput,selectLanguagePreset:e=>{const t=this.props.sidebar;t.languagePreset=null,t.selectedLanguages=[];const n=oo.getLanguagePresets().find((t=>t.name===e));n&&(t.languagePreset=n.name,t.selectedLanguages=n.languages),this.props.onUpdateSidebar(t)},addLanguage:e=>{const t=this.props.sidebar;t.selectedLanguages.push(e),this.props.onUpdateSidebar(t)},removeLanguage:e=>{const t=this.props.sidebar,n=t.selectedLanguages.indexOf(e);t.selectedLanguages.splice(n,1),this.props.onUpdateSidebar(t)},clearLanguages:()=>{const e=this.props.sidebar;e.selectedLanguages=[],this.props.onUpdateSidebar(e)},selectRandomLanguages:()=>{const e=this.props.sidebar;e.selectedLanguages=oo.getRandomLanguages(),this.props.onUpdateSidebar(e)},generateLanguage:()=>{const e=this.props.sidebar,t=e.selectedLanguages.map((e=>fetch("/dojo/data/langs/"+e+".txt")));Promise.all(t).then((t=>{const n=t.map((e=>e.text()));Promise.all(n).then((t=>{oo.initModel(t),e.languageOutput=oo.generateLines(5),this.props.onUpdateSidebar(e)}))}))},draws:this.props.sidebar.draws,drawCards:(e,t)=>{const n=this.props.sidebar;for(n.draws=[];n.draws.length<e;){const e=t[no.randomNumber(t.length)];n.draws.find((t=>t.card.id===e.id))||n.draws.push({id:no.guid(),card:e,reversed:no.randomBoolean()})}this.props.onUpdateSidebar(n)},resetDraw:()=>{const e=this.props.sidebar;e.draws=[],this.props.onUpdateSidebar(e)}});break;case"reference":{const e=[];this.props.library.forEach((t=>{t.monsters.forEach((t=>e.push(t)))})),no.sort(e),t=(0,bo.jsx)(Xb,{view:this.props.sidebar.subtype,setView:e=>{const t=this.props.sidebar;t.subtype=e,this.props.onUpdateSidebar(t)}})}break;case"search":t=(0,bo.jsx)(Zb,{parties:this.props.parties,library:this.props.library,encounters:this.props.encounters,maps:this.props.maps,adventures:this.props.adventures,openParty:e=>this.props.selectParty(e),openGroup:e=>this.props.selectMonsterGroup(e),openEncounter:e=>this.props.selectEncounter(e),openMap:e=>this.props.selectMap(e),openAdventure:e=>this.props.selectAdventure(e),getMonster:e=>this.props.getMonster(e)});break;case"about":t=(0,bo.jsx)(Vb,{user:this.props.user,options:this.props.options,setOption:(e,t)=>this.props.setOption(e,t),clearUnusedImages:()=>this.props.clearUnusedImages(),exportAll:()=>this.props.exportAll(),importAll:e=>this.props.importAll(e),addFlag:e=>this.props.addFlag(e),removeFlag:e=>this.props.removeFlag(e)})}return(0,bo.jsxs)("div",{className:"sidebar sidebar-right",children:[(0,bo.jsx)("div",{className:"sidebar-icons",children:e}),t]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"PageSidebar",error:bC})}}}lx.defaultProps={parties:[],library:[],encounters:[],maps:[],adventures:[],currentCombat:null,currentExploration:null,selectParty:null,selectMonsterGroup:null,selectEncounter:null,selectMap:null,selectAdventure:null,openImage:null,openStatBlock:null,addAward:null,deleteAward:null,addCondition:null,editCondition:null,toggleAddingToMap:null,onUpdated:null,clearUnusedImages:null,exportAll:null,importAll:null,getMonster:null};class Ax extends A.Component{render(){let e=null;return 1===this.props.parties.length&&(e=(0,bo.jsx)("button",{onClick:()=>this.props.exploreMap(this.props.adventure.plot.map,this.props.parties[0].id),children:"explore the map"})),this.props.parties.length>1&&(e=(0,bo.jsx)(mg,{placeholder:"explore the map with...",options:this.props.parties.map((e=>({id:e.id,text:e.name||"unnamed party"}))),onSelect:e=>this.props.exploreMap(this.props.adventure.plot.map,e)})),(0,bo.jsxs)("div",{children:[e,(0,bo.jsx)(ug,{onConfirm:()=>this.props.deleteAdventure(this.props.adventure),children:"delete adventure"})]})}}const cx={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M120 230h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm0 424h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm784 140H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-424H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"align-left",theme:"outlined"};var ux=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:cx}))};const dx=A.forwardRef(ux);const hx={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 780H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM505.7 669a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V176c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8z"}}]},name:"vertical-align-bottom",theme:"outlined"};var px=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:hx}))};const mx=A.forwardRef(px);class fx extends A.Component{render(){try{const e="editor"===this.props.mode?240:30,t=go.getRows(this.props.plot),n=e*Math.max(1,t.length)+"px",r={},s=[];t.forEach(((t,n)=>{const a=e*n,i=100/(2*t.length+1);t.forEach(((t,n)=>{const o=i*(2*n+1);r[t.id]={x:o+i/2,y:a+e/2};const l=this.props.sceneClassNames.find((e=>e.id===t.id));s.push((0,bo.jsx)("foreignObject",{className:"scene-panel-container",x:o+"%",y:a,width:i+"%",height:e,children:(0,bo.jsx)(gx,{scene:t,mode:this.props.mode,className:l?l.className:null,selected:t.id===this.props.selectedSceneID,onSelect:()=>this.props.selectSceneID(t.id),onNotes:()=>this.props.showNotes(t),onExplore:()=>this.props.exploreScene(t),addSceneBefore:()=>this.props.addScene(null,t),addSceneAfter:()=>this.props.addScene(t,null)})},t.id))}))})),0===s.length&&s.push((0,bo.jsx)("foreignObject",{className:"empty",x:0,y:0,width:"100%",height:e,children:(0,bo.jsx)("div",{className:"section centered",children:"(no scenes)"})},"empty"));const a=[],i=[];return this.props.plot.scenes.forEach((e=>{e.links.forEach((t=>{const n=r[e.id],s=r[t.sceneID],o=n.y,l=s.y;let A="scene-link";if(e.id!==this.props.selectedSceneID&&t.sceneID!==this.props.selectedSceneID||(A+=" selected"),a.push((0,bo.jsx)("line",{className:A,x1:n.x+"%",y1:o,x2:s.x+"%",y2:l},t.id)),t.text&&"editor"===this.props.mode){let e=Math.min(n.x,s.x),r=Math.max(n.x,s.x);e===r&&(e-=10,r+=10),i.push((0,bo.jsx)("foreignObject",{className:"link-label-container",x:e+"%",y:o,width:r-e+"%",height:l-o,children:(0,bo.jsx)("div",{className:"link-label",children:t.text})},t.id+"-label"))}}))})),(0,bo.jsxs)("svg",{className:"plot-panel "+this.props.mode,style:{height:n},onClick:()=>this.props.selectSceneID(null),children:[a,i,s]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"PlotPanel",error:bC})}}}fx.defaultProps={mode:"editor",sceneClassNames:[],selectedSceneID:null,selectSceneID:()=>null,showNotes:()=>null,exploreScene:()=>null,addScene:()=>null};class gx extends A.Component{onClick(e){e.stopPropagation(),this.props.onSelect()}onNotes(e){e.stopPropagation(),this.props.onNotes()}onExplore(e){e.stopPropagation(),this.props.onExplore()}getPopover(){return(0,bo.jsxs)("div",{children:[(0,bo.jsx)("button",{onClick:()=>this.props.addSceneBefore(),children:"add a new scene before this"}),(0,bo.jsx)("button",{onClick:()=>this.props.addSceneAfter(),children:"add a new scene after this"})]})}render(){try{if("thumbnail"===this.props.mode)return(0,bo.jsx)("div",{className:"scene-panel"});let e="scene-panel";this.props.selected&&(e+=" selected");let t="scene-text-container";this.props.className&&(t+=" "+this.props.className);const n=[];this.props.scene.content&&n.push((0,bo.jsx)(dx,{title:"notes",onClick:e=>this.onNotes(e)},"notes")),this.props.scene.plot.scenes.length>0&&n.push((0,bo.jsx)(mx,{title:"explore",onClick:e=>this.onExplore(e)},"explore"));let r=null;return r=0===n.length?(0,bo.jsx)("div",{className:"scene-name",children:this.props.scene.name||"unnamed scene"}):(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:(0,bo.jsx)("div",{className:"scene-name",children:this.props.scene.name||"unnamed scene"})}),(0,bo.jsx)("div",{className:"icons vertical",children:n})]}),(0,bo.jsx)(hc,{content:this.getPopover(),trigger:"contextMenu",placement:"bottom",overlayClassName:"scene-tooltip",children:(0,bo.jsx)("div",{className:e,onClick:e=>this.onClick(e),role:"button",children:(0,bo.jsx)("div",{className:t,children:r})})})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"ScenePanel",error:bC})}}}class vx extends A.Component{getContent(){return this.props.adventure.plot.map?(0,bo.jsx)($y,{map:this.props.adventure.plot.map}):(0,bo.jsx)(fx,{plot:this.props.adventure.plot,mode:"thumbnail"})}render(){try{return(0,bo.jsxs)("div",{className:"card adventure",children:[(0,bo.jsx)("div",{className:"heading",children:(0,bo.jsx)("div",{className:"title",children:this.props.adventure.name||"unnamed adventure"})}),(0,bo.jsxs)("div",{className:"card-content",children:[(0,bo.jsx)("div",{className:"fixed-height",children:this.getContent()}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("button",{onClick:()=>this.props.openAdventure(this.props.adventure),children:"open adventure"}),(0,bo.jsx)(Av,{text:"more options",children:(0,bo.jsx)(Ax,{adventure:this.props.adventure,parties:this.props.parties,exploreMap:(e,t)=>this.props.exploreMap(e,t),deleteAdventure:e=>this.props.deleteAdventure(e)})})]})]},this.props.adventure.id)}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"AdventureCard",error:bC})}}}class yx extends A.Component{render(){return(0,bo.jsxs)("div",{children:[(0,bo.jsx)("button",{onClick:()=>this.props.addAdventure(),children:"add a new adventure"}),(0,bo.jsx)("button",{onClick:()=>this.props.generateAdventure(),children:"generate a random dungeon adventure"})]})}}class wx extends A.Component{render(){try{const e=this.props.adventures;no.sort(e);const t=e.map((e=>(0,bo.jsx)(vx,{adventure:e,parties:this.props.parties,openAdventure:e=>this.props.openAdventure(e),exploreMap:(e,t)=>this.props.exploreMap(e,t),deleteAdventure:e=>this.props.deleteAdventure(e)},e.id)));return(0,bo.jsxs)(Os,{className:"full-height",children:[(0,bo.jsxs)(zs,{span:6,className:"scrollable sidebar sidebar-left",children:[(0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{className:"section",children:"this page is where you can plan your adventures"}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("div",{className:"section",children:"on the right you will see the adventures that you have created"}),(0,bo.jsxs)("div",{className:"section",children:["press an adventure's ",(0,bo.jsx)("b",{children:"open adventure"})," button to see its details"]}),(0,bo.jsx)("hr",{}),(0,bo.jsxs)("div",{className:"section",children:["to get started creating an adventure, press the ",(0,bo.jsx)("b",{children:"add a new adventure"})," button"]})]}),(0,bo.jsx)(yx,{addAdventure:()=>this.props.addAdventure(),generateAdventure:()=>this.props.generateAdventure()})]}),(0,bo.jsx)(zs,{span:18,className:"scrollable",children:(0,bo.jsx)(dw,{heading:"adventures",content:t})})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"AdventureListScreen",error:bC})}}}const bx={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"outlined"};var xx=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:bx}))};const Bx=A.forwardRef(xx);const Cx={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]},name:"share-alt",theme:"outlined"};var kx=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Cx}))};const Sx=A.forwardRef(kx);const Ex={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"};var jx=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Ex}))};const Ix=A.forwardRef(jx);class Fx extends A.Component{constructor(e){super(e),this.state={plot:e.adventure.plot,view:"content",breadcrumbs:[{name:e.adventure.name||"adventure",plot:e.adventure.plot}],selectedSceneID:null,selectedPartyID:null,customPartySize:5,customPartyLevel:1}}setView(e){this.setState({view:e})}setSelectedSceneID(e){this.setState({selectedSceneID:e})}setSelectedPartyID(e){this.setState({selectedPartyID:e})}explore(e){const t=this.state.breadcrumbs;t.push({name:e.name,plot:e.plot}),this.setState({plot:e.plot,breadcrumbs:t,selectedSceneID:null})}goUp(){if(this.state.breadcrumbs.length>1){const e=this.state.breadcrumbs.slice(0,this.state.breadcrumbs.length-1),t=e[e.length-1];this.setState({plot:t.plot,breadcrumbs:e,selectedSceneID:null})}}goToBreadcrumb(e){const t=this.state.breadcrumbs.find((t=>t.plot.id===e));if(t){const e=this.state.breadcrumbs.indexOf(t),n=this.state.breadcrumbs.slice(0,e+1);this.setState({plot:t.plot,breadcrumbs:n,selectedSceneID:null})}}canMoveScene(e,t){return go.canMoveScene(this.state.plot,e,t)}moveScene(e,t){this.props.moveScene(this.state.plot,e,t)}runEncounter(e){const t=e.data.map,n=e.data.mapAreaID,r=e.data.fog,s=e.data.lighting,a=e.data.slotInfo;this.props.runEncounter(e,t,n,r,s,a)}getParty(){let e=null;if(null!==this.state.selectedPartyID)if("custom"===this.state.selectedPartyID){e=ro.createParty();for(let t=0;t!==this.state.customPartySize;++t){const t=ro.createPC();t.level=this.state.customPartyLevel,e.pcs.push(t)}}else e=this.props.parties.find((e=>e.id===this.state.selectedPartyID))||null;return e}getLinks(e){return 0===e.links.length?(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"this scene doesn't lead to any other scenes"})}):e.links.map((t=>{const n=this.state.plot.scenes.find((e=>e.id===t.sceneID));return n?(0,bo.jsx)(cv,{children:(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsxs)("div",{className:"content",children:[(0,bo.jsxs)("div",{className:"section",children:["link to ",(0,bo.jsx)("b",{children:n.name||"unnamed scene"})]}),(0,bo.jsx)(xo,{placeholder:"label",text:t.text,onChange:e=>this.props.changeValue(t,"text",e)})]}),(0,bo.jsxs)("div",{className:"icons vertical",children:[(0,bo.jsx)(Bx,{title:"go to",onClick:()=>this.setSelectedSceneID(n.id)}),(0,bo.jsx)(ug,{onConfirm:()=>this.props.deleteLink(e,t),children:(0,bo.jsx)(Eo,{title:"delete link"})})]})]})},t.id):null}))}getResources(e){const t=go.getReadAloudSections(e).map((e=>({id:no.guid(),name:"",type:"readaloud",content:e,data:null})));return t.length+e.resources.length===0?(0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{className:"section",children:"a scene can have different types of resources associated with it - an encounter or an image for example"}),(0,bo.jsx)("div",{className:"section",children:"press one of the buttons below to add a resource to this scene"})]}):t.concat(e.resources).map((t=>{let n=null,r=null,s=!1,a=!1,i=!1,o=!1,l=!1,A=!1,c=!1,u=!1;switch(t.type){case"text":n=(0,bo.jsxs)("div",{children:[(0,bo.jsx)(xo,{placeholder:"handout title",text:t.name,onChange:e=>this.props.changeValue(t,"name",e)}),(0,bo.jsx)(Hg,{text:t.content,onChange:e=>this.props.changeValue(t,"content",e)})]}),A=!0,c=!0,u=!0;break;case"url":n=(0,bo.jsx)(xo,{placeholder:"https://...",text:t.content,onChange:e=>this.props.changeValue(t,"content",e)}),s=!0,c=!0,u=!0;break;case"image":{const e=vo.getImage(t.content);e&&(n=(0,bo.jsx)("img",{className:"nonselectable-image",src:e.data,alt:"resource"}),A=!0,c=!0,u=!0)}break;case"encounter":{const e=this.props.encounters.find((e=>e.id===t.content));if(e){if(t.data&&t.data.map){const e=[],r=[];t.data.slotInfo.forEach((t=>{t.members.forEach((n=>{if(null!==n.location){const s=this.props.getMonster(t.monsterID);if(s){const t=ao.convertMonsterToCombatant(s,n.init,n.hp,n.name,"foe");e.push(t);const a=ro.createMapItem();a.id=t.id,a.type="monster";const i=io.miniSize(s.size);a.height=i,a.width=i,a.depth=i,a.x=n.location.x,a.y=n.location.y,a.z=n.location.z,r.push(a)}}}))}));const s=JSON.parse(JSON.stringify(t.data.map));s.items=s.items.concat(r),n=(0,bo.jsx)($y,{map:s,selectedAreaID:t.data.mapAreaID,combatants:e,fog:t.data.fog,lighting:t.data.lighting})}else n=(0,bo.jsx)(mw,{encounter:e,getMonster:e=>this.props.getMonster(e),onMonsterClicked:e=>this.props.showMonster(e)});const s=this.getParty();if(s){const t=ao.getEncounterDifficulty(e,null,s,(e=>this.props.getMonster(e)));r="diff-"+Math.min(4,t.adjusted)}a=null===this.state.plot.map,i=null!==this.state.plot.map,o=!0,l=this.props.maps.length>0&&null===this.state.plot.map,u=!0}}break;case"readaloud":n=(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:t.content})}),A=!0,c=!0}return null===n?null:(0,bo.jsx)(Av,{className:r,text:t.name||t.type,children:(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:n}),(0,bo.jsxs)("div",{className:"icons vertical",children:[(0,bo.jsx)(Lg,{display:s,children:(0,bo.jsx)(Bx,{className:""===t.content?"disabled":"",title:"follow link",onClick:()=>window.open(t.content,"_blank")})}),(0,bo.jsx)(Lg,{display:a,children:(0,bo.jsx)(Bx,{title:"run encounter",onClick:()=>this.runEncounter(t)})}),(0,bo.jsx)(Lg,{display:i,children:(0,bo.jsx)(Bx,{title:"run encounter",onClick:()=>this.props.runEncounter(t,this.state.plot.map,e.id,[],"bright light",[])})}),(0,bo.jsx)(Lg,{display:o,children:(0,bo.jsx)(Ty,{title:"edit encounter",onClick:()=>this.props.openEncounter(t)})}),(0,bo.jsx)(Lg,{display:l,children:(0,bo.jsx)(dy,{title:"setup encounter map",onClick:()=>this.props.setupEncounterMap(t)})}),(0,bo.jsx)(Lg,{display:A,children:(0,bo.jsx)(Sx,{className:""===t.content?"disabled":"",title:"show",onClick:()=>this.props.showResource(t)})}),(0,bo.jsx)(Lg,{display:u,children:(0,bo.jsx)(ug,{onConfirm:()=>this.props.removeResourceFromScene(e,t.id),children:(0,bo.jsx)(Eo,{title:"remove from scene"})})})]})]})},t.id)}))}getSidebarForScene(e){let t=no.arrayToItems(["content","links","resources"]);this.state.plot.map&&(t=t.filter((e=>"links"!==e.id))),0===e.links.length&&0===go.getPotentialLinks(this.state.plot,e).length&&(t=t.filter((e=>"links"!==e.id)));let n=this.state.view;return t.find((e=>e.id===n))||(n=t[0].id),(0,bo.jsxs)("div",{children:[(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("div",{className:"subheading",children:"scene title"}),(0,bo.jsx)(xo,{text:e.name,placeholder:"scene title",onChange:t=>this.props.changeValue(e,"name",t)})]}),(0,bo.jsx)("hr",{}),(0,bo.jsx)(wv,{options:t,selectedID:n,onSelect:e=>this.setView(e)}),(0,bo.jsx)(Lg,{display:"content"===n,children:(0,bo.jsx)(Hg,{text:e.content,onChange:t=>this.props.changeValue(e,"content",t)})}),(0,bo.jsx)(Lg,{display:"links"===n&&null===this.state.plot.map,children:(0,bo.jsxs)(cv,{transparent:!0,children:[(0,bo.jsx)("div",{children:this.getLinks(e)}),(0,bo.jsx)("hr",{}),(0,bo.jsx)(mg,{placeholder:"select a scene to link to...",options:no.sort(go.getPotentialLinks(this.state.plot,e)).map((e=>({id:e.id,text:e.name||"unnamed scene"}))),onSelect:t=>this.props.addLink(e,t)})]})}),(0,bo.jsx)(Lg,{display:"links"===n&&null!==this.state.plot.map,children:(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"links aren't needed between map areas"})})}),(0,bo.jsx)(Lg,{display:"resources"===n,children:(0,bo.jsxs)(cv,{transparent:!0,children:[(0,bo.jsx)("div",{children:this.getResources(e)}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("button",{onClick:()=>this.props.addResourceToScene(e,"text"),children:"add a text handout"}),(0,bo.jsx)("button",{onClick:()=>this.props.addResourceToScene(e,"url"),children:"add a url"}),(0,bo.jsx)("button",{onClick:()=>this.props.addResourceToScene(e,"image"),children:"add an image"}),(0,bo.jsx)(Lg,{display:this.props.encounters.length>0,children:(0,bo.jsx)("button",{onClick:()=>this.props.addEncounterToScene(e,this.getParty(),!1),children:"link to an encounter"})}),(0,bo.jsx)("button",{onClick:()=>this.props.addEncounterToScene(e,this.getParty(),!0),children:"link to a new random encounter"})]})}),(0,bo.jsxs)(Lg,{display:null===this.state.plot.map,children:[(0,bo.jsx)("hr",{}),(0,bo.jsxs)(Os,{gutter:10,children:[(0,bo.jsx)(zs,{span:12,children:(0,bo.jsx)("button",{className:this.canMoveScene(e,"left")?"":"disabled",onClick:()=>this.moveScene(e,"left"),children:"move left"})}),(0,bo.jsx)(zs,{span:12,children:(0,bo.jsx)("button",{className:this.canMoveScene(e,"right")?"":"disabled",onClick:()=>this.moveScene(e,"right"),children:"move right"})})]}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("button",{onClick:()=>this.explore(e),children:"explore scene"}),(0,bo.jsx)(ug,{onConfirm:()=>this.props.deleteScene(this.state.plot,e),children:"delete scene"})]}),(0,bo.jsx)("hr",{}),(0,bo.jsxs)("button",{onClick:()=>this.setSelectedSceneID(null),children:[(0,bo.jsx)(Mo,{style:{fontSize:"10px"}})," back to the adventure"]})]})}getSidebarForPlot(){const e=this.props.parties.map((e=>({id:e.id,text:e.name||"unnamed party"})));return e.push({id:"custom",text:"custom party"}),(0,bo.jsxs)("div",{children:[(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("div",{className:"subheading",children:"adventure name"}),(0,bo.jsx)(xo,{text:this.props.adventure.name,placeholder:"adventure name",onChange:e=>this.props.changeValue(this.props.adventure,"name",e)})]}),(0,bo.jsx)("hr",{}),(0,bo.jsx)(Lg,{display:0===this.props.adventure.plot.scenes.length,children:(0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{className:"section",children:"an adventure is made up of scenes which are linked together like a flowchart"}),(0,bo.jsxs)("div",{className:"section",children:["press ",(0,bo.jsx)("b",{children:"add a scene"})," to add your first scene to this adventure"]}),(0,bo.jsx)(Lg,{display:0===this.state.plot.scenes.length,children:(0,bo.jsxs)("div",{className:"section",children:["alternatively, you can ",(0,bo.jsx)("b",{children:"use a map"})," to create scenes for each of its areas; this is handy if you're designing a dungeon crawl"]})})]})}),(0,bo.jsx)(Lg,{display:null===this.state.plot.map,children:(0,bo.jsx)("button",{onClick:()=>{const e=this.props.addScene(this.state.plot,null,null);this.setState({selectedSceneID:e.id})},children:"add a scene"})}),(0,bo.jsxs)(Lg,{display:null!==this.state.plot.map,children:[(0,bo.jsx)("button",{onClick:()=>this.props.rotateMap(this.state.plot),children:"rotate the map"}),(0,bo.jsx)("button",{onClick:()=>this.props.removeMapFromPlot(this.state.plot),children:"remove the map"})]}),(0,bo.jsx)(Lg,{display:0===this.state.plot.scenes.length,children:(0,bo.jsxs)(Av,{text:"use a map",children:[(0,bo.jsx)("button",{className:0===this.props.maps.filter((e=>e.areas.length>0)).length?"disabled":"",onClick:()=>this.props.addMapToPlot(this.state.plot,!1),children:"use an existing map"}),(0,bo.jsx)("button",{onClick:()=>this.props.addMapToPlot(this.state.plot,!0),children:"use a new random map"})]})}),(0,bo.jsx)("hr",{}),(0,bo.jsxs)(Av,{text:"highlight difficulty",children:[(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"select a party to show the difficulty of the encounters in this adventure"})}),(0,bo.jsx)(mg,{placeholder:"select a party...",options:e,selectedID:this.state.selectedPartyID,onSelect:e=>this.setSelectedPartyID(e),onClear:()=>this.setSelectedPartyID(null)}),(0,bo.jsxs)(Lg,{display:"custom"===this.state.selectedPartyID,children:[(0,bo.jsx)(gv,{value:this.state.customPartySize,label:"party size",downEnabled:this.state.customPartySize>1,onNudgeValue:e=>this.setState({customPartySize:this.state.customPartySize+e})}),(0,bo.jsx)(gv,{value:this.state.customPartyLevel,label:"party level",downEnabled:this.state.customPartyLevel>1,upEnabled:this.state.customPartyLevel<20,onNudgeValue:e=>this.setState({customPartyLevel:this.state.customPartyLevel+e})})]})]}),(0,bo.jsx)(Ax,{adventure:this.props.adventure,parties:this.props.parties,exploreMap:(e,t)=>this.props.exploreMap(e,t),deleteAdventure:e=>this.props.deleteAdventure(e)}),(0,bo.jsx)("hr",{}),(0,bo.jsxs)("button",{onClick:()=>this.props.goBack(),children:[(0,bo.jsx)(Mo,{style:{fontSize:"10px"}})," back to the list"]})]})}getContent(){const e=[];if(null!==this.state.selectedPartyID){const t=this.getParty();t&&this.state.plot.scenes.forEach((n=>{go.getEncounterIDs(n).forEach((r=>{const s=this.props.encounters.find((e=>e.id===r));if(s){const r=ao.getEncounterDifficulty(s,null,t,(e=>this.props.getMonster(e)));e.push({id:n.id,className:"diff-"+Math.min(4,r.adjusted)})}}))}))}return this.state.plot.map?(0,bo.jsx)($y,{map:this.state.plot.map,mode:"interactive-plot",showAreaNames:!0,areaClassNames:e,selectedItemIDs:this.state.selectedSceneID?[this.state.selectedSceneID]:[],areaClicked:e=>this.setSelectedSceneID(e.id),itemSelected:()=>this.setSelectedSceneID(null)}):(0,bo.jsx)(fx,{plot:this.state.plot,sceneClassNames:e,selectedSceneID:this.state.selectedSceneID,selectSceneID:e=>this.setSelectedSceneID(e),showNotes:e=>this.props.showNotes(e),exploreScene:e=>this.explore(e),addScene:(e,t)=>{const n=this.props.addScene(this.state.plot,e,t);this.setState({selectedSceneID:n.id})}})}render(){try{const e=this.state.plot.scenes.find((e=>e.id===this.state.selectedSceneID));return(0,bo.jsxs)(Os,{className:"full-height",children:[(0,bo.jsx)(zs,{span:6,className:"scrollable sidebar sidebar-left",children:e?this.getSidebarForScene(e):this.getSidebarForPlot()}),(0,bo.jsxs)(zs,{span:18,className:"scrollable both-ways",children:[(0,bo.jsx)(Lg,{display:this.state.plot.id!==this.props.adventure.plot.id,children:(0,bo.jsx)("div",{className:"breadcrumb-bar",children:(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:this.state.breadcrumbs.map((e=>(0,bo.jsx)(cv,{onClick:()=>this.goToBreadcrumb(e.plot.id),children:e.name||"unnamed scene"},e.plot.id)))}),(0,bo.jsx)("div",{className:"icons",children:(0,bo.jsx)(Ix,{className:this.props.adventure.plot.id===this.state.plot.id?"disabled":"",title:"go up one level",onClick:()=>this.goUp()})})]})})}),this.getContent()]})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"AdventureScreen",error:bC})}}}const Qx={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.5 360.3a7.95 7.95 0 00-12.9 0l-178 246c-3.8 5.3 0 12.7 6.5 12.7H381c10.2 0 19.9-4.9 25.9-13.2L512 460.4l105.2 145.4c6 8.3 15.6 13.2 25.9 13.2H690c6.5 0 10.3-7.4 6.5-12.7l-178-246z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"up-circle",theme:"outlined"};var Nx=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Qx}))};const Mx=A.forwardRef(Nx);class Ux extends A.Component{render(){try{return(0,bo.jsxs)("div",{className:"card map",children:[(0,bo.jsx)("div",{className:"heading",children:(0,bo.jsx)("div",{className:"title",children:"map item"})}),(0,bo.jsxs)("div",{className:"card-content",children:[(0,bo.jsx)("div",{className:"subheading",children:"type"}),(0,bo.jsx)(vv,{options:no.arrayToItems(["overlay","token"]),selectedID:this.props.item.type,onSelect:e=>this.props.changeValue(this.props.item,"type",e)}),(0,bo.jsx)("div",{className:"subheading",children:"move"}),(0,bo.jsx)(Xy,{showToggle:!0,onMove:(e,t)=>this.props.moveMapItem(this.props.item,e,t)}),(0,bo.jsxs)(Lg,{display:"overlay"===this.props.item.type,children:[(0,bo.jsx)("div",{className:"subheading",children:"size"}),(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)(gv,{value:this.props.item.width+" sq / "+5*this.props.item.width+" ft",label:"width",downEnabled:this.props.item.width>1,onNudgeValue:e=>this.props.nudgeValue(this.props.item,"width",e)}),(0,bo.jsx)(gv,{value:this.props.item.height+" sq / "+5*this.props.item.height+" ft",label:"height",downEnabled:this.props.item.height>1,onNudgeValue:e=>this.props.nudgeValue(this.props.item,"height",e)})]})]}),(0,bo.jsxs)(Lg,{display:"overlay"===this.props.item.type,children:[(0,bo.jsx)("div",{className:"subheading",children:"shape"}),(0,bo.jsx)(vv,{options:no.arrayToItems(["square","rounded","circle"]),selectedID:this.props.item.style,onSelect:e=>this.props.changeValue(this.props.item,"style",e)}),(0,bo.jsx)("div",{className:"subheading",children:"color"}),(0,bo.jsx)("input",{type:"color",value:this.props.item.color,onChange:e=>this.props.changeValue(this.props.item,"color",e.target.value)}),(0,bo.jsx)("div",{className:"subheading",children:"opacity"}),(0,bo.jsx)(zv,{min:0,max:255,value:this.props.item.opacity,tooltipVisible:!1,onChange:e=>this.props.changeValue(this.props.item,"opacity",e)})]}),(0,bo.jsxs)(Lg,{display:"token"===this.props.item.type,children:[(0,bo.jsx)("div",{className:"subheading",children:"size"}),(0,bo.jsx)(gv,{value:this.props.item.size,downEnabled:"tiny"!==this.props.item.size,upEnabled:"gargantuan"!==this.props.item.size,onNudgeValue:e=>this.props.nudgeValue(this.props.item,"size",e)})]}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("div",{className:"section",children:(0,bo.jsx)("button",{onClick:()=>this.props.deleteMapItem(this.props.item),children:"remove from the map"})})]})]},this.props.item.id)}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"MapItemCard",error:bC})}}}class Tx extends A.Component{render(){try{const e=this.props.combatant.hpCurrent||0,t=this.props.combatant.hpMax||0,n=this.props.combatant.hpTemp||0,r=100*Math.max(e,0)/(t+n),s="bar "+ao.getCombatantState(this.props.combatant);let a=null;if(null!==this.props.combatant.hpTemp&&this.props.combatant.hpTemp>0){const e=100*Math.max(this.props.combatant.hpTemp,0)/(t+n);a=(0,bo.jsx)("div",{className:"bar temp",style:{width:e+"%"}})}return(0,bo.jsxs)("div",{className:"hp-gauge",children:[(0,bo.jsx)("div",{className:s,style:{width:r+"%"}}),a]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"HitPointGauge",error:bC})}}}class Dx extends A.Component{getInformationTag(){return this.props.combatant.current?(0,bo.jsx)(Pc,{className:"info",children:"current turn"}):this.props.selected?(0,bo.jsx)(Pc,{className:"info",children:this.props.selectedText}):null}onClick(e){e.stopPropagation(),e.preventDefault(),this.props.select&&this.props.select(this.props.combatant,e.ctrlKey)}getStats(){if("monster"===this.props.combatant.type&&!this.props.playerView){var e,t;const n=this.props.combatant;let r=(null!==(e=this.props.combatant.hpCurrent)&&void 0!==e?e:0).toString();return(null!==(t=this.props.combatant.hpTemp)&&void 0!==t?t:0)>0&&(r+="+"+this.props.combatant.hpTemp),(0,bo.jsxs)("div",{children:[(0,bo.jsxs)(Os,{align:"middle",children:[(0,bo.jsx)(zs,{span:12,children:(0,bo.jsxs)("div",{className:"information",children:[(0,bo.jsx)("div",{children:"ac"}),(0,bo.jsx)("div",{className:"information-value",children:n.ac})]})}),(0,bo.jsx)(zs,{span:12,children:(0,bo.jsxs)("div",{className:"information",children:[(0,bo.jsx)("div",{className:"information-value",children:r}),(0,bo.jsx)("div",{children:"hp"})]})})]}),(0,bo.jsx)(Tx,{combatant:this.props.combatant})]})}return null}getTags(){const e=[],t=this.props.combat.combatants.find((e=>e.mountID===this.props.combatant.id));t&&e.push((0,bo.jsxs)(Pc,{children:[(0,bo.jsx)("span",{children:"ridden by: "}),(0,bo.jsx)("button",{className:"link",onClick:e=>{e.stopPropagation(),this.props.select(t,!1)},children:ao.getCombatantName(t,[])})]},"rider"));const n=[];return this.props.combatant.tags.filter((e=>e.startsWith("engaged"))).forEach((e=>{n.push(io.getTagDescription(e))})),n.length>0&&e.push((0,bo.jsxs)(Pc,{children:["engaged with: ",n.join(", ")]},"engaged")),this.props.combat.map&&!this.props.combat.map.items.find((e=>e.id===this.props.combatant.id))&&e.push((0,bo.jsx)(Pc,{children:"not on the map"},"not-on-map")),this.props.combatant.showOnMap||e.push((0,bo.jsx)(Pc,{children:"hidden"},"hidden")),e}getNotes(){const e=[];if(this.props.combatant.mountID){const t=this.props.combat.combatants.find((e=>e.id===this.props.combatant.mountID));if(t){let n=null;"controlled"===this.props.combatant.mountType&&(n=(0,bo.jsx)("div",{className:"note-details",children:"your mount moves as directed; it can only take dash, disengage, or dodge actions"})),e.push((0,bo.jsxs)(gg,{children:[(0,bo.jsxs)("div",{className:"note-heading",children:[(0,bo.jsx)("span",{children:"mounted on: "}),(0,bo.jsx)("button",{className:"link",onClick:e=>{e.stopPropagation(),this.props.select(t,!1)},children:ao.getCombatantName(t,[])})]}),(0,bo.jsx)("div",{children:n}),(0,bo.jsx)("div",{className:"note-details",children:"if you\u2019re knocked prone, or an effect moves your mount against its will, you must succeed on a dex save (dc 10) or land prone in a space within 5 feet of your mount"}),(0,bo.jsx)("div",{className:"note-details",children:"if your mount is knocked prone, you can use your reaction to land on your feet; otherwise, you fall prone in a space within 5 feet of your mount"})]},"mount"))}}return this.props.combatant.tags.filter((e=>!e.startsWith("engaged"))).forEach((t=>{e.push((0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{className:"note-heading",children:io.getTagTitle(t)}),(0,bo.jsx)("div",{className:"note-details",children:io.getTagDescription(t)})]},t))})),this.props.combatant.conditions&&this.props.combatant.conditions.forEach((t=>{let n=t.name;"exhaustion"===t.name&&(n+=" ("+t.level+")"),t.duration&&(n+=" "+io.conditionDurationText(t,this.props.combat.combatants));let r=null;"custom"!==t.name&&(r=(0,bo.jsx)("div",{className:"note-heading",children:n}));const s=[],a=io.conditionText(t);for(let e=0;e!==a.length;++e)s.push((0,bo.jsx)("div",{className:"note-details",children:a[e]},e));e.push((0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{children:r}),(0,bo.jsx)("div",{children:s})]},t.id))})),this.props.combatant.note&&e.push((0,bo.jsx)(gg,{children:(0,bo.jsx)(ig,{children:this.props.combatant.note})},"text")),e}render(){try{let e="initiative-list-item";this.props.combatant.current&&(e+=" current"),this.props.selected&&(e+=" highlight"),this.props.combatant.defeated&&(e+=" defeated");let t=null;const n=this.props.combatant;n.portrait&&(t=(0,bo.jsx)(Sd,{source:n,inline:!0}));const r=ao.getCombatantName(this.props.combatant,this.props.combat.combatants),s=this.getStats(),a=this.getTags(),i=this.getNotes();let o=null;return(s||a.length>0||i.length>0)&&(o=(0,bo.jsxs)("div",{className:"init-entry-content",children:[this.getStats(),this.getTags(),this.getNotes()]})),(0,bo.jsxs)("div",{className:e,onClick:e=>this.onClick(e),role:"button",children:[(0,bo.jsxs)("div",{className:"header",children:[t,(0,bo.jsx)("div",{className:"name",children:r}),this.getInformationTag()]}),o]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"InitiativeEntry",error:bC})}}}class Hx extends A.Component{render(){try{var e;let t=null;const n=this.props.combatant;return n.portrait&&(t=(0,bo.jsx)(Sd,{source:n,inline:!0})),(0,bo.jsx)(cv,{children:(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsxs)("div",{className:"content",children:[(0,bo.jsxs)("div",{className:"subheading",children:[t,ao.getCombatantName(this.props.combatant,[])]}),(0,bo.jsx)(gv,{label:"initiative",value:null!==(e=this.props.combatant.initiative)&&void 0!==e?e:10,onNudgeValue:e=>this.props.nudgeValue(this.props.combatant,"initiative",e)})]}),(0,bo.jsxs)("div",{className:"icons vertical",children:[(0,bo.jsx)(Ve,{title:"add to encounter",onClick:()=>this.props.makeActive(this.props.combatant)}),(0,bo.jsx)(ug,{onConfirm:()=>this.props.remove(this.props.combatant),children:(0,bo.jsx)(Le,{title:"remove from encounter"})})]})]})})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"PendingInitiativeEntry",error:bC})}}}class Lx extends A.Component{addToMap(e){e.stopPropagation(),this.props.addToMap(this.props.combatant)}render(){try{let e=null;const t=this.props.combatant;return t.portrait&&(e=(0,bo.jsx)(Sd,{source:t,inline:!0})),(0,bo.jsx)(cv,{children:(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:(0,bo.jsxs)("div",{className:"subheading",children:[e,ao.getCombatantName(this.props.combatant,[])]})}),(0,bo.jsx)("div",{className:"icons",children:(0,bo.jsx)(dy,{title:"place on map",onClick:e=>this.addToMap(e)})})]})})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"NotOnMapInitiativeEntry",error:bC})}}}class Px extends A.Component{orderCombatants(e){const t=e.find((e=>e.current));if(t){const n=e.indexOf(t);if(0!==n){const t=[...e];return t.splice(n).concat(["top of the round"]).concat(t)}}return e}createCombatantRow(e){if("string"===typeof e)return(0,bo.jsx)("div",{className:"section init-separator",children:e},e);let t=this.props.selectedItemIDs.includes(e.id);return this.props.playerView&&!this.props.combat.map&&(t=!1),(0,bo.jsx)(Dx,{combatant:e,playerView:this.props.playerView,selectedText:this.props.selectedText,combat:this.props.combat,selected:t,select:(e,t)=>this.props.toggleItemSelection(e.id,t)},e.id)}render(){try{const e=ao.getActiveCombatants(this.props.combat,this.props.playerView,this.props.showDefeated),t=this.orderCombatants(e).map((e=>this.createCombatantRow(e)));return(0,bo.jsxs)("div",{children:[this.props.help,t]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"InitiativeOrder",error:bC})}}}class Ox extends A.Component{constructor(e){super(e),this.state={showOptions:!1,showDefeatedCombatants:!1,selectedItemIDs:[],addingToMapID:null,addingOverlay:!1,editFog:!1,highlightMapSquare:!1,addingLightSource:!1,highlightedSquare:null,playerViewOpen:!1,middleColumnWidth:8}}componentDidMount(){window.addEventListener("beforeunload",(()=>{this.setPlayerViewOpen(!1)}))}componentDidUpdate(){}toggleShowOptions(){this.setState({showOptions:!this.state.showOptions})}toggleShowDefeatedCombatants(){this.setState({showDefeatedCombatants:!this.state.showDefeatedCombatants})}setSelectedItemIDs(e){this.setState({selectedItemIDs:e})}toggleItemSelection(e,t){if(e&&t){const t=this.state.selectedItemIDs;if(t.includes(e)){const n=t.indexOf(e);t.splice(n,1)}else t.push(e);this.setSelectedItemIDs(t)}else this.setSelectedItemIDs(e?[e]:[])}setAddingToMapID(e){this.setState({addingToMapID:e,addingOverlay:!1,editFog:!1,highlightMapSquare:!1,addingLightSource:!1,highlightedSquare:null})}toggleAddingOverlay(){this.setState({addingOverlay:!this.state.addingOverlay,addingToMapID:null,editFog:!1,highlightMapSquare:!1,addingLightSource:!1,highlightedSquare:null})}toggleEditFog(){this.setState({addingOverlay:!1,addingToMapID:null,editFog:!this.state.editFog,highlightMapSquare:!1,addingLightSource:!1,highlightedSquare:null})}toggleHighlightMapSquare(){this.setState({addingOverlay:!1,addingToMapID:null,editFog:!1,highlightMapSquare:!this.state.highlightMapSquare,addingLightSource:!1,highlightedSquare:null})}toggleAddingLightSource(){this.setState({addingOverlay:!1,addingToMapID:null,editFog:!1,highlightMapSquare:!1,addingLightSource:!this.state.addingLightSource,highlightedSquare:null})}setHighlightedSquare(e,t){this.state.highlightMapSquare&&this.setState({highlightedSquare:{x:e,y:t}})}fillFog(){if(this.props.combat.map){const e=[],t=yo.mapDimensions(this.props.combat.map.items);if(t){for(let n=t.minX;n<=t.maxX;++n)for(let r=t.minY;r<=t.maxY;++r)e.push({x:n,y:r});this.props.setFog(e)}}}clearFog(){this.props.setFog([])}setPlayerViewOpen(e){this.setState({playerViewOpen:e})}nudgeMiddleColumnWidth(e){this.setState({middleColumnWidth:this.state.middleColumnWidth+e})}nextTurn(){const e=this.props.combat.combatants.find((e=>e.current));if(e)this.props.endTurn(e);else{const e=this.props.combat.combatants.filter((e=>"placeholder"!==e.type||ao.combatHasLairActions(this.props.combat))).find((e=>e.active));e&&this.props.makeCurrent(e)}}defeatCombatants(e){const t=e.map((e=>e.id));this.setState({selectedItemIDs:this.state.selectedItemIDs.filter((e=>!t.includes(e)))},(()=>{this.props.makeDefeated(e)}))}removeCombatants(e){const t=e.map((e=>e.id));this.setState({selectedItemIDs:this.state.selectedItemIDs.filter((e=>!t.includes(e)))},(()=>{this.props.removeCombatants(e)}))}gridSquareClicked(e,t){if(this.state.addingToMapID){const n=this.props.combat.combatants.find((e=>e.id===this.state.addingToMapID));n&&this.props.mapAdd(n,e,t),this.setAddingToMapID(null)}if(this.state.addingOverlay){const n=ro.createMapItem();n.type="token",n.x=e,n.y=t,n.width=1,n.height=1,n.color="#005080",n.opacity=127,n.style="square",this.props.addOverlay(n),this.setState({addingOverlay:!1,selectedItemIDs:[n.id]})}this.state.editFog&&this.gridRectangleSelected(e,t,e,t),this.state.addingLightSource&&this.setState({addingLightSource:!1},(()=>{const n=ro.createMapLightSource();n.x=e,n.y=t,this.props.mapAddLightSource(this.props.combat.map,n)}))}gridRectangleSelected(e,t,n,r){if(this.state.addingOverlay){const s=ro.createMapItem();s.type="overlay",s.x=e,s.y=t,s.width=n-e+1,s.height=r-t+1,s.color="#005080",s.opacity=127,s.style="square",this.props.addOverlay(s),this.setState({addingOverlay:!1,selectedItemIDs:[s.id]})}if(this.state.editFog){const s=this.props.combat.fog;for(let a=e;a<=n;++a)for(let e=t;e<=r;++e){const t=s.findIndex((t=>t.x===a&&t.y===e));-1===t?s.push({x:a,y:e}):s.splice(t,1)}this.props.setFog(s)}}getPlayerView(){if(!this.state.playerViewOpen)return null;const e=(0,bo.jsx)(Px,{combat:this.props.combat,playerView:!0,selectedText:"selected",showDefeated:!1,help:null,selectedItemIDs:this.state.selectedItemIDs,toggleItemSelection:()=>null});return this.props.combat.map?(0,bo.jsx)(tx,{title:"Encounter",onCloseWindow:()=>this.setPlayerViewOpen(!1),children:(0,bo.jsxs)(Os,{className:"full-height full-width",children:[(0,bo.jsxs)(zs,{span:18,className:"scrollable both-ways",children:[(0,bo.jsx)("div",{className:"heading",children:"encounter map"}),(0,bo.jsx)($y,{map:this.props.combat.map,mode:"interactive-player",options:this.props.options,combatants:this.props.combat.combatants,selectedItemIDs:this.props.combat.combatants.filter((e=>"pc"===e.type)).map((e=>e.id)),selectedAreaID:this.props.combat.mapAreaID,fog:this.props.combat.fog,lighting:this.props.combat.lighting,focussedSquare:this.state.highlightedSquare,itemSelected:(e,t)=>this.toggleItemSelection(e,t)},"map")]}),(0,bo.jsxs)(zs,{span:6,className:"scrollable",children:[(0,bo.jsx)("div",{className:"heading fixed-top",children:"initiative order"}),e]})]})}):(0,bo.jsx)(tx,{title:"Encounter",onCloseWindow:()=>this.setPlayerViewOpen(!1),children:(0,bo.jsxs)("div",{className:"scrollable full-width",children:[(0,bo.jsx)("div",{className:"heading",children:"initiative order"}),e]})})}getOptions(){if(!this.state.showOptions)return null;let e=null;this.props.combat.map&&(e=(0,bo.jsx)(ug,{onConfirm:()=>{this.setState({showOptions:!1},(()=>{this.props.endCombat(this.props.combat,!0)}))},children:"end combat and start exploring"}));const t=[];this.props.combat.combatants.filter((e=>"pc"===e.type)).forEach((e=>{const n=this.props.parties.find((t=>t.pcs.find((t=>t.id===e.id))));n&&!t.includes(n)&&t.push(n)}));const n=[];t.forEach((e=>{e.pcs.forEach((t=>{this.props.combat.combatants.find((e=>e.id===t.id))||n.push((0,bo.jsxs)("button",{onClick:()=>this.props.addPC(e.id,t.id),children:[t.name," (",e.name,")"]},t.id))}))}));let r=null;n.length>0&&(r=(0,bo.jsx)(Av,{text:"add pcs",children:n}));let s=null;this.props.combat.encounter&&this.props.combat.encounter.waves.length>0&&(s=(0,bo.jsx)("button",{onClick:()=>{this.setState({showOptions:!1},(()=>{this.props.addWave()}))},children:"add wave"}));let a=null;return this.props.combat.map&&(a=(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"heading",children:"map"}),(0,bo.jsx)(zg,{label:"add token / overlay",checked:this.state.addingOverlay,onChecked:()=>this.toggleAddingOverlay()}),(0,bo.jsx)(Lg,{display:this.state.addingOverlay,children:(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"click on a map square to add a token, or select a rectangle to add an overlay"})})}),(0,bo.jsx)("button",{onClick:()=>this.props.rotateMap(),children:"rotate the map"})]})),(0,bo.jsxs)("div",{className:"scrollable",children:[(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"heading",children:"combat"}),(0,bo.jsx)("button",{onClick:()=>this.props.pauseCombat(),children:"pause combat"}),(0,bo.jsx)(ug,{onConfirm:()=>this.props.endCombat(this.props.combat,!1),children:"end combat"}),e]}),(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"heading",children:"combatants"}),(0,bo.jsx)("button",{onClick:()=>{this.setState({showOptions:!1},(()=>{this.props.addCombatants()}))},children:"add monsters"}),r,s,(0,bo.jsx)("button",{onClick:()=>{this.setState({showOptions:!1},(()=>{this.props.addCompanion(null)}))},children:"add a companion"})]}),a,(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"heading",children:"layout"}),(0,bo.jsx)(zg,{label:"show defeated combatants",checked:this.state.showDefeatedCombatants,onChecked:()=>this.toggleShowDefeatedCombatants()}),(0,bo.jsx)(gv,{value:"middle column size",downEnabled:this.state.middleColumnWidth>4,upEnabled:this.state.middleColumnWidth<14,onNudgeValue:e=>this.nudgeMiddleColumnWidth(2*e)})]})]})}getSelectedCombatants(){const e=this.state.selectedItemIDs.map((e=>this.props.combat.combatants.find((t=>t.id===e)))).filter((e=>!!e));no.sort(e,[{field:"displayName",dir:"asc"}]);const t=e.filter((e=>"placeholder"===e.type));if(t.length>0)return(0,bo.jsx)("div",{children:this.createCard(t[0])});if(e.length>0&&e.every((e=>e.current)))return(0,bo.jsxs)("div",{children:[(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"you've selected the current initiative holder"})}),this.getCheatSheet()]});if(1===e.length)return(0,bo.jsxs)("div",{children:[this.createControls(e),(0,bo.jsx)("hr",{}),this.createCard(e[0])]});if(e.length>1)return(0,bo.jsxs)("div",{children:[(0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{className:"section",children:"multiple combatants are selected:"}),(0,bo.jsx)("div",{children:e.map((e=>(0,bo.jsx)(cv,{children:(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:ao.getCombatantName(e,this.props.combat.combatants)}),(0,bo.jsx)("div",{className:"icons",children:(0,bo.jsx)(Le,{title:"deselect",onClick:()=>this.toggleItemSelection(e.id,!0)})})]})},e.id)))})]}),this.createControls(e)]});if(this.props.combat.map){const e=this.props.combat.map.items.find((e=>e.id===this.state.selectedItemIDs[0]));if(e)return(0,bo.jsx)(Ux,{item:e,moveMapItem:(e,t,n)=>this.props.mapMove([e.id],t,n),deleteMapItem:e=>this.props.mapRemove([e.id]),changeValue:(e,t,n)=>this.props.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.props.nudgeValue(e,t,n)})}return(0,bo.jsxs)("div",{children:[(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"select a pc or monster from the initiative order (in the middle column) to see its details here"})}),this.getCheatSheet()]})}getCheatSheet(){const e=[];if(this.props.combat.encounter.notes&&e.push((0,bo.jsxs)(cv,{children:[(0,bo.jsx)("div",{className:"section subheading",children:"encounter notes"}),(0,bo.jsx)(ig,{children:this.props.combat.encounter.notes})]},"encounter-notes")),this.props.combat.map&&this.props.combat.mapAreaID){const t=this.props.combat.map.areas.find((e=>e.id===this.props.combat.mapAreaID));t&&t.text&&e.push((0,bo.jsxs)(cv,{children:[(0,bo.jsx)("div",{className:"section subheading",children:"map notes"}),(0,bo.jsx)(ig,{children:t.text})]},"area-notes"))}const t=[];this.props.combat.combatants.filter((e=>e.active)).filter((e=>"monster"===e.type)).forEach((e=>{const n=e;n.traits.filter((e=>"trait"===e.type||"reaction"===e.type)).forEach((e=>{const r=t.find((t=>t.trait.name===e.name&&t.trait.text===e.text));r?r.combatants.push(n.displayName):t.push({trait:e,combatants:[n.displayName]})}))}));const n=t.filter((e=>"trait"===e.trait.type));n.length>0&&e.push((0,bo.jsxs)(cv,{children:[(0,bo.jsx)("div",{className:"section subheading",children:"traits"}),(0,bo.jsx)("div",{children:n.map((e=>(0,bo.jsxs)("div",{className:"section",children:[e.combatants.sort().join(", ")+" "+(1===e.combatants.length?"has":"have")+" ",(0,bo.jsx)(hc,{content:(0,bo.jsx)(Og,{trait:e.trait}),placement:"bottom",overlayClassName:"combat-info-tooltip",children:(0,bo.jsx)("button",{className:"link",children:e.trait.name})})]},e.trait.id)))})]},"traits"));const r=t.filter((e=>"reaction"===e.trait.type));return r.length>0&&e.push((0,bo.jsxs)(cv,{children:[(0,bo.jsx)("div",{className:"section subheading",children:"reactions"}),(0,bo.jsx)("div",{children:r.map((e=>(0,bo.jsxs)("div",{className:"section",children:[e.combatants.sort().join(", ")+" "+(1===e.combatants.length?"has":"have")+" ",(0,bo.jsx)(hc,{content:(0,bo.jsx)(Og,{trait:e.trait}),placement:"bottom",overlayClassName:"combat-info-tooltip",children:(0,bo.jsx)("button",{className:"link",children:e.trait.name})})]},e.trait.id)))})]},"reactions")),e}createControls(e){return e.some((e=>"placeholder"===e.type))?null:(0,bo.jsx)(Jy,{combatants:e,allCombatants:this.props.combat.combatants,map:this.props.combat.map,options:this.props.options,lighting:this.props.combat.lighting,makeCurrent:e=>this.props.makeCurrent(e),makeActive:e=>this.props.makeActive(e),makeDefeated:e=>this.defeatCombatants(e),nextTurn:()=>this.nextTurn(),toggleTag:(e,t)=>this.props.toggleTag(e,t),toggleCondition:(e,t)=>this.props.toggleCondition(e,t),toggleHidden:e=>this.props.toggleHidden(e),changeHP:e=>this.props.changeHP(e),addCondition:e=>this.props.addCondition(e),editCondition:(e,t)=>this.props.editCondition(e,t),deleteCondition:(e,t)=>this.props.deleteCondition(e,t),mapAdd:e=>this.setAddingToMapID(this.state.addingToMapID?null:e.id),mapMove:(e,t,n)=>this.props.mapMove(e.map((e=>e.id)),t,n),mapRemove:e=>this.props.mapRemove(e.map((e=>e.id))),undoStep:e=>this.props.undoStep(e),removeCombatants:e=>this.removeCombatants(e),addCompanion:e=>this.props.addCompanion(e),changeValue:(e,t,n)=>this.props.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.props.nudgeValue(e,t,n)})}createCard(e){switch(e.type){case"pc":return(0,bo.jsx)(uw,{pc:e});case"monster":return(0,bo.jsx)(Vg,{monster:e,combat:!0,showRollButtons:this.props.options.showMonsterDieRolls,useTrait:e=>this.props.useTrait(e),rechargeTrait:e=>this.props.rechargeTrait(e),onRollDice:(e,t,n,r,s)=>this.props.onRollDice(e,t,n,r,s)});case"companion":{let t=null;const n=e;return n.monsterID&&this.props.library.forEach((e=>{const r=e.monsters.find((e=>e.id===n.monsterID));r&&(t=(0,bo.jsx)(Vg,{monster:r,combat:!0,showRollButtons:this.props.options.showMonsterDieRolls,useTrait:e=>this.props.useTrait(e),rechargeTrait:e=>this.props.rechargeTrait(e),onRollDice:(e,t,n,r,s)=>this.props.onRollDice(e,t,n,r,s)}))})),t}case"placeholder":{const e=[];return this.props.combat.combatants.forEach((t=>{const n=t;n&&n.traits&&n.traits.some((e=>"lair"===e.type))&&e.push((0,bo.jsxs)("div",{className:"card monster",children:[(0,bo.jsx)("div",{className:"heading",children:(0,bo.jsx)("div",{className:"title",children:n.name})}),(0,bo.jsx)("div",{className:"card-content",children:(0,bo.jsx)(Pg,{combatant:n,mode:"lair",useTrait:e=>this.props.useTrait(e),rechargeTrait:e=>this.props.rechargeTrait(e)})})]},"lair "+n.id))})),e}}return null}render(){try{const e=this.props.combat.combatants.filter((e=>!!e.mountID&&"controlled"===e.mountType)).map((e=>e.mountID||"")),t=this.props.combat.combatants.filter((t=>!e.includes(t.id))).find((e=>e.current)),n=this.props.combat.combatants.filter((t=>!e.includes(t.id))).filter((e=>e.pending)),r=n.map((e=>(0,bo.jsx)(Hx,{combatant:e,changeValue:(e,t,n)=>this.props.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.props.nudgeValue(e,t,n),makeActive:e=>this.props.makeActive([e]),remove:e=>this.props.removeCombatants([e])},e.id)));0!==n.length&&r.unshift((0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{className:"section",children:"these combatants are not yet part of the encounter"}),(0,bo.jsxs)("div",{className:"section",children:["set initiative on each of them, then press the ",(0,bo.jsx)(Ve,{})," button to add them to the initiative order - or press ",(0,bo.jsx)(Le,{})," to remove someone from the combat"]}),(0,bo.jsxs)("div",{className:"section",children:["you can hide this section by clicking on the ",(0,bo.jsx)(Mx,{})," button above"]})]},"pending-help"));let s=null;t||(s=(0,bo.jsxs)(gg,{children:[(0,bo.jsxs)("div",{className:"section",children:["these are the combatants taking part in this encounter; you can select them to see their stat blocks (on the right); you can select multiple combatants by holding the ",(0,bo.jsx)("code",{children:"ctrl"})," key"]}),(0,bo.jsx)("div",{className:"section",children:"they are listed in initiative order (with the highest initiative score at the top of the list, and the lowest at the bottom)"}),(0,bo.jsx)("div",{className:"section",children:"this message will go away when combat starts"})]},"init-help"));const a=(0,bo.jsx)(Px,{combat:this.props.combat,playerView:!1,selectedText:"selected",showDefeated:this.state.showDefeatedCombatants,help:s,selectedItemIDs:this.state.selectedItemIDs,toggleItemSelection:(e,t)=>this.toggleItemSelection(e,t)});let i=null,o=null;t?o=(0,bo.jsxs)("div",{children:[this.createControls([t]),(0,bo.jsx)("hr",{}),this.createCard(t)]}):i=(0,bo.jsxs)("div",{children:[(0,bo.jsxs)(gg,{children:[(0,bo.jsxs)("div",{className:"section",children:["when you're ready to begin, press the ",(0,bo.jsx)("b",{children:"start combat"})," button"]}),(0,bo.jsx)("div",{className:"section",children:"the current initiative holder will be displayed in this column"})]}),(0,bo.jsx)("button",{onClick:()=>this.nextTurn(),children:"start combat"})]});let l=null;if(this.props.combat.map){const e=ao.getActiveCombatants(this.props.combat,!1,this.state.showDefeatedCombatants).filter((e=>this.props.combat.map&&!this.props.combat.map.items.find((t=>t.id===e.id))));e.length>0&&(l=(0,bo.jsxs)("div",{children:[(0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{className:"section",children:"these combatants are in the initiative order, but have not yet been placed on the map (shown in the middle column)"}),(0,bo.jsxs)("div",{className:"section",children:["to place one on the map, click the ",(0,bo.jsx)(dy,{})," button and then click on a map square"]}),(0,bo.jsxs)("div",{className:"section",children:["or, click ",(0,bo.jsx)("button",{className:"link",onClick:()=>this.props.scatterCombatants(e,this.props.combat.mapAreaID),children:"here"})," to scatter them randomly"]})]}),e.map((e=>(0,bo.jsx)(Lx,{combatant:e,addToMap:e=>this.setAddingToMapID(e.id)},e.id)))]}))}let A=null;this.props.combat.map&&(A=(0,bo.jsx)("div",{className:"scrollable horizontal-only",children:(0,bo.jsx)($y,{map:this.props.combat.map,mode:"interactive-dm",features:{highlight:this.state.highlightMapSquare,editFog:this.state.editFog,lightSource:this.state.addingLightSource},options:this.props.options,showGrid:null!==this.state.addingToMapID||this.state.addingOverlay||this.state.editFog||this.state.highlightMapSquare||this.state.addingLightSource,combatants:this.props.combat.combatants,selectedItemIDs:this.state.selectedItemIDs,selectedAreaID:this.props.combat.mapAreaID,fog:this.props.combat.fog,lighting:this.props.combat.lighting,focussedSquare:this.state.highlightedSquare,itemSelected:(e,t)=>this.toggleItemSelection(e,t),itemRemove:e=>this.props.mapRemove([e]),conditionRemove:(e,t)=>this.props.deleteCondition(e,t),toggleTag:(e,t)=>this.props.toggleTag(e,t),toggleCondition:(e,t)=>this.props.toggleCondition(e,t),toggleHidden:e=>this.props.toggleHidden(e),areaSelected:e=>this.props.changeValue(this.props.combat,"mapAreaID",e),gridSquareEntered:(e,t)=>this.setHighlightedSquare(e,t),gridSquareClicked:(e,t)=>this.gridSquareClicked(e,t),gridRectangleSelected:(e,t,n,r)=>this.gridRectangleSelected(e,t,n,r),changeLighting:e=>this.props.changeValue(this.props.combat,"lighting",e),changeLightSource:(e,t,n,r)=>this.props.mapChangeLightSource(e,t,n,r),removeLightSource:e=>this.props.mapDeleteLightSource(this.props.combat.map,e),toggleFeature:e=>{switch(e){case"highlight":this.toggleHighlightMapSquare();break;case"editFog":this.toggleEditFog();break;case"lightSource":this.toggleAddingLightSource()}},fillFog:()=>this.fillFog(),clearFog:()=>this.clearFog(),changeValue:(e,t,n)=>this.props.changeValue(e,t,n)})},"map"));const c=[];t&&this.props.combat.combatants.filter((e=>!e.pending&&e.active&&!e.defeated)).forEach((e=>{const t=e;t&&t.traits&&t.traits.some((e=>"legendary"===e.type||"mythic"===e.type))&&!t.current&&c.push((0,bo.jsxs)("div",{className:"card monster",children:[(0,bo.jsx)("div",{className:"heading",children:(0,bo.jsx)("div",{className:"title",children:t.name})}),(0,bo.jsx)("div",{className:"card-content",children:(0,bo.jsx)(Pg,{combatant:t,mode:"legendary",useTrait:e=>this.props.useTrait(e),rechargeTrait:e=>this.props.rechargeTrait(e)})})]},"leg "+t.id))}));const u=this.state.middleColumnWidth,d=(24-u)/2;return(0,bo.jsxs)("div",{className:"full-height",children:[(0,bo.jsxs)(Os,{align:"middle",className:"combat-top-row",children:[(0,bo.jsx)(zs,{span:d,children:(0,bo.jsxs)("div",{className:"menu",onClick:()=>this.toggleShowOptions(),role:"button",children:[(0,bo.jsx)(Fb,{title:"options"}),(0,bo.jsx)("span",{children:"options"})]})}),(0,bo.jsx)(zs,{span:u,children:this.props.combat.combatants.find((e=>e.current))?(0,bo.jsx)("div",{className:"action",children:(0,bo.jsx)("button",{onClick:()=>this.nextTurn(),children:"next turn"})}):null}),(0,bo.jsx)(zs,{span:d,children:(0,bo.jsxs)(Os,{children:[(0,bo.jsx)(zs,{span:12,children:(0,bo.jsxs)("div",{className:"information",children:[(0,bo.jsx)("div",{children:"round"}),(0,bo.jsx)("div",{className:"information-value",children:this.props.combat.round})]})}),(0,bo.jsx)(zs,{span:12,children:(0,bo.jsxs)("div",{className:"information",children:[(0,bo.jsx)("div",{className:"information-value",children:ao.getCombatXP(this.props.combat)}),(0,bo.jsx)("div",{children:"xp"})]})})]})})]}),(0,bo.jsxs)(Os,{className:"combat-main",children:[(0,bo.jsxs)(zs,{span:d,className:"scrollable",children:[(0,bo.jsx)(dw,{heading:"waiting for intiative",content:r,columns:1,showToggle:!0}),(0,bo.jsx)(dw,{heading:"not on the map",content:[l],columns:1,showToggle:!0}),(0,bo.jsx)(dw,{heading:"ready to start",content:[i],columns:1,showToggle:!1}),(0,bo.jsx)(dw,{heading:"initiative holder",content:[o],columns:1,showToggle:!1})]}),(0,bo.jsxs)(zs,{span:u,className:"scrollable",children:[(0,bo.jsx)(dw,{heading:"legendary actions",content:c,columns:1,showToggle:!0}),(0,bo.jsx)(dw,{heading:"encounter map",content:[A],columns:1,showToggle:!0}),(0,bo.jsx)(dw,{heading:"initiative order",content:[a],columns:1,showToggle:!0})]}),(0,bo.jsx)(zs,{span:d,className:"scrollable",children:(0,bo.jsx)(dw,{heading:"selected",content:[this.getSelectedCombatants()],columns:1})})]}),this.getPlayerView(),(0,bo.jsxs)(_i,{className:this.props.options.theme,placement:"left",closable:!1,maskClosable:!0,width:"33%",open:this.state.showOptions,onClose:()=>this.toggleShowOptions(),children:[(0,bo.jsx)("div",{className:"drawer-header",children:(0,bo.jsx)("div",{className:"app-title",children:"options"})}),(0,bo.jsx)("div",{className:"drawer-content",children:this.getOptions()}),(0,bo.jsx)("div",{className:"drawer-footer",children:null})]})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"CombatScreen",error:bC})}}}class Rx extends A.Component{constructor(e){super(e),this.state={awardText:"",awardCategory:null,showPending:!0,showGranted:!0}}setAwardText(e){this.setState({awardText:e})}setAwardCategory(e){this.setState({awardCategory:""===e?null:e})}setShowPending(e){this.setState({showPending:e})}setShowGranted(e){this.setState({showGranted:e})}render(){try{var e;const t=no.arrayToItems(db.getCategories());t.unshift({id:"",text:"all",disabled:!1});let n=db.getAwards(),r=null;if(this.props.party){const e=[].concat(this.props.party.awards);if(this.props.party.pcs.forEach((t=>{e.concat(t.awards)})),n=n.filter((t=>{const n=e.includes(t.id);return!(!this.state.showGranted||!n)||!(!this.state.showPending||n)})).filter((e=>!(""!==this.state.awardText&&!so.matchAward(this.state.awardText,e))&&(!this.state.awardCategory||e.category===this.state.awardCategory))),n.length>0){const t=n.filter((t=>e.includes(t.id)));r=(0,bo.jsxs)("div",{className:"section centered",children:[(0,bo.jsx)(ud,{status:"normal",percent:100*t.length/n.length,type:"circle",format:()=>t.length+" / "+n.length}),(0,bo.jsx)("hr",{})]})}}const s=n.map((e=>{let t=null;if(this.props.party){const n=[];this.props.party.awards.includes(e.id)&&n.push((0,bo.jsx)(cv,{children:(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:(0,bo.jsx)("div",{className:"section",children:this.props.party.name||"unnamed party"})}),(0,bo.jsx)("div",{className:"icons",children:(0,bo.jsx)(Le,{onClick:()=>this.props.deleteAward(e.id,this.props.party)})})]})},this.props.party.id));const r=[{id:this.props.party.id,text:this.props.party.name||"unnamed party"}];this.props.party.pcs.filter((e=>e.active)).forEach((t=>{t.awards.includes(e.id)&&n.push((0,bo.jsx)(cv,{children:(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:(0,bo.jsx)("div",{className:"section",children:t.name||"unnamed pc"})}),(0,bo.jsx)("div",{className:"icons",children:(0,bo.jsx)(Le,{onClick:()=>this.props.deleteAward(e.id,t)})})]})},t.id)),r.push({id:t.id,text:t.name||"unnamed pc"})})),t=(0,bo.jsxs)("div",{children:[(0,bo.jsx)("hr",{}),n,(0,bo.jsx)(mg,{placeholder:"award to...",options:r,onSelect:t=>{if(this.props.party)if(t===this.props.party.id)this.props.addAward(e.id,this.props.party);else{const n=this.props.party.pcs.find((e=>e.id===t));n&&this.props.addAward(e.id,n)}}})]})}return(0,bo.jsx)(fb,{award:e,children:(0,bo.jsx)("div",{children:t})},e.id)}));return 0===n.length&&s.push((0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"no awards"})})),(0,bo.jsxs)("div",{children:[(0,bo.jsxs)(Av,{text:"filter awards",children:[(0,bo.jsx)(xo,{text:this.state.awardText,placeholder:"search",noMargins:!0,onChange:e=>this.setAwardText(e)}),(0,bo.jsx)(vv,{options:t,selectedID:null!==(e=this.state.awardCategory)&&void 0!==e?e:"",itemsPerRow:4,onSelect:e=>this.setAwardCategory(e)}),(0,bo.jsx)(Lg,{display:null!==this.props.party,children:(0,bo.jsxs)(Os,{gutter:10,children:[(0,bo.jsx)(zs,{span:12,children:(0,bo.jsx)(zg,{label:"pending awards",checked:this.state.showPending,onChecked:e=>this.setShowPending(e)})}),(0,bo.jsx)(zs,{span:12,children:(0,bo.jsx)(zg,{label:"granted awards",checked:this.state.showGranted,onChecked:e=>this.setShowGranted(e)})})]})})]}),r,s]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"AwardsBreakdownPanel",error:bC})}}}class Vx extends A.Component{render(){try{if(!this.props.party)return null;const e=this.props.party.pcs.filter((e=>e.active));if(0===e.length)return(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"no pcs"})});const t=Math.round(e.reduce(((e,t)=>e+t.level),0)/e.length),n=oo.getKnownLanguages(e),r=n.map((t=>{const n=e.filter((e=>e.languages.toLowerCase().includes(t.toLowerCase()))),r=n.length===e.length?"all pcs":n.map((e=>e.name)).join(", "),s=oo.capitalise(t);return(0,bo.jsxs)("div",{className:"table-row",children:[(0,bo.jsx)("div",{className:"table-cell l",children:s}),(0,bo.jsx)("div",{className:"table-cell l wide",children:r})]},s)})),s=oo.getAllLanguages().map((e=>oo.capitalise(e))).filter((e=>!n.includes(e)));let a=null;s.length>0&&(a=(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("b",{children:"unknown languages"}),": ",s.join(", ")]}));const i=e.map((e=>e.darkvision)).reduce(((e,t)=>(-1===e.indexOf(t)&&e.push(t),e)),[]).sort(),o=i.map((t=>{const n=e.filter((e=>e.darkvision===t)),r=n.length===e.length?"all pcs":n.map((e=>e.name)).join(", ");return(0,bo.jsxs)("div",{className:"table-row",children:[(0,bo.jsx)("div",{className:"table-cell l small",children:t>0?t+" ft":"none"}),(0,bo.jsx)("div",{className:"table-cell l",children:r})]},t)})),l={min:Number.MAX_VALUE,max:Number.MIN_VALUE},A={min:Number.MAX_VALUE,max:Number.MIN_VALUE},c={min:Number.MAX_VALUE,max:Number.MIN_VALUE};e.forEach((e=>{l.min=Math.min(l.min,e.passiveInsight),l.max=Math.max(l.max,e.passiveInsight),A.min=Math.min(A.min,e.passiveInvestigation),A.max=Math.max(A.max,e.passiveInvestigation),c.min=Math.min(c.min,e.passivePerception),c.max=Math.max(c.max,e.passivePerception)}));const u=Math.min(l.min,A.min,c.min),d=Math.max(l.max,A.max,c.max),h=[];for(let m=d;m>=u;--m){const t=e.filter((e=>e.passiveInsight===m)).map((e=>e.name)).join(", "),n=e.filter((e=>e.passiveInvestigation===m)).map((e=>e.name)).join(", "),r=e.filter((e=>e.passivePerception===m)).map((e=>e.name)).join(", ");h.push((0,bo.jsxs)("div",{className:"table-row",children:[(0,bo.jsx)("div",{className:"table-cell l small",children:m}),(0,bo.jsx)("div",{className:"table-cell l",children:t}),(0,bo.jsx)("div",{className:"table-cell l",children:n}),(0,bo.jsx)("div",{className:"table-cell l",children:r})]},m))}let p=null;if(this.props.showAwards){const e=db.getAwards().filter((e=>{var t,n;let r=!1;return null!==(t=this.props.party)&&void 0!==t&&t.awards.includes(e.id)&&(r=!0),null===(n=this.props.party)||void 0===n||n.pcs.forEach((t=>{t.awards.includes(e.id)&&(r=!0)})),r})).map((e=>{var t,n;const r=[];null!==(t=this.props.party)&&void 0!==t&&t.awards.includes(e.id)&&r.push(this.props.party.name||"unnamed party"),null===(n=this.props.party)||void 0===n||n.pcs.forEach((t=>{t.awards.includes(e.id)&&r.push(t.name||"unnamed pc")}));let s=null;return r.length>0&&(s=(0,bo.jsxs)("div",{children:[(0,bo.jsx)("hr",{}),(0,bo.jsxs)("div",{className:"section",children:["awarded to:",r.map((e=>(0,bo.jsx)(Pc,{children:e},e)))]})]})),(0,bo.jsx)(fb,{award:e,children:(0,bo.jsx)("div",{children:s})},e.id)}));p=(0,bo.jsxs)("div",{children:[(0,bo.jsx)("hr",{}),(0,bo.jsx)("div",{className:"section subheading",children:"awards"}),(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"no awards yet"})})]}),e.length>0&&(p=(0,bo.jsxs)("div",{children:[(0,bo.jsx)("hr",{}),(0,bo.jsx)("div",{className:"section subheading",children:"awards"}),e]}))}return(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"section subheading",children:"average level"}),(0,bo.jsx)("div",{className:"section",children:(0,bo.jsx)(ud,{status:"normal",percent:5*t,format:()=>t})}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("div",{className:"section subheading",children:"languages"}),(0,bo.jsxs)("div",{className:"table alternating",children:[(0,bo.jsxs)("div",{className:"table-row table-row-header",children:[(0,bo.jsx)("div",{className:"table-cell l",children:"language"}),(0,bo.jsx)("div",{className:"table-cell l wide",children:"spoken by"})]}),r]}),a,(0,bo.jsx)("hr",{}),(0,bo.jsx)("div",{className:"section subheading",children:"darkvision"}),(0,bo.jsxs)("div",{className:"table alternating",children:[(0,bo.jsxs)("div",{className:"table-row table-row-header",children:[(0,bo.jsx)("div",{className:"table-cell l small",children:"range"}),(0,bo.jsx)("div",{className:"table-cell l",children:"pcs"})]}),o]}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("div",{className:"section subheading",children:"passive skills"}),(0,bo.jsxs)("div",{className:"table alternating",children:[(0,bo.jsxs)("div",{className:"table-row table-row-header",children:[(0,bo.jsx)("div",{className:"table-cell l small"}),(0,bo.jsx)("div",{className:"table-cell l",children:"insight"}),(0,bo.jsx)("div",{className:"table-cell l",children:"investigation"}),(0,bo.jsx)("div",{className:"table-cell l",children:"perception"})]}),h]}),(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"remember that advantage / disadvantage grants +/- 5 to passive rolls"})}),p]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"PartyBreakdownPanel",error:bC})}}}class Kx extends A.Component{constructor(e){super(e),this.state={leftView:"skills",rightView:null,selectedPartyID:1===e.parties.length?e.parties[0].id:null,generatorType:"names",generatedItems:[],npc:null}}setLeftView(e){this.setState({leftView:e})}setRightView(e){this.setState({rightView:e})}setSelectedPartyID(e){this.setState({selectedPartyID:e})}setGeneratorType(e){this.setState({generatorType:e})}async generate(){const e=[];let t=null;switch(this.state.generatorType){case"names":for(;e.length<10;)e.push(oo.generateName());break;case"potions":for(;e.length<10;)e.push(oo.generatePotion());break;case"treasure":for(;e.length<10;)e.push(oo.generateTreasure());break;case"place names":{const t=await fetch("/dojo/data/places.txt"),n=await t.text();for(oo.initModel([n]);e.length<10;)e.push(oo.generateLine())}break;case"npc":t={age:oo.generateNPCAge(),profession:oo.generateNPCProfession(),height:oo.generateNPCHeight(),weight:oo.generateNPCWeight(),hair:oo.generateNPCHair(),physical:oo.generateNPCPhysical(),mental:oo.generateNPCMental(),speech:oo.generateNPCSpeech(),trait:oo.generateNPCTrait(),ideal:oo.generateNPCIdeal(),bond:oo.generateNPCBond(),flaw:oo.generateNPCFlaw()};break;case"wild surge":e.push(io.getWildSurge())}this.setState({generatedItems:e.sort(),npc:t})}getPartyHeader(){return this.props.parties.length>1?(0,bo.jsxs)("div",{children:[(0,bo.jsx)(mg,{options:this.props.parties.map((e=>({id:e.id,text:e.name||"unnamed party"}))),placeholder:"select a party...",selectedID:this.state.selectedPartyID,onSelect:e=>this.setSelectedPartyID(e),onClear:()=>this.setSelectedPartyID(null)}),(0,bo.jsx)(Lg,{display:null!==this.state.selectedPartyID,children:(0,bo.jsx)("hr",{})})]}):1===this.props.parties.length?(0,bo.jsx)("div",{className:"heading",children:this.props.parties[0].name||"unnamed party"}):null}getGeneratorsSection(){let e=null;if("npc"===this.state.generatorType)null!==this.state.npc&&(e=(0,bo.jsxs)("div",{children:[(0,bo.jsx)("hr",{}),(0,bo.jsxs)(cv,{children:[(0,bo.jsxs)("div",{className:"section large",children:[(0,bo.jsx)("b",{children:"age:"})," ",this.state.npc.age]}),(0,bo.jsxs)("div",{className:"section large",children:[(0,bo.jsx)("b",{children:"profession:"})," ",this.state.npc.profession]}),(0,bo.jsxs)("div",{className:"section large",children:[(0,bo.jsx)("b",{children:"height:"})," ",this.state.npc.height]}),(0,bo.jsxs)("div",{className:"section large",children:[(0,bo.jsx)("b",{children:"weight:"})," ",this.state.npc.weight]}),(0,bo.jsxs)("div",{className:"section large",children:[(0,bo.jsx)("b",{children:"hair:"})," ",this.state.npc.hair]}),(0,bo.jsxs)("div",{className:"section large",children:[(0,bo.jsx)("b",{children:"physical:"})," ",this.state.npc.physical]}),(0,bo.jsxs)("div",{className:"section large",children:[(0,bo.jsx)("b",{children:"personality:"})," ",this.state.npc.mental]}),(0,bo.jsxs)("div",{className:"section large",children:[(0,bo.jsx)("b",{children:"speech:"})," ",this.state.npc.speech]}),(0,bo.jsx)("hr",{}),(0,bo.jsxs)("div",{className:"section large",children:[(0,bo.jsx)("b",{children:"trait:"})," ",this.state.npc.trait]}),(0,bo.jsxs)("div",{className:"section large",children:[(0,bo.jsx)("b",{children:"ideal:"})," ",this.state.npc.ideal]}),(0,bo.jsxs)("div",{className:"section large",children:[(0,bo.jsx)("b",{children:"bond:"})," ",this.state.npc.bond]}),(0,bo.jsxs)("div",{className:"section large",children:[(0,bo.jsx)("b",{children:"flaw:"})," ",this.state.npc.flaw]})]})]}));else this.state.generatedItems.length>0&&(e=(0,bo.jsxs)("div",{children:[(0,bo.jsx)("hr",{}),this.state.generatedItems.map(((e,t)=>(0,bo.jsx)(zx,{text:e},t)))]}));return(0,bo.jsxs)("div",{children:[(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:(0,bo.jsx)(vv,{options:no.arrayToItems(["names","potions","treasure","place names","npc","wild surge"]),selectedID:this.state.generatorType,itemsPerRow:3,onSelect:e=>this.setGeneratorType(e)})}),(0,bo.jsx)("div",{className:"icons",children:(0,bo.jsx)(Fo,{title:"generate",onClick:()=>this.generate()})})]}),e]})}getAwardsSection(){var e;return(0,bo.jsxs)("div",{children:[this.getPartyHeader(),(0,bo.jsx)(Rx,{party:null!==(e=this.props.parties.find((e=>e.id===this.state.selectedPartyID)))&&void 0!==e?e:null,addAward:(e,t)=>this.props.addAward(e,t),deleteAward:(e,t)=>this.props.deleteAward(e,t)})]})}render(){try{var e,t;const n=no.arrayToItems(["skills","conditions","actions"]),r=[];this.props.parties.length>0&&r.push("party breakdown"),r.push("generators"),this.props.showAwards&&r.push("awards");const s=null!==(e=this.state.rightView)&&void 0!==e?e:r[0];return(0,bo.jsxs)(Os,{gutter:10,className:"full-height",children:[(0,bo.jsxs)(zs,{span:16,className:"full-height",children:[(0,bo.jsx)(wv,{options:n,selectedID:this.state.leftView,onSelect:e=>this.setLeftView(e)}),(0,bo.jsxs)("div",{className:"scrollable",style:{height:"calc(100% - 52px)"},children:[(0,bo.jsx)(Lg,{display:"skills"===this.state.leftView,children:(0,bo.jsx)(Jb,{filename:"/dojo/data/skills.md"})}),(0,bo.jsx)(Lg,{display:"conditions"===this.state.leftView,children:(0,bo.jsx)(Jb,{filename:"/dojo/data/conditions.md"})}),(0,bo.jsx)(Lg,{display:"actions"===this.state.leftView,children:(0,bo.jsx)(Jb,{filename:"/dojo/data/actions.md"})})]})]}),(0,bo.jsxs)(zs,{span:8,className:"full-height",children:[(0,bo.jsx)(wv,{options:no.arrayToItems(r),selectedID:s,onSelect:e=>this.setRightView(e)}),(0,bo.jsxs)("div",{className:"scrollable",style:{height:"calc(100% - 52px)"},children:[(0,bo.jsxs)(Lg,{display:"party breakdown"===s,children:[(0,bo.jsx)("div",{children:this.getPartyHeader()}),(0,bo.jsx)(Vx,{party:null!==(t=this.props.parties.find((e=>e.id===this.state.selectedPartyID)))&&void 0!==t?t:null,showAwards:this.props.showAwards})]}),(0,bo.jsx)(Lg,{display:"generators"===s,children:this.getGeneratorsSection()}),(0,bo.jsx)(Lg,{display:"awards"===s,children:this.getAwardsSection()})]})]})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"DMScreen",error:bC})}}}class zx extends A.Component{copy(e){e.stopPropagation(),navigator.clipboard.writeText(this.props.text)}render(){try{return(0,bo.jsx)(cv,{children:(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:(0,bo.jsx)("div",{className:"section large",children:this.props.text.toLowerCase()})}),(0,bo.jsx)("div",{className:"icons",children:(0,bo.jsx)(Td,{title:"copy to clipboard",onClick:e=>this.copy(e)})})]})})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"GeneratedItem",error:bC})}}}class _x extends A.Component{render(){return(0,bo.jsxs)("div",{children:[(0,bo.jsx)("button",{onClick:()=>this.props.resumeCombat(this.props.combat),children:"resume combat"}),(0,bo.jsx)(ug,{onConfirm:()=>this.props.deleteCombat(this.props.combat),children:"delete combat"})]})}}class Gx extends A.Component{getValue(e){switch(e.type){case"pc":return"pc";case"monster":{var t,n,r;const s=null!==(t=e.hpCurrent)&&void 0!==t?t:0,a=null!==(n=e.hpMax)&&void 0!==n?n:0,i=null!==(r=e.hpTemp)&&void 0!==r?r:0;let o=s.toString();return i>0&&(o+="+"+i),s<a&&(o+=" / "+a),o+" hp"}}return null}render(){try{let e=null;this.props.combat.map&&(e=(0,bo.jsx)("div",{className:"section",children:(0,bo.jsx)($y,{map:this.props.combat.map,fog:this.props.combat.fog,combatants:this.props.combat.combatants})}));const t=this.props.combat.combatants.filter((e=>e.active)).filter((e=>"placeholder"!==e.type)).map((e=>(0,bo.jsx)(cv,{transparent:!0,onClick:()=>this.props.openStatBlock(e),children:(0,bo.jsxs)("div",{className:"content-then-info",children:[(0,bo.jsxs)("div",{className:"content",children:[(0,bo.jsx)(Sd,{source:e,inline:!0}),ao.getCombatantName(e,this.props.combat.combatants)]}),(0,bo.jsx)("div",{className:"info",children:this.getValue(e)})]})},e.id)));return(0,bo.jsxs)("div",{className:"card encounter",children:[(0,bo.jsx)("div",{className:"heading",children:(0,bo.jsx)("div",{className:"title",children:this.props.combat.name||"unnamed combat"})}),(0,bo.jsxs)("div",{className:"card-content",children:[(0,bo.jsxs)("div",{className:"fixed-height",children:[(0,bo.jsxs)("div",{className:"section",children:["paused at round ",this.props.combat.round]}),e,(0,bo.jsx)("div",{className:"subheading",children:"initiative order"}),t]}),(0,bo.jsx)("hr",{}),(0,bo.jsx)(_x,{combat:this.props.combat,resumeCombat:e=>this.props.resumeCombat(e),deleteCombat:e=>this.props.deleteCombat(e)})]})]},this.props.combat.id)}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"CombatCard",error:bC})}}}const Wx={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"};var Yx=function(e,t){return A.createElement(De,l(l({},e),{},{ref:t,icon:Wx}))};const qx=A.forwardRef(Yx);class Xx extends A.Component{constructor(e){super(e),this.state={cloneName:e.encounter.name+" copy"}}setCloneName(e){this.setState({cloneName:e})}render(){try{let e=null;return 1===this.props.parties.length&&(e=(0,bo.jsx)("button",{onClick:()=>this.props.startEncounter(this.props.parties[0].id,this.props.encounter.id),children:"start combat"})),this.props.parties.length>1&&(e=(0,bo.jsx)(mg,{options:this.props.parties.map((e=>({id:e.id,text:e.name||"unnamed party"}))),placeholder:"start combat with...",onSelect:e=>this.props.startEncounter(e,this.props.encounter.id)})),(0,bo.jsxs)("div",{children:[(0,bo.jsx)(Av,{text:"copy encounter",children:(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:(0,bo.jsx)(xo,{text:this.state.cloneName,placeholder:"name of copy",onChange:e=>this.setCloneName(e)})}),(0,bo.jsx)("div",{className:"icons",children:(0,bo.jsx)(qx,{title:"create copy",className:""===this.state.cloneName?"disabled":"",onClick:()=>this.props.cloneEncounter(this.props.encounter,this.state.cloneName)})})]})}),e,(0,bo.jsx)(ug,{disabled:this.props.adventures.some((e=>go.getScenes(e.plot).some((e=>e.resources.some((e=>"encounter"===e.type&&e.content===this.props.encounter.id)))))),onConfirm:()=>this.props.deleteEncounter(this.props.encounter),children:"delete encounter"})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"EncounterOptions",error:bC})}}}class Jx extends A.Component{getText(e){let t="";if(""!==e.monsterID){const n=this.props.getMonster(e.monsterID);if(n&&n.name){t=n.name;const r=this.props.getMonster(e.monsterThemeID);r&&r.name&&(t+=" "+r.name)}t=t||"unnamed monster"}else t=e.roles.join(", ");return t}getPortrait(e){const t=this.props.getMonster(e.monsterID);return t&&t.portrait?(0,bo.jsx)(Sd,{source:t,inline:!0}):null}getValue(e){let t="";return e.count>1&&(t&&(t+=" "),t+="x"+e.count),"foe"!==e.faction&&(t&&(t+=" "),t+="("+e.faction+")"),t||null}render(){try{const e=this.props.encounter.slots.map((e=>(0,bo.jsx)(cv,{transparent:!0,onClick:()=>this.props.openStatBlock(e),children:(0,bo.jsxs)("div",{className:"content-then-info",children:[(0,bo.jsxs)("div",{className:"content",children:[this.getPortrait(e),this.getText(e)]}),(0,bo.jsx)("div",{className:"info",children:this.getValue(e)})]})},e.id)));return 0===e.length&&e.push((0,bo.jsx)("div",{className:"section",children:"no monsters"},"empty")),this.props.encounter.waves.forEach((t=>{e.push((0,bo.jsx)("div",{className:"section subheading",children:t.name||"unnamed wave"},"name "+t.id)),t.slots.forEach((t=>{e.push((0,bo.jsx)(cv,{transparent:!0,onClick:()=>this.props.openStatBlock(t),children:(0,bo.jsxs)("div",{className:"content-then-info",children:[(0,bo.jsxs)("div",{className:"content",children:[this.getPortrait(t),this.getText(t)]}),(0,bo.jsx)("div",{className:"info",children:this.getValue(t)})]})},t.id))})),0===e.length&&e.push((0,bo.jsx)("div",{className:"section",children:"no monsters"},"empty "+t.id))})),(0,bo.jsxs)("div",{className:"card encounter",children:[(0,bo.jsx)("div",{className:"heading",children:(0,bo.jsx)("div",{className:"title",children:this.props.encounter.name||"unnamed encounter"})}),(0,bo.jsxs)("div",{className:"card-content",children:[(0,bo.jsxs)("div",{className:"fixed-height",children:[(0,bo.jsx)("div",{className:"subheading",children:"monsters"}),e,(0,bo.jsx)("div",{className:"subheading",children:"xp"}),ao.getEncounterXP(this.props.encounter,null,(e=>this.props.getMonster(e))),(0,bo.jsxs)(Lg,{display:!!this.props.encounter.notes,children:[(0,bo.jsx)("div",{className:"subheading",children:"notes"}),(0,bo.jsx)(ig,{children:this.props.encounter.notes})]})]}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("button",{onClick:()=>this.props.openEncounter(this.props.encounter),children:"open encounter"}),(0,bo.jsx)(Av,{text:"more options",children:(0,bo.jsx)(Xx,{encounter:this.props.encounter,parties:this.props.parties,adventures:this.props.adventures,cloneEncounter:(e,t)=>this.props.cloneEncounter(e,t),startEncounter:(e,t)=>this.props.startEncounter(e,t),deleteEncounter:e=>this.props.deleteEncounter(e)})})]})]},this.props.encounter.id)}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"EncounterCard",error:bC})}}}class Zx extends A.Component{render(){try{return(0,bo.jsxs)("div",{children:[(0,bo.jsx)("button",{onClick:()=>this.props.addEncounter(null),children:"add a new encounter"}),(0,bo.jsxs)(Av,{text:"use an encounter template",children:[(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"these templates give you a good framework for creating an encounter"})}),(0,bo.jsx)("div",{children:ao.encounterTemplates().map((e=>(0,bo.jsx)("button",{onClick:()=>this.props.addEncounter(e.name),children:e.name},e.name)))})]}),(0,bo.jsx)("button",{onClick:()=>this.props.createEncounter(),children:"generate a random encounter"})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"EncounterListOptions",error:bC})}}}class $x extends A.Component{openStatBlock(e){const t=ao.slotToMonster(e,(e=>this.props.getMonster(e)));t&&this.props.openStatBlock(t)}render(){try{if(!this.props.hasMonsters)return(0,bo.jsx)(Os,{align:"middle",justify:"center",className:"scrollable",children:(0,bo.jsx)("div",{style:{width:"400px"},children:(0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{className:"section",children:"this screen is for building encounters, but before you can do that you need to do these things first:"}),(0,bo.jsx)("ul",{children:(0,bo.jsxs)("li",{children:[(0,bo.jsxs)("span",{className:this.props.hasMonsters?"strikethrough":"",children:["add some monsters in the ",(0,bo.jsx)("button",{className:"link",onClick:()=>this.props.setView("library"),children:"monsters screen"})]}),this.props.hasMonsters?(0,bo.jsx)(Ve,{title:"done",style:{marginLeft:"5px"}}):null]})})]})})});const e=this.props.combats;no.sort(e);const t=e.map((e=>(0,bo.jsx)(Gx,{combat:e,resumeCombat:e=>this.props.resumeCombat(e),deleteCombat:e=>this.props.deleteCombat(e),openStatBlock:e=>this.props.openStatBlock(e)},e.id))),n=this.props.encounters;no.sort(n);const r=n.map((e=>(0,bo.jsx)(Jx,{encounter:e,parties:this.props.parties,adventures:this.props.adventures,openEncounter:e=>this.props.openEncounter(e),deleteEncounter:e=>this.props.deleteEncounter(e),cloneEncounter:(e,t)=>this.props.cloneEncounter(e,t),startEncounter:(e,t)=>this.props.startEncounter(e,t),openStatBlock:e=>this.openStatBlock(e),getMonster:e=>this.props.getMonster(e)},e.id)));return(0,bo.jsxs)(Os,{className:"full-height",children:[(0,bo.jsxs)(zs,{span:6,className:"scrollable sidebar sidebar-left",children:[(0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{className:"section",children:"on this page you can set up encounters"}),(0,bo.jsx)("div",{className:"section",children:"when you have created an encounter you can add monsters to it, then gauge its difficulty for a party of pcs"}),(0,bo.jsx)("div",{className:"section",children:"when you have set up a party and an encounter you can then run the encounter"}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("div",{className:"section",children:"on the right you will see the encounters that you have created"}),(0,bo.jsxs)("div",{className:"section",children:["press an encounter's ",(0,bo.jsx)("b",{children:"open encounter"})," button to see its details and add monsters to it"]}),(0,bo.jsx)("hr",{}),(0,bo.jsxs)("div",{className:"section",children:["to start building an encounter, press the ",(0,bo.jsx)("b",{children:"add a new encounter"})," button"]})]}),(0,bo.jsx)(Zx,{createEncounter:()=>this.props.createEncounter(),addEncounter:e=>this.props.addEncounter(e)})]}),(0,bo.jsxs)(zs,{span:18,className:"scrollable",children:[(0,bo.jsx)(dw,{heading:"in progress",content:t}),(0,bo.jsx)(dw,{heading:"encounters",content:r})]})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"EncounterListScreen",error:bC})}}}class eB extends A.Component{constructor(e){super(e),this.state={count:e.slot.count}}setCount(e){this.setState({count:e})}getMoveControl(){if(0===this.props.encounter.waves.length)return null;let e=null;this.props.slot.count>1&&(e=(0,bo.jsx)(zv,{min:1,max:this.props.slot.count,value:this.state.count,tooltipVisible:!1,onChange:e=>this.setCount(e)}));const t=[];this.props.encounter.slots.includes(this.props.slot)||t.push({id:"",text:"main encounter"}),this.props.encounter.waves.forEach((e=>{e.slots.includes(this.props.slot)||t.push({id:e.id,text:e.name})}));let n="move to...";return this.props.slot.count>1&&(n=this.props.slot.count===this.state.count?"move all to...":"move "+this.state.count+" to..."),(0,bo.jsxs)(Av,{text:"move monster",children:[(0,bo.jsx)("div",{children:e}),(0,bo.jsx)(mg,{options:t,placeholder:n,onSelect:e=>{const t=this.props.encounter.waves.find((t=>t.id===e))||null;this.props.moveToWave(this.props.slot,this.state.count,t)}})]})}getModifyControl(){return(0,bo.jsxs)(Av,{text:1===this.props.slot.count?"modify this monster":"modify these monsters",children:[(0,bo.jsx)("button",{onClick:()=>this.props.adjustSlot(this.props.slot),children:"modify monster"}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("button",{onClick:()=>this.props.chooseRandomTheme(this.props.slot),children:"apply a random theme"}),(0,bo.jsx)("button",{className:""===this.props.slot.monsterThemeID&&this.props.slot.count>1?"":"disabled",onClick:()=>this.props.splitTheme(this.props.slot),children:"split into themed versions"}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("button",{className:""!==this.props.slot.monsterThemeID||0!==this.props.slot.deltaCR?"":"disabled",onClick:()=>this.props.removeAdjustments(this.props.slot),children:"remove adjustments"})]})}render(){try{let e=this.props.monster;e&&(this.props.theme&&(e=po.applyTheme(e,this.props.theme)),this.props.slot.deltaCR&&(e=po.adjustCR(e,this.props.slot.deltaCR)));let t="monster";e&&(t=e.name||"unnamed monster"),this.props.slot.count>1&&(t+=" (x"+this.props.slot.count+")");const n=(0,bo.jsxs)("div",{children:[(0,bo.jsx)(gv,{value:this.props.slot.count,label:"number",downEnabled:this.props.slot.count>1,onNudgeValue:e=>this.props.nudgeValue(this.props.slot,"count",e)}),(0,bo.jsx)(vv,{options:no.arrayToItems(["foe","neutral","ally"]),selectedID:this.props.slot.faction,onSelect:e=>this.props.changeValue(this.props.slot,"faction",e)})]});if(!e)return(0,bo.jsxs)("div",{className:"card "+this.props.slot.faction,children:[(0,bo.jsx)("div",{className:"heading",children:(0,bo.jsx)("div",{className:"title",children:t})}),(0,bo.jsxs)("div",{className:"card-content",children:[(0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{className:"section",children:"this empty slot has been added because you are creating an encounter from a template"}),(0,bo.jsxs)("div",{className:"section",children:["when you press ",(0,bo.jsx)("b",{children:"choose a monster"})," you will be able to select a monster of this type:"]}),(0,bo.jsx)("div",{className:"section centered",children:(0,bo.jsx)("b",{children:this.props.slot.roles.join(", ")})})]}),(0,bo.jsx)("hr",{}),n,(0,bo.jsx)("hr",{}),(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("button",{onClick:()=>this.props.chooseMonster(this.props.slot),children:"choose a monster"}),this.getMoveControl(),(0,bo.jsx)(ug,{onConfirm:()=>this.props.deleteEncounterSlot(this.props.slot),children:"remove from encounter"})]})]})]},this.props.slot.id);const r=[];let s=(e.size+" "+e.category).toLowerCase();return e.tag&&(s+=" ("+e.tag.toLowerCase()+")"),r.push((0,bo.jsx)(Pc,{children:s},"tag-main")),e.alignment&&r.push((0,bo.jsx)(Pc,{children:e.alignment.toLowerCase()},"tag-align")),r.push((0,bo.jsxs)(Pc,{children:["cr ",io.challenge(e.challenge)]},"tag-cr")),(0,bo.jsxs)("div",{className:"card "+this.props.slot.faction,children:[(0,bo.jsx)("div",{className:"heading",children:(0,bo.jsx)("div",{className:"title",children:t})}),(0,bo.jsxs)("div",{className:"card-content",children:[(0,bo.jsx)(Sd,{source:e}),(0,bo.jsx)("div",{className:"section centered",children:r}),(0,bo.jsx)("hr",{}),n,(0,bo.jsx)("hr",{}),(0,bo.jsx)("button",{onClick:()=>this.props.showStatblock(e),children:"statblock"}),(0,bo.jsx)("button",{onClick:()=>this.props.chooseMonster(this.props.slot),children:"choose a different monster"}),this.getMoveControl(),this.getModifyControl(),(0,bo.jsx)(ug,{onConfirm:()=>this.props.deleteEncounterSlot(this.props.slot),children:"remove from encounter"})]})]},this.props.slot.id)}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"EncounterSlotCard",error:bC})}}}class tB extends A.Component{getMonsterCards(e){const t=[],n=e?e.slots:this.props.encounter.slots;return n.forEach((n=>{t.push((0,bo.jsx)(eB,{slot:n,monster:this.props.getMonster(n.monsterID),theme:this.props.getMonster(n.monsterThemeID),encounter:this.props.encounter,changeValue:(e,t,n)=>this.props.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.props.nudgeValue(e,t,n),chooseMonster:t=>this.props.chooseMonster(this.props.encounter,t,e),adjustSlot:e=>this.props.adjustSlot(this.props.encounter,e),chooseRandomTheme:e=>this.props.chooseRandomTheme(this.props.encounter,e),splitTheme:t=>this.props.splitTheme(e||this.props.encounter,t),removeAdjustments:e=>this.props.removeAdjustments(this.props.encounter,e),deleteEncounterSlot:t=>this.props.deleteEncounterSlot(this.props.encounter,t,e),moveToWave:(t,n,r)=>this.props.moveEncounterSlot(this.props.encounter,t,n,e,r),showStatblock:e=>this.props.showStatblock(e)}))})),0===n.length&&t.push((0,bo.jsx)(gg,{children:(0,bo.jsxs)("div",{className:"section",children:["there are no monsters in this ",e?"wave":"encounter"]})})),t}render(){try{const e=this.props.encounter.waves.map((e=>(0,bo.jsx)(cv,{children:(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:(0,bo.jsx)(xo,{text:e.name,placeholder:"wave name",onChange:t=>this.props.changeValue(e,"name",t)})}),(0,bo.jsx)("div",{className:"icons",children:(0,bo.jsx)(ug,{onConfirm:()=>this.props.deleteWave(this.props.encounter,e),children:(0,bo.jsx)(Eo,{title:"delete wave"})})})]})},e.id)));let t=null;this.props.encounter.slots.some((e=>e.roles.length>0&&""===e.monsterID))&&(t=(0,bo.jsxs)("div",{children:[(0,bo.jsx)("hr",{}),(0,bo.jsx)("button",{onClick:()=>this.props.populateEncounter(this.props.encounter),children:"choose monsters"})]}));const n=this.props.encounter.waves.map((e=>(0,bo.jsx)(dw,{heading:e.name||"unnamed wave",content:this.getMonsterCards(e),columns:3},e.id)));let r=null;if(0===this.props.encounter.waves.length)r=(0,bo.jsx)("button",{onClick:()=>this.props.chooseMonster(this.props.encounter,null,null),children:"add monsters"});else{const e=[{id:no.guid(),text:"encounter"}];this.props.encounter.waves.forEach((t=>{e.push({id:t.id,text:t.name||"unnamed wave"})})),r=(0,bo.jsx)(mg,{placeholder:"add monsters to...",options:e,onSelect:e=>{var t;const n=null!==(t=this.props.encounter.waves.find((t=>t.id===e)))&&void 0!==t?t:null;this.props.chooseMonster(this.props.encounter,null,n)}})}return(0,bo.jsxs)(Os,{className:"full-height",children:[(0,bo.jsxs)(zs,{span:6,className:"scrollable sidebar sidebar-left",children:[(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("div",{className:"subheading",children:"encounter name"}),(0,bo.jsx)(xo,{text:this.props.encounter.name,placeholder:"encounter name",onChange:e=>this.props.changeValue(this.props.encounter,"name",e)})]}),(0,bo.jsx)("hr",{}),r,(0,bo.jsxs)(Av,{text:"waves",children:[(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"if your encounter is large or occurs in stages, you can split it into waves"})}),(0,bo.jsx)("div",{children:e}),(0,bo.jsx)("button",{onClick:()=>this.props.addWave(this.props.encounter),children:"add a new wave"})]}),(0,bo.jsx)("button",{onClick:()=>this.props.showMinisChecklist(this.props.encounter),children:"miniatures checklist"}),(0,bo.jsx)(Xx,{encounter:this.props.encounter,parties:this.props.parties,adventures:this.props.adventures,cloneEncounter:(e,t)=>this.props.cloneEncounter(e,t),startEncounter:(e,t)=>this.props.startEncounter(e,t),deleteEncounter:e=>this.props.deleteEncounter(e)}),t,(0,bo.jsx)("hr",{}),(0,bo.jsxs)("button",{onClick:()=>this.props.goBack(),children:[(0,bo.jsx)(Mo,{style:{fontSize:"10px"}})," back to the list"]})]}),(0,bo.jsxs)(zs,{span:12,className:"scrollable",children:[(0,bo.jsx)(dw,{heading:"encounter",content:this.getMonsterCards(null),columns:3}),n]}),(0,bo.jsxs)(zs,{span:6,className:"scrollable",children:[(0,bo.jsx)(dw,{heading:"difficulty",content:[(0,bo.jsx)(kw,{encounter:this.props.encounter,parties:this.props.parties,getMonster:e=>this.props.getMonster(e)},"diff")],columns:1}),(0,bo.jsx)(dw,{heading:"notes",content:[(0,bo.jsx)(Hg,{text:this.props.encounter.notes,onChange:e=>this.props.changeValue(this.props.encounter,"notes",e)},"notes"),(0,bo.jsx)("button",{onClick:()=>{const e="**victory condition:** "+ao.getVictoryCondition(this.props.encounter,(e=>this.props.getMonster(e)));this.props.changeValue(this.props.encounter,"notes",e)},children:"set a random victory condition"},"vc")],columns:1})]})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"EncounterScreen",error:bC})}}}class nB extends A.Component{constructor(e){super(e),this.state={showOptions:!1,playerViewOpen:!1,addingToMapID:null,addingOverlay:!1,editFog:!1,highlightMapSquare:!1,addingLightSource:!1,highlightedSquare:null,selectedItemIDs:[]}}componentDidMount(){window.addEventListener("beforeunload",(()=>{this.setPlayerViewOpen(!1)}))}componentDidUpdate(){}toggleShowOptions(){this.setState({showOptions:!this.state.showOptions})}setPlayerViewOpen(e){this.setState({playerViewOpen:e})}setAddingToMapID(e){this.setState({addingToMapID:e,addingOverlay:!1,editFog:!1,highlightMapSquare:!1,addingLightSource:!1,highlightedSquare:null})}toggleAddingOverlay(){this.setState({addingOverlay:!this.state.addingOverlay,editFog:!1,selectedItemIDs:[],highlightMapSquare:!1,addingLightSource:!1,highlightedSquare:null})}toggleEditFog(){this.setState({addingOverlay:!1,editFog:!this.state.editFog,selectedItemIDs:[],highlightMapSquare:!1,addingLightSource:!1,highlightedSquare:null})}toggleHighlightMapSquare(){this.setState({addingOverlay:!1,editFog:!1,selectedItemIDs:[],highlightMapSquare:!this.state.highlightMapSquare,addingLightSource:!1,highlightedSquare:null})}toggleAddingLightSource(){this.setState({addingOverlay:!1,editFog:!1,selectedItemIDs:[],highlightMapSquare:!1,addingLightSource:!this.state.addingLightSource,highlightedSquare:null})}setHighlightedSquare(e,t,n){this.state.highlightMapSquare&&!n&&this.setState({highlightedSquare:{x:e,y:t}})}setSelectedItemIDs(e){this.setState({editFog:!(e.length>0)&&this.state.editFog,selectedItemIDs:e})}addCompanion(e){this.setState({selectedItemIDs:[e.id]},(()=>this.props.addCompanion(e)))}toggleItemSelection(e,t){if(e&&t){const t=this.state.selectedItemIDs;if(t.includes(e)){const n=t.indexOf(e);t.splice(n,1)}else t.push(e);this.setSelectedItemIDs(t)}else this.setSelectedItemIDs(e?[e]:[])}mapRemove(e){this.setState({selectedItemIDs:[]},(()=>this.props.mapRemove(e.map((e=>e.id)))))}nudgeValue(e,t,n){let r=null;switch(t){case"challenge":r=io.nudgeChallenge(e[t],n),this.props.changeValue(e,t,r);break;case"size":case"displaySize":r=io.nudgeSize(e[t],n),this.props.changeValue(e,t,r);break;default:this.props.nudgeValue(e,t,n)}}fillFog(){if(this.props.exploration.map){const e=[],t=yo.mapDimensions(this.props.exploration.map.items);if(t){for(let n=t.minX;n<=t.maxX;++n)for(let r=t.minY;r<=t.maxY;++r)e.push({x:n,y:r});this.props.setFog(e)}}}clearFog(){this.props.setFog([])}gridSquareClicked(e,t,n){if(this.state.addingToMapID){const n=this.props.exploration.combatants.find((e=>e.id===this.state.addingToMapID));n&&this.props.mapAdd(n,e,t),this.setAddingToMapID(null)}if(this.state.addingOverlay&&!n){const n=ro.createMapItem();n.type="token",n.x=e,n.y=t,n.width=1,n.height=1,n.color="#005080",n.opacity=127,n.style="square",this.setState({addingOverlay:!1,selectedItemIDs:[n.id]},(()=>{this.props.addOverlay(n)}))}this.state.editFog&&!n&&this.gridRectangleSelected(e,t,e,t),this.state.addingLightSource&&!n&&this.setState({addingLightSource:!1},(()=>{const n=ro.createMapLightSource();n.x=e,n.y=t,this.props.mapAddLightSource(this.props.exploration.map,n)}))}gridRectangleSelected(e,t,n,r){if(this.state.addingOverlay){const s=ro.createMapItem();s.type="overlay",s.x=e,s.y=t,s.width=n-e+1,s.height=r-t+1,s.color="#005080",s.opacity=127,s.style="square",this.setState({addingOverlay:!1,selectedItemIDs:[s.id]},(()=>{this.props.addOverlay(s)}))}if(this.state.editFog){const s=this.props.exploration.fog;for(let a=e;a<=n;++a)for(let e=t;e<=r;++e){const t=s.findIndex((t=>t.x===a&&t.y===e));-1===t?s.push({x:a,y:e}):s.splice(t,1)}this.props.setFog(s)}}getPlayerView(){return this.state.playerViewOpen?(0,bo.jsx)(tx,{title:"Map",onCloseWindow:()=>this.setPlayerViewOpen(!1),children:(0,bo.jsx)("div",{className:"scrollable both-ways",children:this.getMap(!0)})}):null}getOptions(){if(!this.state.showOptions)return null;const e=[];this.props.exploration.combatants.filter((e=>"pc"===e.type)).forEach((t=>{const n=this.props.parties.find((e=>e.pcs.find((e=>e.id===t.id))));n&&!e.includes(n)&&e.push(n)}));const t=[];e.forEach((e=>{e.pcs.forEach((n=>{this.props.exploration.combatants.find((e=>e.id===n.id))||t.push((0,bo.jsxs)("button",{onClick:()=>this.props.addPC(e.id,n.id),children:[n.name," (",e.name,")"]},n.id))}))}));let n=null;return t.length>0&&(n=(0,bo.jsx)(Av,{text:"add pcs",children:t})),(0,bo.jsxs)("div",{className:"scrollable",children:[(0,bo.jsx)("div",{className:"heading",children:"exploration"}),(0,bo.jsx)("button",{onClick:()=>this.props.pauseExploration(),children:"pause exploration"}),(0,bo.jsx)(ug,{onConfirm:()=>this.props.endExploration(this.props.exploration),children:"end exploration"}),(0,bo.jsx)(ug,{onConfirm:()=>{this.setState({showOptions:!1},(()=>{this.props.startCombat(this.props.exploration)}))},children:"end exploration and start combat"}),(0,bo.jsx)("div",{className:"heading",children:"explorers"}),n,(0,bo.jsx)("button",{onClick:()=>{this.setState({showOptions:!1},(()=>{this.props.addCompanion(null)}))},children:"add a companion"}),(0,bo.jsx)("div",{className:"heading",children:"map"}),(0,bo.jsx)(zg,{label:"add token / overlay",checked:this.state.addingOverlay,onChecked:()=>this.toggleAddingOverlay()}),(0,bo.jsx)(Lg,{display:this.state.addingOverlay,children:(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"click on a map square to add a token, or select a rectangle to add an overlay"})})}),(0,bo.jsx)("button",{onClick:()=>this.props.rotateMap(),children:"rotate the map"}),(0,bo.jsx)("div",{className:"heading",children:"sharing"}),(0,bo.jsx)(zg,{label:"share in player view",checked:this.state.playerViewOpen,onChecked:e=>this.setPlayerViewOpen(e)})]})}getMap(e){return(0,bo.jsx)($y,{map:this.props.exploration.map,mode:e?"interactive-player":"interactive-dm",features:{highlight:this.state.highlightMapSquare,editFog:this.state.editFog,lightSource:this.state.addingLightSource},options:this.props.options,combatants:this.props.exploration.combatants,showGrid:(null!==this.state.addingToMapID||this.state.addingOverlay||this.state.editFog||this.state.highlightMapSquare||this.state.addingLightSource)&&!e,selectedItemIDs:e?this.props.exploration.combatants.filter((e=>"pc"===e.type)).map((e=>e.id)):this.state.selectedItemIDs,selectedAreaID:this.props.exploration.mapAreaID,fog:this.props.exploration.fog,lighting:this.props.exploration.lighting,focussedSquare:this.state.highlightedSquare,gridSquareEntered:(t,n)=>this.setHighlightedSquare(t,n,e),gridSquareClicked:(t,n)=>this.gridSquareClicked(t,n,e),gridRectangleSelected:(e,t,n,r)=>this.gridRectangleSelected(e,t,n,r),itemSelected:(e,t)=>this.toggleItemSelection(e,t),itemRemove:e=>this.props.mapRemove([e]),conditionRemove:(e,t)=>this.props.deleteCondition(e,t),toggleTag:(e,t)=>this.props.toggleTag(e,t),toggleCondition:(e,t)=>this.props.toggleCondition(e,t),toggleHidden:e=>this.props.toggleHidden(e),areaSelected:e=>this.props.changeValue(this.props.exploration,"mapAreaID",e),changeLighting:e=>this.props.changeValue(this.props.exploration,"lighting",e),changeLightSource:(e,t,n,r)=>this.props.mapChangeLightSource(e,t,n,r),removeLightSource:e=>this.props.mapDeleteLightSource(this.props.exploration.map,e),toggleFeature:e=>{switch(e){case"highlight":this.toggleHighlightMapSquare();break;case"editFog":this.toggleEditFog();break;case"lightSource":this.toggleAddingLightSource()}},fillFog:()=>this.fillFog(),clearFog:()=>this.clearFog(),changeValue:(e,t,n)=>this.props.changeValue(e,t,n)})}getSelectedCombatants(){const e=this.state.selectedItemIDs.map((e=>this.props.exploration.combatants.find((t=>t.id===e)))).filter((e=>!!e));no.sort(e,[{field:"displayName",dir:"asc"}]);const t=e.filter((e=>"placeholder"===e.type));if(t.length>0)return(0,bo.jsx)("div",{children:this.createCard(t[0])});if(1===e.length)return(0,bo.jsxs)("div",{children:[this.createControls(e),(0,bo.jsx)("hr",{}),this.createCard(e[0])]});if(e.length>1)return(0,bo.jsxs)("div",{children:[(0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{className:"section",children:"multiple combatants are selected:"}),(0,bo.jsx)("div",{children:e.map((e=>(0,bo.jsx)(cv,{children:(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:ao.getCombatantName(e,this.props.exploration.combatants)}),(0,bo.jsx)("div",{className:"icons",children:(0,bo.jsx)(Le,{title:"deselect",onClick:()=>this.toggleItemSelection(e.id,!0)})})]})},e.id)))})]}),this.createControls(e)]});if(this.props.exploration.map){const e=this.props.exploration.map.items.find((e=>e.id===this.state.selectedItemIDs[0]));if(e)return(0,bo.jsx)(Ux,{item:e,moveMapItem:(e,t,n)=>this.props.mapMove([e.id],t,n),deleteMapItem:e=>this.props.mapRemove([e.id]),changeValue:(e,t,n)=>this.props.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.nudgeValue(e,t,n)})}return(0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"select a map token to see its details here"})})}createControls(e){return e.some((e=>"placeholder"===e.type))?null:(0,bo.jsx)(Jy,{combatants:e,allCombatants:this.props.exploration.combatants,map:this.props.exploration.map,options:this.props.options,lighting:this.props.exploration.lighting,defaultTab:"map",toggleTag:(e,t)=>this.props.toggleTag(e,t),toggleCondition:(e,t)=>this.props.toggleCondition(e,t),toggleHidden:e=>this.props.toggleHidden(e),addCondition:e=>this.props.addCondition(e),editCondition:(e,t)=>this.props.editCondition(e,t),deleteCondition:(e,t)=>this.props.deleteCondition(e,t),mapAdd:e=>this.setAddingToMapID(this.state.addingToMapID?null:e.id),mapMove:(e,t,n)=>this.props.mapMove(e.map((e=>e.id)),t,n),mapRemove:e=>this.mapRemove(e),undoStep:()=>null,removeCombatants:null,addCompanion:e=>this.addCompanion(e),changeValue:(e,t,n)=>this.props.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.nudgeValue(e,t,n)})}createCard(e){switch(e.type){case"pc":return(0,bo.jsx)(uw,{pc:e});case"monster":return(0,bo.jsx)(Vg,{monster:e,combat:!0,showRollButtons:this.props.options.showMonsterDieRolls,useTrait:e=>this.props.useTrait(e),rechargeTrait:e=>this.props.rechargeTrait(e),onRollDice:(e,t,n,r,s)=>this.props.onRollDice(e,t,n,r,s)});case"companion":{let t=null;const n=e;return n.monsterID&&this.props.library.forEach((e=>{const r=e.monsters.find((e=>e.id===n.monsterID));r&&(t=(0,bo.jsx)(Vg,{monster:r,combat:!0,showRollButtons:this.props.options.showMonsterDieRolls,useTrait:e=>this.props.useTrait(e),rechargeTrait:e=>this.props.rechargeTrait(e),onRollDice:(e,t,n,r,s)=>this.props.onRollDice(e,t,n,r,s)}))})),t}case"placeholder":{const e=[];return this.props.exploration.combatants.forEach((t=>{const n=t;n&&n.traits&&n.traits.some((e=>"lair"===e.type))&&e.push((0,bo.jsxs)("div",{className:"card monster",children:[(0,bo.jsx)("div",{className:"heading",children:(0,bo.jsx)("div",{className:"title",children:n.name})}),(0,bo.jsx)("div",{className:"card-content",children:(0,bo.jsx)(Pg,{combatant:n,mode:"lair",useTrait:e=>this.props.useTrait(e),rechargeTrait:e=>this.props.rechargeTrait(e)})})]},"lair "+n.id))})),e}}return null}render(){try{let e=null;const t=this.props.exploration.combatants.filter((e=>!this.props.exploration.map.items.find((t=>t.id===e.id))));return t.length>0&&(e=(0,bo.jsxs)("div",{children:[(0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{className:"section",children:"these pcs have not yet been placed on the map"}),(0,bo.jsxs)("div",{className:"section",children:["to place one on the map, click the ",(0,bo.jsx)(dy,{})," button and then click on a map square"]}),(0,bo.jsxs)("div",{className:"section",children:["or click ",(0,bo.jsx)("button",{className:"link",onClick:()=>this.props.scatterCombatants(t,this.props.exploration.mapAreaID),children:"here"})," to scatter them randomly"]})]}),t.map((e=>(0,bo.jsx)(Lx,{combatant:e,addToMap:()=>this.setAddingToMapID(e.id)},e.id)))]})),(0,bo.jsxs)("div",{className:"full-height",children:[(0,bo.jsxs)(Os,{align:"middle",className:"combat-top-row",children:[(0,bo.jsx)(zs,{span:6,children:(0,bo.jsxs)("div",{className:"menu",onClick:()=>this.toggleShowOptions(),role:"button",children:[(0,bo.jsx)(Fb,{title:"options"}),(0,bo.jsx)("span",{children:"options"})]})}),(0,bo.jsx)(zs,{span:18})]}),(0,bo.jsxs)(Os,{className:"combat-main",children:[(0,bo.jsx)(zs,{span:18,className:"scrollable both-ways",children:this.getMap(!1)}),(0,bo.jsxs)(zs,{span:6,className:"scrollable",children:[(0,bo.jsx)(dw,{heading:"not on the map",content:[e],columns:1,showToggle:!0}),(0,bo.jsx)(dw,{heading:"selected",content:[this.getSelectedCombatants()],columns:1})]})]}),this.getPlayerView(),(0,bo.jsxs)(_i,{className:this.props.options.theme,placement:"left",closable:!1,maskClosable:!0,width:"33%",open:this.state.showOptions,onClose:()=>this.toggleShowOptions(),children:[(0,bo.jsx)("div",{className:"drawer-header",children:(0,bo.jsx)("div",{className:"app-title",children:"options"})}),(0,bo.jsx)("div",{className:"drawer-content",children:this.getOptions()}),(0,bo.jsx)("div",{className:"drawer-footer",children:null})]})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"ExplorationScreen",error:bC})}}}const rB={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};function sB(e,t,n){var r=(n||{}).atBegin;return function(e,t,n){var r,s=n||{},a=s.noTrailing,i=void 0!==a&&a,o=s.noLeading,l=void 0!==o&&o,A=s.debounceMode,c=void 0===A?void 0:A,u=!1,d=0;function h(){r&&clearTimeout(r)}function p(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];var o=this,A=Date.now()-d;function p(){d=Date.now(),t.apply(o,s)}function m(){r=void 0}u||(l||!c||r||p(),h(),void 0===c&&A>e?l?(d=Date.now(),i||(r=setTimeout(c?m:p,e))):p():!0!==i&&(r=setTimeout(c?m:p,void 0===c?e-A:e)))}return p.cancel=function(e){var t=(e||{}).upcomingOnly,n=void 0!==t&&t;h(),u=!n},p}(e,t,{debounceMode:!1!==(void 0!==r&&r)})}function aB(e,t,n){return Math.max(t,Math.min(e,n))}var iB=function(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()},oB=function(e){for(var t=[],n=lB(e),r=AB(e),s=n;s<r;s++)e.lazyLoadedList.indexOf(s)<0&&t.push(s);return t},lB=function(e){return e.currentSlide-cB(e)},AB=function(e){return e.currentSlide+uB(e)},cB=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},uB=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},dB=function(e){return e&&e.offsetWidth||0},hB=function(e){return e&&e.offsetHeight||0},pB=function(e){var t,n,r,s,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,n=e.startY-e.curY,r=Math.atan2(n,t),(s=Math.round(180*r/Math.PI))<0&&(s=360-Math.abs(s)),s<=45&&s>=0||s<=360&&s>=315?"left":s>=135&&s<=225?"right":!0===a?s>=35&&s<=135?"up":"down":"vertical"},mB=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t},fB=function(e,t){var n={};return t.forEach((function(t){return n[t]=e[t]})),n},gB=function(e,t){var n=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,n=e.infinite?-1*e.slidesToShow:0,r=e.infinite?-1*e.slidesToShow:0,s=[];n<t;)s.push(n),n=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return s}(e),r=0;if(t>n[n.length-1])t=n[n.length-1];else for(var s in n){if(t<n[s]){t=r;break}r=n[s]}return t},vB=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n,r=e.listRef,s=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(s).every((function(r){if(e.vertical){if(r.offsetTop+hB(r)/2>-1*e.swipeLeft)return n=r,!1}else if(r.offsetLeft-t+dB(r)/2>-1*e.swipeLeft)return n=r,!1;return!0})),!n)return 0;var a=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(n.dataset.index-a)||1}return e.slidesToScroll},yB=function(e,t){return t.reduce((function(t,n){return t&&e.hasOwnProperty(n)}),!0)?null:console.error("Keys Missing:",e)},wB=function(e){var t,n;yB(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r=e.slideCount+2*e.slidesToShow;e.vertical?n=r*e.slideHeight:t=kB(e)*e.slideWidth;var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",i=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",o=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=l(l({},s),{},{WebkitTransform:a,transform:i,msTransform:o})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),t&&(s.width=t),n&&(s.height=n),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s},bB=function(e){yB(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=wB(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t},xB=function(e){if(e.unslick)return 0;yB(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,n,r=e.slideIndex,s=e.trackRef,a=e.infinite,i=e.centerMode,o=e.slideCount,l=e.slidesToShow,A=e.slidesToScroll,c=e.slideWidth,u=e.listWidth,d=e.variableWidth,h=e.slideHeight,p=e.fade,m=e.vertical;if(p||1===e.slideCount)return 0;var f=0;if(a?(f=-BB(e),o%A!==0&&r+A>o&&(f=-(r>o?l-(r-o):o%A)),i&&(f+=parseInt(l/2))):(o%A!==0&&r+A>o&&(f=l-o%A),i&&(f=parseInt(l/2))),t=m?r*h*-1+f*h:r*c*-1+f*c,!0===d){var g,v=s&&s.node;if(g=r+BB(e),t=(n=v&&v.childNodes[g])?-1*n.offsetLeft:0,!0===i){g=a?r+BB(e):r,n=v&&v.children[g],t=0;for(var y=0;y<g;y++)t-=v&&v.children[y]&&v.children[y].offsetWidth;t-=parseInt(e.centerPadding),t+=n&&(u-n.offsetWidth)/2}}return t},BB=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},CB=function(e){return e.unslick||!e.infinite?0:e.slideCount},kB=function(e){return 1===e.slideCount?1:BB(e)+e.slideCount+CB(e)},SB=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+EB(e)?"left":"right":e.targetSlide<e.currentSlide-jB(e)?"right":"left"},EB=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,s=e.centerPadding;if(n){var a=(t-1)/2+1;return parseInt(s)>0&&(a+=1),r&&t%2===0&&(a+=1),a}return r?0:t-1},jB=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,s=e.centerPadding;if(n){var a=(t-1)/2+1;return parseInt(s)>0&&(a+=1),r||t%2!==0||(a+=1),a}return r?t-1:0},IB=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)},FB=function(e){var t,n,r,s,a;return r=(a=e.rtl?e.slideCount-1-e.index:e.index)<0||a>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),n=(a-e.currentSlide)%e.slideCount===0,a>e.currentSlide-s-1&&a<=e.currentSlide+s&&(t=!0)):t=e.currentSlide<=a&&a<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":n,"slick-cloned":r,"slick-current":a===(e.targetSlide<0?e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?e.targetSlide-e.slideCount:e.targetSlide)}},QB=function(e,t){return e.key+"-"+t},NB=function(e){var t,n=[],r=[],s=[],a=A.Children.count(e.children),i=lB(e),o=AB(e);return A.Children.forEach(e.children,(function(c,u){var d,h={message:"children",index:u,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};d=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(u)>=0?c:A.createElement("div",null);var p=function(e){var t={};return void 0!==e.variableWidth&&!1!==e.variableWidth||(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical&&e.slideHeight?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t}(l(l({},e),{},{index:u})),m=d.props.className||"",f=FB(l(l({},e),{},{index:u}));if(n.push(A.cloneElement(d,{key:"original"+QB(d,u),"data-index":u,className:v()(f,m),tabIndex:"-1","aria-hidden":!f["slick-active"],style:l(l({outline:"none"},d.props.style||{}),p),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(h)}})),e.infinite&&!1===e.fade){var g=a-u;g<=BB(e)&&a!==e.slidesToShow&&((t=-g)>=i&&(d=c),f=FB(l(l({},e),{},{index:t})),r.push(A.cloneElement(d,{key:"precloned"+QB(d,t),"data-index":t,tabIndex:"-1",className:v()(f,m),"aria-hidden":!f["slick-active"],style:l(l({},d.props.style||{}),p),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(h)}}))),a!==e.slidesToShow&&((t=a+u)<o&&(d=c),f=FB(l(l({},e),{},{index:t})),s.push(A.cloneElement(d,{key:"postcloned"+QB(d,t),"data-index":t,tabIndex:"-1",className:v()(f,m),"aria-hidden":!f["slick-active"],style:l(l({},d.props.style||{}),p),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(h)}})))}})),e.rtl?r.concat(n,s).reverse():r.concat(n,s)},MB=function(e){nt(n,e);var t=ot(n);function n(){var e;Ze(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return i(at(e=t.call.apply(t,[this].concat(s))),"node",null),i(at(e),"handleRef",(function(t){e.node=t})),e}return et(n,[{key:"render",value:function(){var e=NB(this.props),t=this.props,n={onMouseEnter:t.onMouseEnter,onMouseOver:t.onMouseOver,onMouseLeave:t.onMouseLeave};return A.createElement("div",Pe({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},n),e)}}]),n}(A.PureComponent),UB=function(e){nt(n,e);var t=ot(n);function n(){return Ze(this,n),t.apply(this,arguments)}return et(n,[{key:"clickHandler",value:function(e,t){t.preventDefault(),this.props.clickHandler(e)}},{key:"render",value:function(){for(var e,t=this.props,n=t.onMouseEnter,r=t.onMouseOver,s=t.onMouseLeave,a=t.infinite,i=t.slidesToScroll,o=t.slidesToShow,c=t.slideCount,u=t.currentSlide,d=(e={slideCount:c,slidesToScroll:i,slidesToShow:o,infinite:a}).infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,h={onMouseEnter:n,onMouseOver:r,onMouseLeave:s},p=[],m=0;m<d;m++){var f=(m+1)*i-1,g=a?f:aB(f,0,c-1),y=g-(i-1),w=a?y:aB(y,0,c-1),b=v()({"slick-active":a?u>=w&&u<=g:u===w}),x={message:"dots",index:m,slidesToScroll:i,currentSlide:u},B=this.clickHandler.bind(this,x);p=p.concat(A.createElement("li",{key:m,className:b},A.cloneElement(this.props.customPaging(m),{onClick:B})))}return A.cloneElement(this.props.appendDots(p),l({className:this.props.dotsClass},h))}}]),n}(A.PureComponent),TB=function(e){nt(n,e);var t=ot(n);function n(){return Ze(this,n),t.apply(this,arguments)}return et(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var n={key:"0","data-role":"none",className:v()(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?A.cloneElement(this.props.prevArrow,l(l({},n),r)):A.createElement("button",Pe({key:"0",type:"button"},n)," ","Previous")}}]),n}(A.PureComponent),DB=function(e){nt(n,e);var t=ot(n);function n(){return Ze(this,n),t.apply(this,arguments)}return et(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});mB(this.props)||(e["slick-disabled"]=!0,t=null);var n={key:"1","data-role":"none",className:v()(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?A.cloneElement(this.props.nextArrow,l(l({},n),r)):A.createElement("button",Pe({key:"1",type:"button"},n)," ","Next")}}]),n}(A.PureComponent),HB=["animating"],LB=function(e){nt(n,e);var t=ot(n);function n(e){var r;Ze(this,n),i(at(r=t.call(this,e)),"listRefHandler",(function(e){return r.list=e})),i(at(r),"trackRefHandler",(function(e){return r.track=e})),i(at(r),"adaptHeight",(function(){if(r.props.adaptiveHeight&&r.list){var e=r.list.querySelector('[data-index="'.concat(r.state.currentSlide,'"]'));r.list.style.height=hB(e)+"px"}})),i(at(r),"componentDidMount",(function(){if(r.props.onInit&&r.props.onInit(),r.props.lazyLoad){var e=oB(l(l({},r.props),r.state));e.length>0&&(r.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),r.props.onLazyLoad&&r.props.onLazyLoad(e))}var t=l({listRef:r.list,trackRef:r.track},r.props);r.updateState(t,!0,(function(){r.adaptHeight(),r.props.autoplay&&r.autoPlay("playing")})),"progressive"===r.props.lazyLoad&&(r.lazyLoadTimer=setInterval(r.progressiveLazyLoad,1e3)),r.ro=new BA((function(){r.state.animating?(r.onWindowResized(!1),r.callbackTimers.push(setTimeout((function(){return r.onWindowResized()}),r.props.speed))):r.onWindowResized()})),r.ro.observe(r.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),(function(e){e.onfocus=r.props.pauseOnFocus?r.onSlideFocus:null,e.onblur=r.props.pauseOnFocus?r.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",r.onWindowResized):window.attachEvent("onresize",r.onWindowResized)})),i(at(r),"componentWillUnmount",(function(){r.animationEndCallback&&clearTimeout(r.animationEndCallback),r.lazyLoadTimer&&clearInterval(r.lazyLoadTimer),r.callbackTimers.length&&(r.callbackTimers.forEach((function(e){return clearTimeout(e)})),r.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",r.onWindowResized):window.detachEvent("onresize",r.onWindowResized),r.autoplayTimer&&clearInterval(r.autoplayTimer),r.ro.disconnect()})),i(at(r),"componentDidUpdate",(function(e){if(r.checkImagesLoad(),r.props.onReInit&&r.props.onReInit(),r.props.lazyLoad){var t=oB(l(l({},r.props),r.state));t.length>0&&(r.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(t)}})),r.props.onLazyLoad&&r.props.onLazyLoad(t))}r.adaptHeight();var n=l(l({listRef:r.list,trackRef:r.track},r.props),r.state),s=r.didPropsChange(e);s&&r.updateState(n,s,(function(){r.state.currentSlide>=A.Children.count(r.props.children)&&r.changeSlide({message:"index",index:A.Children.count(r.props.children)-r.props.slidesToShow,currentSlide:r.state.currentSlide}),e.autoplay===r.props.autoplay&&e.autoplaySpeed===r.props.autoplaySpeed||(!e.autoplay&&r.props.autoplay?r.autoPlay("playing"):r.props.autoplay?r.autoPlay("update"):r.pause("paused"))}))})),i(at(r),"onWindowResized",(function(e){r.debouncedResize&&r.debouncedResize.cancel(),r.debouncedResize=sB(50,(function(){return r.resizeWindow(e)})),r.debouncedResize()})),i(at(r),"resizeWindow",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(Boolean(r.track&&r.track.node)){var t=l(l({listRef:r.list,trackRef:r.track},r.props),r.state);r.updateState(t,e,(function(){r.props.autoplay?r.autoPlay("update"):r.pause("paused")})),r.setState({animating:!1}),clearTimeout(r.animationEndCallback),delete r.animationEndCallback}})),i(at(r),"updateState",(function(e,t,n){var s=function(e){var t,n=A.Children.count(e.children),r=e.listRef,s=Math.ceil(dB(r)),a=e.trackRef&&e.trackRef.node,i=Math.ceil(dB(a));if(e.vertical)t=s;else{var o=e.centerMode&&2*parseInt(e.centerPadding);"string"===typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(o*=s/100),t=Math.ceil((s-o)/e.slidesToShow)}var c=r&&hB(r.querySelector('[data-index="0"]')),u=c*e.slidesToShow,d=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(d=n-1-e.initialSlide);var h=e.lazyLoadedList||[],p=oB(l(l({},e),{},{currentSlide:d,lazyLoadedList:h})),m={slideCount:n,slideWidth:t,listWidth:s,trackWidth:i,currentSlide:d,slideHeight:c,listHeight:u,lazyLoadedList:h=h.concat(p)};return null===e.autoplaying&&e.autoplay&&(m.autoplaying="playing"),m}(e);e=l(l(l({},e),s),{},{slideIndex:s.currentSlide});var a=xB(e);e=l(l({},e),{},{left:a});var i=wB(e);(t||A.Children.count(r.props.children)!==A.Children.count(e.children))&&(s.trackStyle=i),r.setState(s,n)})),i(at(r),"ssrInit",(function(){if(r.props.variableWidth){var e=0,t=0,n=[],s=BB(l(l(l({},r.props),r.state),{},{slideCount:r.props.children.length})),a=CB(l(l(l({},r.props),r.state),{},{slideCount:r.props.children.length}));r.props.children.forEach((function(t){n.push(t.props.style.width),e+=t.props.style.width}));for(var i=0;i<s;i++)t+=n[n.length-1-i],e+=n[n.length-1-i];for(var o=0;o<a;o++)e+=n[o];for(var c=0;c<r.state.currentSlide;c++)t+=n[c];var u={width:e+"px",left:-t+"px"};if(r.props.centerMode){var d="".concat(n[r.state.currentSlide],"px");u.left="calc(".concat(u.left," + (100% - ").concat(d,") / 2 ) ")}return{trackStyle:u}}var h=A.Children.count(r.props.children),p=l(l(l({},r.props),r.state),{},{slideCount:h}),m=BB(p)+CB(p)+h,f=100/r.props.slidesToShow*m,g=100/m,v=-g*(BB(p)+r.state.currentSlide)*f/100;return r.props.centerMode&&(v+=(100-g*f/100)/2),{slideWidth:g+"%",trackStyle:{width:f+"%",left:v+"%"}}})),i(at(r),"checkImagesLoad",(function(){var e=r.list&&r.list.querySelectorAll&&r.list.querySelectorAll(".slick-slide img")||[],t=e.length,n=0;Array.prototype.forEach.call(e,(function(e){var s=function(){return++n&&n>=t&&r.onWindowResized()};if(e.onclick){var a=e.onclick;e.onclick=function(t){a(t),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(r.props.lazyLoad?e.onload=function(){r.adaptHeight(),r.callbackTimers.push(setTimeout(r.onWindowResized,r.props.speed))}:(e.onload=s,e.onerror=function(){s(),r.props.onLazyLoadError&&r.props.onLazyLoadError()}))}))})),i(at(r),"progressiveLazyLoad",(function(){for(var e=[],t=l(l({},r.props),r.state),n=r.state.currentSlide;n<r.state.slideCount+CB(t);n++)if(r.state.lazyLoadedList.indexOf(n)<0){e.push(n);break}for(var s=r.state.currentSlide-1;s>=-BB(t);s--)if(r.state.lazyLoadedList.indexOf(s)<0){e.push(s);break}e.length>0?(r.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),r.props.onLazyLoad&&r.props.onLazyLoad(e)):r.lazyLoadTimer&&(clearInterval(r.lazyLoadTimer),delete r.lazyLoadTimer)})),i(at(r),"slideHandler",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=r.props,s=n.asNavFor,a=n.beforeChange,i=n.onLazyLoad,o=n.speed,A=n.afterChange,c=r.state.currentSlide,u=function(e){var t=e.waitForAnimate,n=e.animating,r=e.fade,s=e.infinite,a=e.index,i=e.slideCount,o=e.lazyLoad,A=e.currentSlide,c=e.centerMode,u=e.slidesToScroll,d=e.slidesToShow,h=e.useCSS,p=e.lazyLoadedList;if(t&&n)return{};var m,f,g,v=a,y={},w={},b=s?a:aB(a,0,i-1);if(r){if(!s&&(a<0||a>=i))return{};a<0?v=a+i:a>=i&&(v=a-i),o&&p.indexOf(v)<0&&(p=p.concat(v)),y={animating:!0,currentSlide:v,lazyLoadedList:p,targetSlide:v},w={animating:!1,targetSlide:v}}else m=v,v<0?(m=v+i,s?i%u!==0&&(m=i-i%u):m=0):!mB(e)&&v>A?v=m=A:c&&v>=i?(v=s?i:i-1,m=s?0:i-1):v>=i&&(m=v-i,s?i%u!==0&&(m=0):m=i-d),!s&&v+d>=i&&(m=i-d),f=xB(l(l({},e),{},{slideIndex:v})),g=xB(l(l({},e),{},{slideIndex:m})),s||(f===g&&(v=m),f=g),o&&(p=p.concat(oB(l(l({},e),{},{currentSlide:v})))),h?(y={animating:!0,currentSlide:m,trackStyle:bB(l(l({},e),{},{left:f})),lazyLoadedList:p,targetSlide:b},w={animating:!1,currentSlide:m,trackStyle:wB(l(l({},e),{},{left:g})),swipeLeft:null,targetSlide:b}):y={currentSlide:m,trackStyle:wB(l(l({},e),{},{left:g})),lazyLoadedList:p,targetSlide:b};return{state:y,nextState:w}}(l(l(l({index:e},r.props),r.state),{},{trackRef:r.track,useCSS:r.props.useCSS&&!t})),d=u.state,h=u.nextState;if(d){a&&a(c,d.currentSlide);var p=d.lazyLoadedList.filter((function(e){return r.state.lazyLoadedList.indexOf(e)<0}));i&&p.length>0&&i(p),!r.props.waitForAnimate&&r.animationEndCallback&&(clearTimeout(r.animationEndCallback),A&&A(c),delete r.animationEndCallback),r.setState(d,(function(){s&&r.asNavForIndex!==e&&(r.asNavForIndex=e,s.innerSlider.slideHandler(e)),h&&(r.animationEndCallback=setTimeout((function(){var e=h.animating,t=f(h,HB);r.setState(t,(function(){r.callbackTimers.push(setTimeout((function(){return r.setState({animating:e})}),10)),A&&A(d.currentSlide),delete r.animationEndCallback}))}),o))}))}})),i(at(r),"changeSlide",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(e,t){var n,r,s,a,i=e.slidesToScroll,o=e.slidesToShow,A=e.slideCount,c=e.currentSlide,u=e.targetSlide,d=e.lazyLoad,h=e.infinite;if(n=A%i!==0?0:(A-c)%i,"previous"===t.message)a=c-(s=0===n?i:o-n),d&&!h&&(a=-1===(r=c-s)?A-1:r),h||(a=u-i);else if("next"===t.message)a=c+(s=0===n?i:n),d&&!h&&(a=(c+i)%A+n),h||(a=u+i);else if("dots"===t.message)a=t.index*t.slidesToScroll;else if("children"===t.message){if(a=t.index,h){var p=SB(l(l({},e),{},{targetSlide:a}));a>t.currentSlide&&"left"===p?a-=A:a<t.currentSlide&&"right"===p&&(a+=A)}}else"index"===t.message&&(a=Number(t.index));return a}(l(l({},r.props),r.state),e);if((0===n||n)&&(!0===t?r.slideHandler(n,t):r.slideHandler(n),r.props.autoplay&&r.autoPlay("update"),r.props.focusOnSelect)){var s=r.list.querySelectorAll(".slick-current");s[0]&&s[0].focus()}})),i(at(r),"clickHandler",(function(e){!1===r.clickable&&(e.stopPropagation(),e.preventDefault()),r.clickable=!0})),i(at(r),"keyHandler",(function(e){var t=function(e,t,n){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?n?"next":"previous":39===e.keyCode?n?"previous":"next":""}(e,r.props.accessibility,r.props.rtl);""!==t&&r.changeSlide({message:t})})),i(at(r),"selectHandler",(function(e){r.changeSlide(e)})),i(at(r),"disableBodyScroll",(function(){window.ontouchmove=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}})),i(at(r),"enableBodyScroll",(function(){window.ontouchmove=null})),i(at(r),"swipeStart",(function(e){r.props.verticalSwiping&&r.disableBodyScroll();var t=function(e,t,n){return"IMG"===e.target.tagName&&iB(e),!t||!n&&-1!==e.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}}(e,r.props.swipe,r.props.draggable);""!==t&&r.setState(t)})),i(at(r),"swipeMove",(function(e){var t=function(e,t){var n=t.scrolling,r=t.animating,s=t.vertical,a=t.swipeToSlide,i=t.verticalSwiping,o=t.rtl,A=t.currentSlide,c=t.edgeFriction,u=t.edgeDragged,d=t.onEdge,h=t.swiped,p=t.swiping,m=t.slideCount,f=t.slidesToScroll,g=t.infinite,v=t.touchObject,y=t.swipeEvent,w=t.listHeight,b=t.listWidth;if(!n){if(r)return iB(e);s&&a&&i&&iB(e);var x,B={},C=xB(t);v.curX=e.touches?e.touches[0].pageX:e.clientX,v.curY=e.touches?e.touches[0].pageY:e.clientY,v.swipeLength=Math.round(Math.sqrt(Math.pow(v.curX-v.startX,2)));var k=Math.round(Math.sqrt(Math.pow(v.curY-v.startY,2)));if(!i&&!p&&k>10)return{scrolling:!0};i&&(v.swipeLength=k);var S=(o?-1:1)*(v.curX>v.startX?1:-1);i&&(S=v.curY>v.startY?1:-1);var E=Math.ceil(m/f),j=pB(t.touchObject,i),I=v.swipeLength;return g||(0===A&&("right"===j||"down"===j)||A+1>=E&&("left"===j||"up"===j)||!mB(t)&&("left"===j||"up"===j))&&(I=v.swipeLength*c,!1===u&&d&&(d(j),B.edgeDragged=!0)),!h&&y&&(y(j),B.swiped=!0),x=s?C+I*(w/b)*S:o?C-I*S:C+I*S,i&&(x=C+I*S),B=l(l({},B),{},{touchObject:v,swipeLeft:x,trackStyle:wB(l(l({},t),{},{left:x}))}),Math.abs(v.curX-v.startX)<.8*Math.abs(v.curY-v.startY)||v.swipeLength>10&&(B.swiping=!0,iB(e)),B}}(e,l(l(l({},r.props),r.state),{},{trackRef:r.track,listRef:r.list,slideIndex:r.state.currentSlide}));t&&(t.swiping&&(r.clickable=!1),r.setState(t))})),i(at(r),"swipeEnd",(function(e){var t=function(e,t){var n=t.dragging,r=t.swipe,s=t.touchObject,a=t.listWidth,i=t.touchThreshold,o=t.verticalSwiping,A=t.listHeight,c=t.swipeToSlide,u=t.scrolling,d=t.onSwipe,h=t.targetSlide,p=t.currentSlide,m=t.infinite;if(!n)return r&&iB(e),{};var f=o?A/i:a/i,g=pB(s,o),v={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(u)return v;if(!s.swipeLength)return v;if(s.swipeLength>f){var y,w;iB(e),d&&d(g);var b=m?p:h;switch(g){case"left":case"up":w=b+vB(t),y=c?gB(t,w):w,v.currentDirection=0;break;case"right":case"down":w=b-vB(t),y=c?gB(t,w):w,v.currentDirection=1;break;default:y=b}v.triggerSlideHandler=y}else{var x=xB(t);v.trackStyle=bB(l(l({},t),{},{left:x}))}return v}(e,l(l(l({},r.props),r.state),{},{trackRef:r.track,listRef:r.list,slideIndex:r.state.currentSlide}));if(t){var n=t.triggerSlideHandler;delete t.triggerSlideHandler,r.setState(t),void 0!==n&&(r.slideHandler(n),r.props.verticalSwiping&&r.enableBodyScroll())}})),i(at(r),"touchEnd",(function(e){r.swipeEnd(e),r.clickable=!0})),i(at(r),"slickPrev",(function(){r.callbackTimers.push(setTimeout((function(){return r.changeSlide({message:"previous"})}),0))})),i(at(r),"slickNext",(function(){r.callbackTimers.push(setTimeout((function(){return r.changeSlide({message:"next"})}),0))})),i(at(r),"slickGoTo",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";r.callbackTimers.push(setTimeout((function(){return r.changeSlide({message:"index",index:e,currentSlide:r.state.currentSlide},t)}),0))})),i(at(r),"play",(function(){var e;if(r.props.rtl)e=r.state.currentSlide-r.props.slidesToScroll;else{if(!mB(l(l({},r.props),r.state)))return!1;e=r.state.currentSlide+r.props.slidesToScroll}r.slideHandler(e)})),i(at(r),"autoPlay",(function(e){r.autoplayTimer&&clearInterval(r.autoplayTimer);var t=r.state.autoplaying;if("update"===e){if("hovered"===t||"focused"===t||"paused"===t)return}else if("leave"===e){if("paused"===t||"focused"===t)return}else if("blur"===e&&("paused"===t||"hovered"===t))return;r.autoplayTimer=setInterval(r.play,r.props.autoplaySpeed+50),r.setState({autoplaying:"playing"})})),i(at(r),"pause",(function(e){r.autoplayTimer&&(clearInterval(r.autoplayTimer),r.autoplayTimer=null);var t=r.state.autoplaying;"paused"===e?r.setState({autoplaying:"paused"}):"focused"===e?"hovered"!==t&&"playing"!==t||r.setState({autoplaying:"focused"}):"playing"===t&&r.setState({autoplaying:"hovered"})})),i(at(r),"onDotsOver",(function(){return r.props.autoplay&&r.pause("hovered")})),i(at(r),"onDotsLeave",(function(){return r.props.autoplay&&"hovered"===r.state.autoplaying&&r.autoPlay("leave")})),i(at(r),"onTrackOver",(function(){return r.props.autoplay&&r.pause("hovered")})),i(at(r),"onTrackLeave",(function(){return r.props.autoplay&&"hovered"===r.state.autoplaying&&r.autoPlay("leave")})),i(at(r),"onSlideFocus",(function(){return r.props.autoplay&&r.pause("focused")})),i(at(r),"onSlideBlur",(function(){return r.props.autoplay&&"focused"===r.state.autoplaying&&r.autoPlay("blur")})),i(at(r),"render",(function(){var e,t,n,s=v()("slick-slider",r.props.className,{"slick-vertical":r.props.vertical,"slick-initialized":!0}),a=l(l({},r.props),r.state),i=fB(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),o=r.props.pauseOnHover;if(i=l(l({},i),{},{onMouseEnter:o?r.onTrackOver:null,onMouseLeave:o?r.onTrackLeave:null,onMouseOver:o?r.onTrackOver:null,focusOnSelect:r.props.focusOnSelect&&r.clickable?r.selectHandler:null}),!0===r.props.dots&&r.state.slideCount>=r.props.slidesToShow){var c=fB(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),u=r.props.pauseOnDotsHover;c=l(l({},c),{},{clickHandler:r.changeSlide,onMouseEnter:u?r.onDotsLeave:null,onMouseOver:u?r.onDotsOver:null,onMouseLeave:u?r.onDotsLeave:null}),e=A.createElement(UB,c)}var d=fB(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);d.clickHandler=r.changeSlide,r.props.arrows&&(t=A.createElement(TB,d),n=A.createElement(DB,d));var h=null;r.props.vertical&&(h={height:r.state.listHeight});var p=null;!1===r.props.vertical?!0===r.props.centerMode&&(p={padding:"0px "+r.props.centerPadding}):!0===r.props.centerMode&&(p={padding:r.props.centerPadding+" 0px"});var m=l(l({},h),p),f=r.props.touchMove,g={className:"slick-list",style:m,onClick:r.clickHandler,onMouseDown:f?r.swipeStart:null,onMouseMove:r.state.dragging&&f?r.swipeMove:null,onMouseUp:f?r.swipeEnd:null,onMouseLeave:r.state.dragging&&f?r.swipeEnd:null,onTouchStart:f?r.swipeStart:null,onTouchMove:r.state.dragging&&f?r.swipeMove:null,onTouchEnd:f?r.touchEnd:null,onTouchCancel:r.state.dragging&&f?r.swipeEnd:null,onKeyDown:r.props.accessibility?r.keyHandler:null},y={className:s,dir:"ltr",style:r.props.style};return r.props.unslick&&(g={className:"slick-list"},y={className:s,style:r.props.style}),A.createElement("div",y,r.props.unslick?"":t,A.createElement("div",Pe({ref:r.listRefHandler},g),A.createElement(MB,Pe({ref:r.trackRefHandler},i),r.props.children)),r.props.unslick?"":n,r.props.unslick?"":e)})),r.list=null,r.track=null,r.state=l(l({},rB),{},{currentSlide:r.props.initialSlide,slideCount:A.Children.count(r.props.children)}),r.callbackTimers=[],r.clickable=!0,r.debouncedResize=null;var s=r.ssrInit();return r.state=l(l({},r.state),s),r}return et(n,[{key:"didPropsChange",value:function(e){for(var t=!1,n=0,r=Object.keys(this.props);n<r.length;n++){var a=r[n];if(!e.hasOwnProperty(a)){t=!0;break}if("object"!==s(e[a])&&"function"!==typeof e[a]&&e[a]!==this.props[a]){t=!0;break}}return t||A.Children.count(this.props.children)!==A.Children.count(e.children)}}]),n}(A.Component),PB=n(3191),OB=n.n(PB),RB={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return A.createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return A.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0};const VB=RB;var KB=function(e){nt(n,e);var t=ot(n);function n(e){var r;return Ze(this,n),i(at(r=t.call(this,e)),"innerSliderRefHandler",(function(e){return r.innerSlider=e})),i(at(r),"slickPrev",(function(){return r.innerSlider.slickPrev()})),i(at(r),"slickNext",(function(){return r.innerSlider.slickNext()})),i(at(r),"slickGoTo",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.innerSlider.slickGoTo(e,t)})),i(at(r),"slickPause",(function(){return r.innerSlider.pause("paused")})),i(at(r),"slickPlay",(function(){return r.innerSlider.autoPlay("play")})),r.state={breakpoint:null},r._responsiveMediaHandlers=[],r}return et(n,[{key:"media",value:function(e,t){var n=window.matchMedia(e),r=function(e){e.matches&&t()};n.addListener(r),r(n),this._responsiveMediaHandlers.push({mql:n,query:e,listener:r})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map((function(e){return e.breakpoint}));t.sort((function(e,t){return e-t})),t.forEach((function(n,r){var s;s=0===r?OB()({minWidth:0,maxWidth:n}):OB()({minWidth:t[r-1]+1,maxWidth:n}),IB()&&e.media(s,(function(){e.setState({breakpoint:n})}))}));var n=OB()({minWidth:t.slice(-1)[0]});IB()&&this.media(n,(function(){e.setState({breakpoint:null})}))}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach((function(e){e.mql.removeListener(e.listener)}))}},{key:"render",value:function(){var e,t,n=this;(e=this.state.breakpoint?"unslick"===(t=this.props.responsive.filter((function(e){return e.breakpoint===n.state.breakpoint})))[0].settings?"unslick":l(l(l({},VB),this.props),t[0].settings):l(l({},VB),this.props)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var r=A.Children.toArray(this.props.children);r=r.filter((function(e){return"string"===typeof e?!!e.trim():!!e})),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),e.variableWidth=!1);for(var s=[],a=null,i=0;i<r.length;i+=e.rows*e.slidesPerRow){for(var o=[],c=i;c<i+e.rows*e.slidesPerRow;c+=e.slidesPerRow){for(var u=[],d=c;d<c+e.slidesPerRow&&(e.variableWidth&&r[d].props.style&&(a=r[d].props.style.width),!(d>=r.length));d+=1)u.push(A.cloneElement(r[d],{key:100*i+10*c+d,tabIndex:-1,style:{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}}));o.push(A.createElement("div",{key:10*i+c},u))}e.variableWidth?s.push(A.createElement("div",{key:i,style:{width:a}},o)):s.push(A.createElement("div",{key:i},o))}if("unslick"===e){var h="regular slider "+(this.props.className||"");return A.createElement("div",{className:h},r)}return s.length<=e.slidesToShow&&(e.unslick=!0),A.createElement(LB,Pe({style:this.props.style,ref:this.innerSliderRefHandler},e),s)}}]),n}(A.Component);const zB=KB;var _B=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const GB=A.forwardRef((function(e,t){var n=e.dots,r=void 0===n||n,s=e.arrows,a=void 0!==s&&s,o=e.draggable,l=void 0!==o&&o,c=e.dotPosition,u=void 0===c?"bottom":c,d=e.vertical,h=void 0===d?"left"===u||"right"===u:d,p=_B(e,["dots","arrows","draggable","dotPosition","vertical"]),m=A.useContext(jr),f=m.getPrefixCls,g=m.direction,y=A.useRef(),w=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];y.current.slickGoTo(e,t)};A.useImperativeHandle(t,(function(){return{goTo:w,autoPlay:y.current.innerSlider.autoPlay,innerSlider:y.current.innerSlider,prev:y.current.slickPrev,next:y.current.slickNext}}),[y.current]);var b=A.useRef(A.Children.count(p.children));A.useEffect((function(){b.current!==A.Children.count(p.children)&&(w(p.initialSlide||0,!1),b.current=A.Children.count(p.children))}),[p.children]);var x=Pe({vertical:h},p);"fade"===x.effect&&(x.fade=!0);var B=f("carousel",x.prefixCls),C="slick-dots",k=!!r,S=v()(C,"".concat(C,"-").concat(u),"boolean"!==typeof r&&(null===r||void 0===r?void 0:r.className)),E=v()(B,i(i({},"".concat(B,"-rtl"),"rtl"===g),"".concat(B,"-vertical"),"left"===u||"right"===u));return A.createElement("div",{className:E},A.createElement(zB,Pe({ref:y},x,{dots:k,dotsClass:S,arrows:a,draggable:l})))}));class WB extends A.Component{render(){try{const e=(0,bo.jsxs)(GB,{autoplay:!0,autoplaySpeed:1e4,children:[(0,bo.jsxs)("div",{children:[(0,bo.jsxs)("div",{className:"heading",children:["welcome to ",(0,bo.jsx)("span",{className:"app-name",children:"dojo"})]}),(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("span",{className:"app-name",children:"dojo"})," is an app for dms of ",(0,bo.jsx)("a",{href:"https://www.wizards.com/dnd",target:"_blank",rel:"noopener noreferrer",children:"dungeons and dragons fifth edition"})]}),(0,bo.jsxs)("div",{className:"section",children:["with ",(0,bo.jsx)("span",{className:"app-name",children:"dojo"})," you can..."]})]},"prologue"),(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"heading",children:"build unique, challenging monsters"}),(0,bo.jsxs)("ul",{children:[(0,bo.jsx)("li",{children:"watch the stat block change as you design your monster"}),(0,bo.jsx)("li",{children:"build an entirely random monster with a single click"}),(0,bo.jsxs)("li",{children:["easily import any monster from ",(0,bo.jsx)("a",{href:"https://dnd.wizards.com/articles/features/basicrules",target:"_blank",rel:"noopener noreferrer",children:"the basic rules"})," or from ",(0,bo.jsx)("a",{href:"https://www.dndbeyond.com",target:"_blank",rel:"noopener noreferrer",children:"d&d beyond"})]}),(0,bo.jsx)("li",{children:"apply a theme to your monster to make it extra unique"}),(0,bo.jsx)("li",{children:"use legendary and mythic monsters"})]})]},"monster"),(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"heading",children:"create rewarding encounters"}),(0,bo.jsxs)("ul",{children:[(0,bo.jsx)("li",{children:"quickly add monsters to your encounter and see its difficulty level change"}),(0,bo.jsx)("li",{children:"add themes to your monsters to make them more unique"}),(0,bo.jsx)("li",{children:"split your encounter into multiple waves"}),(0,bo.jsx)("li",{children:"set specific victory conditions"}),(0,bo.jsxs)("li",{children:["let ",(0,bo.jsx)("span",{className:"app-name",children:"dojo"})," build a random encounter on the fly - or use one of its encounter templates to get started"]})]})]},"encounter"),(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"heading",children:"design intricate tactical maps"}),(0,bo.jsxs)("ul",{children:[(0,bo.jsx)("li",{children:"create a dungeon map by quickly adding rooms, doors, corridors, and stairs"}),(0,bo.jsx)("li",{children:"for something a little more fancy, you can upload your own battlemap images - even animated images"}),(0,bo.jsx)("li",{children:"generate an entire random dungeon map with one click"}),(0,bo.jsx)("li",{children:"add fog of war and then show your maps to your players"})]})]},"map"),(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"heading",children:"run combat without the book-keeping"}),(0,bo.jsxs)("ul",{children:[(0,bo.jsx)("li",{children:"see the initiative list at a glance - and share it with players in a separate window"}),(0,bo.jsx)("li",{children:"track monster hit points, rechargable actions, and legendary actions"}),(0,bo.jsx)("li",{children:"track conditions, their durations, and the effects they impose"}),(0,bo.jsx)("li",{children:"easily handle mounted combat"}),(0,bo.jsx)("li",{children:"keep track of everyone's location, if you're using a tactical map"})]})]},"combat"),(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"heading",children:"devise adventures"}),(0,bo.jsxs)("ul",{children:[(0,bo.jsx)("li",{children:"keep track of all the information you need to run an adventure"}),(0,bo.jsx)("li",{children:"see the structure of a scenario as a flow chart - or as a map if you're running a dungeon delve"}),(0,bo.jsx)("li",{children:"add encounters and check their difficulty for your pcs"}),(0,bo.jsx)("li",{children:"keep handouts ready to show to your players"}),(0,bo.jsx)("li",{children:"generate an entire dungeon delve with a single click"})]})]},"adventure"),(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"heading",children:"keep on top of things"}),(0,bo.jsxs)("ul",{children:[(0,bo.jsx)("li",{children:"check references for skill usage, condition effects, and action rules"}),(0,bo.jsx)("li",{children:"see your party's passive skills, known languages, and darkvision ranges"}),(0,bo.jsx)("li",{children:"come up with npc names and descriptions, place names, and descriptions of potions or art objects"})]})]},"dm-screen"),(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"heading",children:"to get started"}),(0,bo.jsxs)("div",{className:"section",children:["use the buttons at the bottom of this screen to explore ",(0,bo.jsx)("span",{className:"app-name",children:"dojo"}),"'s main features"]}),(0,bo.jsx)("div",{className:"section",children:"the arrow at the top right gives you additional tools like a die roller and a handout manager"})]},"epilogue")]});return(0,bo.jsx)(Os,{align:"middle",justify:"center",className:"full-height",children:e})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"HomeScreen",error:bC})}}}class YB extends A.Component{render(){return(0,bo.jsxs)("div",{children:[(0,bo.jsx)("button",{onClick:()=>this.props.resumeExploration(this.props.exploration),children:"resume exploration"}),(0,bo.jsx)(ug,{onConfirm:()=>this.props.deleteExploration(this.props.exploration),children:"delete exploration"})]})}}class qB extends A.Component{render(){try{return(0,bo.jsxs)("div",{className:"card map",children:[(0,bo.jsx)("div",{className:"heading",children:(0,bo.jsx)("div",{className:"title",children:this.props.exploration.name||"unnamed exploration"})}),(0,bo.jsxs)("div",{className:"card-content",children:[(0,bo.jsx)("div",{className:"fixed-height",children:(0,bo.jsx)($y,{map:this.props.exploration.map,fog:this.props.exploration.fog,combatants:this.props.exploration.combatants})}),(0,bo.jsx)("hr",{}),(0,bo.jsx)(YB,{exploration:this.props.exploration,resumeExploration:e=>this.props.resumeExploration(e),deleteExploration:e=>this.props.deleteExploration(e)})]})]},this.props.exploration.id)}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"ExplorationCard",error:bC})}}}class XB extends A.Component{constructor(e){super(e),this.state={cloneName:e.map.name+" copy"}}setCloneName(e){this.setState({cloneName:e})}render(){try{let e=null,t=null;return 1===this.props.parties.length&&(e=(0,bo.jsx)("button",{onClick:()=>this.props.startEncounter(this.props.parties[0].id,this.props.map.id),children:"start combat"}),t=(0,bo.jsx)("button",{onClick:()=>this.props.startExploration(this.props.parties[0].id,this.props.map.id),children:"start exploration"})),this.props.parties.length>1&&(e=(0,bo.jsx)(mg,{options:this.props.parties.map((e=>({id:e.id,text:e.name||"unnamed party"}))),placeholder:"start combat with...",onSelect:e=>this.props.startEncounter(e,this.props.map.id)}),t=(0,bo.jsx)(mg,{options:this.props.parties.map((e=>({id:e.id,text:e.name||"unnamed party"}))),placeholder:"start exploration with...",onSelect:e=>this.props.startExploration(e,this.props.map.id)})),(0,bo.jsxs)("div",{children:[(0,bo.jsx)(Av,{text:"copy map",children:(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:(0,bo.jsx)(xo,{text:this.state.cloneName,placeholder:"name of copy",onChange:e=>this.setCloneName(e)})}),(0,bo.jsx)("div",{className:"icons",children:(0,bo.jsx)(qx,{title:"create copy",className:""===this.state.cloneName?"disabled":"",onClick:()=>this.props.cloneMap(this.props.map,this.state.cloneName)})})]})}),e,t,(0,bo.jsx)(ug,{onConfirm:()=>this.props.deleteMap(this.props.map),children:"delete map"})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"MapOptions",error:bC})}}}class JB extends A.Component{render(){try{return(0,bo.jsxs)("div",{className:"card map",children:[(0,bo.jsx)("div",{className:"heading",children:(0,bo.jsx)("div",{className:"title",children:this.props.map.name||"unnamed map"})}),(0,bo.jsxs)("div",{className:"card-content",children:[(0,bo.jsx)("div",{className:"fixed-height",children:(0,bo.jsx)($y,{map:this.props.map})}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("button",{onClick:()=>this.props.openMap(this.props.map),children:"open map"}),(0,bo.jsx)(Av,{text:"more options",children:(0,bo.jsx)(XB,{map:this.props.map,parties:this.props.parties,cloneMap:(e,t)=>this.props.cloneMap(e,t),startEncounter:(e,t)=>this.props.startEncounter(e,t),startExploration:(e,t)=>this.props.startExploration(e,t),deleteMap:e=>this.props.deleteMap(e)})})]})]},this.props.map.id)}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"MapCard",error:bC})}}}class ZB extends A.Component{render(){return(0,bo.jsxs)("div",{children:[(0,bo.jsx)("button",{onClick:()=>this.props.addMap(),children:"add a new map"}),(0,bo.jsx)("button",{onClick:()=>this.props.importMap(),children:"import a map image"}),(0,bo.jsx)("button",{onClick:()=>this.props.generateMap(),children:"generate a random map"})]})}}class $B extends A.Component{render(){try{const e=this.props.explorations;no.sort(e);const t=e.map((e=>(0,bo.jsx)(qB,{exploration:e,resumeExploration:e=>this.props.resumeExploration(e),deleteExploration:e=>this.props.deleteExploration(e)},e.id))),n=this.props.maps;no.sort(n);const r=n.map((e=>(0,bo.jsx)(JB,{map:e,parties:this.props.parties,openMap:e=>this.props.openMap(e),cloneMap:(e,t)=>this.props.cloneMap(e,t),deleteMap:e=>this.props.deleteMap(e),startEncounter:(e,t)=>this.props.startEncounter(e,t),startExploration:(e,t)=>this.props.startExploration(e,t)},e.id)));return(0,bo.jsxs)(Os,{className:"full-height",children:[(0,bo.jsxs)(zs,{span:6,className:"scrollable sidebar sidebar-left",children:[(0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{className:"section",children:"on this page you can set up tactical maps"}),(0,bo.jsx)("div",{className:"section",children:"when you have created a map you can explore it with a party of pcs, or use it in the combat manager"}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("div",{className:"section",children:"on the right you will see the maps you have created"}),(0,bo.jsxs)("div",{className:"section",children:["press a map's ",(0,bo.jsx)("b",{children:"open map"})," button to modify it"]}),(0,bo.jsx)("hr",{}),(0,bo.jsxs)("div",{className:"section",children:["to design a new map, press the ",(0,bo.jsx)("b",{children:"add a new map"})," button"]})]}),(0,bo.jsx)(ZB,{addMap:()=>this.props.addMap(),importMap:()=>this.props.importMap(),generateMap:()=>this.props.generateMap()})]}),(0,bo.jsxs)(zs,{span:18,className:"scrollable",children:[(0,bo.jsx)(dw,{heading:"in progress",content:t}),(0,bo.jsx)(dw,{heading:"maps",content:r})]})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"MapListScreen",error:bC})}}}const eC=["default","cavern","dirt","flagstone","floorboard","grassland","pit","sand","snow","water","custom","link"];class tC extends A.Component{constructor(e){super(e),this.state={sidebarView:"tiles",lighting:"bright light",selectedTileID:null,selectedWallID:null,selectedAreaID:null,addingTile:!1,addingWall:!1,addingArea:!1,addingLightSource:!1}}setSidebarView(e){this.setState({sidebarView:e})}setLighting(e){this.setState({lighting:e})}setSelectedTileID(e){this.setState({selectedTileID:e,selectedWallID:null,selectedAreaID:null})}setSelectedWallID(e){this.setState({selectedTileID:null,selectedWallID:e,selectedAreaID:null})}setSelectedAreaID(e){this.setState({selectedTileID:null,selectedWallID:null,selectedAreaID:e})}toggleAddingTile(){this.setState({addingTile:!this.state.addingTile,addingWall:!1,addingArea:!1,addingLightSource:!1})}toggleAddingWall(){this.setState({addingTile:!1,addingWall:!this.state.addingWall,addingArea:!1,addingLightSource:!1})}toggleAddingArea(){this.setState({addingTile:!1,addingWall:!1,addingArea:!this.state.addingArea,addingLightSource:!1})}toggleAddingLightSource(){this.setState({addingTile:!1,addingWall:!1,addingArea:!1,addingLightSource:!this.state.addingLightSource})}gridSquareClicked(e,t){this.state.addingLightSource&&this.setState({addingLightSource:!1},(()=>{const n=ro.createMapLightSource();n.x=e,n.y=t,this.props.addMapLightSource(this.props.map,n)}))}rectangleSelected(e,t,n,r){if(this.state.addingTile){const s=ro.createMapItem();s.x=e,s.y=t,s.width=n-e+1,s.height=r-t+1,s.terrain="default",this.setState({selectedTileID:s.id,addingTile:!1},(()=>{this.props.addMapTile(this.props.map,s)}))}if(this.state.addingArea){const s=ro.createMapArea();s.x=e,s.y=t,s.width=n-e+1,s.height=r-t+1,this.setState({selectedAreaID:s.id,addingArea:!1},(()=>{this.props.addMapArea(this.props.map,s)}))}}verticesSelected(e,t,n,r){if(this.state.addingWall){const s=ro.createMapWall();s.pointA={x:e,y:t,z:0},s.pointB={x:n,y:r,z:0},this.setState({selectedWallID:s.id,addingWall:!1},(()=>{this.props.addMapWall(this.props.map,s)}))}}render(){try{let e=null;if(this.state.selectedTileID){const t=this.props.map.items.find((e=>e.id===this.state.selectedTileID));t&&(e=(0,bo.jsxs)("div",{children:[(0,bo.jsx)(nC,{tile:t,toggleImageSelection:()=>this.props.selectMapTileImage(this.props.map,t),changeValue:(e,t,n)=>this.props.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.props.nudgeValue(e,t,n),moveMapTile:(e,t,n)=>this.props.moveMapTile(this.props.map,e,t,n),cloneMapTile:e=>this.props.cloneMapTile(this.props.map,e),deleteMapTile:e=>this.props.deleteMapTile(this.props.map,e),rotateMapTile:e=>this.props.rotateMapTile(this.props.map,e),sendToBack:e=>this.props.sendToBack(this.props.map,e),bringToFront:e=>this.props.bringToFront(this.props.map,e)}),(0,bo.jsx)("hr",{}),(0,bo.jsxs)("button",{onClick:()=>this.setSelectedTileID(null),children:[(0,bo.jsx)(Mo,{style:{fontSize:"10px"}})," back to the editor"]})]}))}if(this.state.selectedWallID){const t=this.props.map.walls.find((e=>e.id===this.state.selectedWallID));t&&(e=(0,bo.jsxs)("div",{children:[(0,bo.jsx)(rC,{wall:t,changeValue:(e,t,n)=>this.props.changeValue(e,t,n),nudgeWallLength:(e,t)=>this.props.nudgeWallLength(this.props.map,e,t),moveMapWall:(e,t,n)=>this.props.moveMapWall(this.props.map,e,t,n),deleteMapWall:e=>this.props.deleteMapWall(this.props.map,e)}),(0,bo.jsx)("hr",{}),(0,bo.jsxs)("button",{onClick:()=>this.setSelectedTileID(null),children:[(0,bo.jsx)(Mo,{style:{fontSize:"10px"}})," back to the editor"]})]}))}e||(e=(0,bo.jsxs)("div",{children:[(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("div",{className:"subheading",children:"map name"}),(0,bo.jsx)(xo,{text:this.props.map.name,placeholder:"map name",onChange:e=>this.props.changeValue(this.props.map,"name",e)})]}),(0,bo.jsx)("hr",{}),(0,bo.jsx)(wv,{options:no.arrayToItems(["tiles","walls","areas"]),selectedID:this.state.sidebarView,onSelect:e=>this.setSidebarView(e)}),(0,bo.jsx)(Lg,{display:"tiles"===this.state.sidebarView,children:(0,bo.jsxs)(cv,{transparent:!0,children:[(0,bo.jsx)(Lg,{display:0===this.props.map.items.length,children:(0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{className:"section",children:"maps are made out of map tiles, arranged together"}),(0,bo.jsxs)("div",{className:"section",children:["to add a new tile to the map, click on ",(0,bo.jsx)("b",{children:"add a map tile"})," below"]}),(0,bo.jsx)("div",{className:"section",children:"to edit an existing tile, click on it to select it"})]})}),(0,bo.jsx)("button",{onClick:()=>this.toggleAddingTile(),children:this.state.addingTile?"click and drag on the map to select a rectangle, or click here to cancel":"add a map tile"}),(0,bo.jsx)(ug,{onConfirm:()=>this.props.clearMapTiles(this.props.map),children:"clear all tiles"})]})}),(0,bo.jsx)(Lg,{display:"walls"===this.state.sidebarView,children:(0,bo.jsxs)(cv,{transparent:!0,children:[(0,bo.jsx)(Lg,{display:0===this.props.map.walls.length,children:(0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{className:"section",children:"tiles usually need walls around them"}),(0,bo.jsxs)("div",{className:"section",children:["to add a new wall to the map, click on ",(0,bo.jsx)("b",{children:"add a wall"})," below"]}),(0,bo.jsx)("div",{className:"section",children:"to edit an existing wall, click on it to select it"})]})}),(0,bo.jsx)("button",{onClick:()=>this.toggleAddingWall(),children:this.state.addingWall?"click and drag a corner circle on the map, or click here to cancel":"add a wall"}),(0,bo.jsx)(Lg,{display:0===this.props.map.walls.length,children:(0,bo.jsx)("button",{onClick:()=>this.props.fillInMapWalls(this.props.map),children:"add walls around tiles"})}),(0,bo.jsx)(ug,{onConfirm:()=>this.props.clearMapWalls(this.props.map),children:"clear all walls"})]})}),(0,bo.jsx)(Lg,{display:"areas"===this.state.sidebarView,children:(0,bo.jsxs)(cv,{transparent:!0,children:[(0,bo.jsx)(Lg,{display:0===this.props.map.areas.length,children:(0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{className:"section",children:"if your map is large, you might want to designate different areas (such as rooms in a dungeon, or floors of a building)"}),(0,bo.jsxs)("div",{className:"section",children:["to add a new area to the map, click on ",(0,bo.jsx)("b",{children:"add a map area"})," below"]}),(0,bo.jsx)("div",{className:"section",children:"to edit an existing area, click on it to select it"})]})}),(0,bo.jsx)("div",{children:this.props.map.areas.map((e=>(0,bo.jsx)("div",{onMouseEnter:()=>this.setSelectedAreaID(e.id),onMouseLeave:()=>this.setSelectedAreaID(null),children:(0,bo.jsx)(Av,{text:e.name||"unnamed area",children:(0,bo.jsx)(sC,{area:e,changeValue:(e,t,n)=>this.props.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.props.nudgeValue(e,t,n),moveMapArea:(e,t,n)=>this.props.moveMapArea(this.props.map,e,t,n),deleteMapArea:e=>this.props.deleteMapArea(this.props.map,e)})})},e.id)))}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("button",{onClick:()=>this.toggleAddingArea(),children:this.state.addingArea?"click and drag on the map to create a map area, or click here to cancel":"add a map area"}),(0,bo.jsx)(ug,{onConfirm:()=>this.props.clearMapAreas(this.props.map),children:"clear all areas"})]})}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("button",{onClick:()=>this.props.rotateMap(this.props.map),children:"rotate the map"}),(0,bo.jsx)("button",{onClick:()=>this.props.generateRoom(this.props.map),children:"add a random room"}),(0,bo.jsx)("button",{onClick:()=>vo.takeScreenshot(this.props.map.id),children:"export map image"}),(0,bo.jsx)(XB,{map:this.props.map,parties:this.props.parties,cloneMap:(e,t)=>this.props.cloneMap(e,t),startEncounter:(e,t)=>this.props.startEncounter(e,t,this.state.lighting),startExploration:(e,t)=>this.props.startExploration(e,t,this.state.lighting),deleteMap:e=>this.props.deleteMap(e)}),(0,bo.jsx)("hr",{}),(0,bo.jsxs)("button",{onClick:()=>this.props.goBack(),children:[(0,bo.jsx)(Mo,{style:{fontSize:"10px"}})," back to the list"]})]}));const t=[];return this.state.selectedTileID&&t.push(this.state.selectedTileID),this.state.selectedWallID&&t.push(this.state.selectedWallID),this.state.selectedAreaID&&t.push(this.state.selectedAreaID),(0,bo.jsxs)(Os,{className:"full-height",children:[(0,bo.jsx)(zs,{span:6,className:"scrollable sidebar sidebar-left",children:e}),(0,bo.jsx)(zs,{span:18,className:"scrollable both-ways",children:(0,bo.jsx)($y,{map:this.props.map,mode:"edit",features:{highlight:!1,editFog:!1,lightSource:this.state.addingLightSource},paddingSquares:this.state.addingTile?5:0,selectedItemIDs:t,showGrid:this.state.addingTile||this.state.addingArea||this.state.addingLightSource,showWallVertices:this.state.addingWall,showAreaNames:!0,lighting:this.state.lighting,itemSelected:e=>this.setSelectedTileID(e),wallSelected:e=>this.setSelectedWallID(e),areaSelected:e=>this.setSelectedAreaID(e),gridSquareClicked:(e,t)=>this.gridSquareClicked(e,t),gridRectangleSelected:(e,t,n,r)=>this.rectangleSelected(e,t,n,r),verticesSelected:(e,t,n,r)=>this.verticesSelected(e,t,n,r),changeLighting:e=>this.setLighting(e),changeLightSource:(e,t,n,r)=>this.props.changeLightSource(e,t,n,r),removeLightSource:e=>this.props.deleteMapLightSource(this.props.map,e),toggleFeature:e=>{if("lightSource"===e)this.toggleAddingLightSource()},changeValue:(e,t,n)=>this.props.changeValue(e,t,n)})})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"MapScreen",error:bC})}}}class nC extends A.Component{render(){try{let e=null;return"custom"===this.props.tile.terrain&&(e=(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"subheading",children:"custom image"}),(0,bo.jsx)("button",{onClick:()=>this.props.toggleImageSelection(),children:"select image"}),(0,bo.jsx)("button",{onClick:()=>this.props.changeValue(this.props.tile,"customBackground",""),children:"clear image"})]})),"link"===this.props.tile.terrain&&(e=(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"subheading",children:"link to custom image"}),(0,bo.jsx)(xo,{text:this.props.tile.customLink,placeholder:"https://...",onChange:e=>this.props.changeValue(this.props.tile,"customLink",e)})]})),(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"heading",children:(0,bo.jsx)("div",{className:"title",children:"map tile"})}),(0,bo.jsxs)("div",{children:[(0,bo.jsx)(Xy,{onMove:(e,t)=>this.props.moveMapTile(this.props.tile,e,t)}),(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("div",{className:"subheading",children:"size"}),(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)(gv,{value:this.props.tile.width+" sq / "+5*this.props.tile.width+" ft",label:"width",downEnabled:this.props.tile.width>1,onNudgeValue:e=>this.props.nudgeValue(this.props.tile,"width",e)}),(0,bo.jsx)(gv,{value:this.props.tile.height+" sq / "+5*this.props.tile.height+" ft",label:"height",downEnabled:this.props.tile.height>1,onNudgeValue:e=>this.props.nudgeValue(this.props.tile,"height",e)})]})]}),(0,bo.jsx)("hr",{}),(0,bo.jsxs)(Av,{text:"advanced options",children:[(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("div",{className:"subheading",children:"terrain"}),(0,bo.jsx)(vv,{options:no.arrayToItems(eC),selectedID:this.props.tile.terrain,itemsPerRow:3,onSelect:e=>this.props.changeValue(this.props.tile,"terrain",e)}),e]}),(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("div",{className:"subheading",children:"shape"}),(0,bo.jsx)(vv,{options:no.arrayToItems(["square","rounded","circle"]),selectedID:this.props.tile.style,onSelect:e=>this.props.changeValue(this.props.tile,"style",e)})]}),(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("div",{className:"subheading",children:"content"}),(0,bo.jsx)(jy,{items:[{id:"none",text:"none"},{id:"stairway",text:"stairway",details:(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{children:(0,bo.jsx)("b",{children:"style"})}),(0,bo.jsx)(vv,{options:no.arrayToItems(["stairs","spiral","ladder"]),selectedID:this.props.tile.content?this.props.tile.content.style:null,onSelect:e=>this.props.changeValue(this.props.tile.content,"style",e)}),(0,bo.jsx)("div",{children:(0,bo.jsx)("b",{children:"orientation"})}),(0,bo.jsx)(vv,{options:no.arrayToItems(["horizontal","vertical"]),selectedID:this.props.tile.content?this.props.tile.content.orientation:null,onSelect:e=>this.props.changeValue(this.props.tile.content,"orientation",e)})]})}],selectedItemID:this.props.tile.content?this.props.tile.content.type:"none",onSelect:e=>{let t=null;if("none"!==e){let n="";if("stairway"===e)n="stairs";t={type:e,orientation:"horizontal",style:n}}this.props.changeValue(this.props.tile,"content",t)}})]}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("button",{onClick:()=>this.props.bringToFront(this.props.tile),children:"bring to front"}),(0,bo.jsx)("button",{onClick:()=>this.props.sendToBack(this.props.tile),children:"send to back"}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("button",{onClick:()=>this.props.rotateMapTile(this.props.tile),children:"rotate tile"}),(0,bo.jsx)("button",{onClick:()=>this.props.cloneMapTile(this.props.tile),children:"copy tile"})]}),(0,bo.jsx)("hr",{}),(0,bo.jsx)(ug,{onConfirm:()=>this.props.deleteMapTile(this.props.tile),children:"delete tile"})]})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"MapTilePanel",error:bC})}}}class rC extends A.Component{render(){try{const e=yo.getWallLength(this.props.wall);return(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"heading",children:(0,bo.jsx)("div",{className:"title",children:"map wall"})}),(0,bo.jsxs)("div",{children:[(0,bo.jsx)(Xy,{onMove:(e,t)=>this.props.moveMapWall(this.props.wall,e,t)}),(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("div",{className:"subheading",children:"size"}),(0,bo.jsx)("div",{className:"section",children:(0,bo.jsx)(gv,{value:e+" sq / "+5*e+" ft",label:"length",downEnabled:e>1,onNudgeValue:e=>this.props.nudgeWallLength(this.props.wall,e)})}),(0,bo.jsx)("div",{className:"subheading",children:"details"}),(0,bo.jsx)(zg,{label:"this is a doorway",checked:"wall"!==this.props.wall.display,onChecked:e=>this.props.changeValue(this.props.wall,"display",e?"door":"wall")}),(0,bo.jsx)(Lg,{display:"wall"===this.props.wall.display,children:(0,bo.jsx)(zg,{label:"blocks movement",checked:this.props.wall.blocksMovement,onChecked:e=>this.props.changeValue(this.props.wall,"blocksMovement",e)})}),(0,bo.jsxs)(Lg,{display:"wall"!==this.props.wall.display,children:[(0,bo.jsx)(vv,{options:no.arrayToItems(["door","double-door","bars"]),selectedID:this.props.wall.display,onSelect:e=>this.props.changeValue(this.props.wall,"display",e)}),(0,bo.jsx)(vv,{options:no.arrayToItems(["open","closed"]),selectedID:this.props.wall.blocksMovement?"closed":"open",onSelect:e=>this.props.changeValue(this.props.wall,"blocksMovement","closed"===e)}),(0,bo.jsx)(zg,{label:"blocks line-of-sight",checked:this.props.wall.blocksLineOfSight,onChecked:e=>this.props.changeValue(this.props.wall,"blocksLineOfSight",e)}),(0,bo.jsx)(zg,{label:"concealed",checked:this.props.wall.isConcealed,onChecked:e=>this.props.changeValue(this.props.wall,"isConcealed",e)})]})]}),(0,bo.jsx)("hr",{}),(0,bo.jsx)(ug,{onConfirm:()=>this.props.deleteMapWall(this.props.wall),children:"delete wall"})]})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"MapTilePanel",error:bC})}}}class sC extends A.Component{randomName(){const e=oo.capitalise(oo.generateRoomName());this.props.changeValue(this.props.area,"name",e)}render(){try{return(0,bo.jsxs)("div",{children:[(0,bo.jsx)("div",{className:"subheading",children:"name"}),(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:(0,bo.jsx)(xo,{text:this.props.area.name,onChange:e=>this.props.changeValue(this.props.area,"name",e)})}),(0,bo.jsx)("div",{className:"icons",children:(0,bo.jsx)(Fo,{onClick:()=>this.randomName(),title:"generate a random name"})})]}),(0,bo.jsx)("div",{className:"subheading",children:"move"}),(0,bo.jsx)(Xy,{onMove:(e,t)=>this.props.moveMapArea(this.props.area,e,t)}),(0,bo.jsx)("div",{className:"subheading",children:"size"}),(0,bo.jsx)(gv,{value:this.props.area.width+" sq / "+5*this.props.area.width+" ft",label:"width",downEnabled:this.props.area.width>1,onNudgeValue:e=>this.props.nudgeValue(this.props.area,"width",e)}),(0,bo.jsx)(gv,{value:this.props.area.height+" sq  /"+5*this.props.area.width+" ft",label:"height",downEnabled:this.props.area.height>1,onNudgeValue:e=>this.props.nudgeValue(this.props.area,"height",e)}),(0,bo.jsx)("hr",{}),(0,bo.jsxs)(Av,{text:"notes",children:[(0,bo.jsx)(Hg,{text:this.props.area.text,onChange:e=>this.props.changeValue(this.props.area,"text",e)}),(0,bo.jsx)("button",{onClick:()=>{const e=oo.generateRoomDescription();this.props.changeValue(this.props.area,"text",e)},children:"set a random description"})]}),(0,bo.jsx)("hr",{}),(0,bo.jsx)(ug,{onConfirm:()=>this.props.deleteMapArea(this.props.area),children:"delete area"})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"MapAreaPanel",error:bC})}}}class aC extends A.Component{render(){try{return(0,bo.jsxs)("div",{children:[(0,bo.jsx)("button",{onClick:()=>this.props.addMonster(),children:"add a new monster"}),(0,bo.jsx)("button",{onClick:()=>this.props.importMonster(),children:"import a monster"}),(0,bo.jsx)("button",{onClick:()=>this.props.generateMonster(),children:"generate a random monster"}),(0,bo.jsx)("button",{onClick:()=>this.props.openDemographics(this.props.monsterGroup),children:"show demographics"}),(0,bo.jsx)("button",{onClick:()=>this.props.createEncounter(this.props.monsterGroup.monsters.map((e=>e.id))),children:"create an encounter"}),(0,bo.jsx)(ug,{disabled:this.props.monsterGroup.monsters.some((e=>this.props.encounters.some((t=>ao.encounterHasMonster(t,e.id))))),onConfirm:()=>this.props.deleteMonsterGroup(this.props.monsterGroup),children:"delete group"})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"MonsterGroupOptions",error:bC})}}}class iC extends A.Component{getMonsters(){return 0===this.props.group.monsters.length?(0,bo.jsx)("div",{className:"section",children:"no monsters"}):this.props.group.monsters.map((e=>(0,bo.jsx)(cv,{transparent:!0,onClick:()=>this.props.openStatBlock(e),children:(0,bo.jsxs)("div",{className:"content-then-info",children:[(0,bo.jsxs)("div",{className:"content",children:[(0,bo.jsx)(Sd,{source:e,inline:!0}),e.name||"unnamed monster"]}),(0,bo.jsxs)("div",{className:"info",children:["cr ",io.challenge(e.challenge)]})]})},e.id)))}render(){try{return(0,bo.jsxs)("div",{className:"card monster",children:[(0,bo.jsx)("div",{className:"heading",children:(0,bo.jsx)("div",{className:"title",children:this.props.group.name||"unnamed group"})}),(0,bo.jsxs)("div",{className:"card-content",children:[(0,bo.jsx)("div",{className:"fixed-height",children:this.getMonsters()}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("button",{onClick:()=>this.props.openMonsterGroup(this.props.group),children:"open group"}),(0,bo.jsx)(Av,{text:"more options",children:(0,bo.jsx)(aC,{monsterGroup:this.props.group,library:this.props.library,encounters:this.props.encounters,addMonster:()=>this.props.addMonster(),importMonster:()=>this.props.importMonster(),generateMonster:()=>this.props.generateMonster(),openDemographics:e=>this.props.openDemographics(e),createEncounter:e=>this.props.createEncounter(e),deleteMonsterGroup:e=>this.props.deleteMonsterGroup(e)})})]})]},this.props.group.id)}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"MonsterGroupCard",error:bC})}}}class oC extends A.Component{render(){return(0,bo.jsxs)("div",{children:[(0,bo.jsx)("button",{onClick:()=>this.props.addMonsterGroup(),children:"add a new monster group"}),(0,bo.jsx)("button",{onClick:()=>this.props.openDemographics(),children:"show demographics"})]})}}class lC extends A.Component{render(){try{if(!this.props.hasMonsters)return(0,bo.jsx)(Os,{align:"middle",justify:"center",className:"scrollable",children:(0,bo.jsx)("div",{style:{width:"400px"},children:(0,bo.jsxs)(gg,{children:[(0,bo.jsxs)("div",{className:"section",children:["to kickstart your monster collection, let's import all the monsters from the ",(0,bo.jsx)("a",{href:"https://dnd.wizards.com/articles/features/systems-reference-document-srd",target:"_blank",rel:"noopener noreferrer",children:"d&d system reference document"})]}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("button",{onClick:()=>this.props.addOpenGameContent(),children:"import monsters"})]})})});const e=this.props.library;no.sort(e);const t=e.map((e=>(0,bo.jsx)(iC,{group:e,library:this.props.library,encounters:this.props.encounters,openMonsterGroup:e=>this.props.openMonsterGroup(e),addMonster:()=>this.props.addMonster(),importMonster:()=>this.props.importMonster(),generateMonster:()=>this.props.generateMonster(),openDemographics:e=>this.props.openDemographics(e),deleteMonsterGroup:e=>this.props.deleteMonsterGroup(e),openStatBlock:e=>this.props.openStatBlock(e),createEncounter:e=>this.props.createEncounter(e)},e.id)));return(0,bo.jsxs)(Os,{className:"full-height",children:[(0,bo.jsxs)(zs,{span:6,className:"scrollable sidebar sidebar-left",children:[(0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{className:"section",children:"you can maintain your menagerie of monsters here"}),(0,bo.jsx)("div",{className:"section",children:"you can then use these monsters to design combat encounters in the encounter builder"}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("div",{className:"section",children:"on the right you will see your monster groups"}),(0,bo.jsx)("div",{className:"section",children:"select a monster group from the list to see stat blocks for monsters in that group"}),(0,bo.jsxs)("div",{className:"section",children:["press a group's ",(0,bo.jsx)("b",{children:"open group"})," button to see monster details"]}),(0,bo.jsx)("hr",{}),(0,bo.jsxs)("div",{className:"section",children:["to start adding monsters, press the ",(0,bo.jsx)("b",{children:"add a new monster group"})," button"]})]}),(0,bo.jsx)(oC,{addMonsterGroup:()=>this.props.addMonsterGroup(),openDemographics:()=>this.props.openDemographics(null)})]}),(0,bo.jsx)(zs,{span:18,className:"scrollable",children:(0,bo.jsx)(dw,{heading:"monster groups",content:t})})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"MonsterGroupListScreen",error:bC})}}}class AC extends A.Component{constructor(e){super(e),this.state={cloneName:e.monster.name+" copy"}}setCloneName(e){this.setState({cloneName:e})}render(){try{const e=[];return this.props.library.forEach((t=>{-1===t.monsters.indexOf(this.props.monster)&&e.push({id:t.id,text:t.name||"unnamed group"})})),(0,bo.jsxs)("div",{children:[(0,bo.jsx)("button",{onClick:()=>this.props.viewMonster(this.props.monster),children:"statblock"}),(0,bo.jsx)("button",{onClick:()=>this.props.editMonster(this.props.monster),children:"edit monster"}),(0,bo.jsx)(Av,{text:"copy monster",children:(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:(0,bo.jsx)(xo,{text:this.state.cloneName,placeholder:"name of copy",onChange:e=>this.setCloneName(e)})}),(0,bo.jsx)("div",{className:"icons",children:(0,bo.jsx)(qx,{title:"create copy",className:""===this.state.cloneName?"disabled":"",onClick:()=>this.props.cloneMonster(this.props.monster,this.state.cloneName)})})]})}),(0,bo.jsx)(mg,{options:e,placeholder:"move to group...",onSelect:e=>this.props.moveToGroup(this.props.monster,e)}),(0,bo.jsx)("button",{onClick:()=>this.props.createEncounter(this.props.monster.id),children:"create an encounter"}),(0,bo.jsx)(ug,{disabled:this.props.encounters.some((e=>ao.encounterHasMonster(e,this.props.monster.id))),onConfirm:()=>this.props.deleteMonster(this.props.monster),children:"delete monster"})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"MonsterOptions",error:bC})}}}class cC extends A.Component{getTags(){const e=[];let t=(this.props.monster.size+" "+this.props.monster.category).toLowerCase();return this.props.monster.tag&&(t+=" ("+this.props.monster.tag.toLowerCase()+")"),e.push((0,bo.jsx)(Pc,{children:t},"tag-main")),this.props.monster.alignment&&e.push((0,bo.jsx)(Pc,{children:this.props.monster.alignment.toLowerCase()},"tag-align")),e}render(){try{const e=this.props.monster.name||"unnamed monster";return(0,bo.jsxs)("div",{className:"card monster",children:[(0,bo.jsx)("div",{className:"heading",children:(0,bo.jsx)("div",{className:"title",title:e,children:e})}),(0,bo.jsxs)("div",{className:"card-content",children:[(0,bo.jsx)(Sd,{source:this.props.monster}),(0,bo.jsx)("div",{className:"section centered",children:this.getTags()}),(0,bo.jsx)("hr",{}),(0,bo.jsx)(AC,{monster:this.props.monster,library:this.props.library,encounters:this.props.encounters,viewMonster:e=>this.props.viewMonster(e),editMonster:e=>this.props.editMonster(e),deleteMonster:e=>this.props.deleteMonster(e),cloneMonster:(e,t)=>this.props.cloneMonster(e,t),moveToGroup:(e,t)=>this.props.moveToGroup(e,t),createEncounter:e=>this.props.createEncounter(e)})]})]},this.props.monster.id)}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"MonsterCard",error:bC})}}}class uC extends A.Component{getSummary(){if(0===this.props.monsterGroup.monsters.length)return(0,bo.jsx)("div",{className:"section centered",children:(0,bo.jsx)("i",{children:"no monsters"})});const e={min:30,max:0};this.props.monsterGroup.monsters.forEach((t=>{e.min=Math.min(e.min,t.challenge),e.max=Math.max(e.max,t.challenge)}));const t=e.min===e.max?io.challenge(e.min):io.challenge(e.min)+" - "+io.challenge(e.max);return(0,bo.jsxs)(Os,{gutter:10,children:[(0,bo.jsx)(zs,{span:12,children:(0,bo.jsx)(Oc,{label:"monsters",value:this.props.monsterGroup.monsters.length})}),(0,bo.jsx)(zs,{span:12,children:(0,bo.jsx)(Oc,{label:"challenge rating",value:t})})]})}render(){try{const e=[];return 0!==this.props.monsterGroup.monsters.length?this.props.monsterGroup.monsters.forEach((t=>{e.push((0,bo.jsx)(cC,{monster:t,library:this.props.library,encounters:this.props.encounters,moveToGroup:(e,t)=>this.props.moveToGroup(e,t),deleteMonster:e=>this.props.deleteMonster(e),viewMonster:e=>this.props.viewMonster(e),editMonster:e=>this.props.editMonster(e),cloneMonster:(e,t)=>this.props.cloneMonster(e,t),createEncounter:e=>this.props.createEncounter([e])}))})):e.push((0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"there are no monsters in this group"})})),(0,bo.jsxs)(Os,{className:"full-height",children:[(0,bo.jsxs)(zs,{span:6,className:"scrollable sidebar sidebar-left",children:[(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("div",{className:"subheading",children:"monster group name"}),(0,bo.jsx)(xo,{text:this.props.monsterGroup.name,placeholder:"monster group name",onChange:e=>this.props.changeValue(this.props.monsterGroup,"name",e)})]}),(0,bo.jsx)("hr",{}),this.getSummary(),(0,bo.jsx)("hr",{}),(0,bo.jsx)(aC,{monsterGroup:this.props.monsterGroup,library:this.props.library,encounters:this.props.encounters,addMonster:()=>this.props.addMonster(),importMonster:()=>this.props.importMonster(),generateMonster:()=>this.props.generateMonster(),openDemographics:e=>this.props.openDemographics(e),createEncounter:e=>this.props.createEncounter(e),deleteMonsterGroup:e=>this.props.deleteMonsterGroup(e)}),(0,bo.jsx)("hr",{}),(0,bo.jsxs)("button",{onClick:()=>this.props.goBack(),children:[(0,bo.jsx)(Mo,{style:{fontSize:"10px"}})," back to the list"]})]}),(0,bo.jsx)(zs,{span:18,className:"scrollable",children:(0,bo.jsx)(dw,{content:e,heading:this.props.monsterGroup.name||"unnamed group"})})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"MonsterGroupScreen",error:bC})}}}class dC extends A.Component{render(){try{const e=this.props.party.pcs.filter((e=>e.active));let t=null;1===this.props.encounters.length&&(t=(0,bo.jsx)("button",{onClick:()=>this.props.startEncounter(this.props.party.id,this.props.encounters[0].id),children:"start combat"})),this.props.encounters.length>1&&(t=(0,bo.jsx)(mg,{options:this.props.encounters.map((e=>({id:e.id,text:e.name||"unnamed encounter"}))),placeholder:"start combat...",onSelect:e=>this.props.startEncounter(this.props.party.id,e)}));let n=null;1===this.props.maps.length&&(n=(0,bo.jsx)("button",{onClick:()=>this.props.startExploration(this.props.party.id,this.props.maps[0].id),children:"start exploration"})),this.props.maps.length>1&&(n=(0,bo.jsx)(mg,{options:this.props.maps.map((e=>({id:e.id,text:e.name||"unnamed map"}))),placeholder:"start exploration...",onSelect:e=>this.props.startExploration(this.props.party.id,e)}));let r=null;this.props.party.pcs.length>0&&(r=(0,bo.jsx)("button",{onClick:()=>this.props.createEncounter(this.props.party.id),children:"create a random encounter"}));let s=null;if(this.props.party.pcs.length>0){const t=Math.round(e.reduce(((e,t)=>e+t.level),0)/e.length);s=(0,bo.jsxs)("button",{onClick:()=>this.props.setLevel(this.props.party,t+1),children:["level up to ",t+1]})}return(0,bo.jsxs)("div",{children:[(0,bo.jsx)("button",{onClick:()=>this.props.addPC(),children:"add a new pc"}),(0,bo.jsx)("button",{onClick:()=>this.props.importPC(),children:"import a pc"}),t,n,r,s,(0,bo.jsx)(ug,{onConfirm:()=>this.props.deleteParty(this.props.party),children:"delete party"})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"PartyOptions",error:bC})}}}class hC extends A.Component{getText(e){let t=e.name||"unnamed pc";return e.player&&(t+=" ("+e.player+")"),t}getPCs(){return 0===this.props.party.pcs.length?(0,bo.jsx)("div",{className:"section",children:"no pcs"}):this.props.party.pcs.map((e=>(0,bo.jsx)(cv,{transparent:!0,onClick:()=>this.props.openStatBlock(e),children:(0,bo.jsxs)("div",{className:"content-then-info",children:[(0,bo.jsxs)("div",{className:e.active?"content":"content strikethrough",children:[(0,bo.jsx)(Sd,{source:e,inline:!0}),this.getText(e)]}),(0,bo.jsxs)("div",{className:"info",children:["lvl ",e.level]})]})},e.id)))}render(){try{return(0,bo.jsxs)("div",{className:"card pc",children:[(0,bo.jsx)("div",{className:"heading",children:(0,bo.jsx)("div",{className:"title",children:this.props.party.name||"unnamed party"})}),(0,bo.jsxs)("div",{className:"card-content",children:[(0,bo.jsx)("div",{className:"fixed-height",children:this.getPCs()}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("button",{onClick:()=>this.props.openParty(this.props.party),children:"open party"}),(0,bo.jsx)(Av,{text:"more options",children:(0,bo.jsx)(dC,{party:this.props.party,encounters:this.props.encounters,maps:this.props.maps,addPC:()=>this.props.addPC(),importPC:()=>this.props.importPC(),createEncounter:e=>this.props.createEncounter(e),startEncounter:(e,t)=>this.props.startEncounter(e,t),startExploration:(e,t)=>this.props.startExploration(e,t),setLevel:(e,t)=>this.props.setLevel(e,t),deleteParty:e=>this.props.deleteParty(e)})})]})]},this.props.party.id)}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"PartyCard",error:bC})}}}class pC extends A.Component{render(){return(0,bo.jsxs)("div",{children:[(0,bo.jsx)("button",{onClick:()=>this.props.addParty(),children:"add a new party"}),(0,bo.jsx)("button",{onClick:()=>this.props.importParty(),children:"import a party"})]})}}class mC extends A.Component{componentDidUpdate(){}render(){try{const e=this.props.parties;no.sort(e);const t=e.map((e=>(0,bo.jsx)(hC,{party:e,encounters:this.props.encounters,maps:this.props.maps,openParty:e=>this.props.openParty(e),addPC:()=>this.props.addPC(),importPC:()=>this.props.importPC(),createEncounter:e=>this.props.createEncounter(e),startEncounter:(e,t)=>this.props.startEncounter(e,t),startExploration:(e,t)=>this.props.startExploration(e,t),setLevel:(e,t)=>this.props.setLevel(e,t),openStatBlock:e=>this.props.openStatBlock(e),deleteParty:e=>this.props.deleteParty(e)},e.id)));return(0,bo.jsxs)(Os,{className:"full-height",children:[(0,bo.jsxs)(zs,{span:6,className:"scrollable sidebar sidebar-left",children:[(0,bo.jsxs)(gg,{children:[(0,bo.jsx)("div",{className:"section",children:"this page is where you can tell dojo all about your pcs"}),(0,bo.jsx)("div",{className:"section",children:"you can add a party for each of your gaming groups"}),(0,bo.jsx)("div",{className:"section",children:"when you have set up a party and an encounter you can run the encounter in the combat manager"}),(0,bo.jsx)("hr",{}),(0,bo.jsx)("div",{className:"section",children:"on the right you will see the parties that you have created"}),(0,bo.jsxs)("div",{className:"section",children:["press a party's ",(0,bo.jsx)("b",{children:"open party"})," button to see details of its pcs"]}),(0,bo.jsx)("hr",{}),(0,bo.jsxs)("div",{className:"section",children:["to start adding a party, press the ",(0,bo.jsx)("b",{children:"add a new party"})," button"]})]}),(0,bo.jsx)(pC,{addParty:()=>this.props.addParty(),importParty:()=>this.props.importParty()})]}),(0,bo.jsx)(zs,{span:18,className:"scrollable",children:(0,bo.jsx)(dw,{heading:"parties",content:t})})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"PartyListScreen",error:bC})}}}class fC extends A.Component{constructor(e){super(e),this.state={cloneName:e.pc.name+" copy"}}setCloneName(e){this.setState({cloneName:e})}render(){try{let e=null;e=this.props.pc.active?(0,bo.jsx)("button",{onClick:()=>this.props.changeValue(this.props.pc,"active",!1),children:"mark pc as inactive"},"toggle-active"):(0,bo.jsx)("button",{onClick:()=>this.props.changeValue(this.props.pc,"active",!0),children:"mark pc as active"},"toggle-active");const t=[];return this.props.parties.forEach((e=>{-1===e.pcs.indexOf(this.props.pc)&&t.push({id:e.id,text:e.name||"unnamed party"})})),(0,bo.jsxs)("div",{children:[(0,bo.jsx)("button",{onClick:()=>this.props.editPC(this.props.pc),children:"edit pc"},"edit"),e,(0,bo.jsx)(Av,{text:"copy pc",children:(0,bo.jsxs)("div",{className:"content-then-icons",children:[(0,bo.jsx)("div",{className:"content",children:(0,bo.jsx)(xo,{text:this.state.cloneName,placeholder:"name of copy",onChange:e=>this.setCloneName(e)})}),(0,bo.jsx)("div",{className:"icons",children:(0,bo.jsx)(qx,{title:"create copy",className:""===this.state.cloneName?"disabled":"",onClick:()=>this.props.clonePC(this.props.pc,this.state.cloneName)})})]})}),(0,bo.jsx)(mg,{options:t,placeholder:"move to party...",onSelect:e=>this.props.moveToParty(this.props.pc,e)}),(0,bo.jsx)(ug,{onConfirm:()=>this.props.removePC(this.props.pc),children:"delete pc"})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"PCOptions",error:bC})}}}class gC extends A.Component{render(){try{const e=(this.props.pc?this.props.pc.displayName:null)||this.props.pc.name||"unnamed pc";return(0,bo.jsxs)("div",{className:"card pc",children:[(0,bo.jsx)("div",{className:"heading",children:(0,bo.jsx)("div",{className:"title",title:e,children:e})}),(0,bo.jsxs)("div",{className:"card-content",children:[(0,bo.jsxs)("div",{className:"stats",children:[(0,bo.jsx)(Sd,{source:this.props.pc}),(0,bo.jsxs)("div",{className:"section centered lowercase",children:[(0,bo.jsx)(Pc,{children:this.props.pc.race||"unknown race"}),(0,bo.jsx)(Pc,{children:this.props.pc.classes||"unknown class"}),(0,bo.jsx)(Pc,{children:"level "+this.props.pc.level})]}),(0,bo.jsx)(Lg,{display:!!this.props.pc.url,children:(0,bo.jsx)("div",{className:"section centered",children:(0,bo.jsx)("a",{href:this.props.pc.url,target:"_blank",rel:"noopener noreferrer",children:"d&d beyond sheet"})})})]}),(0,bo.jsx)("hr",{}),(0,bo.jsx)(fC,{pc:this.props.pc,parties:this.props.parties,editPC:e=>this.props.editPC(e),removePC:e=>this.props.deletePC(e),clonePC:(e,t)=>this.props.clonePC(e,t),moveToParty:(e,t)=>this.props.moveToParty(e,t),changeValue:(e,t,n)=>this.props.changeValue(e,t,n)})]})]},this.props.pc.id)}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"PCCard",error:bC})}}}class vC extends A.Component{componentDidUpdate(){}render(){try{const e=this.props.party.pcs.filter((e=>e.active)),t=[];e.forEach((e=>{t.push((0,bo.jsx)(gC,{pc:e,parties:this.props.parties,changeValue:(e,t,n)=>this.props.changeValue(e,t,n),editPC:e=>this.props.editPC(e),deletePC:e=>this.props.deletePC(e),clonePC:(e,t)=>this.props.clonePC(e,t),moveToParty:(e,t)=>this.props.moveToParty(e,t)}))}));const n=this.props.party.pcs.filter((e=>!e.active)),r=[];return n.forEach((e=>{r.push((0,bo.jsx)(gC,{pc:e,parties:this.props.parties,changeValue:(e,t,n)=>this.props.changeValue(e,t,n),editPC:e=>this.props.editPC(e),deletePC:e=>this.props.deletePC(e),clonePC:(e,t)=>this.props.clonePC(e,t),moveToParty:(e,t)=>this.props.moveToParty(e,t)}))})),0===e.length&&t.push((0,bo.jsx)(gg,{children:(0,bo.jsx)("div",{className:"section",children:"there are no pcs in this party"})})),(0,bo.jsxs)(Os,{className:"full-height",children:[(0,bo.jsxs)(zs,{span:6,className:"scrollable sidebar sidebar-left",children:[(0,bo.jsxs)("div",{className:"section",children:[(0,bo.jsx)("div",{className:"subheading",children:"party name"}),(0,bo.jsx)(xo,{text:this.props.party.name,placeholder:"party name",onChange:e=>this.props.changeValue(this.props.party,"name",e)})]}),(0,bo.jsx)("hr",{}),(0,bo.jsx)(dC,{party:this.props.party,encounters:this.props.encounters,maps:this.props.maps,addPC:()=>this.props.addPC(),importPC:()=>this.props.importPC(),createEncounter:e=>this.props.createEncounter(e),startEncounter:(e,t)=>this.props.startEncounter(e,t),startExploration:(e,t)=>this.props.startExploration(e,t),setLevel:(e,t)=>this.props.setLevel(e,t),deleteParty:e=>this.props.deleteParty(e)}),(0,bo.jsx)("hr",{}),(0,bo.jsxs)("button",{onClick:()=>this.props.goBack(),children:[(0,bo.jsx)(Mo,{style:{fontSize:"10px"}})," back to the list"]})]}),(0,bo.jsxs)(zs,{span:18,className:"scrollable",children:[(0,bo.jsx)(dw,{content:t,heading:this.props.party.name||"unnamed party"}),(0,bo.jsx)(dw,{content:r,heading:"inactive pcs"})]})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"PartyScreen",error:bC})}}}class yC extends A.Component{constructor(e){super(e),this.monsterIdToGroup={},this.saveAfterDelay=no.debounce((()=>this.saveAll()),5e3);let t=[];try{const e=window.localStorage.getItem("data-parties");e&&(t=JSON.parse(e),t.forEach((e=>{void 0===e.awards&&(e.awards=[]),e.pcs.forEach((e=>{void 0===e.darkvision&&(e.darkvision=0),void 0===e.awards&&(e.awards=[])}))})))}catch(c){console.error("Could not parse JSON: ",c)}let n=[];try{const e=window.localStorage.getItem("data-library");e&&(n=JSON.parse(e),n.forEach((e=>{e.monsters.forEach((e=>{if(void 0===e.acInfo&&(e.acInfo=""),void 0===e.legendaryActions){const t=e.traits.some((e=>"legendary"===e.type||"mythic"===e.type))?3:0;e.legendaryActions=t}e.role=po.getRole(e)}))})))}catch(c){console.error("Could not parse JSON: ",c)}let r=[];try{const e=window.localStorage.getItem("data-encounters");e&&(r=JSON.parse(e),r.forEach((e=>{e.slots.forEach((e=>{void 0===e.roles&&(e.roles=[]),void 0===e.faction&&(e.faction="foe"),void 0===e.deltaCR&&(e.deltaCR=0)})),e.waves.forEach((e=>{e.slots.forEach((e=>{void 0===e.roles&&(e.roles=[]),void 0===e.faction&&(e.faction="foe"),void 0===e.deltaCR&&(e.deltaCR=0)}))}))})))}catch(c){console.error("Could not parse JSON: ",c)}let s=[];try{const e=window.localStorage.getItem("data-maps");e&&(s=JSON.parse(e),s.forEach((e=>{e.items.forEach((e=>{void 0===e.customLink&&(e.customLink=""),void 0===e.z&&(e.z=0),void 0===e.depth&&(e.depth=1)})),void 0===e.walls&&(e.walls=[]),void 0===e.areas&&(e.areas=[]),e.areas.forEach((e=>{void 0===e.z&&(e.z=0),void 0===e.depth&&(e.depth=1)})),void 0===e.lightSources&&(e.lightSources=[])})))}catch(c){console.error("Could not parse JSON: ",c)}let a=[];try{const e=window.localStorage.getItem("data-adventures");e&&(a=JSON.parse(e))}catch(c){console.error("Could not parse JSON: ",c)}let i=[];try{const e=window.localStorage.getItem("data-combats");e&&(i=JSON.parse(e),i.forEach((e=>{e.combatants.forEach((e=>{if(void 0===e.faction)switch(e.type){case"pc":case"companion":e.faction="ally";break;case"monster":e.faction="foe";break;default:e.faction="neutral"}void 0===e.note&&(e.note=""),void 0===e.mountID&&(e.mountID=null),void 0===e.mountType&&(e.mountType="controlled"),void 0===e.darkvision&&(e.darkvision=0),void 0===e.lightSource&&(e.lightSource=null),void 0===e.path&&(e.path=null)})),e.encounter&&(e.encounter.slots.forEach((e=>{void 0===e.roles&&(e.roles=[]),void 0===e.faction&&(e.faction="foe")})),e.encounter.waves.forEach((e=>{e.slots.forEach((e=>{void 0===e.roles&&(e.roles=[]),void 0===e.faction&&(e.faction="foe")}))}))),e.map&&(e.map.items.forEach((e=>{void 0===e.customLink&&(e.customLink=""),void 0===e.z&&(e.z=0),void 0===e.depth&&(e.depth=1)})),void 0===e.map.walls&&(e.map.walls=[]),void 0===e.map.areas&&(e.map.areas=[]),e.map.areas.forEach((e=>{void 0===e.z&&(e.z=0),void 0===e.depth&&(e.depth=1)})),void 0===e.map.lightSources&&(e.map.lightSources=[])),void 0===e.fog&&(e.fog=[]),void 0===e.lighting&&(e.lighting="bright light")})))}catch(c){console.error("Could not parse JSON: ",c)}let o=[];try{const e=window.localStorage.getItem("data-explorations");e&&(o=JSON.parse(e),o.forEach((e=>{e.map.items.forEach((e=>{void 0===e.customLink&&(e.customLink="")})),void 0===e.map.walls&&(e.map.walls=[]),void 0===e.map.areas&&(e.map.areas=[]),e.map.areas.forEach((e=>{void 0===e.z&&(e.z=0),void 0===e.depth&&(e.depth=1)})),void 0===e.map.lightSources&&(e.map.lightSources=[]),e.combatants.forEach((e=>{void 0===e.darkvision&&(e.darkvision=0),void 0===e.lightSource&&(e.lightSource=null),void 0===e.path&&(e.path=null)})),void 0===e.lighting&&(e.lighting="bright light")})))}catch(c){console.error("Could not parse JSON: ",c)}let l={showMonsterDieRolls:!1,showAwards:!1,theme:"light",diagonals:"onepointfive",featureFlags:[]};try{const e=window.localStorage.getItem("data-options");e&&(l=JSON.parse(e),void 0===l.showAwards&&(l.showAwards=!1),void 0===l.theme&&(l.theme="light"),void 0===l.diagonals&&(l.diagonals="onepointfive"),void 0===l.featureFlags&&(l.featureFlags=[]))}catch(c){console.error("Could not parse JSON: ",c)}const A={};[4,6,8,10,12,20,100].forEach((e=>A[e]=0)),A[20]=1,this.state={view:"home",drawer:null,sidebar:{visible:!1,type:"tools",subtype:"die",dice:A,constant:0,dieRolls:[],handout:null,languageMode:"common",languagePreset:oo.getLanguagePresets()[0].name,selectedLanguages:oo.getLanguagePresets()[0].languages,languageOutput:[],draws:[],selectedPartyID:null},parties:t,library:n,encounters:r,maps:s,adventures:a,combats:i,explorations:o,options:l,selectedPartyID:null,selectedMonsterGroupID:null,selectedEncounterID:null,selectedMapID:null,selectedAdventureID:null,selectedCombatID:null,selectedExplorationID:null},vo.clearUnusedImages(s,a,i,o)}componentDidMount(){Wi().bind("ctrl+f",(e=>{e.preventDefault(),this.setSidebar("search")}))}componentWillUnmount(){Wi().unbind("ctrl+f")}componentDidUpdate(){this.saveAfterDelay()}setView(e){this.save(),this.setState({view:e})}setSidebar(e){let t="";switch(e){case"tools":t="die";break;case"reference":t="skills";break;case"about":t="dojo"}const n=this.state.sidebar;n.visible=!0,n.type=e,n.subtype=t,this.setState({sidebar:n})}openDice(){const e=this.state.sidebar;e.visible=!0,e.type="tools",e.subtype="die",e.dice={},[4,6,8,10,12,20,100].forEach((t=>e.dice[t]=0)),e.dice[6]=1,this.setState({sidebar:e})}openSceneResource(e){let t=e.content;if("image"===e.type){const n=vo.getImage(e.content);n&&(t=n.data)}const n=this.state.sidebar;n.visible=!0,n.type="tools",n.subtype="handout",n.handout={type:e.type,src:t},this.setState({sidebar:n})}toggleSidebar(){const e=this.state.sidebar;e.visible=!e.visible,this.setState({sidebar:e})}closeDrawer(){this.setState({drawer:null})}selectParty(e){this.setState({view:"parties",selectedPartyID:e?e.id:null})}selectMonsterGroup(e){this.setState({view:"library",selectedMonsterGroupID:e?e.id:null})}selectEncounter(e){this.setState({view:"encounters",selectedEncounterID:e?e.id:null})}selectMap(e){this.setState({view:"maps",selectedMapID:e?e.id:null})}selectAdventure(e){this.setState({view:"adventures",selectedAdventureID:e?e.id:null})}selectPartyByID(e){this.save(),this.setState({view:"parties",selectedPartyID:e})}selectMonsterGroupByID(e){this.save(),this.setState({view:"library",selectedMonsterGroupID:e})}selectEncounterByID(e){this.save(),this.setState({view:"encounters",selectedEncounterID:e,selectedCombatID:null})}selectMapByID(e){this.save(),this.setState({view:"maps",selectedMapID:e,selectedExplorationID:null})}selectAdventureByID(e){this.save(),this.setState({view:"adventures",selectedAdventureID:e})}selectCombatByID(e){this.save(),this.setState({view:"encounters",selectedEncounterID:null,selectedCombatID:e})}selectExplorationByID(e){this.save(),this.setState({view:"maps",selectedMapID:null,selectedExplorationID:e})}rollDice(e,t,n,r,s){const a={};[4,6,8,10,12,20,100].forEach((e=>a[e]=0)),a[n]=t;const i=io.rollDice(e,a,r,s),o=this.state.sidebar;o.dieRolls.unshift(i),this.setState({sidebar:o},(()=>{Ss.open({key:i.id,message:(0,bo.jsx)(wb,{result:i}),closeIcon:(0,bo.jsx)(Le,{}),duration:5})}))}showMarkdown(e,t){this.setState({drawer:{type:"markdown",title:e,content:t}})}getMonster(e){let t=this.monsterIdToGroup[e];if(!t){t=this.state.library.reduce(((e,t)=>e.concat(t.monsters)),[]).find((t=>t.id===e))||null,t&&(this.monsterIdToGroup[e]=t)}return t}changeValue(e,t,n){const r=t.split(".");let s=e;for(let a=0;a!==r.length;++a){const e=r[a];a===r.length-1?s[e]=n:s=s[e]}if(no.sort(this.state.parties),no.sort(this.state.library),no.sort(this.state.encounters),no.sort(this.state.maps),no.sort(this.state.adventures),no.sort(this.state.combats),no.sort(this.state.explorations),"initiative"===t&&!e.pending){const e=this.state.combats.find((e=>e.id===this.state.selectedCombatID));ao.sortCombatants(e)}if("hpCurrent"===t){const t=e;t.hpCurrent=Math.min(t.hpCurrent||0,t.hpMax||0),t.hpCurrent=Math.max(t.hpCurrent||0,0)}if("hpTemp"===t){const t=e;t.hpTemp=Math.max(t.hpTemp||0,0)}if("mountID"===t){const e=this.state.combats.find((e=>e.id===this.state.selectedCombatID));e&&e.map&&ao.setMountPositions(e.combatants,e.map)}this.setState({parties:this.state.parties,library:this.state.library,encounters:this.state.encounters,maps:this.state.maps,adventures:this.state.adventures,combats:this.state.combats,explorations:this.state.explorations,selectedPartyID:this.state.selectedPartyID,selectedMonsterGroupID:this.state.selectedMonsterGroupID,selectedEncounterID:this.state.selectedEncounterID,selectedMapID:this.state.selectedMapID,selectedCombatID:this.state.selectedCombatID,selectedExplorationID:this.state.selectedExplorationID,drawer:this.state.drawer,sidebar:this.state.sidebar})}nudgeValue(e,t,n){const r=t.split(".");let s=e;for(let a=0;a!==r.length;++a){const i=r[a];if(a===r.length-1){let r=null;switch(i){case"challenge":r=io.nudgeChallenge(s[i],n);break;case"size":case"displaySize":r=io.nudgeSize(s[i],n);break;default:r=s[i]+n}this.changeValue(e,t,r)}else s=s[i]}}addParty(){const e=ro.createParty();let t=this.state.parties;t.push(e),t=no.sort(t),this.setState({parties:t,selectedPartyID:e.id})}deleteParty(e){const t=this.state.parties.indexOf(e);this.state.parties.splice(t,1),this.setState({parties:this.state.parties,selectedPartyID:null})}importParty(){this.setState({drawer:{type:"import-party",party:ro.createParty()}})}acceptImportedParty(){this.state.parties.push(this.state.drawer.party),this.setState({parties:this.state.parties,drawer:null})}setPartyLevel(e,t){e.pcs.filter((e=>e.active)).forEach((e=>e.level=t)),this.setState({parties:this.state.parties})}clonePC(e,t){const n=this.state.parties.find((t=>t.pcs.includes(e)));if(n){const r=JSON.parse(JSON.stringify(e));r.id=no.guid(),r.name=t,n.pcs.push(r),no.sort(n.pcs),this.setState({parties:this.state.parties})}}moveToParty(e,t){const n=this.state.parties.find((t=>t.pcs.includes(e)));if(n){const r=n.pcs.indexOf(e);n.pcs.splice(r,1);const s=this.state.parties.find((e=>e.id===t));s&&(s.pcs.push(e),no.sort(s.pcs),this.setState({parties:this.state.parties}))}}deletePC(e){const t=this.state.parties.find((e=>e.id===this.state.selectedPartyID));if(t){const n=t.pcs.indexOf(e);t.pcs.splice(n,1),this.setState({parties:this.state.parties})}}editPC(e){e||(e=ro.createPC());const t=JSON.parse(JSON.stringify(e));this.setState({drawer:{type:"pc",pc:t}})}importPC(){this.setState({drawer:{type:"import-pc",pc:ro.createPC()}})}acceptImportedPC(){const e=this.state.parties.find((e=>e.id===this.state.selectedPartyID));e&&(e.pcs.push(this.state.drawer.pc),no.sort(e.pcs),this.setState({parties:this.state.parties,drawer:null}))}savePC(){no.sort(this.state.drawer.pc.companions);const e=this.state.parties.find((e=>e.id===this.state.selectedPartyID));if(e){const t=e.pcs.find((e=>e.id===this.state.drawer.pc.id));if(t){const n=e.pcs.indexOf(t);e.pcs[n]=this.state.drawer.pc}else e.pcs.push(this.state.drawer.pc);no.sort(e.pcs),this.setState({parties:this.state.parties,drawer:null})}}addMonsterGroup(){const e=ro.createMonsterGroup();let t=this.state.library;t.push(e),t=no.sort(t),this.setState({library:t,selectedMonsterGroupID:e.id})}deleteMonsterGroup(e){const t=this.state.library.indexOf(e);this.state.library.splice(t,1),this.setState({library:this.state.library,selectedMonsterGroupID:null})}deleteMonster(e){const t=this.state.library.find((e=>e.id===this.state.selectedMonsterGroupID));if(t){const n=t.monsters.indexOf(e);t.monsters.splice(n,1),this.setState({library:this.state.library})}}importMonster(){this.setState({drawer:{type:"import-monster",monster:ro.createMonster()}})}acceptImportedMonster(){const e=this.state.library.find((e=>e.id===this.state.selectedMonsterGroupID));e&&(e.monsters.push(this.state.drawer.monster),no.sort(e.monsters),this.setState({library:this.state.library,drawer:null}))}moveToGroup(e,t){const n=this.state.library.find((t=>t.monsters.includes(e)));if(n){const r=n.monsters.indexOf(e);n.monsters.splice(r,1);const s=this.state.library.find((e=>e.id===t));s&&(s.monsters.push(e),no.sort(s.monsters),this.setState({library:this.state.library}))}}addMonster(){this.setState({drawer:{type:"monster",monster:ro.createMonster()}})}generateMonster(){const e=this.state.library.find((e=>e.id===this.state.selectedMonsterGroupID));if(e){let t=1,n=[],r=[],s=[];e.monsters.length>0&&(t=Math.round(e.monsters.map((e=>e.challenge)).reduce(((e,t)=>e+t),0)/e.monsters.length),n=e.monsters.map((e=>e.size)).filter(((e,t,n)=>n.indexOf(e)===t)),r=e.monsters.map((e=>e.category)).filter(((e,t,n)=>n.indexOf(e)===t)),s=e.monsters.map((e=>e.role)).filter(((e,t,n)=>n.indexOf(e)===t))),this.setState({drawer:{type:"random-monster",data:{cr:t,size:1===n.length?n[0]:null,type:1===r.length?r[0]:null,role:1===s.length?s[0]:null},canAccept:()=>{const e=this.state.drawer.data;return po.filterMonsters(this.state.library,e.cr,e.size,e.type,e.role).length>=2},onAccept:()=>{const t=this.state.drawer.data,n=po.filterMonsters(this.state.library,t.cr,t.size,t.type,t.role),r=ro.createMonster();po.spliceMonsters(r,n),r.name=oo.capitalise(oo.generateName()),r.challenge=t.cr,e.monsters.push(r),no.sort(e.monsters),this.setState({view:"library",library:this.state.library,drawer:{type:"statblock",source:r}})}}})}}editMonster(e){const t=JSON.parse(JSON.stringify(e));this.setState({drawer:{type:"monster",monster:t}})}saveMonster(){const e=this.state.library.find((e=>e.id===this.state.selectedMonsterGroupID));if(e){const t=e.monsters.find((e=>e.id===this.state.drawer.monster.id));if(t){const n=e.monsters.indexOf(t);e.monsters[n]=this.state.drawer.monster}else e.monsters.push(this.state.drawer.monster);no.sort(e.monsters),this.setState({library:this.state.library,drawer:null})}}cloneMonster(e,t){const n=this.state.library.find((t=>t.monsters.includes(e)));if(n){const r=JSON.parse(JSON.stringify(e));r.id=no.guid(),r.name=t,r.traits.forEach((e=>e.id=no.guid())),n.monsters.push(r),no.sort(n.monsters),this.setState({library:this.state.library})}}addOpenGameContent(){fetch("/dojo/data/monsters.json").then((e=>e.json())).then((e=>{e.forEach((e=>{try{if(e.name){const t=po.createFromJSON(e);let n=t.tag||t.category;0===n.indexOf("swarm")&&(n="swarm"),"any race"===n&&(n="npc");let r=this.state.library.find((e=>e.name===n));r||(r={id:no.guid(),name:n,monsters:[]},this.state.library.push(r)),r.monsters.push(t)}}catch(bC){console.error(bC)}})),no.sort(this.state.library),this.setState({library:this.state.library})}))}openDemographics(e){this.setState({drawer:{type:"monster-demographics",group:e}})}addEncounter(e){const t=ro.createEncounter();if(e){const n=ao.encounterTemplates().find((t=>t.name===e));n&&(t.slots=n.slots.map((e=>{const t=ro.createEncounterSlot();return t.roles=e.roles,t.count=e.count,t})))}let n=this.state.encounters;n.push(t),n=no.sort(n),this.setState({view:"encounters",encounters:n,selectedEncounterID:t.id})}createEncounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e||1!==this.state.parties.length||(e=this.state.parties[0].id);let n=1e3;if(e){const t=this.state.parties.find((t=>t.id===e));t&&(n=ao.getXPForDifficulty(t,"medium"))}this.setState({drawer:{type:"random-encounter",data:{type:null===e?"xp":"party",xp:n,partyID:e,difficulty:"medium",template:"",filter:ro.createMonsterFilter()},canAccept:()=>"party"!==this.state.drawer.data.type||null!==this.state.drawer.data.partyID,onAccept:()=>{const e=ro.createEncounter();if(ao.buildEncounter(e,this.state.drawer.data.xp,this.state.drawer.data.template,this.state.drawer.data.filter,this.state.library,(e=>this.getMonster(e))),ao.sortEncounter(e,(e=>this.getMonster(e))),no.randomBoolean()&&(e.notes="**victory condition:** "+ao.getVictoryCondition(e,(e=>this.getMonster(e)))),t){e.name=t.name;const n=ro.createSceneResource();n.type="encounter",n.name=e.name,n.content=e.id,t.resources.push(n)}let n=this.state.encounters;n.push(e),n=no.sort(n),this.setState({view:t?"adventures":"encounters",encounters:n,adventures:this.state.adventures,selectedEncounterID:t?this.state.selectedEncounterID:e.id,drawer:null})}}})}cloneEncounter(e,t){const n=JSON.parse(JSON.stringify(e));n.id=no.guid(),n.slots.forEach((e=>e.id=no.guid())),n.waves.forEach((e=>{e.id=no.guid(),e.slots.forEach((e=>e.id=no.guid()))})),n.name=t,this.state.encounters.push(n),no.sort(this.state.encounters),this.setState({encounters:this.state.encounters})}deleteEncounter(e){const t=this.state.encounters.indexOf(e);this.state.encounters.splice(t,1),this.setState({encounters:this.state.encounters,selectedEncounterID:null})}addToEncounterSlot(e,t,n,r,s){const a=t?t.slots:e.slots;n||(n=ro.createEncounterSlot(),a.push(n));if(this.state.library.find((e=>e.monsters.includes(r)))){n.monsterID=r.id,ao.sortEncounter(e,(e=>this.getMonster(e)));let t=this.state.drawer;s?t=null:t.monster=null,this.setState({encounters:this.state.encounters,drawer:t})}}createEncounterFromMonsters(e){const t=ro.createEncounter();e.forEach((e=>{const n=ro.createEncounterSlot();n.monsterID=e,t.slots.push(n)})),this.state.encounters.push(t),this.setState({view:"encounters",encounters:this.state.encounters,selectedEncounterID:t.id})}addMap(){const e=ro.createMap();let t=this.state.maps;t.push(e),t=no.sort(t),no.sort(t),this.setState({maps:t,selectedMapID:e.id})}generateMap(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.setState({drawer:{type:"random-map",data:{areas:5},canAccept:()=>!0,onAccept:()=>{const t=ro.createMap();yo.generate(this.state.drawer.data.areas,t),t.areas.forEach((e=>{e.text=oo.generateRoomDescription()})),e?(e.map=t,t.areas.forEach((t=>{const n=ro.createScene();n.id=t.id,n.name=t.name,t.text&&(n.content="> "+t.text),e.scenes.push(n),t.text=""}))):this.state.maps.push(t),this.setState({view:e?"adventures":"maps",maps:this.state.maps,adventures:this.state.adventures,selectedMapID:e?this.state.selectedMapID:t.id,drawer:null})}}})}cloneMap(e,t){const n=JSON.parse(JSON.stringify(e));n.id=no.guid(),n.items.forEach((e=>e.id=no.guid())),n.areas.forEach((e=>e.id=no.guid())),n.name=t,this.state.maps.push(n),no.sort(this.state.maps),this.setState({maps:this.state.maps})}importMap(){const e=ro.createMap();this.setState({drawer:{type:"import-map",map:e}})}acceptImportedMap(){this.state.maps.push(this.state.drawer.map),this.setState({maps:this.state.maps,drawer:null})}declineImportedMap(){if(this.state.drawer.map.items.length>0){const e=this.state.drawer.map.items[0].customBackground;window.localStorage.removeItem("image-"+e)}this.closeDrawer()}deleteMap(e){const t=this.state.maps.indexOf(e);this.state.maps.splice(t,1),this.setState({maps:this.state.maps,selectedMapID:null})}selectMapTileImage(e,t){this.setState({drawer:{type:"select-image",onAccept:e=>{this.changeValue(t,"customBackground",e),this.closeDrawer()}}})}cloneMapTile(e,t){const n=JSON.parse(JSON.stringify(t));n.id=no.guid(),n.x+=1,n.y+=1,e.items.push(n),this.setState({maps:this.state.maps})}rotateMapTile(e,t){const n=t.width;t.width=t.height,t.height=n;const r=Math.floor((t.width-t.height)/2);t.x-=r,t.y+=r,t.content&&(t.content.orientation="horizontal"===t.content.orientation?"vertical":"horizontal"),this.setState({maps:this.state.maps})}deleteMapTile(e,t){const n=e.items.indexOf(t);e.items.splice(n,1),this.setState({maps:this.state.maps})}clearMapTiles(e){e.items=[],this.setState({maps:this.state.maps})}bringToFront(e,t){const n=e.items.indexOf(t);e.items.splice(n,1),e.items.push(t),this.setState({maps:this.state.maps})}sendToBack(e,t){const n=e.items.indexOf(t);e.items.splice(n,1),e.items.unshift(t),this.setState({maps:this.state.maps})}addMapWall(e,t){e.walls.push(t),this.setState({maps:this.state.maps})}moveMapWall(e,t,n,r){yo.moveWall(t,n,r),this.setState({maps:this.state.maps})}nudgeWallLength(e,t,n){yo.nudgeWallLength(t,n),this.setState({maps:this.state.maps})}deleteMapWall(e,t){const n=e.walls.indexOf(t);e.walls.splice(n,1),this.setState({maps:this.state.maps})}fillInMapWalls(e){yo.addWalls(e,!0,!1),this.setState({maps:this.state.maps})}clearMapWalls(e){e.walls=[],this.setState({maps:this.state.maps})}moveMapTileOrArea(e,t,n,r){yo.move(e,t.id,n,r),this.setState({maps:this.state.maps})}addMapArea(e,t){e.areas.push(t),no.sort(e.areas),this.setState({maps:this.state.maps})}deleteMapArea(e,t){const n=e.areas.indexOf(t);e.areas.splice(n,1),this.setState({maps:this.state.maps})}clearMapAreas(e){e.areas=[],this.setState({maps:this.state.maps})}addMapLightSource(e,t){e.lightSources.push(t),no.sort(e.lightSources),this.setState({maps:this.state.maps,combats:this.state.combats,explorations:this.state.explorations})}deleteMapLightSource(e,t){const n=e.lightSources.indexOf(t);e.lightSources.splice(n,1),this.setState({maps:this.state.maps,combats:this.state.combats,explorations:this.state.explorations})}changeLightSource(e,t,n,r){e.name=t,e.bright=n,e.dim=r,this.setState({maps:this.state.maps,combats:this.state.combats,explorations:this.state.explorations})}generateRoom(e){yo.addRoom(e),this.setState({maps:this.state.maps})}addAdventure(){const e=ro.createAdventure();e.plot.scenes.push(ro.createScene());let t=this.state.adventures;t.push(e),t=no.sort(t),this.setState({adventures:t,selectedAdventureID:e.id})}generateAdventure(){let e=null;1===this.state.parties.length&&(e=this.state.parties[0].id);let t=1e3;if(e){const n=this.state.parties.find((t=>t.id===e));n&&(t=ao.getXPForDifficulty(n,"medium"))}this.setState({drawer:{type:"random-adventure",mapData:{areas:5},encounterData:{type:null===e?"xp":"party",xp:t,partyID:e,difficulty:"medium",template:"",filter:ro.createMonsterFilter()},canAccept:()=>"party"!==this.state.drawer.encounterData.type||null!==this.state.drawer.encounterData.partyID,onAccept:()=>{const e=ro.createAdventure(),t=ro.createMap();yo.generate(this.state.drawer.mapData.areas,t),e.plot.map=t;let n=this.state.encounters,r=this.state.adventures;t.areas.forEach((t=>{const r=ro.createScene();r.id=t.id,r.name=t.name,r.content="> "+oo.generateRoomDescription(),e.plot.scenes.push(r);const s=ro.createEncounter();s.name=t.name;const a=this.state.drawer.encounterData;ao.buildEncounter(s,a.xp,a.template,a.filter,this.state.library,(e=>this.getMonster(e))),ao.sortEncounter(s,(e=>this.getMonster(e))),no.randomBoolean()&&(s.notes="**victory condition:** "+ao.getVictoryCondition(s,(e=>this.getMonster(e)))),n.push(s);const i=ro.createSceneResource();i.type="encounter",i.name=s.name,i.content=s.id,r.resources.push(i)})),n=no.sort(n),r.push(e),r=no.sort(r),this.setState({view:"adventures",encounters:n,adventures:r,selectedAdventureID:e.id,drawer:null})}}})}deleteAdventure(e){const t=this.state.adventures.indexOf(e);this.state.adventures.splice(t,1),this.setState({adventures:this.state.adventures,selectedAdventureID:null})}addScene(e,t,n){const r=ro.createScene();if(e.scenes.push(r),t){const e=ro.createSceneLink();e.sceneID=r.id,t.links.push(e)}if(n){const e=ro.createSceneLink();e.sceneID=n.id,r.links.push(e)}return this.setState({adventures:this.state.adventures}),r}moveScene(e,t,n){go.moveScene(e,t,n),this.setState({adventures:this.state.adventures})}deleteScene(e,t){e.scenes=e.scenes.filter((e=>e.id!==t.id)),e.scenes.forEach((e=>{e.links=e.links.filter((e=>e.sceneID!==t.id))})),this.setState({adventures:this.state.adventures})}addLink(e,t){const n=ro.createSceneLink();n.sceneID=t,e.links.push(n),this.setState({adventures:this.state.adventures})}deleteLink(e,t){e.links=e.links.filter((e=>e.id!==t.id)),this.setState({adventures:this.state.adventures})}addMapToPlot(e,t){t?this.generateMap(e):this.setState({drawer:{type:"add-map-to-plot",plot:e,accept:t=>{const n=JSON.parse(JSON.stringify(t));n.areas.forEach((e=>e.text="")),e.map=n,n.areas.forEach((t=>{const n=ro.createScene();n.id=t.id,n.name=t.name,e.scenes.push(n)})),this.setState({adventures:this.state.adventures,drawer:null})}}})}removeMapFromPlot(e){e.map=null,this.setState({adventures:this.state.adventures})}addResourceToScene(e,t){if("image"===t)this.setState({drawer:{type:"select-image",onAccept:n=>{const r=ro.createSceneResource();r.type=t,r.content=n,r.data=null,e.resources.push(r),this.setState({adventures:this.state.adventures,drawer:null})}}});else{const n=ro.createSceneResource();n.type=t,e.resources.push(n),this.setState({adventures:this.state.adventures})}}addEncounterToScene(e,t,n){n?this.createEncounter(null,e):this.setState({drawer:{type:"add-encounter-to-scene",scene:e,party:t,accept:t=>{const n=ro.createSceneResource();n.type="encounter",n.name=t.name,n.content=t.id,n.data={map:null,mapAreaID:null,lighting:"bright light",fog:[],slotInfo:io.getCombatSlotData(t,(e=>this.getMonster(e)))},e.resources.push(n),this.setState({adventures:this.state.adventures,drawer:null})}}})}removeResourceFromScene(e,t){e.resources=e.resources.filter((e=>e.id!==t)),this.setState({adventures:this.state.adventures})}createCombat(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"bright light",i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[],l=1===this.state.parties.length?this.state.parties[0]:null;if(e){const t=this.state.parties.find((t=>t.id===e));t&&(l=t)}let A=1===this.state.encounters.length?this.state.encounters[0]:null;t&&(A=t);const c=ro.createCombatSetup();c.party=JSON.parse(JSON.stringify(l)),c.encounter=JSON.parse(JSON.stringify(A)),o.length>0?c.slotInfo=JSON.parse(JSON.stringify(o)):A&&(c.slotInfo=io.getCombatSlotData(A,(e=>this.getMonster(e)))),n&&(c.map=n,c.mapAreaID=r,c.fog=s,c.lighting=a),c.combatants=i,this.setState({drawer:{type:"combat-start",combatSetup:c}})}startCombat(){const e=this.state.drawer.combatSetup;if(e.party&&e.encounter){const t=e.party.name||"unnamed party",n=e.encounter.name||"unnamed encounter",r=ro.createCombat();r.name=t+" vs "+n,r.encounter=JSON.parse(JSON.stringify(e.encounter)),e.combatants.forEach((e=>{r.combatants.push(e)})),e.party.pcs.filter((e=>e.active)).forEach((e=>{r.combatants.find((t=>t.id===e.id))||r.combatants.push(ao.convertPCToCombatant(e))}));const s=[];r.encounter.slots.forEach((t=>{const n=ao.slotToMonster(t,(e=>this.getMonster(e)));if(n){const a=e.slotInfo.find((e=>e.id===t.id));a&&a.members.forEach((e=>{const a=ao.convertMonsterToCombatant(n,e.init,e.hp,e.name,t.faction);r.combatants.push(a),e.location&&s.push({combatant:a,x:e.location.x,y:e.location.y})}))}})),r.combatants.push(ao.convertPlaceholderToCombatant()),ao.sortCombatants(r),e.map&&(r.map=JSON.parse(JSON.stringify(e.map)),r.mapAreaID=e.mapAreaID,r.fog=e.fog,r.lighting=e.lighting,s.forEach((e=>{yo.add(r.map,e.combatant,r.combatants,e.x,e.y)})));let a=this.state.combats;a.push(r),a=no.sort(a),this.setState({view:"encounters",combats:a,explorations:this.state.explorations,selectedCombatID:r.id,selectedExplorationID:null,drawer:null})}}openAddWaveModal(){const e=this.state.combats.find((e=>e.id===this.state.selectedCombatID));if(e){const t=ro.createCombatSetup();t.encounter=e.encounter,t.slotInfo=io.getCombatSlotData(e.encounter,(e=>this.getMonster(e))),this.setState({drawer:{type:"combat-wave",combatSetup:t}})}}addWaveToCombat(){const e=this.state.drawer.combatSetup,t=this.state.combats.find((e=>e.id===this.state.selectedCombatID));if(e&&e.encounter&&t){const n=e.encounter.waves.find((t=>t.id===e.waveID));n&&(n.slots.forEach((n=>{const r=ao.slotToMonster(n,(e=>this.getMonster(e)));if(r){const s=e.slotInfo.find((e=>e.id===n.id));s&&s.members.forEach((e=>{const s=ao.convertMonsterToCombatant(r,e.init,e.hp,e.name,n.faction);t.combatants.push(s)}))}})),ao.sortCombatants(t),this.setState({combats:this.state.combats,drawer:null}))}}openAddCombatantModal(){if(this.state.combats.find((e=>e.id===this.state.selectedCombatID))){const e=ro.createCombatSetup();e.encounter=ro.createEncounter(),e.slotInfo=io.getCombatSlotData(e.encounter,(e=>this.getMonster(e))),this.setState({drawer:{type:"combat-add-combatants",combatSetup:e}})}}addMonsterToAddCombatantsModal(e){const t=this.state.drawer.combatSetup;if(t&&t.encounter){if(this.state.library.find((t=>t.monsters.find((t=>t.id===e.id))))){const n=ro.createEncounterSlot();n.monsterID=e.id,t.encounter.slots.push(n),t.slotInfo=io.getCombatSlotData(t.encounter,(e=>this.getMonster(e))),this.setState({drawer:this.state.drawer})}}}addCombatantsToCombat(){const e=this.state.combats.find((e=>e.id===this.state.selectedCombatID)),t=this.state.drawer.combatSetup;e&&t&&t.encounter&&(t.encounter.slots.forEach((n=>{const r=ao.slotToMonster(n,(e=>this.getMonster(e)));if(r){const s=t.slotInfo.find((e=>e.id===n.id));s&&s.members.forEach((t=>{const s=ao.convertMonsterToCombatant(r,t.init,t.hp,t.name,n.faction);e.combatants.push(s)}))}})),ao.sortCombatants(e),this.setState({combats:this.state.combats,drawer:null}))}addPCToEncounter(e,t){const n=this.state.combats.find((e=>e.id===this.state.selectedCombatID));if(n){const r=this.state.parties.find((t=>t.id===e));if(r){const e=r.pcs.find((e=>e.id===t));e&&(n.combatants.push(ao.convertPCToCombatant(e)),no.sort(n.combatants,[{field:"displayName",dir:"asc"}]),this.setState({combats:this.state.combats}))}}}addCompanionToEncounter(e){const t=this.state.combats.find((e=>e.id===this.state.selectedCombatID));t&&(t.combatants.push(ao.convertCompanionToCombatant(e)),no.sort(t.combatants,[{field:"displayName",dir:"asc"}]),this.setState({combats:this.state.combats}))}pauseCombat(){this.state.combats.find((e=>e.id===this.state.selectedCombatID))&&this.setState({view:"encounters",combats:this.state.combats,selectedCombatID:null})}resumeCombat(e){this.setState({view:"encounters",combats:this.state.combats,selectedCombatID:e.id})}endCombat(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.state.combats.indexOf(e);this.state.combats.splice(n,1),this.setState({view:"encounters",combats:this.state.combats,selectedCombatID:null},(()=>{if(e&&e.map&&t){const t=e.combatants.filter((e=>"pc"===e.type||"companion"===e.type));t.forEach((e=>{e.current=!1,e.pending=!0,e.active=!1,e.defeated=!1,e.initiative=10,e.path=null}));let n=null;const r=t.filter((e=>"pc"===e.type));if(r.length>0){const e=this.state.parties.find((e=>e.pcs.find((e=>e.id===r[0].id))));e&&(n=e.id,e.pcs.filter((e=>e.active)).forEach((e=>{t.find((t=>t.id===e.id))||t.push(ao.convertPCToCombatant(e))})))}if(no.sort(t,[{field:"displayName",dir:"asc"}]),n){const r=e.map.id;let s=this.state.explorations.find((e=>e.map.id===r&&e.partyID===n));s||(s=ro.createExploration(),s.name=e.name+"in "+e.map.name,s.partyID=n,this.state.explorations.push(s)),s.map=e.map,s.mapAreaID=e.mapAreaID,s.fog=e.fog,s.lighting=e.lighting,s.combatants=t,s.map.items=s.map.items.filter((e=>"tile"===e.type||"pc"===e.type||"companion"===e.type)),this.setState({view:"maps",combats:this.state.combats,explorations:this.state.explorations,selectedCombatID:null,selectedExplorationID:s.id})}}}))}makeCurrent(e,t){const n=this.state.combats.find((e=>e.id===this.state.selectedCombatID));n&&(n.combatants.filter((e=>e.conditions)).forEach((t=>{t.conditions.forEach((r=>{if(r.duration)switch(r.duration.type){case"saves":if(e&&t.id===e.id&&"start"===r.duration.point){const e={id:no.guid(),type:"condition-save",data:r,combatant:t};Ss.open({key:e.id,message:(0,bo.jsx)(vb,{notification:e,close:(e,t)=>this.closeNotification(e,t)}),closeIcon:(0,bo.jsx)(Le,{}),duration:null})}break;case"combatant":if(e&&(r.duration.combatantID===e.id||null===r.duration.combatantID)&&"start"===r.duration.point){const e=t.conditions.indexOf(r);t.conditions.splice(e,1);const n={id:no.guid(),type:"condition-end",data:r,combatant:t};Ss.open({key:n.id,message:(0,bo.jsx)(vb,{notification:n,close:(e,t)=>this.closeNotification(e,t)}),closeIcon:(0,bo.jsx)(Le,{}),duration:null})}break;case"rounds":if(e&&t.id===e.id&&(r.duration.count-=1),0===r.duration.count){const e=t.conditions.indexOf(r);if(t.conditions.splice(e,1),n){const e={id:no.guid(),type:"condition-end",data:r,combatant:t};Ss.open({key:e.id,message:(0,bo.jsx)(vb,{notification:e,close:(e,t)=>this.closeNotification(e,t)}),closeIcon:(0,bo.jsx)(Le,{}),duration:null})}}}}))})),e&&"monster"===e.type&&(e.traits.filter((e=>e.uses>0&&e.usage.toLowerCase().startsWith("recharge"))).forEach((t=>{const n={id:no.guid(),type:"trait-recharge",data:t,combatant:e};Ss.open({key:n.id,message:(0,bo.jsx)(vb,{notification:n,openSidebar:()=>this.openDice(),close:(e,t)=>this.closeNotification(e,t)}),closeIcon:(0,bo.jsx)(Le,{}),duration:null})})),e.traits.filter((e=>"legendary"===e.type||"mythic"===e.type)).forEach((e=>{e.uses=0}))),n.combatants.forEach((e=>{e.current=!1,e.path=null})),e&&(e.current=!0,e.path=[]),t&&(n.round+=1),this.setState({combats:this.state.combats}))}makeActive(e){const t=this.state.combats.find((e=>e.id===this.state.selectedCombatID));if(t){const n=e.some((e=>e.pending));e.forEach((e=>{e.pending=!1,e.active=!0,e.defeated=!1})),n&&ao.sortCombatants(t),this.setState({combats:this.state.combats})}}makeDefeated(e){const t=this.state.combats.find((e=>e.id===this.state.selectedCombatID));if(t){const n=t.combatants.find((e=>e.current));e.forEach((e=>{e.pending=!1,e.active=!1,e.defeated=!0,e.mountID=null,e.mountType="controlled",t.combatants.forEach((t=>{t.mountID===e.id&&(t.mountID=null,t.mountType="controlled")})),t.combatants.forEach((n=>{n.tags=n.tags.filter((n=>n!=="engaged:"+ao.getCombatantName(e,t.combatants)))})),t.map&&(t.map.items=t.map.items.filter((t=>t.id!==e.id)))})),n&&e.find((e=>e.id===n.id))?this.endTurn(n):this.setState({combats:this.state.combats})}}removeCombatants(e){const t=this.state.combats.find((e=>e.id===this.state.selectedCombatID));t&&(e.forEach((e=>{const n=t.combatants.indexOf(e);if(t.combatants.splice(n,1),t.combatants.forEach((t=>{t.mountID===e.id&&(t.mountID=null,t.mountType="controlled")})),t.combatants.forEach((n=>{n.tags=n.tags.filter((n=>n!=="engaged:"+ao.getCombatantName(e,t.combatants)))})),t.map){const n=t.map.items.find((t=>t.id===e.id));if(n){const e=t.map.items.indexOf(n);t.map.items.splice(e,1)}}})),this.setState({combats:this.state.combats}))}endTurn(e){const t=this.state.combats.find((e=>e.id===this.state.selectedCombatID));if(t){t.combatants.filter((e=>e.conditions)).forEach((t=>{t.conditions.forEach((n=>{if(n.duration)switch(n.duration.type){case"saves":if(t.id===e.id&&"end"===n.duration.point){const e=ro.createNotification();e.type="condition-save",e.data=n,e.combatant=t,Ss.open({key:e.id,message:(0,bo.jsx)(vb,{notification:e,close:(e,t)=>this.closeNotification(e,t)}),closeIcon:(0,bo.jsx)(Le,{}),duration:null})}break;case"combatant":if((n.duration.combatantID===e.id||null===n.duration.combatantID)&&"end"===n.duration.point){const e=t.conditions.indexOf(n);t.conditions.splice(e,1);const r=ro.createNotification();r.type="condition-end",r.data=n,r.combatant=t,Ss.open({key:r.id,message:(0,bo.jsx)(vb,{notification:r,close:(e,t)=>this.closeNotification(e,t)}),closeIcon:(0,bo.jsx)(Le,{}),duration:null})}}}))}));const n=t.combatants.filter((e=>!!e.mountID&&"controlled"===e.mountType)).map((e=>e.mountID||"")),r=t.combatants.filter((e=>!n.includes(e.id))).filter((e=>e.current||!e.pending&&e.active&&!e.defeated)).filter((e=>"placeholder"!==e.type||ao.combatHasLairActions(t)));if(0===r.length)this.makeCurrent(null,!1);else if(1===r.length&&r[0].defeated)this.makeCurrent(null,!1);else{let t=r.indexOf(e)+1,n=!1;t>=r.length&&(t=0,n=!0),this.makeCurrent(r[t],n)}}}changeHP(e){const t=this.state.combats.find((e=>e.id===this.state.selectedCombatID));t&&(e.forEach((e=>{const n=t.combatants.find((t=>t.id===e.id));n&&(n.hpCurrent=e.hp,n.hpTemp=e.temp)})),this.setState({combats:this.state.combats}))}closeNotification(e,t){if(Ss.close(e.id),t&&e.combatant&&e.data){const t=e.combatant.conditions.indexOf(e.data);e.combatant.conditions.splice(t,1)}this.setState({combats:this.state.combats})}startExploration(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bright light";const r=this.state.parties.find((e=>e.id===t));if(r){const s=JSON.parse(JSON.stringify(e)),a=ro.createExploration();a.name=(r.name||"unnamed party")+" in "+(e.name||"unnamed map"),a.map=s,a.partyID=t,a.lighting=n,r.pcs.filter((e=>e.active)).forEach((e=>{const t=ao.convertPCToCombatant(e);a.combatants.push(t)}));let i=this.state.explorations;i.push(a),i=no.sort(i),this.setState({view:"maps",explorations:i,selectedExplorationID:a.id})}}pauseExploration(){this.setState({view:"maps",explorations:this.state.explorations,selectedExplorationID:null})}resumeExploration(e){this.setState({view:"maps",explorations:this.state.explorations,selectedExplorationID:e.id})}endExploration(e){const t=this.state.explorations.indexOf(e);this.state.explorations.splice(t,1),this.setState({view:"maps",explorations:this.state.explorations,selectedExplorationID:null})}addPCToExploration(e,t){const n=this.state.explorations.find((e=>e.id===this.state.selectedExplorationID));if(n){const r=this.state.parties.find((t=>t.id===e));if(r){const e=r.pcs.find((e=>e.id===t));e&&(n.combatants.push(ao.convertPCToCombatant(e)),no.sort(n.combatants,[{field:"displayName",dir:"asc"}]),this.setState({explorations:this.state.explorations}))}}}addCompanionToExploration(e){const t=this.state.explorations.find((e=>e.id===this.state.selectedExplorationID));t&&(t.combatants.push(ao.convertCompanionToCombatant(e)),no.sort(t.combatants,[{field:"displayName",dir:"asc"}]),this.setState({explorations:this.state.explorations}))}toggleTag(e,t){e.forEach((e=>{e.tags.includes(t)?e.tags=e.tags.filter((e=>e!==t)):e.tags.push(t)})),this.setState({combats:this.state.combats,explorations:this.state.explorations})}toggleCondition(e,t){e.forEach((e=>{if(e.conditions.some((e=>e.name===t)))e.conditions=e.conditions.filter((e=>e.name!==t));else{const n=ro.createCondition();n.name=t,e.conditions.push(n),e.conditions=no.sort(e.conditions,[{field:"name",dir:"asc"}])}})),this.setState({combats:this.state.combats,explorations:this.state.explorations})}toggleHidden(e){e.forEach((e=>e.showOnMap=!e.showOnMap)),this.setState({combats:this.state.combats,explorations:this.state.explorations})}addCondition(e,t){const n=ro.createCondition();n.name="blinded",this.setState({drawer:{type:"condition-add",condition:n,combatants:e,allCombatants:t}})}addConditionFromModal(){this.state.drawer.combatants.forEach((e=>{const t=JSON.parse(JSON.stringify(this.state.drawer.condition));t.id=no.guid(),e.conditions.push(t),no.sort(e.conditions,[{field:"name",dir:"asc"}])})),this.setState({combats:this.state.combats,explorations:this.state.explorations,drawer:null})}editCondition(e,t,n){this.setState({drawer:{type:"condition-edit",condition:t,combatants:[e],allCombatants:n}})}editConditionFromModal(){this.state.drawer.combatants.forEach((e=>{const t=e.conditions.find((e=>e.id===this.state.drawer.condition.id));if(t){const n=e.conditions.indexOf(t);e.conditions[n]=this.state.drawer.condition,no.sort(e.conditions,[{field:"name",dir:"asc"}])}})),this.setState({combats:this.state.combats,explorations:this.state.explorations,drawer:null})}deleteCondition(e,t){e.conditions=e.conditions.filter((e=>e.name!==t.name)),this.setState({combats:this.state.combats,explorations:this.state.explorations})}scatterCombatants(e,t,n,r){yo.scatterCombatants(n,e,r),ao.setMountPositions(t,n),this.setState({combats:this.state.combats,explorations:this.state.explorations})}rotateMap(e){yo.rotateMap(e),this.setState({combats:this.state.combats,maps:this.state.maps,explorations:this.state.explorations})}mapAdd(e,t,n,r,s){ao.getMountsAndRiders([e.id],r).forEach((e=>yo.add(s,e,r,t,n))),this.setState({combats:this.state.combats,explorations:this.state.explorations})}mapMove(e,t,n,r,s){yo.moveCombatants(e,t,n,r,s),this.setState({combats:this.state.combats,explorations:this.state.explorations})}mapRemove(e,t,n){const r=ao.getMountsAndRiders(e,t).map((e=>e.id));e.forEach((e=>{r.includes(e)||r.push(e)})),r.forEach((e=>yo.remove(n,e))),this.setState({combats:this.state.combats,explorations:this.state.explorations})}addMapItem(e,t){t.items.push(e),this.setState({combats:this.state.combats,maps:this.state.maps,explorations:this.state.explorations})}useTrait(e){e.uses+=1,this.setState({combats:this.state.combats,explorations:this.state.explorations})}rechargeTrait(e){e.uses=0,this.setState({combats:this.state.combats,explorations:this.state.explorations})}save(){switch(this.state.view){case"parties":this.saveKey(this.state.parties,"data-parties");break;case"library":this.saveKey(this.state.library,"data-library");break;case"encounters":this.saveKey(this.state.encounters,"data-encounters"),this.saveKey(this.state.combats,"data-combats");break;case"maps":this.saveKey(this.state.maps,"data-maps"),this.saveKey(this.state.explorations,"data-explorations");break;case"adventures":this.saveKey(this.state.adventures,"data-adventures")}this.saveKey(this.state.options,"data-options")}saveAll(){this.saveKey(this.state.parties,"data-parties"),this.saveKey(this.state.library,"data-library"),this.saveKey(this.state.encounters,"data-encounters"),this.saveKey(this.state.maps,"data-maps"),this.saveKey(this.state.adventures,"data-adventures"),this.saveKey(this.state.combats,"data-combats"),this.saveKey(this.state.explorations,"data-explorations"),this.saveKey(this.state.options,"data-options")}saveKey(e,t){try{const n=JSON.stringify(e);window.localStorage.setItem(t,n)}catch(n){console.error("Could not stringify data: ",n)}}exportAll(){const e={parties:this.state.parties,library:this.state.library,encounters:this.state.encounters,maps:this.state.maps,adventures:this.state.adventures,combats:this.state.combats,explorations:this.state.explorations,options:this.state.options,images:vo.allImages()};no.saveFile("data.dojo",e)}importAll(e){const t=JSON.parse(e);t.images.forEach((e=>{vo.saveImage(e.id,e.name,e.data)}));this.state.sidebar.visible=!1,this.setState({view:"home",drawer:null,sidebar:this.state.sidebar,parties:t.parties,library:t.library,encounters:t.encounters,maps:t.maps,adventures:t.adventures,combats:t.combats,explorations:t.explorations,options:t.options,selectedPartyID:null,selectedMonsterGroupID:null,selectedEncounterID:null,selectedMapID:null,selectedAdventureID:null,selectedCombatID:null,selectedExplorationID:null},(()=>{this.saveAll()}))}getBreadcrumbs(){const e=[];switch(e.push({id:"home",text:"dojo",onClick:()=>this.setView("home")}),this.state.view){case"parties":if(e.push({id:"parties",text:"pcs",onClick:()=>this.selectPartyByID(null)}),this.state.selectedPartyID){const t=this.state.parties.find((e=>e.id===this.state.selectedPartyID));e.push({id:t.id,text:t.name||"unnamed party",onClick:()=>this.selectPartyByID(this.state.selectedPartyID)})}break;case"library":if(e.push({id:"library",text:"monsters",onClick:()=>this.selectMonsterGroupByID(null)}),this.state.selectedMonsterGroupID){const t=this.state.library.find((e=>e.id===this.state.selectedMonsterGroupID));e.push({id:t.id,text:t.name||"unnamed group",onClick:()=>this.selectMonsterGroupByID(this.state.selectedMonsterGroupID)})}break;case"encounters":if(e.push({id:"encounters",text:"encounters",onClick:()=>this.selectEncounterByID(null)}),this.state.selectedEncounterID){const t=this.state.encounters.find((e=>e.id===this.state.selectedEncounterID));e.push({id:t.id,text:t.name||"unnamed encounter",onClick:()=>this.selectEncounterByID(this.state.selectedEncounterID)})}if(this.state.selectedCombatID){const t=this.state.combats.find((e=>e.id===this.state.selectedCombatID));e.push({id:t.id,text:t.name||"unnamed combat",onClick:()=>this.selectCombatByID(this.state.selectedCombatID)})}break;case"maps":if(e.push({id:"maps",text:"maps",onClick:()=>this.selectMapByID(null)}),this.state.selectedMapID){const t=this.state.maps.find((e=>e.id===this.state.selectedMapID));e.push({id:t.id,text:t.name||"unnamed map",onClick:()=>this.selectMapByID(this.state.selectedMapID)})}if(this.state.selectedExplorationID){const t=this.state.explorations.find((e=>e.id===this.state.selectedExplorationID));e.push({id:t.id,text:t.name||"unnamed exploration",onClick:()=>this.selectExplorationByID(this.state.selectedExplorationID)})}break;case"adventures":if(e.push({id:"adventures",text:"adventures",onClick:()=>this.selectAdventureByID(null)}),this.state.selectedAdventureID){const t=this.state.adventures.find((e=>e.id===this.state.selectedAdventureID));e.push({id:t.id,text:t.name||"unnamed adventure",onClick:()=>this.selectAdventureByID(this.state.selectedAdventureID)})}break;case"dm":e.push({id:"dm screen",text:"dm screen",onClick:()=>null})}return e}getContent(){let e=!1;this.state.parties.forEach((t=>e=e||t.pcs.length>0));let t=!1;switch(this.state.library.forEach((e=>t=t||e.monsters.length>0)),this.state.view){case"home":return(0,bo.jsx)(WB,{});case"parties":return this.state.selectedPartyID?(0,bo.jsx)(vC,{party:this.state.parties.find((e=>e.id===this.state.selectedPartyID)),parties:this.state.parties,encounters:this.state.encounters,maps:this.state.maps,goBack:()=>this.selectParty(null),deleteParty:e=>this.deleteParty(e),addPC:()=>this.editPC(null),importPC:()=>this.importPC(),editPC:e=>this.editPC(e),deletePC:e=>this.deletePC(e),clonePC:(e,t)=>this.clonePC(e,t),moveToParty:(e,t)=>this.moveToParty(e,t),createEncounter:e=>this.createEncounter(e),startEncounter:(e,t)=>{const n=this.state.encounters.find((e=>e.id===t));this.createCombat(e,n)},startExploration:(e,t)=>{const n=this.state.maps.find((e=>e.id===t));this.startExploration(n,e)},setLevel:(e,t)=>this.setPartyLevel(e,t),changeValue:(e,t,n)=>this.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.nudgeValue(e,t,n)}):(0,bo.jsx)(mC,{parties:this.state.parties,encounters:this.state.encounters,maps:this.state.maps,addParty:()=>this.addParty(),importParty:()=>this.importParty(),openParty:e=>this.selectParty(e),addPC:()=>this.editPC(null),importPC:()=>this.importPC(),createEncounter:e=>this.createEncounter(e),startEncounter:(e,t)=>{const n=this.state.encounters.find((e=>e.id===t));this.createCombat(e,n)},startExploration:(e,t)=>{const n=this.state.maps.find((e=>e.id===t));this.startExploration(n,e)},setLevel:(e,t)=>this.setPartyLevel(e,t),deleteParty:e=>this.deleteParty(e),openStatBlock:e=>this.setState({drawer:{type:"statblock",source:e}})});case"library":return this.state.selectedMonsterGroupID?(0,bo.jsx)(uC,{monsterGroup:this.state.library.find((e=>e.id===this.state.selectedMonsterGroupID)),library:this.state.library,encounters:this.state.encounters,goBack:()=>this.selectMonsterGroup(null),deleteMonsterGroup:e=>this.deleteMonsterGroup(e),openDemographics:e=>this.openDemographics(e),addMonster:()=>this.addMonster(),generateMonster:()=>this.generateMonster(),importMonster:()=>this.importMonster(),deleteMonster:e=>this.deleteMonster(e),changeValue:(e,t,n)=>this.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.nudgeValue(e,t,n),viewMonster:e=>this.setState({drawer:{type:"statblock",source:e}}),editMonster:e=>this.editMonster(e),cloneMonster:(e,t)=>this.cloneMonster(e,t),moveToGroup:(e,t)=>this.moveToGroup(e,t),createEncounter:e=>this.createEncounterFromMonsters(e)}):(0,bo.jsx)(lC,{library:this.state.library,encounters:this.state.encounters,hasMonsters:t,addMonsterGroup:()=>this.addMonsterGroup(),openMonsterGroup:e=>this.selectMonsterGroup(e),deleteMonsterGroup:e=>this.deleteMonsterGroup(e),addOpenGameContent:()=>this.addOpenGameContent(),openStatBlock:e=>this.setState({drawer:{type:"statblock",source:e}}),openDemographics:e=>this.openDemographics(e),addMonster:()=>this.addMonster(),importMonster:()=>this.importMonster(),generateMonster:()=>this.generateMonster(),createEncounter:e=>this.createEncounterFromMonsters(e)});case"encounters":return this.state.selectedCombatID?(0,bo.jsx)(Ox,{combat:this.state.combats.find((e=>e.id===this.state.selectedCombatID)),parties:this.state.parties,library:this.state.library,encounters:this.state.encounters,options:this.state.options,pauseCombat:()=>this.pauseCombat(),endCombat:(e,t)=>this.endCombat(e,t),nudgeValue:(e,t,n)=>this.nudgeValue(e,t,n),changeValue:(e,t,n)=>this.changeValue(e,t,n),makeCurrent:e=>this.makeCurrent(e,!1),makeActive:e=>this.makeActive(e),makeDefeated:e=>this.makeDefeated(e),useTrait:e=>this.useTrait(e),rechargeTrait:e=>this.rechargeTrait(e),removeCombatants:e=>this.removeCombatants(e),addCombatants:()=>this.openAddCombatantModal(),addCompanion:e=>this.addCompanionToEncounter(e),addPC:(e,t)=>this.addPCToEncounter(e,t),addWave:()=>this.openAddWaveModal(),addCondition:e=>{const t=this.state.combats.find((e=>e.id===this.state.selectedCombatID));this.addCondition(e,t.combatants)},editCondition:(e,t)=>{const n=this.state.combats.find((e=>e.id===this.state.selectedCombatID));this.editCondition(e,t,n.combatants)},deleteCondition:(e,t)=>this.deleteCondition(e,t),mapAdd:(e,t,n)=>{const r=this.state.combats.find((e=>e.id===this.state.selectedCombatID));this.mapAdd(e,t,n,r.combatants,r.map)},mapMove:(e,t,n)=>{const r=this.state.combats.find((e=>e.id===this.state.selectedCombatID));this.mapMove(e,t,r.combatants,r.map,n)},mapRemove:e=>{const t=this.state.combats.find((e=>e.id===this.state.selectedCombatID));this.mapRemove(e,t.combatants,t.map)},mapAddLightSource:(e,t)=>this.addMapLightSource(e,t),mapDeleteLightSource:(e,t)=>this.deleteMapLightSource(e,t),mapChangeLightSource:(e,t,n,r)=>this.changeLightSource(e,t,n,r),undoStep:e=>{if(e.path&&e.path.length>0){const t=this.state.combats.find((e=>e.id===this.state.selectedCombatID)).map.items.find((t=>t.id===e.id));if(t){e.path=e.path.filter((e=>!!e));const n=e.path.pop();n&&(t.x=n.x,t.y=n.y,t.z=n.z),this.setState({combats:this.state.combats})}}},endTurn:e=>this.endTurn(e),changeHP:e=>this.changeHP(e),toggleTag:(e,t)=>this.toggleTag(e,t),toggleCondition:(e,t)=>this.toggleCondition(e,t),toggleHidden:e=>this.toggleHidden(e),scatterCombatants:(e,t)=>{const n=this.state.combats.find((e=>e.id===this.state.selectedCombatID));this.scatterCombatants(e,n.combatants,n.map,t)},rotateMap:()=>{const e=this.state.combats.find((e=>e.id===this.state.selectedCombatID));this.rotateMap(e.map)},setFog:e=>{this.state.combats.find((e=>e.id===this.state.selectedCombatID)).fog=e,this.setState({combats:this.state.combats})},addOverlay:e=>{const t=this.state.combats.find((e=>e.id===this.state.selectedCombatID));this.addMapItem(e,t.map)},onRollDice:(e,t,n,r,s)=>this.rollDice(e,t,n,r,s)}):this.state.selectedEncounterID?(0,bo.jsx)(tB,{encounter:this.state.encounters.find((e=>e.id===this.state.selectedEncounterID)),parties:this.state.parties,adventures:this.state.adventures,cloneEncounter:(e,t)=>this.cloneEncounter(e,t),deleteEncounter:e=>this.deleteEncounter(e),startEncounter:(e,t)=>{const n=this.state.encounters.find((e=>e.id===t));this.createCombat(e,n)},populateEncounter:e=>{const t=[];this.state.library.forEach((n=>{n.monsters.forEach((n=>{e.slots.some((e=>e.monsterID===n.id))||t.push(n)}))})),e.slots.filter((e=>e.roles.length>0)).forEach((e=>{const n=t.filter((t=>e.roles.includes(t.role)));if(n.length>0){const t=n[no.randomNumber(n.length)];this.state.library.find((e=>e.monsters.includes(t)))&&(e.monsterID=t.id)}})),ao.sortEncounter(e,(e=>this.getMonster(e))),this.setState({encounters:this.state.encounters})},addWave:e=>{const t=ro.createEncounterWave();t.name="wave "+(e.waves.length+2),e.waves.push(t),this.setState({encounters:this.state.encounters})},deleteWave:(e,t)=>{const n=e.waves.indexOf(t);e.waves.splice(n,1),this.setState({encounters:this.state.encounters})},moveEncounterSlot:(e,t,n,r,s)=>{if(t.count=Math.max(t.count-n,0),0===t.count)if(r){const e=r.slots.indexOf(t);r.slots.splice(e,1)}else{const n=e.slots.indexOf(t);e.slots.splice(n,1)}const a=(s?s.slots:e.slots).find((e=>e.monsterID===t.monsterID));if(a)a.count+=n;else{const r=ro.createEncounterSlot();r.monsterID=t.monsterID,r.monsterThemeID=t.monsterThemeID,r.deltaCR=t.deltaCR,r.roles=[...t.roles],r.count=n,r.faction=t.faction,s?s.slots.push(r):e.slots.push(r)}ao.sortEncounter(e,(e=>this.getMonster(e))),this.setState({encounters:this.state.encounters})},deleteEncounterSlot:(e,t,n)=>{if(n){const e=n.slots.indexOf(t);n.slots.splice(e,1)}else{const n=e.slots.indexOf(t);e.slots.splice(n,1)}this.setState({encounters:this.state.encounters})},chooseMonster:(e,t,n)=>{if(t){let r=null;t.monsterID&&(r=this.getMonster(t.monsterID)),this.setState({drawer:{type:"encounter-slot-template",encounter:e,slot:t,wave:n,originalMonster:r,monster:r}})}else this.setState({drawer:{type:"encounter-slot",encounter:e,slot:t,wave:n,originalMonster:null,monster:null}})},adjustSlot:(e,t)=>{const n=[];this.state.library.forEach((e=>{e.monsters.forEach((e=>{e.id!==t.monsterID&&"any race"===e.tag&&n.push(e)}))})),this.setState({drawer:{type:"encounter-slot-adjust",monster:this.getMonster(t.monsterID),themes:n,selectedThemeID:t.monsterThemeID,deltaCR:t.deltaCR,onAccept:()=>{t.monsterThemeID=this.state.drawer.selectedThemeID,t.deltaCR=this.state.drawer.deltaCR,ao.sortEncounter(e,(e=>this.getMonster(e))),this.setState({encounters:this.state.encounters,drawer:null})}}})},chooseRandomTheme:(e,t)=>{const n=po.getThemes(this.state.library,t),r=n[no.randomNumber(n.length)];t.monsterThemeID=r.id,ao.sortEncounter(e,(e=>this.getMonster(e))),this.setState({encounters:this.state.encounters})},splitTheme:(e,t)=>{const n=po.getThemes(this.state.library,t);e.slots=e.slots.filter((e=>e.id!==t.id));for(let r=0;r!==t.count;++r){const r=JSON.parse(JSON.stringify(t));r.id=no.guid(),r.count=1;const s=n[no.randomNumber(n.length)];r.monsterThemeID=s.id,e.slots.push(r)}ao.sortEncounterSlots(e,(e=>this.getMonster(e))),this.setState({encounters:this.state.encounters})},removeAdjustments:(e,t)=>{t.monsterThemeID="",t.deltaCR=0,ao.sortEncounter(e,(e=>this.getMonster(e))),this.setState({encounters:this.state.encounters,drawer:null})},showStatblock:e=>this.setState({drawer:{type:"statblock",source:e}}),showMinisChecklist:e=>this.setState({drawer:{type:"minis-checklist",encounter:e}}),getMonster:e=>this.getMonster(e),changeValue:(e,t,n)=>this.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.nudgeValue(e,t,n),goBack:()=>this.selectEncounter(null)}):(0,bo.jsx)($x,{encounters:this.state.encounters,combats:this.state.combats,parties:this.state.parties,adventures:this.state.adventures,hasMonsters:t,createEncounter:()=>this.createEncounter(null),addEncounter:e=>this.addEncounter(e),openEncounter:e=>this.selectEncounter(e),cloneEncounter:(e,t)=>this.cloneEncounter(e,t),deleteEncounter:e=>this.deleteEncounter(e),startEncounter:(e,t)=>{const n=this.state.encounters.find((e=>e.id===t));this.createCombat(e,n)},getMonster:e=>this.getMonster(e),setView:e=>this.setView(e),openStatBlock:e=>this.setState({drawer:{type:"statblock",source:e}}),resumeCombat:e=>this.resumeCombat(e),deleteCombat:e=>this.endCombat(e)});case"maps":return this.state.selectedExplorationID?(0,bo.jsx)(nB,{exploration:this.state.explorations.find((e=>e.id===this.state.selectedExplorationID)),parties:this.state.parties,library:this.state.library,options:this.state.options,startCombat:e=>this.createCombat(e.partyID,null,e.map,e.mapAreaID,e.fog,e.lighting,e.combatants),toggleTag:(e,t)=>this.toggleTag(e,t),toggleCondition:(e,t)=>this.toggleCondition(e,t),toggleHidden:e=>this.toggleHidden(e),addCondition:e=>{const t=this.state.explorations.find((e=>e.id===this.state.selectedExplorationID));this.addCondition(e,t.combatants)},editCondition:(e,t)=>{const n=this.state.explorations.find((e=>e.id===this.state.selectedExplorationID));this.editCondition(e,t,n.combatants)},deleteCondition:(e,t)=>this.deleteCondition(e,t),changeValue:(e,t,n)=>this.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.nudgeValue(e,t,n),addPC:(e,t)=>this.addPCToExploration(e,t),addCompanion:e=>this.addCompanionToExploration(e),mapAdd:(e,t,n)=>{const r=this.state.explorations.find((e=>e.id===this.state.selectedExplorationID));this.mapAdd(e,t,n,r.combatants,r.map)},mapMove:(e,t,n)=>{const r=this.state.explorations.find((e=>e.id===this.state.selectedExplorationID));this.mapMove(e,t,r.combatants,r.map,n)},mapRemove:e=>{const t=this.state.explorations.find((e=>e.id===this.state.selectedExplorationID));this.mapRemove(e,t.combatants,t.map)},mapAddLightSource:(e,t)=>this.addMapLightSource(e,t),mapDeleteLightSource:(e,t)=>this.deleteMapLightSource(e,t),mapChangeLightSource:(e,t,n,r)=>this.changeLightSource(e,t,n,r),scatterCombatants:(e,t)=>{const n=this.state.explorations.find((e=>e.id===this.state.selectedExplorationID));this.scatterCombatants(e,n.combatants,n.map,t)},rotateMap:()=>{const e=this.state.explorations.find((e=>e.id===this.state.selectedExplorationID));this.rotateMap(e.map)},getMonster:e=>this.getMonster(e),useTrait:e=>this.useTrait(e),rechargeTrait:e=>this.rechargeTrait(e),setFog:e=>{this.state.explorations.find((e=>e.id===this.state.selectedExplorationID)).fog=e,this.setState({explorations:this.state.explorations})},addOverlay:e=>{const t=this.state.explorations.find((e=>e.id===this.state.selectedExplorationID));this.addMapItem(e,t.map)},onRollDice:(e,t,n,r,s)=>this.rollDice(e,t,n,r,s),pauseExploration:()=>this.pauseExploration(),endExploration:e=>this.endExploration(e)}):this.state.selectedMapID?(0,bo.jsx)(tC,{map:this.state.maps.find((e=>e.id===this.state.selectedMapID)),parties:this.state.parties,cloneMap:(e,t)=>this.cloneMap(e,t),rotateMap:e=>this.rotateMap(e),deleteMap:e=>this.deleteMap(e),addMapTile:(e,t)=>this.addMapItem(t,e),selectMapTileImage:(e,t)=>this.selectMapTileImage(e,t),moveMapTile:(e,t,n,r)=>this.moveMapTileOrArea(e,t,n,r),cloneMapTile:(e,t)=>this.cloneMapTile(e,t),rotateMapTile:(e,t)=>this.rotateMapTile(e,t),deleteMapTile:(e,t)=>this.deleteMapTile(e,t),clearMapTiles:e=>this.clearMapTiles(e),bringToFront:(e,t)=>this.bringToFront(e,t),sendToBack:(e,t)=>this.sendToBack(e,t),addMapWall:(e,t)=>this.addMapWall(e,t),moveMapWall:(e,t,n,r)=>this.moveMapWall(e,t,n,r),nudgeWallLength:(e,t,n)=>this.nudgeWallLength(e,t,n),deleteMapWall:(e,t)=>this.deleteMapWall(e,t),fillInMapWalls:e=>this.fillInMapWalls(e),clearMapWalls:e=>this.clearMapWalls(e),addMapArea:(e,t)=>this.addMapArea(e,t),moveMapArea:(e,t,n,r)=>this.moveMapTileOrArea(e,t,n,r),deleteMapArea:(e,t)=>this.deleteMapArea(e,t),clearMapAreas:e=>this.clearMapAreas(e),addMapLightSource:(e,t)=>this.addMapLightSource(e,t),deleteMapLightSource:(e,t)=>this.deleteMapLightSource(e,t),changeLightSource:(e,t,n,r)=>this.changeLightSource(e,t,n,r),generateRoom:e=>this.generateRoom(e),startEncounter:(e,t,n)=>{const r=this.state.maps.find((e=>e.id===t));this.createCombat(e,null,r,null,[],n)},startExploration:(e,t,n)=>{const r=this.state.maps.find((e=>e.id===t));this.startExploration(r,e,n)},changeValue:(e,t,n)=>this.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.nudgeValue(e,t,n),goBack:()=>this.selectMap(null)}):(0,bo.jsx)($B,{maps:this.state.maps,parties:this.state.parties,explorations:this.state.explorations,addMap:()=>this.addMap(),importMap:()=>this.importMap(),generateMap:()=>this.generateMap(),openMap:e=>this.selectMap(e),cloneMap:(e,t)=>this.cloneMap(e,t),deleteMap:e=>this.deleteMap(e),startEncounter:(e,t)=>{const n=this.state.maps.find((e=>e.id===t));this.createCombat(e,null,n)},startExploration:(e,t)=>{const n=this.state.maps.find((e=>e.id===t));this.startExploration(n,e)},resumeExploration:e=>this.resumeExploration(e),deleteExploration:e=>this.endExploration(e)});case"adventures":return this.state.selectedAdventureID?(0,bo.jsx)(Fx,{adventure:this.state.adventures.find((e=>e.id===this.state.selectedAdventureID)),parties:this.state.parties,encounters:this.state.encounters,maps:this.state.maps,options:this.state.options,goBack:()=>this.selectAdventure(null),addScene:(e,t,n)=>this.addScene(e,t,n),moveScene:(e,t,n)=>this.moveScene(e,t,n),deleteScene:(e,t)=>this.deleteScene(e,t),addLink:(e,t)=>this.addLink(e,t),deleteLink:(e,t)=>this.deleteLink(e,t),deleteAdventure:e=>this.deleteAdventure(e),exploreMap:(e,t)=>this.startExploration(e,t),addMapToPlot:(e,t)=>this.addMapToPlot(e,t),removeMapFromPlot:e=>this.removeMapFromPlot(e),addResourceToScene:(e,t)=>this.addResourceToScene(e,t),addEncounterToScene:(e,t,n)=>this.addEncounterToScene(e,t,n),removeResourceFromScene:(e,t)=>this.removeResourceFromScene(e,t),openEncounter:e=>this.selectEncounterByID(e.content),setupEncounterMap:e=>{this.setState({drawer:{type:"combat-map",data:e.data}})},runEncounter:(e,t,n,r,s,a)=>{const i=this.state.encounters.find((t=>t.id===e.content));i&&this.createCombat("",i,t,n,r,s,[],a)},rotateMap:e=>{yo.rotateMap(e.map),this.setState({adventures:this.state.adventures})},showNotes:e=>this.showMarkdown(e.name||"unnamed scene",e.content),showMonster:e=>this.setState({drawer:{type:"statblock",source:e}}),showResource:e=>this.openSceneResource(e),getMonster:e=>this.getMonster(e),changeValue:(e,t,n)=>this.changeValue(e,t,n)}):(0,bo.jsx)(wx,{adventures:this.state.adventures,parties:this.state.parties,addAdventure:()=>this.addAdventure(),generateAdventure:()=>this.generateAdventure(),openAdventure:e=>this.selectAdventure(e),exploreMap:(e,t)=>this.startExploration(e,t),deleteAdventure:e=>this.deleteAdventure(e)});case"dm":return(0,bo.jsx)(Kx,{parties:this.state.parties,showAwards:this.state.options.showAwards,addAward:(e,t)=>{t.awards.push(e),this.setState({parties:this.state.parties})},deleteAward:(e,t)=>{t.awards=t.awards.filter((t=>t!==e)),this.setState({parties:this.state.parties})}})}return(0,bo.jsx)("div",{children:this.state.view})}getTabs(){return[{id:"parties",text:"pcs",selected:"parties"===this.state.view,onSelect:()=>this.setView("parties")},{id:"library",text:"monsters",selected:"library"===this.state.view,onSelect:()=>this.setView("library")},{id:"encounters",text:"encounters",selected:"encounters"===this.state.view,onSelect:()=>this.setView("encounters")},{id:"maps",text:"maps",selected:"maps"===this.state.view,onSelect:()=>this.setView("maps")},{id:"adventures",text:"adventures",selected:"adventures"===this.state.view,onSelect:()=>this.setView("adventures")},{id:"dm",text:"dm screen",selected:"dm"===this.state.view,onSelect:()=>this.setView("dm")}]}getDrawer(){let e=null,t=null,n=null,r="50%",s=!1;if(this.state.drawer)switch(this.state.drawer.type){case"statblock":e=(0,bo.jsx)(gb,{source:this.state.drawer.source,options:this.state.options}),t="statblock",s=!0;break;case"image":e=(0,bo.jsx)("img",{className:"nonselectable-image",src:this.state.drawer.data,alt:"shared"}),t="image",s=!0;break;case"import-party":e=(0,bo.jsx)(hw,{party:this.state.drawer.party}),t="import party",n=(0,bo.jsx)("button",{onClick:()=>this.acceptImportedParty(),children:"accept party"}),s=!0;break;case"pc":e=(0,bo.jsx)(ey,{pc:this.state.drawer.pc,library:this.state.library}),t="pc editor",n=(0,bo.jsxs)(Os,{gutter:20,children:[(0,bo.jsx)(zs,{span:12,children:(0,bo.jsx)("button",{onClick:()=>this.savePC(),children:"save changes"})}),(0,bo.jsx)(zs,{span:12,children:(0,bo.jsx)("button",{onClick:()=>this.closeDrawer(),children:"discard changes"})})]});break;case"import-pc":e=(0,bo.jsx)(pw,{pc:this.state.drawer.pc}),t="import pc",n=(0,bo.jsx)("button",{onClick:()=>this.acceptImportedPC(),children:"accept pc"}),s=!0;break;case"monster":e=(0,bo.jsx)(Gv,{monster:this.state.drawer.monster,library:this.state.library,options:this.state.options}),t="monster designer",n=(0,bo.jsxs)(Os,{gutter:20,children:[(0,bo.jsx)(zs,{span:6,children:(0,bo.jsx)("button",{onClick:()=>this.saveMonster(),children:"save changes"})}),(0,bo.jsx)(zs,{span:6,children:(0,bo.jsx)("button",{onClick:()=>this.closeDrawer(),children:"discard changes"})}),(0,bo.jsx)(zs,{span:12})]}),r="85%";break;case"import-monster":e=(0,bo.jsx)(Aw,{monster:this.state.drawer.monster}),t="import monster",n=(0,bo.jsx)("button",{onClick:()=>this.acceptImportedMonster(),children:"accept monster"}),s=!0;break;case"monster-demographics":e=(0,bo.jsx)(Dw,{groups:this.state.drawer.group?[this.state.drawer.group]:this.state.library}),t="demographics",s=!0;break;case"random-monster":e=(0,bo.jsx)(ub,{parties:[],library:this.state.library,monsterData:this.state.drawer.data,mapData:null,encounterData:null,onUpdated:()=>this.forceUpdate()}),t="generate a random monster",n=(0,bo.jsx)("button",{className:this.state.drawer.canAccept()?"":"disabled",onClick:()=>this.state.drawer.onAccept(),children:"create the monster"}),s=!0;break;case"random-encounter":e=(0,bo.jsx)(ub,{parties:this.state.parties,library:[],monsterData:null,mapData:null,encounterData:this.state.drawer.data,onUpdated:()=>this.forceUpdate()}),t="generate a random encounter",n=(0,bo.jsx)("button",{className:this.state.drawer.canAccept()?"":"disabled",onClick:()=>this.state.drawer.onAccept(),children:"create the encounter"}),s=!0;break;case"encounter-slot":e=(0,bo.jsx)(yw,{slot:this.state.drawer.slot,originalMonster:this.state.drawer.originalMonster,monster:this.state.drawer.monster,library:this.state.library,setMonster:e=>{const t=this.state.drawer;t.monster=e,this.setState({encounters:this.state.encounters,drawer:t})}}),t="choose a monster",n=(0,bo.jsxs)(Os,{gutter:10,children:[(0,bo.jsx)(zs,{span:12,children:(0,bo.jsx)("button",{className:this.state.drawer.monster?"":"disabled",onClick:()=>this.addToEncounterSlot(this.state.drawer.encounter,this.state.drawer.wave,this.state.drawer.slot,this.state.drawer.monster,!1),children:"add this monster to the encounter"})}),(0,bo.jsx)(zs,{span:12,children:(0,bo.jsx)("button",{onClick:()=>this.closeDrawer(),children:"close"})})]}),r="75%",s=!0;break;case"encounter-slot-adjust":e=(0,bo.jsx)(ww,{monster:this.state.drawer.monster,themes:this.state.drawer.themes,selectedThemeID:this.state.drawer.selectedThemeID,selectTheme:e=>{const t=this.state.drawer;t.selectedThemeID=e,this.setState({drawer:t})},deltaCR:this.state.drawer.deltaCR,setDeltaCR:e=>{const t=this.state.drawer;t.deltaCR=e,this.setState({drawer:t})}}),t="modify monster",n=(0,bo.jsxs)(Os,{gutter:10,children:[(0,bo.jsx)(zs,{span:12,children:(0,bo.jsx)("button",{onClick:()=>this.state.drawer.onAccept(),children:"accept"})}),(0,bo.jsx)(zs,{span:12,children:(0,bo.jsx)("button",{onClick:()=>this.closeDrawer(),children:"cancel"})})]}),r="75%",s=!0;break;case"encounter-slot-template":e=(0,bo.jsx)(yw,{slot:this.state.drawer.slot,originalMonster:this.state.drawer.originalMonster,monster:this.state.drawer.monster,library:this.state.library,setMonster:e=>{const t=this.state.drawer;t.monster=e,this.setState({encounters:this.state.encounters,drawer:t})}}),t="choose a monster",n=(0,bo.jsxs)(Os,{gutter:10,children:[(0,bo.jsx)(zs,{span:12,children:(0,bo.jsx)("button",{className:this.state.drawer.monster?"":"disabled",onClick:()=>this.addToEncounterSlot(this.state.drawer.encounter,this.state.drawer.wave,this.state.drawer.slot,this.state.drawer.monster,!0),children:"add this monster to the encounter"})}),(0,bo.jsx)(zs,{span:12,children:(0,bo.jsx)("button",{onClick:()=>this.closeDrawer(),children:"cancel"})})]}),r="75%",s=!0;break;case"import-map":e=(0,bo.jsx)(lw,{map:this.state.drawer.map}),t="import map",n=(0,bo.jsxs)(Os,{gutter:20,children:[(0,bo.jsx)(zs,{span:12,children:(0,bo.jsx)("button",{onClick:()=>this.acceptImportedMap(),children:"save changes"})}),(0,bo.jsx)(zs,{span:12,children:(0,bo.jsx)("button",{onClick:()=>this.declineImportedMap(),children:"discard changes"})})]}),r="75%",s=!1;break;case"random-map":e=(0,bo.jsx)(ub,{parties:[],library:[],monsterData:null,mapData:this.state.drawer.data,encounterData:null,onUpdated:()=>this.forceUpdate()}),t="generate a random map",n=(0,bo.jsx)("button",{className:this.state.drawer.canAccept()?"":"disabled",onClick:()=>this.state.drawer.onAccept(),children:"create the map"}),s=!0;break;case"random-adventure":e=(0,bo.jsx)(ub,{parties:this.state.parties,library:[],monsterData:null,mapData:this.state.drawer.mapData,encounterData:this.state.drawer.encounterData,onUpdated:()=>this.forceUpdate()}),t="generate a random adventure",n=(0,bo.jsx)("button",{className:this.state.drawer.canAccept()?"":"disabled",onClick:()=>this.state.drawer.onAccept(),children:"create the adventure"}),s=!0;break;case"combat-start":e=(0,bo.jsx)(Sw,{type:"start",combatSetup:this.state.drawer.combatSetup,library:this.state.library,encounters:this.state.encounters,maps:this.state.maps,options:this.state.options,getMonster:e=>this.getMonster(e),notify:()=>this.setState({drawer:this.state.drawer})}),t="start combat",n=(0,bo.jsx)("button",{className:this.state.drawer.combatSetup.party&&this.state.drawer.combatSetup.encounter?"":"disabled",onClick:()=>this.startCombat(),children:"start combat"}),s=!0;break;case"combat-wave":e=(0,bo.jsx)(Sw,{type:"add-wave",combatSetup:this.state.drawer.combatSetup,library:this.state.library,options:this.state.options,getMonster:e=>this.getMonster(e),notify:()=>this.setState({drawer:this.state.drawer})}),t="add a wave",n=(0,bo.jsx)("button",{className:null!==this.state.drawer.combatSetup.waveID?"":"disabled",onClick:()=>this.addWaveToCombat(),children:"add wave"}),s=!0;break;case"combat-add-combatants":e=(0,bo.jsx)(Sw,{type:"add-combatants",combatSetup:this.state.drawer.combatSetup,library:this.state.library,options:this.state.options,getMonster:e=>this.getMonster(e),addMonster:e=>this.addMonsterToAddCombatantsModal(e),notify:()=>this.setState({drawer:this.state.drawer})}),t="add combatants",n=(0,bo.jsx)("button",{className:null!==this.state.drawer.combatSetup.encounter?"":"disabled",onClick:()=>this.addCombatantsToCombat(),children:"add combatants"}),s=!0;break;case"combat-map":e=(0,bo.jsx)(bw,{maps:this.state.maps,map:this.state.drawer.data.map,setMap:e=>{this.state.drawer.data.map=e,this.setState({drawer:this.state.drawer})},areaID:this.state.drawer.data.mapAreaID,setAreaID:e=>{this.state.drawer.data.mapAreaID=e,this.setState({drawer:this.state.drawer})},lighting:this.state.drawer.data.lighting,setLighting:e=>{this.state.drawer.data.lighting=e,this.setState({drawer:this.state.drawer})},fog:this.state.drawer.data.fog,setFog:e=>{this.state.drawer.data.fog=e,this.setState({drawer:this.state.drawer})},slotInfo:this.state.drawer.data.slotInfo,setSlotInfo:e=>{this.state.drawer.data.slotInfo=e,this.setState({drawer:this.state.drawer})},getMonster:e=>this.getMonster(e)}),t="setup encounter map",s=!0;break;case"condition-add":e=(0,bo.jsx)(Uw,{condition:this.state.drawer.condition,combatants:this.state.drawer.combatants,allCombatants:this.state.drawer.allCombatants}),t="add a condition",n=(0,bo.jsx)("button",{onClick:()=>this.addConditionFromModal(),children:"add"}),r="75%",s=!0;break;case"condition-edit":e=(0,bo.jsx)(Uw,{condition:this.state.drawer.condition,combatants:this.state.drawer.combatants,allCombatants:this.state.drawer.allCombatants}),t="edit condition",n=(0,bo.jsxs)(Os,{gutter:20,children:[(0,bo.jsx)(zs,{span:12,children:(0,bo.jsx)("button",{onClick:()=>this.editConditionFromModal(),children:"save changes"})}),(0,bo.jsx)(zs,{span:12,children:(0,bo.jsx)("button",{onClick:()=>this.closeDrawer(),children:"discard changes"})})]}),r="75%";break;case"select-image":e=(0,bo.jsx)(gw,{select:e=>this.state.drawer.onAccept(e)}),t="choose an image",r="25%";break;case"markdown":e=(0,bo.jsx)(Hw,{content:this.state.drawer.content}),t=this.state.drawer.title,s=!0;break;case"add-map-to-plot":e=(0,bo.jsx)(vw,{maps:this.state.maps.filter((e=>e.areas.length>0)),onSelect:e=>this.state.drawer.accept(e)}),t="choose a map",s=!0;break;case"add-encounter-to-scene":e=(0,bo.jsx)(fw,{encounters:this.state.encounters,party:this.state.drawer.party,getMonster:e=>this.getMonster(e),onSelect:e=>this.state.drawer.accept(e)}),t="choose an encounter",s=!0;break;case"minis-checklist":e=(0,bo.jsx)(Lw,{encounter:this.state.drawer.encounter,getMonster:e=>this.getMonster(e)}),t="miniatures checklist",s=!0}return{content:e,header:t,footer:n,width:r,closable:s}}render(){try{var e,t;const n=this.getBreadcrumbs(),r=this.getContent(),s=this.getTabs(),a=this.getDrawer();return(0,bo.jsxs)("div",{className:"dojo "+this.state.options.theme,children:[(0,bo.jsxs)("div",{className:this.state.sidebar.visible?"app with-sidebar":"app",children:[(0,bo.jsx)(Bo,{children:(0,bo.jsx)(Qb,{breadcrumbs:n,sidebarVisible:this.state.sidebar.visible,onToggleSidebar:()=>this.toggleSidebar()})}),(0,bo.jsx)(Bo,{children:(0,bo.jsx)("div",{className:"page-content",children:r})}),(0,bo.jsx)(Bo,{children:(0,bo.jsx)(bb,{tabs:s})})]}),(0,bo.jsx)(Bo,{children:(0,bo.jsx)(lx,{sidebar:this.state.sidebar,user:"dm",parties:this.state.parties,library:this.state.library,encounters:this.state.encounters,maps:this.state.maps,adventures:this.state.adventures,options:this.state.options,currentCombat:null!==(e=this.state.combats.find((e=>e.id===this.state.selectedCombatID)))&&void 0!==e?e:null,currentExploration:null!==(t=this.state.explorations.find((e=>e.id===this.state.selectedExplorationID)))&&void 0!==t?t:null,onSelectSidebar:e=>this.setSidebar(e),onUpdateSidebar:e=>this.setState({sidebar:e}),selectParty:e=>this.selectPartyByID(e),selectMonsterGroup:e=>this.selectMonsterGroupByID(e),selectEncounter:e=>this.selectEncounterByID(e),selectMap:e=>this.selectMapByID(e),selectAdventure:e=>this.selectAdventureByID(e),openImage:e=>this.setState({drawer:{type:"image",data:e}}),setOption:(e,t)=>{const n=this.state.options;n[e]=t,this.setState({options:n})},clearUnusedImages:()=>vo.clearUnusedImages(this.state.maps,this.state.adventures,this.state.combats,this.state.explorations),exportAll:()=>this.exportAll(),importAll:e=>this.importAll(e),addFlag:e=>{const t=this.state.options;t.featureFlags.push(e),t.featureFlags.sort(),this.setState({options:t})},removeFlag:e=>{const t=this.state.options;t.featureFlags=t.featureFlags.filter((t=>t!==e)),this.setState({options:t})},getMonster:e=>this.getMonster(e)})}),(0,bo.jsx)(Bo,{children:(0,bo.jsxs)(_i,{className:this.state.options.theme,closable:!1,maskClosable:a.closable,width:a.width,open:null!==a.content,onClose:()=>this.closeDrawer(),children:[(0,bo.jsx)("div",{className:"drawer-header",children:(0,bo.jsx)("div",{className:"app-title",children:a.header})}),(0,bo.jsx)("div",{className:"drawer-content",children:a.content}),(0,bo.jsx)("div",{className:"drawer-footer",children:a.footer})]})})]})}catch(bC){return console.error(bC),(0,bo.jsx)(Co,{context:"Main",error:bC})}}}const wC=document.getElementById("root");(0,r.H)(wC).render((0,bo.jsx)(yC,{}))})()})();