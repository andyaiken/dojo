/*! For license information please see main.48c83638.js.LICENSE.txt */
(()=>{var e={755:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},i=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var r,s=t.call(e,"constructor"),a=e.constructor&&e.constructor.prototype&&t.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!s&&!a)return!1;for(r in e);return"undefined"===typeof r||t.call(e,r)},o=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},l=function(e,n){if("__proto__"===n){if(!t.call(e,n))return;if(s)return s(e,n).value}return e[n]};e.exports=function e(){var t,n,r,s,A,c,u=arguments[0],d=1,h=arguments.length,p=!1;for("boolean"===typeof u&&(p=u,u=arguments[1]||{},d=2),(null==u||"object"!==typeof u&&"function"!==typeof u)&&(u={});d<h;++d)if(null!=(t=arguments[d]))for(n in t)r=l(u,n),u!==(s=l(t,n))&&(p&&s&&(i(s)||(A=a(s)))?(A?(A=!1,c=r&&a(r)?r:[]):c=r&&i(r)?r:{},o(u,{name:n,newValue:e(p,c,s)})):"undefined"!==typeof s&&o(u,{name:n,newValue:s}));return u}},1052:function(e){e.exports=function(){"use strict";var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},n.apply(this,arguments)};function r(e,t,n,r){function s(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,a){function i(e){try{l(r.next(e))}catch(Ht){a(Ht)}}function o(e){try{l(r.throw(e))}catch(Ht){a(Ht)}}function l(e){e.done?n(e.value):s(e.value).then(i,o)}l((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,s,a,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(s=(s=i.trys).length>0&&s[s.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(Ht){a=[6,Ht],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function a(e,t,n){if(n||2===arguments.length)for(var r,s=0,a=t.length;s<a;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||t)}for(var i=function(){function e(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return e.prototype.add=function(t,n,r,s){return new e(this.left+t,this.top+n,this.width+r,this.height+s)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find((function(e){return 0!==e.width}));return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),o=function(e,t){return i.fromClientRect(e,t.getBoundingClientRect())},l=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),s=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new i(0,0,r,s)},A=function(e){for(var t=[],n=0,r=e.length;n<r;){var s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var a=e.charCodeAt(n++);56320===(64512&a)?t.push(((1023&s)<<10)+(1023&a)+65536):(t.push(s),n--)}else t.push(s)}return t},c=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],s=-1,a="";++s<n;){var i=e[s];i<=65535?r.push(i):(i-=65536,r.push(55296+(i>>10),i%1024+56320)),(s+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="undefined"===typeof Uint8Array?[]:new Uint8Array(256),h=0;h<u.length;h++)d[u.charCodeAt(h)]=h;for(var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m="undefined"===typeof Uint8Array?[]:new Uint8Array(256),f=0;f<p.length;f++)m[p.charCodeAt(f)]=f;for(var g=function(e){var t,n,r,s,a,i=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);var A="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(i):new Array(i),c=Array.isArray(A)?A:new Uint8Array(A);for(t=0;t<o;t+=4)n=m[e.charCodeAt(t)],r=m[e.charCodeAt(t+1)],s=m[e.charCodeAt(t+2)],a=m[e.charCodeAt(t+3)],c[l++]=n<<2|r>>4,c[l++]=(15&r)<<4|s>>2,c[l++]=(3&s)<<6|63&a;return A},v=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},y=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},w=5,b=11,x=2,B=65536>>w,C=(1<<w)-1,k=B+(1024>>w)+32,S=65536>>b,E=(1<<b-w)-1,j=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},F=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},I=function(e,t){var n=g(e),r=Array.isArray(n)?y(n):new Uint32Array(n),s=Array.isArray(n)?v(n):new Uint16Array(n),a=24,i=j(s,a/2,r[4]/2),o=2===r[5]?j(s,(a+r[4])/2):F(r,Math.ceil((a+r[4])/4));return new Q(r[0],r[1],r[2],r[3],i,o)},Q=function(){function e(e,t,n,r,s,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=s,this.data=a}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>w])<<x)+(e&C),this.data[t];if(e<=65535)return t=((t=this.index[B+(e-55296>>w)])<<x)+(e&C),this.data[t];if(e<this.highStart)return t=k-S+(e>>b),t=this.index[t],t+=e>>w&E,t=((t=this.index[t])<<x)+(e&C),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",U="undefined"===typeof Uint8Array?[]:new Uint8Array(256),N=0;N<M.length;N++)U[M.charCodeAt(N)]=N;var T=50,D=1,H=2,L=3,P=4,O=5,R=7,V=8,K=9,z=10,_=11,G=12,W=13,Y=14,q=15,X=16,J=17,Z=18,$=19,ee=20,te=21,ne=22,re=23,se=24,ae=25,ie=26,oe=27,le=28,Ae=29,ce=30,ue=31,de=32,he=33,pe=34,me=35,fe=36,ge=37,ve=38,ye=39,we=40,be=41,xe=42,Be=43,Ce=[9001,65288],ke="!",Se="\xd7",Ee="\xf7",je=I("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Fe=[ce,fe],Ie=[D,H,L,O],Qe=[z,V],Me=[oe,ie],Ue=Ie.concat(Qe),Ne=[ve,ye,we,pe,me],Te=[q,W],De=function(e,t){void 0===t&&(t="strict");var n=[],r=[],s=[];return e.forEach((function(e,a){var i=je.get(e);if(i>T?(s.push(!0),i-=T):s.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(a),n.push(X);if(i===P||i===_){if(0===a)return r.push(a),n.push(ce);var o=n[a-1];return-1===Ue.indexOf(o)?(r.push(r[a-1]),n.push(o)):(r.push(a),n.push(ce))}return r.push(a),i===ue?n.push("strict"===t?te:ge):i===xe||i===Ae?n.push(ce):i===Be?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(ge):n.push(ce):void n.push(i)})),[r,n,s]},He=function(e,t,n,r){var s=r[n];if(Array.isArray(e)?-1!==e.indexOf(s):e===s)for(var a=n;a<=r.length;){if((l=r[++a])===t)return!0;if(l!==z)break}if(s===z)for(a=n;a>0;){var i=r[--a];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var o=n;o<=r.length;){var l;if((l=r[++o])===t)return!0;if(l!==z)break}if(i!==z)break}return!1},Le=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==z)return r;n--}return 0},Pe=function(e,t,n,r,s){if(0===n[r])return Se;var a=r-1;if(Array.isArray(s)&&!0===s[a])return Se;var i=a-1,o=a+1,l=t[a],A=i>=0?t[i]:0,c=t[o];if(l===H&&c===L)return Se;if(-1!==Ie.indexOf(l))return ke;if(-1!==Ie.indexOf(c))return Se;if(-1!==Qe.indexOf(c))return Se;if(Le(a,t)===V)return Ee;if(je.get(e[a])===_)return Se;if((l===de||l===he)&&je.get(e[o])===_)return Se;if(l===R||c===R)return Se;if(l===K)return Se;if(-1===[z,W,q].indexOf(l)&&c===K)return Se;if(-1!==[J,Z,$,se,le].indexOf(c))return Se;if(Le(a,t)===ne)return Se;if(He(re,ne,a,t))return Se;if(He([J,Z],te,a,t))return Se;if(He(G,G,a,t))return Se;if(l===z)return Ee;if(l===re||c===re)return Se;if(c===X||l===X)return Ee;if(-1!==[W,q,te].indexOf(c)||l===Y)return Se;if(A===fe&&-1!==Te.indexOf(l))return Se;if(l===le&&c===fe)return Se;if(c===ee)return Se;if(-1!==Fe.indexOf(c)&&l===ae||-1!==Fe.indexOf(l)&&c===ae)return Se;if(l===oe&&-1!==[ge,de,he].indexOf(c)||-1!==[ge,de,he].indexOf(l)&&c===ie)return Se;if(-1!==Fe.indexOf(l)&&-1!==Me.indexOf(c)||-1!==Me.indexOf(l)&&-1!==Fe.indexOf(c))return Se;if(-1!==[oe,ie].indexOf(l)&&(c===ae||-1!==[ne,q].indexOf(c)&&t[o+1]===ae)||-1!==[ne,q].indexOf(l)&&c===ae||l===ae&&-1!==[ae,le,se].indexOf(c))return Se;if(-1!==[ae,le,se,J,Z].indexOf(c))for(var u=a;u>=0;){if((d=t[u])===ae)return Se;if(-1===[le,se].indexOf(d))break;u--}if(-1!==[oe,ie].indexOf(c))for(u=-1!==[J,Z].indexOf(l)?i:a;u>=0;){var d;if((d=t[u])===ae)return Se;if(-1===[le,se].indexOf(d))break;u--}if(ve===l&&-1!==[ve,ye,pe,me].indexOf(c)||-1!==[ye,pe].indexOf(l)&&-1!==[ye,we].indexOf(c)||-1!==[we,me].indexOf(l)&&c===we)return Se;if(-1!==Ne.indexOf(l)&&-1!==[ee,ie].indexOf(c)||-1!==Ne.indexOf(c)&&l===oe)return Se;if(-1!==Fe.indexOf(l)&&-1!==Fe.indexOf(c))return Se;if(l===se&&-1!==Fe.indexOf(c))return Se;if(-1!==Fe.concat(ae).indexOf(l)&&c===ne&&-1===Ce.indexOf(e[o])||-1!==Fe.concat(ae).indexOf(c)&&l===Z)return Se;if(l===be&&c===be){for(var h=n[a],p=1;h>0&&t[--h]===be;)p++;if(p%2!==0)return Se}return l===de&&c===he?Se:Ee},Oe=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=De(e,t.lineBreak),r=n[0],s=n[1],a=n[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(s=s.map((function(e){return-1!==[ae,ce,xe].indexOf(e)?ge:e})));var i="keep-all"===t.wordBreak?a.map((function(t,n){return t&&e[n]>=19968&&e[n]<=40959})):void 0;return[r,s,i]},Re=function(){function e(e,t,n,r){this.codePoints=e,this.required=t===ke,this.start=n,this.end=r}return e.prototype.slice=function(){return c.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),Ve=function(e,t){var n=A(e),r=Oe(n,t),s=r[0],a=r[1],i=r[2],o=n.length,l=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var e=Se;c<o&&(e=Pe(n,a,s,++c,i))===Se;);if(e!==Se||c===o){var t=new Re(n,e,l,c);return l=c,{value:t,done:!1}}return{done:!0,value:null}}}},Ke=1,ze=2,_e=4,Ge=8,We=10,Ye=47,qe=92,Xe=9,Je=32,Ze=34,$e=61,et=35,tt=36,nt=37,rt=39,st=40,at=41,it=95,ot=45,lt=33,At=60,ct=62,ut=64,dt=91,ht=93,pt=61,mt=123,ft=63,gt=125,vt=124,yt=126,wt=128,bt=65533,xt=42,Bt=43,Ct=44,kt=58,St=59,Et=46,jt=0,Ft=8,It=11,Qt=14,Mt=31,Ut=127,Nt=-1,Tt=48,Dt=97,Ht=101,Lt=102,Pt=117,Ot=122,Rt=65,Vt=69,Kt=70,zt=85,_t=90,Gt=function(e){return e>=Tt&&e<=57},Wt=function(e){return e>=55296&&e<=57343},Yt=function(e){return Gt(e)||e>=Rt&&e<=Kt||e>=Dt&&e<=Lt},qt=function(e){return e>=Dt&&e<=Ot},Xt=function(e){return e>=Rt&&e<=_t},Jt=function(e){return qt(e)||Xt(e)},Zt=function(e){return e>=wt},$t=function(e){return e===We||e===Xe||e===Je},en=function(e){return Jt(e)||Zt(e)||e===it},tn=function(e){return en(e)||Gt(e)||e===ot},nn=function(e){return e>=jt&&e<=Ft||e===It||e>=Qt&&e<=Mt||e===Ut},rn=function(e,t){return e===qe&&t!==We},sn=function(e,t,n){return e===ot?en(t)||rn(t,n):!!en(e)||!(e!==qe||!rn(e,t))},an=function(e,t,n){return e===Bt||e===ot?!!Gt(t)||t===Et&&Gt(n):Gt(e===Et?t:e)},on=function(e){var t=0,n=1;e[t]!==Bt&&e[t]!==ot||(e[t]===ot&&(n=-1),t++);for(var r=[];Gt(e[t]);)r.push(e[t++]);var s=r.length?parseInt(c.apply(void 0,r),10):0;e[t]===Et&&t++;for(var a=[];Gt(e[t]);)a.push(e[t++]);var i=a.length,o=i?parseInt(c.apply(void 0,a),10):0;e[t]!==Vt&&e[t]!==Ht||t++;var l=1;e[t]!==Bt&&e[t]!==ot||(e[t]===ot&&(l=-1),t++);for(var A=[];Gt(e[t]);)A.push(e[t++]);var u=A.length?parseInt(c.apply(void 0,A),10):0;return n*(s+o*Math.pow(10,-i))*Math.pow(10,l*u)},ln={type:2},An={type:3},cn={type:4},un={type:13},dn={type:8},hn={type:21},pn={type:9},mn={type:10},fn={type:11},gn={type:12},vn={type:14},yn={type:23},wn={type:1},bn={type:25},xn={type:24},Bn={type:26},Cn={type:27},kn={type:28},Sn={type:29},En={type:31},jn={type:32},Fn=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(A(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==jn;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Ze:return this.consumeStringToken(Ze);case et:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(tn(t)||rn(n,r)){var s=sn(t,n,r)?ze:Ke;return{type:5,value:this.consumeName(),flags:s}}break;case tt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),un;break;case rt:return this.consumeStringToken(rt);case st:return ln;case at:return An;case xt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),vn;break;case Bt:if(an(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Ct:return cn;case ot:var a=e,i=this.peekCodePoint(0),o=this.peekCodePoint(1);if(an(a,i,o))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(sn(a,i,o))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(i===ot&&o===ct)return this.consumeCodePoint(),this.consumeCodePoint(),xn;break;case Et:if(an(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Ye:if(this.peekCodePoint(0)===xt)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===xt&&(l=this.consumeCodePoint())===Ye)return this.consumeToken();if(l===Nt)return this.consumeToken()}break;case kt:return Bn;case St:return Cn;case At:if(this.peekCodePoint(0)===lt&&this.peekCodePoint(1)===ot&&this.peekCodePoint(2)===ot)return this.consumeCodePoint(),this.consumeCodePoint(),bn;break;case ut:var A=this.peekCodePoint(0),u=this.peekCodePoint(1),d=this.peekCodePoint(2);if(sn(A,u,d))return{type:7,value:this.consumeName()};break;case dt:return kn;case qe:if(rn(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case ht:return Sn;case pt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),dn;break;case mt:return fn;case gt:return gn;case Pt:case zt:var h=this.peekCodePoint(0),p=this.peekCodePoint(1);return h!==Bt||!Yt(p)&&p!==ft||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case vt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),pn;if(this.peekCodePoint(0)===vt)return this.consumeCodePoint(),hn;break;case yt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),mn;break;case Nt:return jn}return $t(e)?(this.consumeWhiteSpace(),En):Gt(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):en(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:c(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return"undefined"===typeof e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Yt(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===ft&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(c.apply(void 0,e.map((function(e){return e===ft?Tt:e}))),16),end:parseInt(c.apply(void 0,e.map((function(e){return e===ft?Kt:e}))),16)};var r=parseInt(c.apply(void 0,e),16);if(this.peekCodePoint(0)===ot&&Yt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var s=[];Yt(t)&&s.length<6;)s.push(t),t=this.consumeCodePoint();return{type:30,start:r,end:parseInt(c.apply(void 0,s),16)}}return{type:30,start:r,end:r}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===st?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===st?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Nt)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===rt||t===Ze){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Nt||this.peekCodePoint(0)===at)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),yn)}for(;;){var r=this.consumeCodePoint();if(r===Nt||r===at)return{type:22,value:c.apply(void 0,e)};if($t(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Nt||this.peekCodePoint(0)===at?(this.consumeCodePoint(),{type:22,value:c.apply(void 0,e)}):(this.consumeBadUrlRemnants(),yn);if(r===Ze||r===rt||r===st||nn(r))return this.consumeBadUrlRemnants(),yn;if(r===qe){if(!rn(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),yn;e.push(this.consumeEscapedCodePoint())}else e.push(r)}},e.prototype.consumeWhiteSpace=function(){for(;$t(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===at||e===Nt)return;rn(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var r=Math.min(t,e);n+=c.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),n},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var r=this._value[n];if(r===Nt||void 0===r||r===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(r===We)return this._value.splice(0,n),wn;if(r===qe){var s=this._value[n+1];s!==Nt&&void 0!==s&&(s===We?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):rn(r,s)&&(t+=this.consumeStringSlice(n),t+=c(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=_e,n=this.peekCodePoint(0);for(n!==Bt&&n!==ot||e.push(this.consumeCodePoint());Gt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===Et&&Gt(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Ge;Gt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===Vt||n===Ht)&&((r===Bt||r===ot)&&Gt(s)||Gt(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Ge;Gt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[on(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);return sn(r,s,a)?{type:15,number:t,flags:n,unit:this.consumeName()}:r===nt?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Yt(e)){for(var t=c(e);Yt(this.peekCodePoint(0))&&t.length<6;)t+=c(this.consumeCodePoint());$t(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||Wt(n)||n>1114111?bt:n}return e===Nt?bt:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(tn(t))e+=c(t);else{if(!rn(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=c(this.consumeEscapedCodePoint())}}},e}(),In=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new Fn;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(32===n.type||Pn(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return"undefined"===typeof e?jn:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),Qn=function(e){return 15===e.type},Mn=function(e){return 17===e.type},Un=function(e){return 20===e.type},Nn=function(e){return 0===e.type},Tn=function(e,t){return Un(e)&&e.value===t},Dn=function(e){return 31!==e.type},Hn=function(e){return 31!==e.type&&4!==e.type},Ln=function(e){var t=[],n=[];return e.forEach((function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)})),n.length&&t.push(n),t},Pn=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},On=function(e){return 17===e.type||15===e.type},Rn=function(e){return 16===e.type||On(e)},Vn=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Kn={type:17,number:0,flags:_e},zn={type:16,number:50,flags:_e},_n={type:16,number:100,flags:_e},Gn=function(e,t,n){var r=e[0],s=e[1];return[Wn(r,t),Wn("undefined"!==typeof s?s:r,n)]},Wn=function(e,t){if(16===e.type)return e.number/100*t;if(Qn(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},Yn="deg",qn="grad",Xn="rad",Jn="turn",Zn={name:"angle",parse:function(e,t){if(15===t.type)switch(t.unit){case Yn:return Math.PI*t.number/180;case qn:return Math.PI/200*t.number;case Xn:return t.number;case Jn:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},$n=function(e){return 15===e.type&&(e.unit===Yn||e.unit===qn||e.unit===Xn||e.unit===Jn)},er=function(e){switch(e.filter(Un).map((function(e){return e.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Kn,Kn];case"to top":case"bottom":return tr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Kn,_n];case"to right":case"left":return tr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[_n,_n];case"to bottom":case"top":return tr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[_n,Kn];case"to left":case"right":return tr(270)}return 0},tr=function(e){return Math.PI*e/180},nr={name:"color",parse:function(e,t){if(18===t.type){var n=cr[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var r=t.value.substring(0,1),s=t.value.substring(1,2),a=t.value.substring(2,3);return ar(parseInt(r+r,16),parseInt(s+s,16),parseInt(a+a,16),1)}if(4===t.value.length){r=t.value.substring(0,1),s=t.value.substring(1,2),a=t.value.substring(2,3);var i=t.value.substring(3,4);return ar(parseInt(r+r,16),parseInt(s+s,16),parseInt(a+a,16),parseInt(i+i,16)/255)}if(6===t.value.length)return r=t.value.substring(0,2),s=t.value.substring(2,4),a=t.value.substring(4,6),ar(parseInt(r,16),parseInt(s,16),parseInt(a,16),1);if(8===t.value.length)return r=t.value.substring(0,2),s=t.value.substring(2,4),a=t.value.substring(4,6),i=t.value.substring(6,8),ar(parseInt(r,16),parseInt(s,16),parseInt(a,16),parseInt(i,16)/255)}if(20===t.type){var o=dr[t.value.toUpperCase()];if("undefined"!==typeof o)return o}return dr.TRANSPARENT}},rr=function(e){return 0===(255&e)},sr=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,s=255&e>>24;return t<255?"rgba("+s+","+r+","+n+","+t/255+")":"rgb("+s+","+r+","+n+")"},ar=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(255*r))>>>0},ir=function(e,t){if(17===e.type)return e.number;if(16===e.type){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},or=function(e,t){var n=t.filter(Hn);if(3===n.length){var r=n.map(ir),s=r[0],a=r[1],i=r[2];return ar(s,a,i,1)}if(4===n.length){var o=n.map(ir),l=(s=o[0],a=o[1],i=o[2],o[3]);return ar(s,a,i,l)}return 0};function lr(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var Ar=function(e,t){var n=t.filter(Hn),r=n[0],s=n[1],a=n[2],i=n[3],o=(17===r.type?tr(r.number):Zn.parse(e,r))/(2*Math.PI),l=Rn(s)?s.number/100:0,A=Rn(a)?a.number/100:0,c="undefined"!==typeof i&&Rn(i)?Wn(i,1):1;if(0===l)return ar(255*A,255*A,255*A,1);var u=A<=.5?A*(l+1):A+l-A*l,d=2*A-u,h=lr(d,u,o+1/3),p=lr(d,u,o),m=lr(d,u,o-1/3);return ar(255*h,255*p,255*m,c)},cr={hsl:Ar,hsla:Ar,rgb:or,rgba:or},ur=function(e,t){return nr.parse(e,In.create(t).parseComponentValue())},dr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},hr={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Un(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},pr={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},mr=function(e,t){var n=nr.parse(e,t[0]),r=t[1];return r&&Rn(r)?{color:n,stop:r}:{color:n,stop:null}},fr=function(e,t){var n=e[0],r=e[e.length-1];null===n.stop&&(n.stop=Kn),null===r.stop&&(r.stop=_n);for(var s=[],a=0,i=0;i<e.length;i++){var o=e[i].stop;if(null!==o){var l=Wn(o,t);l>a?s.push(l):s.push(a),a=l}else s.push(null)}var A=null;for(i=0;i<s.length;i++){var c=s[i];if(null===c)null===A&&(A=i);else if(null!==A){for(var u=i-A,d=(c-s[A-1])/(u+1),h=1;h<=u;h++)s[A+h-1]=d*h;A=null}}return e.map((function(e,n){return{color:e.color,stop:Math.max(Math.min(1,s[n]/t),0)}}))},gr=function(e,t,n){var r=t/2,s=n/2,a=Wn(e[0],t)-r,i=s-Wn(e[1],n);return(Math.atan2(i,a)+2*Math.PI)%(2*Math.PI)},vr=function(e,t,n){var r="number"===typeof e?e:gr(e,t,n),s=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),a=t/2,i=n/2,o=s/2,l=Math.sin(r-Math.PI/2)*o,A=Math.cos(r-Math.PI/2)*o;return[s,a-A,a+A,i-l,i+l]},yr=function(e,t){return Math.sqrt(e*e+t*t)},wr=function(e,t,n,r,s){return[[0,0],[0,t],[e,0],[e,t]].reduce((function(e,t){var a=t[0],i=t[1],o=yr(n-a,r-i);return(s?o<e.optimumDistance:o>e.optimumDistance)?{optimumCorner:t,optimumDistance:o}:e}),{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},br=function(e,t,n,r,s){var a=0,i=0;switch(e.size){case 0:0===e.shape?a=i=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-s)):1===e.shape&&(a=Math.min(Math.abs(t),Math.abs(t-r)),i=Math.min(Math.abs(n),Math.abs(n-s)));break;case 2:if(0===e.shape)a=i=Math.min(yr(t,n),yr(t,n-s),yr(t-r,n),yr(t-r,n-s));else if(1===e.shape){var o=Math.min(Math.abs(n),Math.abs(n-s))/Math.min(Math.abs(t),Math.abs(t-r)),l=wr(r,s,t,n,!0),A=l[0],c=l[1];i=o*(a=yr(A-t,(c-n)/o))}break;case 1:0===e.shape?a=i=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-s)):1===e.shape&&(a=Math.max(Math.abs(t),Math.abs(t-r)),i=Math.max(Math.abs(n),Math.abs(n-s)));break;case 3:if(0===e.shape)a=i=Math.max(yr(t,n),yr(t,n-s),yr(t-r,n),yr(t-r,n-s));else if(1===e.shape){o=Math.max(Math.abs(n),Math.abs(n-s))/Math.max(Math.abs(t),Math.abs(t-r));var u=wr(r,s,t,n,!1);A=u[0],c=u[1],i=o*(a=yr(A-t,(c-n)/o))}}return Array.isArray(e.size)&&(a=Wn(e.size[0],r),i=2===e.size.length?Wn(e.size[1],s):a),[a,i]},xr=function(e,t){var n=tr(180),r=[];return Ln(t).forEach((function(t,s){if(0===s){var a=t[0];if(20===a.type&&-1!==["top","left","right","bottom"].indexOf(a.value))return void(n=er(t));if($n(a))return void(n=(Zn.parse(e,a)+tr(270))%tr(360))}var i=mr(e,t);r.push(i)})),{angle:n,stops:r,type:1}},Br="closest-side",Cr="farthest-side",kr="closest-corner",Sr="farthest-corner",Er="circle",jr="ellipse",Fr="cover",Ir="contain",Qr=function(e,t){var n=0,r=3,s=[],a=[];return Ln(t).forEach((function(t,i){var o=!0;if(0===i?o=t.reduce((function(e,t){if(Un(t))switch(t.value){case"center":return a.push(zn),!1;case"top":case"left":return a.push(Kn),!1;case"right":case"bottom":return a.push(_n),!1}else if(Rn(t)||On(t))return a.push(t),!1;return e}),o):1===i&&(o=t.reduce((function(e,t){if(Un(t))switch(t.value){case Er:return n=0,!1;case jr:return n=1,!1;case Ir:case Br:return r=0,!1;case Cr:return r=1,!1;case kr:return r=2,!1;case Fr:case Sr:return r=3,!1}else if(On(t)||Rn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e}),o)),o){var l=mr(e,t);s.push(l)}})),{size:r,shape:n,stops:s,position:a,type:2}},Mr=function(e){return 1===e.type},Ur=function(e){return 2===e.type},Nr={name:"image",parse:function(e,t){if(22===t.type){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(18===t.type){var r=Hr[t.name];if("undefined"===typeof r)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Tr(e){return!(20===e.type&&"none"===e.value)&&(18!==e.type||!!Hr[e.name])}var Dr,Hr={"linear-gradient":function(e,t){var n=tr(180),r=[];return Ln(t).forEach((function(t,s){if(0===s){var a=t[0];if(20===a.type&&"to"===a.value)return void(n=er(t));if($n(a))return void(n=Zn.parse(e,a))}var i=mr(e,t);r.push(i)})),{angle:n,stops:r,type:1}},"-moz-linear-gradient":xr,"-ms-linear-gradient":xr,"-o-linear-gradient":xr,"-webkit-linear-gradient":xr,"radial-gradient":function(e,t){var n=0,r=3,s=[],a=[];return Ln(t).forEach((function(t,i){var o=!0;if(0===i){var l=!1;o=t.reduce((function(e,t){if(l)if(Un(t))switch(t.value){case"center":return a.push(zn),e;case"top":case"left":return a.push(Kn),e;case"right":case"bottom":return a.push(_n),e}else(Rn(t)||On(t))&&a.push(t);else if(Un(t))switch(t.value){case Er:return n=0,!1;case jr:return n=1,!1;case"at":return l=!0,!1;case Br:return r=0,!1;case Fr:case Cr:return r=1,!1;case Ir:case kr:return r=2,!1;case Sr:return r=3,!1}else if(On(t)||Rn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e}),o)}if(o){var A=mr(e,t);s.push(A)}})),{size:r,shape:n,stops:s,position:a,type:2}},"-moz-radial-gradient":Qr,"-ms-radial-gradient":Qr,"-o-radial-gradient":Qr,"-webkit-radial-gradient":Qr,"-webkit-gradient":function(e,t){var n=tr(180),r=[],s=1,a=0,i=3,o=[];return Ln(t).forEach((function(t,n){var a=t[0];if(0===n){if(Un(a)&&"linear"===a.value)return void(s=1);if(Un(a)&&"radial"===a.value)return void(s=2)}if(18===a.type)if("from"===a.name){var i=nr.parse(e,a.values[0]);r.push({stop:Kn,color:i})}else if("to"===a.name)i=nr.parse(e,a.values[0]),r.push({stop:_n,color:i});else if("color-stop"===a.name){var o=a.values.filter(Hn);if(2===o.length){i=nr.parse(e,o[1]);var l=o[0];Mn(l)&&r.push({stop:{type:16,number:100*l.number,flags:l.flags},color:i})}}})),1===s?{angle:(n+tr(180))%tr(360),stops:r,type:s}:{size:i,shape:a,stops:r,position:o,type:s}}},Lr={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter((function(e){return Hn(e)&&Tr(e)})).map((function(t){return Nr.parse(e,t)}))}},Pr={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Un(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Or={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Ln(t).map((function(e){return e.filter(Rn)})).map(Vn)}},Rr={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Ln(t).map((function(e){return e.filter(Un).map((function(e){return e.value})).join(" ")})).map(Vr)}},Vr=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(Dr||(Dr={}));var Kr,zr={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Ln(t).map((function(e){return e.filter(_r)}))}},_r=function(e){return Un(e)||Rn(e)},Gr=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Wr=Gr("top"),Yr=Gr("right"),qr=Gr("bottom"),Xr=Gr("left"),Jr=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return Vn(t.filter(Rn))}}},Zr=Jr("top-left"),$r=Jr("top-right"),es=Jr("bottom-right"),ts=Jr("bottom-left"),ns=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},rs=ns("top"),ss=ns("right"),as=ns("bottom"),is=ns("left"),os=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Qn(t)?t.number:0}}},ls=os("top"),As=os("right"),cs=os("bottom"),us=os("left"),ds={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},hs={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return"rtl"===t?1:0}},ps={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Un).reduce((function(e,t){return e|ms(t.value)}),0)}},ms=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},fs={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},gs={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(Kr||(Kr={}));var vs,ys={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"strict"===t?Kr.STRICT:Kr.NORMAL}},ws={name:"line-height",initialValue:"normal",prefix:!1,type:4},bs=function(e,t){return Un(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:Rn(e)?Wn(e,t):t},xs={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Nr.parse(e,t)}},Bs={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return"inside"===t?0:1}},Cs={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},ks=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Ss=ks("top"),Es=ks("right"),js=ks("bottom"),Fs=ks("left"),Is={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Un).map((function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}}))}},Qs={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},Ms=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Us=Ms("top"),Ns=Ms("right"),Ts=Ms("bottom"),Ds=Ms("left"),Hs={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Ls={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Ps={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Tn(t[0],"none")?[]:Ln(t).map((function(t){for(var n={color:dr.TRANSPARENT,offsetX:Kn,offsetY:Kn,blur:Kn},r=0,s=0;s<t.length;s++){var a=t[s];On(a)?(0===r?n.offsetX=a:1===r?n.offsetY=a:n.blur=a,r++):n.color=nr.parse(e,a)}return n}))}},Os={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Rs={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var n=Vs[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},Vs={matrix:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number}));return 6===t.length?t:null},matrix3d:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number})),n=t[0],r=t[1];t[2],t[3];var s=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var i=t[12],o=t[13];return t[14],t[15],16===t.length?[n,r,s,a,i,o]:null}},Ks={type:16,number:50,flags:_e},zs=[Ks,Ks],_s={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Rn);return 2!==n.length?zs:[n[0],n[1]]}},Gs={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(vs||(vs={}));for(var Ws={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return vs.BREAK_ALL;case"keep-all":return vs.KEEP_ALL;default:return vs.NORMAL}}},Ys={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(Mn(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},qs={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Xs={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Mn(t)?t.number:1}},Js={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Zs={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Un).map((function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(e){return 0!==e}))}},$s={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach((function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:r.push(n.join(" ")),n.length=0}})),n.length&&r.push(n.join(" ")),r.map((function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"}))}},ea={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ta={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return Mn(t)?t.number:Un(t)&&"bold"===t.value?700:400}},na={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Un).map((function(e){return e.value}))}},ra={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},sa=function(e,t){return 0!==(e&t)},aa={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},ia={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var r=[],s=t.filter(Dn),a=0;a<s.length;a++){var i=s[a],o=s[a+1];if(20===i.type){var l=o&&Mn(o)?o.number:1;r.push({counter:i.value,increment:l})}}return r}},oa={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],r=t.filter(Dn),s=0;s<r.length;s++){var a=r[s],i=r[s+1];if(Un(a)&&"none"!==a.value){var o=i&&Mn(i)?i.number:0;n.push({counter:a.value,reset:o})}}return n}},la={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Qn).map((function(t){return qs.parse(e,t)}))}},Aa={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var r=[],s=t.filter(Nn);if(s.length%2!==0)return null;for(var a=0;a<s.length;a+=2){var i=s[a].value,o=s[a+1].value;r.push({open:i,close:o})}return r}},ca=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},ua={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Tn(t[0],"none")?[]:Ln(t).map((function(t){for(var n={color:255,offsetX:Kn,offsetY:Kn,blur:Kn,spread:Kn,inset:!1},r=0,s=0;s<t.length;s++){var a=t[s];Tn(a,"inset")?n.inset=!0:On(a)?(0===r?n.offsetX=a:1===r?n.offsetY=a:2===r?n.blur=a:n.spread=a,r++):n.color=nr.parse(e,a)}return n}))}},da={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(Un).forEach((function(e){switch(e.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2)}})),n.forEach((function(e){-1===r.indexOf(e)&&r.push(e)})),r}},ha={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},pa={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Qn(t)?t.number:0}},ma=function(){function e(e,t){var n,r;this.animationDuration=va(e,la,t.animationDuration),this.backgroundClip=va(e,hr,t.backgroundClip),this.backgroundColor=va(e,pr,t.backgroundColor),this.backgroundImage=va(e,Lr,t.backgroundImage),this.backgroundOrigin=va(e,Pr,t.backgroundOrigin),this.backgroundPosition=va(e,Or,t.backgroundPosition),this.backgroundRepeat=va(e,Rr,t.backgroundRepeat),this.backgroundSize=va(e,zr,t.backgroundSize),this.borderTopColor=va(e,Wr,t.borderTopColor),this.borderRightColor=va(e,Yr,t.borderRightColor),this.borderBottomColor=va(e,qr,t.borderBottomColor),this.borderLeftColor=va(e,Xr,t.borderLeftColor),this.borderTopLeftRadius=va(e,Zr,t.borderTopLeftRadius),this.borderTopRightRadius=va(e,$r,t.borderTopRightRadius),this.borderBottomRightRadius=va(e,es,t.borderBottomRightRadius),this.borderBottomLeftRadius=va(e,ts,t.borderBottomLeftRadius),this.borderTopStyle=va(e,rs,t.borderTopStyle),this.borderRightStyle=va(e,ss,t.borderRightStyle),this.borderBottomStyle=va(e,as,t.borderBottomStyle),this.borderLeftStyle=va(e,is,t.borderLeftStyle),this.borderTopWidth=va(e,ls,t.borderTopWidth),this.borderRightWidth=va(e,As,t.borderRightWidth),this.borderBottomWidth=va(e,cs,t.borderBottomWidth),this.borderLeftWidth=va(e,us,t.borderLeftWidth),this.boxShadow=va(e,ua,t.boxShadow),this.color=va(e,ds,t.color),this.direction=va(e,hs,t.direction),this.display=va(e,ps,t.display),this.float=va(e,fs,t.cssFloat),this.fontFamily=va(e,$s,t.fontFamily),this.fontSize=va(e,ea,t.fontSize),this.fontStyle=va(e,ra,t.fontStyle),this.fontVariant=va(e,na,t.fontVariant),this.fontWeight=va(e,ta,t.fontWeight),this.letterSpacing=va(e,gs,t.letterSpacing),this.lineBreak=va(e,ys,t.lineBreak),this.lineHeight=va(e,ws,t.lineHeight),this.listStyleImage=va(e,xs,t.listStyleImage),this.listStylePosition=va(e,Bs,t.listStylePosition),this.listStyleType=va(e,Cs,t.listStyleType),this.marginTop=va(e,Ss,t.marginTop),this.marginRight=va(e,Es,t.marginRight),this.marginBottom=va(e,js,t.marginBottom),this.marginLeft=va(e,Fs,t.marginLeft),this.opacity=va(e,Xs,t.opacity);var s=va(e,Is,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=va(e,Qs,t.overflowWrap),this.paddingTop=va(e,Us,t.paddingTop),this.paddingRight=va(e,Ns,t.paddingRight),this.paddingBottom=va(e,Ts,t.paddingBottom),this.paddingLeft=va(e,Ds,t.paddingLeft),this.paintOrder=va(e,da,t.paintOrder),this.position=va(e,Ls,t.position),this.textAlign=va(e,Hs,t.textAlign),this.textDecorationColor=va(e,Js,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=va(e,Zs,null!==(r=t.textDecorationLine)&&void 0!==r?r:t.textDecoration),this.textShadow=va(e,Ps,t.textShadow),this.textTransform=va(e,Os,t.textTransform),this.transform=va(e,Rs,t.transform),this.transformOrigin=va(e,_s,t.transformOrigin),this.visibility=va(e,Gs,t.visibility),this.webkitTextStrokeColor=va(e,ha,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=va(e,pa,t.webkitTextStrokeWidth),this.wordBreak=va(e,Ws,t.wordBreak),this.zIndex=va(e,Ys,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return rr(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return sa(this.display,4)||sa(this.display,33554432)||sa(this.display,268435456)||sa(this.display,536870912)||sa(this.display,67108864)||sa(this.display,134217728)},e}(),fa=function(){function e(e,t){this.content=va(e,aa,t.content),this.quotes=va(e,Aa,t.quotes)}return e}(),ga=function(){function e(e,t){this.counterIncrement=va(e,ia,t.counterIncrement),this.counterReset=va(e,oa,t.counterReset)}return e}(),va=function(e,t,n){var r=new Fn,s=null!==n&&"undefined"!==typeof n?n.toString():t.initialValue;r.write(s);var a=new In(r.read());switch(t.type){case 2:var i=a.parseComponentValue();return t.parse(e,Un(i)?i.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return Zn.parse(e,a.parseComponentValue());case"color":return nr.parse(e,a.parseComponentValue());case"image":return Nr.parse(e,a.parseComponentValue());case"length":var o=a.parseComponentValue();return On(o)?o:Kn;case"length-percentage":var l=a.parseComponentValue();return Rn(l)?l:Kn;case"time":return qs.parse(e,a.parseComponentValue())}}},ya="data-html2canvas-debug",wa=function(e){switch(e.getAttribute(ya)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},ba=function(e,t){var n=wa(e);return 1===n||t===n},xa=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,ba(t,3),this.styles=new ma(e,window.getComputedStyle(t,null)),Ao(t)&&(this.styles.animationDuration.some((function(e){return e>0}))&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=o(this.context,t),ba(t,4)&&(this.flags|=16)}return e}(),Ba="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Ca="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ka="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Sa=0;Sa<Ca.length;Sa++)ka[Ca.charCodeAt(Sa)]=Sa;for(var Ea=function(e){var t,n,r,s,a,i=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);var A="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(i):new Array(i),c=Array.isArray(A)?A:new Uint8Array(A);for(t=0;t<o;t+=4)n=ka[e.charCodeAt(t)],r=ka[e.charCodeAt(t+1)],s=ka[e.charCodeAt(t+2)],a=ka[e.charCodeAt(t+3)],c[l++]=n<<2|r>>4,c[l++]=(15&r)<<4|s>>2,c[l++]=(3&s)<<6|63&a;return A},ja=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},Fa=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},Ia=5,Qa=11,Ma=2,Ua=65536>>Ia,Na=(1<<Ia)-1,Ta=Ua+(1024>>Ia)+32,Da=65536>>Qa,Ha=(1<<Qa-Ia)-1,La=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Pa=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Oa=function(e,t){var n=Ea(e),r=Array.isArray(n)?Fa(n):new Uint32Array(n),s=Array.isArray(n)?ja(n):new Uint16Array(n),a=24,i=La(s,a/2,r[4]/2),o=2===r[5]?La(s,(a+r[4])/2):Pa(r,Math.ceil((a+r[4])/4));return new Ra(r[0],r[1],r[2],r[3],i,o)},Ra=function(){function e(e,t,n,r,s,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=s,this.data=a}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>Ia])<<Ma)+(e&Na),this.data[t];if(e<=65535)return t=((t=this.index[Ua+(e-55296>>Ia)])<<Ma)+(e&Na),this.data[t];if(e<this.highStart)return t=Ta-Da+(e>>Qa),t=this.index[t],t+=e>>Ia&Ha,t=((t=this.index[t])<<Ma)+(e&Na),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Va="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ka="undefined"===typeof Uint8Array?[]:new Uint8Array(256),za=0;za<Va.length;za++)Ka[Va.charCodeAt(za)]=za;var _a,Ga=1,Wa=2,Ya=3,qa=4,Xa=5,Ja=7,Za=8,$a=9,ei=10,ti=11,ni=12,ri=13,si=14,ai=15,ii=function(e){for(var t=[],n=0,r=e.length;n<r;){var s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var a=e.charCodeAt(n++);56320===(64512&a)?t.push(((1023&s)<<10)+(1023&a)+65536):(t.push(s),n--)}else t.push(s)}return t},oi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],s=-1,a="";++s<n;){var i=e[s];i<=65535?r.push(i):(i-=65536,r.push(55296+(i>>10),i%1024+56320)),(s+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},li=Oa(Ba),Ai="\xd7",ci="\xf7",ui=function(e){return li.get(e)},di=function(e,t,n){var r=n-2,s=t[r],a=t[n-1],i=t[n];if(a===Wa&&i===Ya)return Ai;if(a===Wa||a===Ya||a===qa)return ci;if(i===Wa||i===Ya||i===qa)return ci;if(a===Za&&-1!==[Za,$a,ti,ni].indexOf(i))return Ai;if((a===ti||a===$a)&&(i===$a||i===ei))return Ai;if((a===ni||a===ei)&&i===ei)return Ai;if(i===ri||i===Xa)return Ai;if(i===Ja)return Ai;if(a===Ga)return Ai;if(a===ri&&i===si){for(;s===Xa;)s=t[--r];if(s===si)return Ai}if(a===ai&&i===ai){for(var o=0;s===ai;)o++,s=t[--r];if(o%2===0)return Ai}return ci},hi=function(e){var t=ii(e),n=t.length,r=0,s=0,a=t.map(ui);return{next:function(){if(r>=n)return{done:!0,value:null};for(var e=Ai;r<n&&(e=di(t,a,++r))===Ai;);if(e!==Ai||r===n){var i=oi.apply(null,t.slice(s,r));return s=r,{value:i,done:!1}}return{done:!0,value:null}}}},pi=function(e){for(var t,n=hi(e),r=[];!(t=n.next()).done;)t.value&&r.push(t.value.slice());return r},mi=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var s=n.getBoundingClientRect(),a=Math.round(s.height);if(e.body.removeChild(r),a===t)return!0}}return!1},fi=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"===typeof"".repeat?"&#128104;".repeat(10):"";var r=t.firstChild,s=A(r.data).map((function(e){return c(e)})),a=0,i={},o=s.every((function(e,t){n.setStart(r,a),n.setEnd(r,a+e.length);var s=n.getBoundingClientRect();a+=e.length;var o=s.x>i.x||s.y>i.y;return i=s,0===t||o}));return e.body.removeChild(t),o},gi=function(){return"undefined"!==typeof(new Image).crossOrigin},vi=function(){return"string"===typeof(new XMLHttpRequest).responseType},yi=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(Ht){return!1}return!0},wi=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},bi=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var s=new Image,a=t.toDataURL();s.src=a;var i=xi(n,n,0,0,s);return r.fillStyle="red",r.fillRect(0,0,n,n),Bi(i).then((function(t){r.drawImage(t,0,0);var s=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var i=e.createElement("div");return i.style.backgroundImage="url("+a+")",i.style.height=n+"px",wi(s)?Bi(xi(n,n,0,0,i)):Promise.reject(!1)})).then((function(e){return r.drawImage(e,0,0),wi(r.getImageData(0,0,n,n).data)})).catch((function(){return!1}))},xi=function(e,t,n,r,s){var a="http://www.w3.org/2000/svg",i=document.createElementNS(a,"svg"),o=document.createElementNS(a,"foreignObject");return i.setAttributeNS(null,"width",e.toString()),i.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",n.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),i.appendChild(o),o.appendChild(s),i},Bi=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Ci={get SUPPORT_RANGE_BOUNDS(){var e=mi(document);return Object.defineProperty(Ci,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Ci.SUPPORT_RANGE_BOUNDS&&fi(document);return Object.defineProperty(Ci,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=yi(document);return Object.defineProperty(Ci,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"===typeof Array.from&&"function"===typeof window.fetch?bi(document):Promise.resolve(!1);return Object.defineProperty(Ci,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=gi();return Object.defineProperty(Ci,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=vi();return Object.defineProperty(Ci,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ci,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"===typeof Intl||!Intl.Segmenter);return Object.defineProperty(Ci,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},ki=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),Si=function(e,t,n,r){var s=Qi(t,n),a=[],o=0;return s.forEach((function(t){if(n.textDecorationLine.length||t.trim().length>0)if(Ci.SUPPORT_RANGE_BOUNDS){var s=ji(r,o,t.length).getClientRects();if(s.length>1){var l=Fi(t),A=0;l.forEach((function(t){a.push(new ki(t,i.fromDOMRectList(e,ji(r,A+o,t.length).getClientRects()))),A+=t.length}))}else a.push(new ki(t,i.fromDOMRectList(e,s)))}else{var c=r.splitText(t.length);a.push(new ki(t,Ei(e,r))),r=c}else Ci.SUPPORT_RANGE_BOUNDS||(r=r.splitText(t.length));o+=t.length})),a},Ei=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var s=t.parentNode;if(s){s.replaceChild(r,t);var a=o(e,r);return r.firstChild&&s.replaceChild(r.firstChild,r),a}}return i.EMPTY},ji=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var s=r.createRange();return s.setStart(e,t),s.setEnd(e,t+n),s},Fi=function(e){if(Ci.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map((function(e){return e.segment}))}return pi(e)},Ii=function(e,t){if(Ci.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map((function(e){return e.segment}))}return Ui(e,t)},Qi=function(e,t){return 0!==t.letterSpacing?Fi(e):Ii(e,t)},Mi=[32,160,4961,65792,65793,4153,4241],Ui=function(e,t){for(var n,r=Ve(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),s=[],a=function(){if(n.value){var e=n.value.slice(),t=A(e),r="";t.forEach((function(e){-1===Mi.indexOf(e)?r+=c(e):(r.length&&s.push(r),s.push(c(e)),r="")})),r.length&&s.push(r)}};!(n=r.next()).done;)a();return s},Ni=function(){function e(e,t,n){this.text=Ti(t.data,n.textTransform),this.textBounds=Si(e,this.text,n,t)}return e}(),Ti=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Di,Hi);case 2:return e.toUpperCase();default:return e}},Di=/(^|\s|:|-|\(|\))([a-z])/g,Hi=function(e,t,n){return e.length>0?t+n.toUpperCase():e},Li=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return t(n,e),n}(xa),Pi=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return t(n,e),n}(xa),Oi=function(e){function n(t,n){var r=e.call(this,t,n)||this,s=new XMLSerializer,a=o(t,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return t(n,e),n}(xa),Ri=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(xa),Vi=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.start=n.start,r.reversed="boolean"===typeof n.reversed&&!0===n.reversed,r}return t(n,e),n}(xa),Ki=[{type:15,flags:0,unit:"px",number:3}],zi=[{type:16,flags:0,number:50}],_i=function(e){return e.width>e.height?new i(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new i(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Gi=function(e){var t=e.type===qi?new Array(e.value.length+1).join("\u2022"):e.value;return 0===t.length?e.placeholder||"":t},Wi="checkbox",Yi="radio",qi="password",Xi=707406591,Ji=function(e){function n(t,n){var r=e.call(this,t,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=Gi(n),r.type!==Wi&&r.type!==Yi||(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=_i(r.bounds)),r.type){case Wi:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Ki;break;case Yi:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=zi}return r}return t(n,e),n}(xa),Zi=function(e){function n(t,n){var r=e.call(this,t,n)||this,s=n.options[n.selectedIndex||0];return r.value=s&&s.text||"",r}return t(n,e),n}(xa),$i=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(xa),eo=function(e){function n(t,n){var r=e.call(this,t,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=so(t,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?ur(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):dr.TRANSPARENT,a=n.contentWindow.document.body?ur(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):dr.TRANSPARENT;r.backgroundColor=rr(s)?rr(a)?r.styles.backgroundColor:a:s}}catch(Ht){}return r}return t(n,e),n}(xa),to=["OL","UL","MENU"],no=function(e,t,n,r){for(var s=t.firstChild,a=void 0;s;s=a)if(a=s.nextSibling,oo(s)&&s.data.trim().length>0)n.textNodes.push(new Ni(e,s,n.styles));else if(lo(s))if(So(s)&&s.assignedNodes)s.assignedNodes().forEach((function(t){return no(e,t,n,r)}));else{var i=ro(e,s);i.styles.isVisible()&&(ao(s,i,r)?i.flags|=4:io(i.styles)&&(i.flags|=2),-1!==to.indexOf(s.tagName)&&(i.flags|=8),n.elements.push(i),s.slot,s.shadowRoot?no(e,s.shadowRoot,i,r):Co(s)||fo(s)||ko(s)||no(e,s,i,r))}},ro=function(e,t){return wo(t)?new Li(e,t):vo(t)?new Pi(e,t):fo(t)?new Oi(e,t):uo(t)?new Ri(e,t):ho(t)?new Vi(e,t):po(t)?new Ji(e,t):ko(t)?new Zi(e,t):Co(t)?new $i(e,t):bo(t)?new eo(e,t):new xa(e,t)},so=function(e,t){var n=ro(e,t);return n.flags|=4,no(e,t,n,n),n},ao=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||go(e)&&n.styles.isTransparent()},io=function(e){return e.isPositioned()||e.isFloating()},oo=function(e){return e.nodeType===Node.TEXT_NODE},lo=function(e){return e.nodeType===Node.ELEMENT_NODE},Ao=function(e){return lo(e)&&"undefined"!==typeof e.style&&!co(e)},co=function(e){return"object"===typeof e.className},uo=function(e){return"LI"===e.tagName},ho=function(e){return"OL"===e.tagName},po=function(e){return"INPUT"===e.tagName},mo=function(e){return"HTML"===e.tagName},fo=function(e){return"svg"===e.tagName},go=function(e){return"BODY"===e.tagName},vo=function(e){return"CANVAS"===e.tagName},yo=function(e){return"VIDEO"===e.tagName},wo=function(e){return"IMG"===e.tagName},bo=function(e){return"IFRAME"===e.tagName},xo=function(e){return"STYLE"===e.tagName},Bo=function(e){return"SCRIPT"===e.tagName},Co=function(e){return"TEXTAREA"===e.tagName},ko=function(e){return"SELECT"===e.tagName},So=function(e){return"SLOT"===e.tagName},Eo=function(e){return e.tagName.indexOf("-")>0},jo=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach((function(e){return t.counters[e].pop()}))},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset,s=!0;null!==n&&n.forEach((function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(s=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)}));var a=[];return s&&r.forEach((function(e){var n=t.counters[e.counter];a.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)})),a},e}(),Fo={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Io={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},Qo={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},Mo={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},Uo=function(e,t,n,r,s,a){return e<t||e>n?Go(e,s,a.length>0):r.integers.reduce((function(t,n,s){for(;e>=n;)e-=n,t+=r.values[s];return t}),"")+a},No=function(e,t,n,r){var s="";do{n||e--,s=r(e)+s,e/=t}while(e*t>=t);return s},To=function(e,t,n,r,s){var a=n-t+1;return(e<0?"-":"")+(No(Math.abs(e),a,r,(function(e){return c(Math.floor(e%a)+t)}))+s)},Do=function(e,t,n){void 0===n&&(n=". ");var r=t.length;return No(Math.abs(e),r,!1,(function(e){return t[Math.floor(e%r)]}))+n},Ho=1,Lo=2,Po=4,Oo=8,Ro=function(e,t,n,r,s,a){if(e<-9999||e>9999)return Go(e,4,s.length>0);var i=Math.abs(e),o=s;if(0===i)return t[0]+o;for(var l=0;i>0&&l<=4;l++){var A=i%10;0===A&&sa(a,Ho)&&""!==o?o=t[A]+o:A>1||1===A&&0===l||1===A&&1===l&&sa(a,Lo)||1===A&&1===l&&sa(a,Po)&&e>100||1===A&&l>1&&sa(a,Oo)?o=t[A]+(l>0?n[l-1]:"")+o:1===A&&l>0&&(o=n[l-1]+o),i=Math.floor(i/10)}return(e<0?r:"")+o},Vo="\u5341\u767e\u5343\u842c",Ko="\u62fe\u4f70\u4edf\u842c",zo="\u30de\u30a4\u30ca\u30b9",_o="\ub9c8\uc774\ub108\uc2a4",Go=function(e,t,n){var r=n?". ":"",s=n?"\u3001":"",a=n?", ":"",i=n?" ":"";switch(t){case 0:return"\u2022"+i;case 1:return"\u25e6"+i;case 2:return"\u25fe"+i;case 5:var o=To(e,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return Do(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",s);case 6:return Uo(e,1,3999,Fo,3,r).toLowerCase();case 7:return Uo(e,1,3999,Fo,3,r);case 8:return To(e,945,969,!1,r);case 9:return To(e,97,122,!1,r);case 10:return To(e,65,90,!1,r);case 11:return To(e,1632,1641,!0,r);case 12:case 49:return Uo(e,1,9999,Io,3,r);case 35:return Uo(e,1,9999,Io,3,r).toLowerCase();case 13:return To(e,2534,2543,!0,r);case 14:case 30:return To(e,6112,6121,!0,r);case 15:return Do(e,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",s);case 16:return Do(e,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",s);case 17:case 48:return Ro(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Vo,"\u8ca0",s,Lo|Po|Oo);case 47:return Ro(e,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396",Ko,"\u8ca0",s,Ho|Lo|Po|Oo);case 42:return Ro(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Vo,"\u8d1f",s,Lo|Po|Oo);case 41:return Ro(e,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396",Ko,"\u8d1f",s,Ho|Lo|Po|Oo);case 26:return Ro(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07",zo,s,0);case 25:return Ro(e,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07",zo,s,Ho|Lo|Po);case 31:return Ro(e,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",_o,a,Ho|Lo|Po);case 33:return Ro(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",_o,a,0);case 32:return Ro(e,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",_o,a,Ho|Lo|Po);case 18:return To(e,2406,2415,!0,r);case 20:return Uo(e,1,19999,Mo,3,r);case 21:return To(e,2790,2799,!0,r);case 22:return To(e,2662,2671,!0,r);case 22:return Uo(e,1,10999,Qo,3,r);case 23:return Do(e,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Do(e,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return To(e,3302,3311,!0,r);case 28:return Do(e,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",s);case 29:return Do(e,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",s);case 34:return To(e,3792,3801,!0,r);case 37:return To(e,6160,6169,!0,r);case 38:return To(e,4160,4169,!0,r);case 39:return To(e,2918,2927,!0,r);case 40:return To(e,1776,1785,!0,r);case 43:return To(e,3046,3055,!0,r);case 44:return To(e,3174,3183,!0,r);case 45:return To(e,3664,3673,!0,r);case 46:return To(e,3872,3881,!0,r);default:return To(e,48,57,!0,r)}},Wo="data-html2canvas-ignore",Yo=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new jo,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var n=this,a=Xo(e,t);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,l=a.contentWindow,A=l.document,c=$o(a).then((function(){return r(n,void 0,void 0,(function(){var e,n;return s(this,(function(r){switch(r.label){case 0:return this.scrolledElements.forEach(sl),l&&(l.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||l.scrollY===t.top&&l.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-t.left,l.scrollY-t.top,0,0))),e=this.options.onclone,"undefined"===typeof(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:A.fonts&&A.fonts.ready?[4,A.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Zo(A)]:[3,4];case 3:r.sent(),r.label=4;case 4:return"function"===typeof e?[2,Promise.resolve().then((function(){return e(A,n)})).then((function(){return a}))]:[2,a]}}))}))}));return A.open(),A.write(nl(document.doctype)+"<html></html>"),rl(this.referenceElement.ownerDocument,i,o),A.replaceChild(A.adoptNode(this.documentElement),A.documentElement),A.close(),c},e.prototype.createElementClone=function(e){if(ba(e,2),vo(e))return this.createCanvasClone(e);if(yo(e))return this.createVideoClone(e);if(xo(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return wo(t)&&(wo(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),Eo(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return tl(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce((function(e,t){return t&&"string"===typeof t.cssText?e+t.cssText:e}),""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(Ht){if(this.context.logger.error("Unable to access cssRules property",Ht),"SecurityError"!==Ht.name)throw Ht}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(Ht){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var s=e.getContext("2d"),a=r.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var i=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(i){var o=i.getContextAttributes();!1===(null===o||void 0===o?void 0:o.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return r}catch(Ht){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch(Ht){this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},e.prototype.appendChildNode=function(e,t,n){lo(t)&&(Bo(t)||t.hasAttribute(Wo)||"function"===typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&lo(t)&&xo(t)||e.appendChild(this.cloneNode(t,n))},e.prototype.cloneChildNodes=function(e,t,n){for(var r=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(lo(s)&&So(s)&&"function"===typeof s.assignedNodes){var a=s.assignedNodes();a.length&&a.forEach((function(e){return r.appendChildNode(t,e,n)}))}else this.appendChildNode(t,s,n)},e.prototype.cloneNode=function(e,t){if(oo(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&lo(e)&&(Ao(e)||co(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var s=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),i=n.getComputedStyle(e,":after");this.referenceElement===e&&Ao(r)&&(this.clonedReferenceElement=r),go(r)&&cl(r);var o=this.counters.parse(new ga(this.context,s)),l=this.resolvePseudoContent(e,r,a,_a.BEFORE);Eo(e)&&(t=!0),yo(e)||this.cloneChildNodes(e,r,t),l&&r.insertBefore(l,r.firstChild);var A=this.resolvePseudoContent(e,r,i,_a.AFTER);return A&&r.appendChild(A),this.counters.pop(o),(s&&(this.options.copyStyles||co(e))&&!bo(e)||t)&&tl(s,r),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(Co(e)||ko(e))&&(Co(r)||ko(r))&&(r.value=e.value),r}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,r){var s=this;if(n){var a=n.content,i=t.ownerDocument;if(i&&a&&"none"!==a&&"-moz-alt-content"!==a&&"none"!==n.display){this.counters.parse(new ga(this.context,n));var o=new fa(this.context,n),l=i.createElement("html2canvaspseudoelement");tl(n,l),o.content.forEach((function(t){if(0===t.type)l.appendChild(i.createTextNode(t.value));else if(22===t.type){var n=i.createElement("img");n.src=t.value,n.style.opacity="1",l.appendChild(n)}else if(18===t.type){if("attr"===t.name){var r=t.values.filter(Un);r.length&&l.appendChild(i.createTextNode(e.getAttribute(r[0].value)||""))}else if("counter"===t.name){var a=t.values.filter(Hn),A=a[0],c=a[1];if(A&&Un(A)){var u=s.counters.getCounterValue(A.value),d=c&&Un(c)?Cs.parse(s.context,c.value):3;l.appendChild(i.createTextNode(Go(u,d,!1)))}}else if("counters"===t.name){var h=t.values.filter(Hn),p=(A=h[0],h[1]);if(c=h[2],A&&Un(A)){var m=s.counters.getCounterValues(A.value),f=c&&Un(c)?Cs.parse(s.context,c.value):3,g=p&&0===p.type?p.value:"",v=m.map((function(e){return Go(e,f,!1)})).join(g);l.appendChild(i.createTextNode(v))}}}else if(20===t.type)switch(t.value){case"open-quote":l.appendChild(i.createTextNode(ca(o.quotes,s.quoteDepth++,!0)));break;case"close-quote":l.appendChild(i.createTextNode(ca(o.quotes,--s.quoteDepth,!1)));break;default:l.appendChild(i.createTextNode(t.value))}})),l.className=ol+" "+ll;var A=r===_a.BEFORE?" "+ol:" "+ll;return co(t)?t.className.baseValue+=A:t.className+=A,l}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(_a||(_a={}));var qo,Xo=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(Wo,"true"),e.body.appendChild(n),n},Jo=function(e){return new Promise((function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()}))},Zo=function(e){return Promise.all([].slice.call(e.images,0).map(Jo))},$o=function(e){return new Promise((function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var s=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var n=setInterval((function(){s.body.childNodes.length>0&&"complete"===s.readyState&&(clearInterval(n),t(e))}),50)}}))},el=["all","d","content"],tl=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);-1===el.indexOf(r)&&t.style.setProperty(r,e.getPropertyValue(r))}return t},nl=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},rl=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},sl=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},al=":before",il=":after",ol="___html2canvas___pseudoelement_before",ll="___html2canvas___pseudoelement_after",Al='{\n    content: "" !important;\n    display: none !important;\n}',cl=function(e){ul(e,"."+ol+al+Al+"\n         ."+ll+il+Al)},ul=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},dl=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),hl=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:wl(e)||gl(e)?((this._cache[e]=this.loadImage(e)).catch((function(){})),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,a,i=this;return s(this,(function(s){switch(s.label){case 0:return t=dl.isSameOrigin(e),n=!vl(e)&&!0===this._options.useCORS&&Ci.SUPPORT_CORS_IMAGES&&!t,r=!vl(e)&&!t&&!wl(e)&&"string"===typeof this._options.proxy&&Ci.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||vl(e)||wl(e)||r||n?(a=e,r?[4,this.proxy(a)]:[3,2]):[2];case 1:a=s.sent(),s.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise((function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,(yl(a)||n)&&(r.crossOrigin="anonymous"),r.src=a,!0===r.complete&&setTimeout((function(){return e(r)}),500),i._options.imageTimeout>0&&setTimeout((function(){return t("Timed out ("+i._options.imageTimeout+"ms) loading image")}),i._options.imageTimeout)}))];case 3:return[2,s.sent()]}}))}))},e.prototype.has=function(e){return"undefined"!==typeof this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise((function(s,a){var i=Ci.SUPPORT_RESPONSE_TYPE?"blob":"text",o=new XMLHttpRequest;o.onload=function(){if(200===o.status)if("text"===i)s(o.response);else{var e=new FileReader;e.addEventListener("load",(function(){return s(e.result)}),!1),e.addEventListener("error",(function(e){return a(e)}),!1),e.readAsDataURL(o.response)}else a("Failed to proxy resource "+r+" with status code "+o.status)},o.onerror=a;var l=n.indexOf("?")>-1?"&":"?";if(o.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+i),"text"!==i&&o instanceof XMLHttpRequest&&(o.responseType=i),t._options.imageTimeout){var A=t._options.imageTimeout;o.timeout=A,o.ontimeout=function(){return a("Timed out ("+A+"ms) proxying "+r)}}o.send()}))},e}(),pl=/^data:image\/svg\+xml/i,ml=/^data:image\/.*;base64,/i,fl=/^data:image\/.*/i,gl=function(e){return Ci.SUPPORT_SVG_DRAWING||!bl(e)},vl=function(e){return fl.test(e)},yl=function(e){return ml.test(e)},wl=function(e){return"blob"===e.substr(0,4)},bl=function(e){return"svg"===e.substr(-3).toLowerCase()||pl.test(e)},xl=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),Bl=function(e,t,n){return new xl(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},Cl=function(){function e(e,t,n,r){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return e.prototype.subdivide=function(t,n){var r=Bl(this.start,this.startControl,t),s=Bl(this.startControl,this.endControl,t),a=Bl(this.endControl,this.end,t),i=Bl(r,s,t),o=Bl(s,a,t),l=Bl(i,o,t);return n?new e(this.start,r,i,l):new e(l,o,a,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),kl=function(e){return 1===e.type},Sl=function(){function e(e){var t=e.styles,n=e.bounds,r=Gn(t.borderTopLeftRadius,n.width,n.height),s=r[0],a=r[1],i=Gn(t.borderTopRightRadius,n.width,n.height),o=i[0],l=i[1],A=Gn(t.borderBottomRightRadius,n.width,n.height),c=A[0],u=A[1],d=Gn(t.borderBottomLeftRadius,n.width,n.height),h=d[0],p=d[1],m=[];m.push((s+o)/n.width),m.push((h+c)/n.width),m.push((a+p)/n.height),m.push((l+u)/n.height);var f=Math.max.apply(Math,m);f>1&&(s/=f,a/=f,o/=f,l/=f,c/=f,u/=f,h/=f,p/=f);var g=n.width-o,v=n.height-u,y=n.width-c,w=n.height-p,b=t.borderTopWidth,x=t.borderRightWidth,B=t.borderBottomWidth,C=t.borderLeftWidth,k=Wn(t.paddingTop,e.bounds.width),S=Wn(t.paddingRight,e.bounds.width),E=Wn(t.paddingBottom,e.bounds.width),j=Wn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?El(n.left+C/3,n.top+b/3,s-C/3,a-b/3,qo.TOP_LEFT):new xl(n.left+C/3,n.top+b/3),this.topRightBorderDoubleOuterBox=s>0||a>0?El(n.left+g,n.top+b/3,o-x/3,l-b/3,qo.TOP_RIGHT):new xl(n.left+n.width-x/3,n.top+b/3),this.bottomRightBorderDoubleOuterBox=c>0||u>0?El(n.left+y,n.top+v,c-x/3,u-B/3,qo.BOTTOM_RIGHT):new xl(n.left+n.width-x/3,n.top+n.height-B/3),this.bottomLeftBorderDoubleOuterBox=h>0||p>0?El(n.left+C/3,n.top+w,h-C/3,p-B/3,qo.BOTTOM_LEFT):new xl(n.left+C/3,n.top+n.height-B/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?El(n.left+2*C/3,n.top+2*b/3,s-2*C/3,a-2*b/3,qo.TOP_LEFT):new xl(n.left+2*C/3,n.top+2*b/3),this.topRightBorderDoubleInnerBox=s>0||a>0?El(n.left+g,n.top+2*b/3,o-2*x/3,l-2*b/3,qo.TOP_RIGHT):new xl(n.left+n.width-2*x/3,n.top+2*b/3),this.bottomRightBorderDoubleInnerBox=c>0||u>0?El(n.left+y,n.top+v,c-2*x/3,u-2*B/3,qo.BOTTOM_RIGHT):new xl(n.left+n.width-2*x/3,n.top+n.height-2*B/3),this.bottomLeftBorderDoubleInnerBox=h>0||p>0?El(n.left+2*C/3,n.top+w,h-2*C/3,p-2*B/3,qo.BOTTOM_LEFT):new xl(n.left+2*C/3,n.top+n.height-2*B/3),this.topLeftBorderStroke=s>0||a>0?El(n.left+C/2,n.top+b/2,s-C/2,a-b/2,qo.TOP_LEFT):new xl(n.left+C/2,n.top+b/2),this.topRightBorderStroke=s>0||a>0?El(n.left+g,n.top+b/2,o-x/2,l-b/2,qo.TOP_RIGHT):new xl(n.left+n.width-x/2,n.top+b/2),this.bottomRightBorderStroke=c>0||u>0?El(n.left+y,n.top+v,c-x/2,u-B/2,qo.BOTTOM_RIGHT):new xl(n.left+n.width-x/2,n.top+n.height-B/2),this.bottomLeftBorderStroke=h>0||p>0?El(n.left+C/2,n.top+w,h-C/2,p-B/2,qo.BOTTOM_LEFT):new xl(n.left+C/2,n.top+n.height-B/2),this.topLeftBorderBox=s>0||a>0?El(n.left,n.top,s,a,qo.TOP_LEFT):new xl(n.left,n.top),this.topRightBorderBox=o>0||l>0?El(n.left+g,n.top,o,l,qo.TOP_RIGHT):new xl(n.left+n.width,n.top),this.bottomRightBorderBox=c>0||u>0?El(n.left+y,n.top+v,c,u,qo.BOTTOM_RIGHT):new xl(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=h>0||p>0?El(n.left,n.top+w,h,p,qo.BOTTOM_LEFT):new xl(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||a>0?El(n.left+C,n.top+b,Math.max(0,s-C),Math.max(0,a-b),qo.TOP_LEFT):new xl(n.left+C,n.top+b),this.topRightPaddingBox=o>0||l>0?El(n.left+Math.min(g,n.width-x),n.top+b,g>n.width+x?0:Math.max(0,o-x),Math.max(0,l-b),qo.TOP_RIGHT):new xl(n.left+n.width-x,n.top+b),this.bottomRightPaddingBox=c>0||u>0?El(n.left+Math.min(y,n.width-C),n.top+Math.min(v,n.height-B),Math.max(0,c-x),Math.max(0,u-B),qo.BOTTOM_RIGHT):new xl(n.left+n.width-x,n.top+n.height-B),this.bottomLeftPaddingBox=h>0||p>0?El(n.left+C,n.top+Math.min(w,n.height-B),Math.max(0,h-C),Math.max(0,p-B),qo.BOTTOM_LEFT):new xl(n.left+C,n.top+n.height-B),this.topLeftContentBox=s>0||a>0?El(n.left+C+j,n.top+b+k,Math.max(0,s-(C+j)),Math.max(0,a-(b+k)),qo.TOP_LEFT):new xl(n.left+C+j,n.top+b+k),this.topRightContentBox=o>0||l>0?El(n.left+Math.min(g,n.width+C+j),n.top+b+k,g>n.width+C+j?0:o-C+j,l-(b+k),qo.TOP_RIGHT):new xl(n.left+n.width-(x+S),n.top+b+k),this.bottomRightContentBox=c>0||u>0?El(n.left+Math.min(y,n.width-(C+j)),n.top+Math.min(v,n.height+b+k),Math.max(0,c-(x+S)),u-(B+E),qo.BOTTOM_RIGHT):new xl(n.left+n.width-(x+S),n.top+n.height-(B+E)),this.bottomLeftContentBox=h>0||p>0?El(n.left+C+j,n.top+w,Math.max(0,h-(C+j)),p-(B+E),qo.BOTTOM_LEFT):new xl(n.left+C+j,n.top+n.height-(B+E))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(qo||(qo={}));var El=function(e,t,n,r,s){var a=(Math.sqrt(2)-1)/3*4,i=n*a,o=r*a,l=e+n,A=t+r;switch(s){case qo.TOP_LEFT:return new Cl(new xl(e,A),new xl(e,A-o),new xl(l-i,t),new xl(l,t));case qo.TOP_RIGHT:return new Cl(new xl(e,t),new xl(e+i,t),new xl(l,A-o),new xl(l,A));case qo.BOTTOM_RIGHT:return new Cl(new xl(l,t),new xl(l,t+o),new xl(e+i,A),new xl(e,A));case qo.BOTTOM_LEFT:default:return new Cl(new xl(l,A),new xl(l-i,A),new xl(e,t+o),new xl(e,t))}},jl=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Fl=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Il=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Ql=function(){function e(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return e}(),Ml=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),Ul=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),Nl=function(e){return 0===e.type},Tl=function(e){return 1===e.type},Dl=function(e){return 2===e.type},Hl=function(e,t){return e.length===t.length&&e.some((function(e,n){return e===t[n]}))},Ll=function(e,t,n,r,s){return e.map((function(e,a){switch(a){case 0:return e.add(t,n);case 1:return e.add(t+r,n);case 2:return e.add(t+r,n+s);case 3:return e.add(t,n+s)}return e}))},Pl=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Ol=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Sl(this.container),this.container.styles.opacity<1&&this.effects.push(new Ul(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Ql(n,r,s))}if(0!==this.container.styles.overflowX){var a=jl(this.curves),i=Il(this.curves);Hl(a,i)?this.effects.push(new Ml(a,6)):(this.effects.push(new Ml(a,2)),this.effects.push(new Ml(i,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,r=this.effects.slice(0);n;){var s=n.effects.filter((function(e){return!Tl(e)}));if(t||0!==n.container.styles.position||!n.parent){if(r.unshift.apply(r,s),t=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var a=jl(n.curves),i=Il(n.curves);Hl(a,i)||r.unshift(new Ml(i,6))}}else r.unshift.apply(r,s);n=n.parent}return r.filter((function(t){return sa(t.target,e)}))},e}(),Rl=function(e,t,n,r){e.container.elements.forEach((function(s){var a=sa(s.flags,4),i=sa(s.flags,2),o=new Ol(s,e);sa(s.styles.display,2048)&&r.push(o);var l=sa(s.flags,8)?[]:r;if(a||i){var A=a||s.styles.isPositioned()?n:t,c=new Pl(o);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var u=s.styles.zIndex.order;if(u<0){var d=0;A.negativeZIndex.some((function(e,t){return u>e.element.container.styles.zIndex.order?(d=t,!1):d>0})),A.negativeZIndex.splice(d,0,c)}else if(u>0){var h=0;A.positiveZIndex.some((function(e,t){return u>=e.element.container.styles.zIndex.order?(h=t+1,!1):h>0})),A.positiveZIndex.splice(h,0,c)}else A.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else s.styles.isFloating()?A.nonPositionedFloats.push(c):A.nonPositionedInlineLevel.push(c);Rl(o,c,a?c:n,l)}else s.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),Rl(o,t,n,l);sa(s.flags,8)&&Vl(s,l)}))},Vl=function(e,t){for(var n=e instanceof Vi?e.start:1,r=e instanceof Vi&&e.reversed,s=0;s<t.length;s++){var a=t[s];a.container instanceof Ri&&"number"===typeof a.container.value&&0!==a.container.value&&(n=a.container.value),a.listValue=Go(n,a.container.styles.listStyleType,!0),n+=r?-1:1}},Kl=function(e){var t=new Ol(e,null),n=new Pl(t),r=[];return Rl(t,n,n,r),Vl(t.container,r),n},zl=function(e,t){switch(t){case 0:return ql(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return ql(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return ql(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return ql(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},_l=function(e,t){switch(t){case 0:return ql(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return ql(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return ql(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return ql(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},Gl=function(e,t){switch(t){case 0:return ql(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return ql(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return ql(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return ql(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Wl=function(e,t){switch(t){case 0:return Yl(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return Yl(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return Yl(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return Yl(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},Yl=function(e,t){var n=[];return kl(e)?n.push(e.subdivide(.5,!1)):n.push(e),kl(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},ql=function(e,t,n,r){var s=[];return kl(e)?s.push(e.subdivide(.5,!1)):s.push(e),kl(n)?s.push(n.subdivide(.5,!0)):s.push(n),kl(r)?s.push(r.subdivide(.5,!0).reverse()):s.push(r),kl(t)?s.push(t.subdivide(.5,!1).reverse()):s.push(t),s},Xl=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Jl=function(e){var t=e.styles,n=e.bounds,r=Wn(t.paddingLeft,n.width),s=Wn(t.paddingRight,n.width),a=Wn(t.paddingTop,n.width),i=Wn(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+s),-(t.borderTopWidth+t.borderBottomWidth+a+i))},Zl=function(e,t){return 0===e?t.bounds:2===e?Jl(t):Xl(t)},$l=function(e,t){return 0===e?t.bounds:2===e?Jl(t):Xl(t)},eA=function(e,t,n){var r=Zl(sA(e.styles.backgroundOrigin,t),e),s=$l(sA(e.styles.backgroundClip,t),e),a=rA(sA(e.styles.backgroundSize,t),n,r),i=a[0],o=a[1],l=Gn(sA(e.styles.backgroundPosition,t),r.width-i,r.height-o);return[aA(sA(e.styles.backgroundRepeat,t),l,a,r,s),Math.round(r.left+l[0]),Math.round(r.top+l[1]),i,o]},tA=function(e){return Un(e)&&e.value===Dr.AUTO},nA=function(e){return"number"===typeof e},rA=function(e,t,n){var r=t[0],s=t[1],a=t[2],i=e[0],o=e[1];if(!i)return[0,0];if(Rn(i)&&o&&Rn(o))return[Wn(i,n.width),Wn(o,n.height)];var l=nA(a);if(Un(i)&&(i.value===Dr.CONTAIN||i.value===Dr.COVER))return nA(a)?n.width/n.height<a!==(i.value===Dr.COVER)?[n.width,n.width/a]:[n.height*a,n.height]:[n.width,n.height];var A=nA(r),c=nA(s),u=A||c;if(tA(i)&&(!o||tA(o)))return A&&c?[r,s]:l||u?u&&l?[A?r:s*a,c?s:r/a]:[A?r:n.width,c?s:n.height]:[n.width,n.height];if(l){var d=0,h=0;return Rn(i)?d=Wn(i,n.width):Rn(o)&&(h=Wn(o,n.height)),tA(i)?d=h*a:o&&!tA(o)||(h=d/a),[d,h]}var p=null,m=null;if(Rn(i)?p=Wn(i,n.width):o&&Rn(o)&&(m=Wn(o,n.height)),null===p||o&&!tA(o)||(m=A&&c?p/r*s:n.height),null!==m&&tA(i)&&(p=A&&c?m/s*r:n.width),null!==p&&null!==m)return[p,m];throw new Error("Unable to calculate background-size for element")},sA=function(e,t){var n=e[t];return"undefined"===typeof n?e[0]:n},aA=function(e,t,n,r,s){var a=t[0],i=t[1],o=n[0],l=n[1];switch(e){case 2:return[new xl(Math.round(r.left),Math.round(r.top+i)),new xl(Math.round(r.left+r.width),Math.round(r.top+i)),new xl(Math.round(r.left+r.width),Math.round(l+r.top+i)),new xl(Math.round(r.left),Math.round(l+r.top+i))];case 3:return[new xl(Math.round(r.left+a),Math.round(r.top)),new xl(Math.round(r.left+a+o),Math.round(r.top)),new xl(Math.round(r.left+a+o),Math.round(r.height+r.top)),new xl(Math.round(r.left+a),Math.round(r.height+r.top))];case 1:return[new xl(Math.round(r.left+a),Math.round(r.top+i)),new xl(Math.round(r.left+a+o),Math.round(r.top+i)),new xl(Math.round(r.left+a+o),Math.round(r.top+i+l)),new xl(Math.round(r.left+a),Math.round(r.top+i+l))];default:return[new xl(Math.round(s.left),Math.round(s.top)),new xl(Math.round(s.left+s.width),Math.round(s.top)),new xl(Math.round(s.left+s.width),Math.round(s.height+s.top)),new xl(Math.round(s.left),Math.round(s.height+s.top))]}},iA="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",oA="Hidden Text",lA=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),r.src=iA,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(oA)),n.appendChild(s),n.appendChild(r);var i=r.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(oA)),n.style.lineHeight="normal",r.style.verticalAlign="super";var o=r.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:i,middle:o}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return"undefined"===typeof this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),AA=function(){function e(e,t){this.context=e,this.options=t}return e}(),cA=1e4,uA=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new lA(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return t(n,e),n.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach((function(e){return t.applyEffect(e)}))},n.prototype.applyEffect=function(e){this.ctx.save(),Dl(e)&&(this.ctx.globalAlpha=e.opacity),Nl(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),Tl(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},n.prototype.renderNode=function(e){return r(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return sa(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var r=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):Fi(e.text).reduce((function(t,s){return r.ctx.fillText(s,t,e.bounds.top+n),t+r.ctx.measureText(s).width}),e.bounds.left)},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter((function(e){return"normal"===e||"small-caps"===e})).join(""),n=fA(e.fontFamily).join(", "),r=Qn(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,r,n].join(" "),n,r]},n.prototype.renderTextNode=function(e,t){return r(this,void 0,void 0,(function(){var n,r,a,i,o,l,A,c,u=this;return s(this,(function(s){return n=this.createFontStyle(t),r=n[0],a=n[1],i=n[2],this.ctx.font=r,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",o=this.fontMetrics.getMetrics(a,i),l=o.baseline,A=o.middle,c=t.paintOrder,e.textBounds.forEach((function(e){c.forEach((function(n){switch(n){case 0:u.ctx.fillStyle=sr(t.color),u.renderTextWithLetterSpacing(e,t.letterSpacing,l);var r=t.textShadow;r.length&&e.text.trim().length&&(r.slice(0).reverse().forEach((function(n){u.ctx.shadowColor=sr(n.color),u.ctx.shadowOffsetX=n.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=n.offsetY.number*u.options.scale,u.ctx.shadowBlur=n.blur.number,u.renderTextWithLetterSpacing(e,t.letterSpacing,l)})),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),t.textDecorationLine.length&&(u.ctx.fillStyle=sr(t.textDecorationColor||t.color),t.textDecorationLine.forEach((function(t){switch(t){case 1:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+l),e.bounds.width,1);break;case 2:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:u.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+A),e.bounds.width,1)}})));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(u.ctx.strokeStyle=sr(t.webkitTextStrokeColor),u.ctx.lineWidth=t.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+l)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter"}}))})),[2]}))}))},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=Jl(e),s=Il(t);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return r(this,void 0,void 0,(function(){var t,r,a,o,l,A,c,u,d,h,p,m,f,g,v,y,w,b;return s(this,(function(s){switch(s.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,r=e.curves,a=t.styles,o=0,l=t.textNodes,s.label=1;case 1:return o<l.length?(A=l[o],[4,this.renderTextNode(A,a)]):[3,4];case 2:s.sent(),s.label=3;case 3:return o++,[3,1];case 4:if(!(t instanceof Li))return[3,8];s.label=5;case 5:return s.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return v=s.sent(),this.renderReplacedElement(t,r,v),[3,8];case 7:return s.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof Pi&&this.renderReplacedElement(t,r,t.canvas),!(t instanceof Oi))return[3,12];s.label=9;case 9:return s.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return v=s.sent(),this.renderReplacedElement(t,r,v),[3,12];case 11:return s.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof eo&&t.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:c=s.sent(),t.width&&t.height&&this.ctx.drawImage(c,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),s.label=14;case 14:if(t instanceof Ji&&(u=Math.min(t.bounds.width,t.bounds.height),t.type===Wi?t.checked&&(this.ctx.save(),this.path([new xl(t.bounds.left+.39363*u,t.bounds.top+.79*u),new xl(t.bounds.left+.16*u,t.bounds.top+.5549*u),new xl(t.bounds.left+.27347*u,t.bounds.top+.44071*u),new xl(t.bounds.left+.39694*u,t.bounds.top+.5649*u),new xl(t.bounds.left+.72983*u,t.bounds.top+.23*u),new xl(t.bounds.left+.84*u,t.bounds.top+.34085*u),new xl(t.bounds.left+.39363*u,t.bounds.top+.79*u)]),this.ctx.fillStyle=sr(Xi),this.ctx.fill(),this.ctx.restore()):t.type===Yi&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+u/2,t.bounds.top+u/2,u/4,0,2*Math.PI,!0),this.ctx.fillStyle=sr(Xi),this.ctx.fill(),this.ctx.restore())),dA(t)&&t.value.length){switch(d=this.createFontStyle(a),w=d[0],h=d[1],p=this.fontMetrics.getMetrics(w,h).baseline,this.ctx.font=w,this.ctx.fillStyle=sr(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=pA(t.styles.textAlign),b=Jl(t),m=0,t.styles.textAlign){case 1:m+=b.width/2;break;case 2:m+=b.width}f=b.add(m,0,0,-b.height/2+1),this.ctx.save(),this.path([new xl(b.left,b.top),new xl(b.left+b.width,b.top),new xl(b.left+b.width,b.top+b.height),new xl(b.left,b.top+b.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ki(t.value,f),a.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!sa(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(g=t.styles.listStyleImage).type)return[3,18];v=void 0,y=g.url,s.label=15;case 15:return s.trys.push([15,17,,18]),[4,this.context.cache.match(y)];case 16:return v=s.sent(),this.ctx.drawImage(v,t.bounds.left-(v.width+10),t.bounds.top),[3,18];case 17:return s.sent(),this.context.logger.error("Error loading list-style-image "+y),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(w=this.createFontStyle(a)[0],this.ctx.font=w,this.ctx.fillStyle=sr(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",b=new i(t.bounds.left,t.bounds.top+Wn(t.styles.paddingTop,t.bounds.width),t.bounds.width,bs(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ki(e.listValue,b),a.letterSpacing,bs(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),s.label=20;case 20:return[2]}}))}))},n.prototype.renderStackContent=function(e){return r(this,void 0,void 0,(function(){var t,n,r,a,i,o,l,A,c,u,d,h,p,m,f;return s(this,(function(s){switch(s.label){case 0:return sa(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:s.sent(),t=0,n=e.negativeZIndex,s.label=2;case 2:return t<n.length?(f=n[t],[4,this.renderStack(f)]):[3,5];case 3:s.sent(),s.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:s.sent(),r=0,a=e.nonInlineLevel,s.label=7;case 7:return r<a.length?(f=a[r],[4,this.renderNode(f)]):[3,10];case 8:s.sent(),s.label=9;case 9:return r++,[3,7];case 10:i=0,o=e.nonPositionedFloats,s.label=11;case 11:return i<o.length?(f=o[i],[4,this.renderStack(f)]):[3,14];case 12:s.sent(),s.label=13;case 13:return i++,[3,11];case 14:l=0,A=e.nonPositionedInlineLevel,s.label=15;case 15:return l<A.length?(f=A[l],[4,this.renderStack(f)]):[3,18];case 16:s.sent(),s.label=17;case 17:return l++,[3,15];case 18:c=0,u=e.inlineLevel,s.label=19;case 19:return c<u.length?(f=u[c],[4,this.renderNode(f)]):[3,22];case 20:s.sent(),s.label=21;case 21:return c++,[3,19];case 22:d=0,h=e.zeroOrAutoZIndexOrTransformedOrOpacity,s.label=23;case 23:return d<h.length?(f=h[d],[4,this.renderStack(f)]):[3,26];case 24:s.sent(),s.label=25;case 25:return d++,[3,23];case 26:p=0,m=e.positiveZIndex,s.label=27;case 27:return p<m.length?(f=m[p],[4,this.renderStack(f)]):[3,30];case 28:s.sent(),s.label=29;case 29:return p++,[3,27];case 30:return[2]}}))}))},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach((function(e,n){var r=kl(e)?e.start:e;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),kl(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}))},n.prototype.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},n.prototype.resizeImage=function(e,t,n){var r;if(e.width===t&&e.height===n)return e;var s=(null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document).createElement("canvas");return s.width=Math.max(1,t),s.height=Math.max(1,n),s.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),s},n.prototype.renderBackgroundImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,a,i,o;return s(this,(function(l){switch(l.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var a,i,o,l,A,c,u,d,h,p,m,f,g,v,y,w,b,x,B,C,k,S,E,j,F,I,Q,M,U,N,T;return s(this,(function(s){switch(s.label){case 0:if(0!==n.type)return[3,5];a=void 0,i=n.url,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,r.context.cache.match(i)];case 2:return a=s.sent(),[3,4];case 3:return s.sent(),r.context.logger.error("Error loading background-image "+i),[3,4];case 4:return a&&(o=eA(e,t,[a.width,a.height,a.width/a.height]),w=o[0],S=o[1],E=o[2],B=o[3],C=o[4],v=r.ctx.createPattern(r.resizeImage(a,B,C),"repeat"),r.renderRepeat(w,v,S,E)),[3,6];case 5:Mr(n)?(l=eA(e,t,[null,null,null]),w=l[0],S=l[1],E=l[2],B=l[3],C=l[4],A=vr(n.angle,B,C),c=A[0],u=A[1],d=A[2],h=A[3],p=A[4],(m=document.createElement("canvas")).width=B,m.height=C,f=m.getContext("2d"),g=f.createLinearGradient(u,h,d,p),fr(n.stops,c).forEach((function(e){return g.addColorStop(e.stop,sr(e.color))})),f.fillStyle=g,f.fillRect(0,0,B,C),B>0&&C>0&&(v=r.ctx.createPattern(m,"repeat"),r.renderRepeat(w,v,S,E))):Ur(n)&&(y=eA(e,t,[null,null,null]),w=y[0],b=y[1],x=y[2],B=y[3],C=y[4],k=0===n.position.length?[zn]:n.position,S=Wn(k[0],B),E=Wn(k[k.length-1],C),j=br(n,S,E,B,C),F=j[0],I=j[1],F>0&&I>0&&(Q=r.ctx.createRadialGradient(b+S,x+E,0,b+S,x+E,F),fr(n.stops,2*F).forEach((function(e){return Q.addColorStop(e.stop,sr(e.color))})),r.path(w),r.ctx.fillStyle=Q,F!==I?(M=e.bounds.left+.5*e.bounds.width,U=e.bounds.top+.5*e.bounds.height,T=1/(N=I/F),r.ctx.save(),r.ctx.translate(M,U),r.ctx.transform(1,0,0,N,0,0),r.ctx.translate(-M,-U),r.ctx.fillRect(b,T*(x-U)+U,B,C*T),r.ctx.restore()):r.ctx.fill())),s.label=6;case 6:return t--,[2]}}))},r=this,a=0,i=e.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return a<i.length?(o=i[a],[5,n(o)]):[3,4];case 2:l.sent(),l.label=3;case 3:return a++,[3,1];case 4:return[2]}}))}))},n.prototype.renderSolidBorder=function(e,t,n){return r(this,void 0,void 0,(function(){return s(this,(function(r){return this.path(zl(n,t)),this.ctx.fillStyle=sr(e),this.ctx.fill(),[2]}))}))},n.prototype.renderDoubleBorder=function(e,t,n,a){return r(this,void 0,void 0,(function(){var r,i;return s(this,(function(s){switch(s.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,a)]:[3,2];case 1:return s.sent(),[2];case 2:return r=_l(a,n),this.path(r),this.ctx.fillStyle=sr(e),this.ctx.fill(),i=Gl(a,n),this.path(i),this.ctx.fill(),[2]}}))}))},n.prototype.renderNodeBackgroundAndBorders=function(e){return r(this,void 0,void 0,(function(){var t,n,r,a,i,o,l,A,c=this;return s(this,(function(s){switch(s.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!rr(t.backgroundColor)||t.backgroundImage.length,r=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],a=hA(sA(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),rr(t.backgroundColor)||(this.ctx.fillStyle=sr(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:s.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach((function(t){c.ctx.save();var n=jl(e.curves),r=t.inset?0:cA,s=Ll(n,-r+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(c.path(n),c.ctx.clip(),c.mask(s)):(c.mask(n),c.ctx.clip(),c.path(s)),c.ctx.shadowOffsetX=t.offsetX.number+r,c.ctx.shadowOffsetY=t.offsetY.number,c.ctx.shadowColor=sr(t.color),c.ctx.shadowBlur=t.blur.number,c.ctx.fillStyle=t.inset?sr(t.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()})),s.label=2;case 2:i=0,o=0,l=r,s.label=3;case 3:return o<l.length?0!==(A=l[o]).style&&!rr(A.color)&&A.width>0?2!==A.style?[3,5]:[4,this.renderDashedDottedBorder(A.color,A.width,i,e.curves,2)]:[3,11]:[3,13];case 4:return s.sent(),[3,11];case 5:return 3!==A.style?[3,7]:[4,this.renderDashedDottedBorder(A.color,A.width,i,e.curves,3)];case 6:return s.sent(),[3,11];case 7:return 4!==A.style?[3,9]:[4,this.renderDoubleBorder(A.color,A.width,i,e.curves)];case 8:return s.sent(),[3,11];case 9:return[4,this.renderSolidBorder(A.color,i,e.curves)];case 10:s.sent(),s.label=11;case 11:i++,s.label=12;case 12:return o++,[3,3];case 13:return[2]}}))}))},n.prototype.renderDashedDottedBorder=function(e,t,n,a,i){return r(this,void 0,void 0,(function(){var r,o,l,A,c,u,d,h,p,m,f,g,v,y,w,b;return s(this,(function(s){return this.ctx.save(),r=Wl(a,n),o=zl(a,n),2===i&&(this.path(o),this.ctx.clip()),kl(o[0])?(l=o[0].start.x,A=o[0].start.y):(l=o[0].x,A=o[0].y),kl(o[1])?(c=o[1].end.x,u=o[1].end.y):(c=o[1].x,u=o[1].y),d=0===n||2===n?Math.abs(l-c):Math.abs(A-u),this.ctx.beginPath(),3===i?this.formatPath(r):this.formatPath(o.slice(0,2)),h=t<3?3*t:2*t,p=t<3?2*t:t,3===i&&(h=t,p=t),m=!0,d<=2*h?m=!1:d<=2*h+p?(h*=f=d/(2*h+p),p*=f):(g=Math.floor((d+p)/(h+p)),v=(d-g*h)/(g-1),p=(y=(d-(g+1)*h)/g)<=0||Math.abs(p-v)<Math.abs(p-y)?v:y),m&&(3===i?this.ctx.setLineDash([0,h+p]):this.ctx.setLineDash([h,p])),3===i?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=sr(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===i&&(kl(o[0])&&(w=o[3],b=o[0],this.ctx.beginPath(),this.formatPath([new xl(w.end.x,w.end.y),new xl(b.start.x,b.start.y)]),this.ctx.stroke()),kl(o[1])&&(w=o[1],b=o[2],this.ctx.beginPath(),this.formatPath([new xl(w.end.x,w.end.y),new xl(b.start.x,b.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},n.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=sr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=Kl(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}}))}))},n}(AA),dA=function(e){return e instanceof $i||e instanceof Zi||e instanceof Ji&&e.type!==Yi&&e.type!==Wi},hA=function(e,t){switch(e){case 0:return jl(t);case 2:return Fl(t);default:return Il(t)}},pA=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},mA=["-apple-system","system-ui"],fA=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter((function(e){return-1===mA.indexOf(e)})):e},gA=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return t(n,e),n.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t,n;return s(this,(function(r){switch(r.label){case 0:return t=xi(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,vA(t)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=sr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},n}(AA),vA=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},yA=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.debug?console.debug.apply(console,a([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!==typeof window&&window.console&&"function"===typeof console.info&&console.info.apply(console,a([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.warn?console.warn.apply(console,a([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.error?console.error.apply(console,a([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),wA=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new yA({id:this.instanceName,enabled:t.logging}),this.cache=null!==(r=t.cache)&&void 0!==r?r:new hl(this,t)}return e.instanceCount=1,e}(),bA=function(e,t){return void 0===t&&(t={}),xA(e,t)};"undefined"!==typeof window&&dl.setContext(window);var xA=function(e,t){return r(void 0,void 0,void 0,(function(){var r,a,A,c,u,d,h,p,m,f,g,v,y,w,b,x,B,C,k,S,E,j,F,I,Q,M,U,N,T,D,H,L,P,O,R,V,K,z;return s(this,(function(s){switch(s.label){case 0:if(!e||"object"!==typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(r=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(a=r.defaultView))throw new Error("Document is not attached to a Window");return A={allowTaint:null!==(j=t.allowTaint)&&void 0!==j&&j,imageTimeout:null!==(F=t.imageTimeout)&&void 0!==F?F:15e3,proxy:t.proxy,useCORS:null!==(I=t.useCORS)&&void 0!==I&&I},c=n({logging:null===(Q=t.logging)||void 0===Q||Q,cache:t.cache},A),u={windowWidth:null!==(M=t.windowWidth)&&void 0!==M?M:a.innerWidth,windowHeight:null!==(U=t.windowHeight)&&void 0!==U?U:a.innerHeight,scrollX:null!==(N=t.scrollX)&&void 0!==N?N:a.pageXOffset,scrollY:null!==(T=t.scrollY)&&void 0!==T?T:a.pageYOffset},d=new i(u.scrollX,u.scrollY,u.windowWidth,u.windowHeight),h=new wA(c,d),p=null!==(D=t.foreignObjectRendering)&&void 0!==D&&D,m={allowTaint:null!==(H=t.allowTaint)&&void 0!==H&&H,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:p,copyStyles:p},h.logger.debug("Starting document clone with size "+d.width+"x"+d.height+" scrolled to "+-d.left+","+-d.top),f=new Yo(h,e,m),(g=f.clonedReferenceElement)?[4,f.toIFrame(r,d)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=s.sent(),y=go(g)||mo(g)?l(g.ownerDocument):o(h,g),w=y.width,b=y.height,x=y.left,B=y.top,C=BA(h,g,t.backgroundColor),k={canvas:t.canvas,backgroundColor:C,scale:null!==(P=null!==(L=t.scale)&&void 0!==L?L:a.devicePixelRatio)&&void 0!==P?P:1,x:(null!==(O=t.x)&&void 0!==O?O:0)+x,y:(null!==(R=t.y)&&void 0!==R?R:0)+B,width:null!==(V=t.width)&&void 0!==V?V:Math.ceil(w),height:null!==(K=t.height)&&void 0!==K?K:Math.ceil(b)},p?(h.logger.debug("Document cloned, using foreign object rendering"),[4,new gA(h,k).render(g)]):[3,3];case 2:return S=s.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+x+","+B+" with size "+w+"x"+b+" using computed rendering"),h.logger.debug("Starting DOM parsing"),E=so(h,g),C===E.styles.backgroundColor&&(E.styles.backgroundColor=dr.TRANSPARENT),h.logger.debug("Starting renderer for element at "+k.x+","+k.y+" with size "+k.width+"x"+k.height),[4,new uA(h,k).render(E)];case 4:S=s.sent(),s.label=5;case 5:return(null===(z=t.removeContainer)||void 0===z||z)&&(Yo.destroy(v)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,S]}}))}))},BA=function(e,t,n){var r=t.ownerDocument,s=r.documentElement?ur(e,getComputedStyle(r.documentElement).backgroundColor):dr.TRANSPARENT,a=r.body?ur(e,getComputedStyle(r.body).backgroundColor):dr.TRANSPARENT,i="string"===typeof n?ur(e,n):null===n?dr.TRANSPARENT:4294967295;return t===r.documentElement?rr(s)?rr(a)?i:a:s:i};return bA}()},4814:e=>{var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,s=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,i=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,l=/^\s+|\s+$/g,A="";function c(e){return e?e.replace(l,A):A}e.exports=function(e,l){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];l=l||{};var u=1,d=1;function h(e){var t=e.match(n);t&&(u+=t.length);var r=e.lastIndexOf("\n");d=~r?e.length-r:d+e.length}function p(){var e={line:u,column:d};return function(t){return t.position=new m(e),y(),t}}function m(e){this.start=e,this.end={line:u,column:d},this.source=l.source}m.prototype.content=e;var f=[];function g(t){var n=new Error(l.source+":"+u+":"+d+": "+t);if(n.reason=t,n.filename=l.source,n.line=u,n.column=d,n.source=e,!l.silent)throw n;f.push(n)}function v(t){var n=t.exec(e);if(n){var r=n[0];return h(r),e=e.slice(r.length),n}}function y(){v(r)}function w(e){var t;for(e=e||[];t=b();)!1!==t&&e.push(t);return e}function b(){var t=p();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;A!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,A===e.charAt(n-1))return g("End of comment missing");var r=e.slice(2,n-2);return d+=2,h(r),e=e.slice(n),d+=2,t({type:"comment",comment:r})}}function x(){var e=p(),n=v(s);if(n){if(b(),!v(a))return g("property missing ':'");var r=v(i),l=e({type:"declaration",property:c(n[0].replace(t,A)),value:r?c(r[0].replace(t,A)):A});return v(o),l}}return y(),function(){var e,t=[];for(w(t);e=x();)!1!==e&&(t.push(e),w(t));return t}()}},8412:e=>{e.exports=function(e){return null!=e&&null!=e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},3191:(e,t,n)=>{var r=n(9794),s=function(e){var t="",n=Object.keys(e);return n.forEach((function(s,a){var i=e[s];(function(e){return/[height|width]$/.test(e)})(s=r(s))&&"number"===typeof i&&(i+="px"),t+=!0===i?s:!1===i?"not "+s:"("+s+": "+i+")",a<n.length-1&&(t+=" and ")})),t};e.exports=function(e){var t="";return"string"===typeof e?e:e instanceof Array?(e.forEach((function(n,r){t+=s(n),r<e.length-1&&(t+=", ")})),t):s(e)}},4267:(e,t,n)=>{var r=NaN,s="[object Symbol]",a=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,A=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,d=c||u||Function("return this")(),h=Object.prototype.toString,p=Math.max,m=Math.min,f=function(){return d.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&h.call(e)==s}(e))return r;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=o.test(e);return n||l.test(e)?A(e.slice(2),n?2:8):i.test(e)?r:+e}e.exports=function(e,t,n){var r,s,a,i,o,l,A=0,c=!1,u=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=r,a=s;return r=s=void 0,A=t,i=e.apply(a,n)}function y(e){var n=e-l;return void 0===l||n>=t||n<0||u&&e-A>=a}function w(){var e=f();if(y(e))return b(e);o=setTimeout(w,function(e){var n=t-(e-l);return u?m(n,a-(e-A)):n}(e))}function b(e){return o=void 0,d&&r?h(e):(r=s=void 0,i)}function x(){var e=f(),n=y(e);if(r=arguments,s=this,l=e,n){if(void 0===o)return function(e){return A=e,o=setTimeout(w,t),c?h(e):i}(l);if(u)return o=setTimeout(w,t),h(l)}return void 0===o&&(o=setTimeout(w,t)),i}return t=v(t)||0,g(n)&&(c=!!n.leading,a=(u="maxWait"in n)?p(v(n.maxWait)||0,t):a,d="trailing"in n?!!n.trailing:d),x.cancel=function(){void 0!==o&&clearTimeout(o),A=0,r=l=s=o=void 0},x.flush=function(){return void 0===o?i:b(f())},x}},4635:(e,t,n)=>{var r=n(4759).Symbol;e.exports=r},1570:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}},1516:e=>{e.exports=function(e,t,n,r){var s=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++s]);++s<a;)n=t(n,e[s],s,e);return n}},9508:e=>{e.exports=function(e){return e.split("")}},1443:e=>{var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},2022:(e,t,n)=>{var r=n(4635),s=n(1581),a=n(5336),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?s(e):a(e)}},2106:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},4978:e=>{e.exports=function(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(n=n>s?s:n)<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(s);++r<s;)a[r]=e[r+t];return a}},1582:(e,t,n)=>{var r=n(4635),s=n(1570),a=n(2279),i=n(184),o=r?r.prototype:void 0,l=o?o.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return s(t,e)+"";if(i(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},6914:(e,t,n)=>{var r=n(8798),s=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(s,""):e}},6212:(e,t,n)=>{var r=n(4978);e.exports=function(e,t,n){var s=e.length;return n=void 0===n?s:n,!t&&n>=s?e:r(e,t,n)}},6689:(e,t,n)=>{var r=n(6212),s=n(1536),a=n(78),i=n(4008);e.exports=function(e){return function(t){t=i(t);var n=s(t)?a(t):void 0,o=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return o[e]()+l}}},9189:(e,t,n)=>{var r=n(1516),s=n(1454),a=n(1047),i=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return r(a(s(t).replace(i,"")),e,"")}}},2269:(e,t,n)=>{var r=n(2106)({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=r},6658:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},1581:(e,t,n)=>{var r=n(4635),s=Object.prototype,a=s.hasOwnProperty,i=s.toString,o=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,o),n=e[o];try{e[o]=void 0;var r=!0}catch(l){}var s=i.call(e);return r&&(t?e[o]=n:delete e[o]),s}},1536:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},8300:e=>{var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},5336:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},4759:(e,t,n)=>{var r=n(6658),s="object"==typeof self&&self&&self.Object===Object&&self,a=r||s||Function("return this")();e.exports=a},78:(e,t,n)=>{var r=n(9508),s=n(1536),a=n(9892);e.exports=function(e){return s(e)?a(e):r(e)}},8798:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},9892:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",s="\\ud83c[\\udffb-\\udfff]",a="[^"+t+"]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+s+")"+"?",A="[\\ufe0e\\ufe0f]?",c=A+l+("(?:\\u200d(?:"+[a,i,o].join("|")+")"+A+l+")*"),u="(?:"+[a+r+"?",r,i,o,n].join("|")+")",d=RegExp(s+"(?="+s+")|"+u+c,"g");e.exports=function(e){return e.match(d)||[]}},3315:e=>{var t="\\ud800-\\udfff",n="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",s="A-Z\\xc0-\\xd6\\xd8-\\xde",a="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",i="["+a+"]",o="\\d+",l="["+n+"]",A="["+r+"]",c="[^"+t+a+o+n+r+s+"]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",h="["+s+"]",p="(?:"+A+"|"+c+")",m="(?:"+h+"|"+c+")",f="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",g="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",v="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",y="[\\ufe0e\\ufe0f]?",w=y+v+("(?:\\u200d(?:"+["[^"+t+"]",u,d].join("|")+")"+y+v+")*"),b="(?:"+[l,u,d].join("|")+")"+w,x=RegExp([h+"?"+A+"+"+f+"(?="+[i,h,"$"].join("|")+")",m+"+"+g+"(?="+[i,h+p,"$"].join("|")+")",h+"?"+p+"+"+f,h+"+"+g,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",o,b].join("|"),"g");e.exports=function(e){return e.match(x)||[]}},6808:(e,t,n)=>{var r=n(6014),s=n(9189)((function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)}));e.exports=s},6014:(e,t,n)=>{var r=n(4008),s=n(3414);e.exports=function(e){return s(r(e).toLowerCase())}},5491:(e,t,n)=>{var r=n(4567),s=n(4378),a=n(2588),i=Math.max,o=Math.min;e.exports=function(e,t,n){var l,A,c,u,d,h,p=0,m=!1,f=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,r=A;return l=A=void 0,p=t,u=e.apply(r,n)}function y(e){var n=e-h;return void 0===h||n>=t||n<0||f&&e-p>=c}function w(){var e=s();if(y(e))return b(e);d=setTimeout(w,function(e){var n=t-(e-h);return f?o(n,c-(e-p)):n}(e))}function b(e){return d=void 0,g&&l?v(e):(l=A=void 0,u)}function x(){var e=s(),n=y(e);if(l=arguments,A=this,h=e,n){if(void 0===d)return function(e){return p=e,d=setTimeout(w,t),m?v(e):u}(h);if(f)return clearTimeout(d),d=setTimeout(w,t),v(h)}return void 0===d&&(d=setTimeout(w,t)),u}return t=a(t)||0,r(n)&&(m=!!n.leading,c=(f="maxWait"in n)?i(a(n.maxWait)||0,t):c,g="trailing"in n?!!n.trailing:g),x.cancel=function(){void 0!==d&&clearTimeout(d),p=0,l=h=A=d=void 0},x.flush=function(){return void 0===d?u:b(s())},x}},1454:(e,t,n)=>{var r=n(2269),s=n(4008),a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,i=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=s(e))&&e.replace(a,r).replace(i,"")}},2279:e=>{var t=Array.isArray;e.exports=t},4567:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},9248:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},184:(e,t,n)=>{var r=n(2022),s=n(9248);e.exports=function(e){return"symbol"==typeof e||s(e)&&"[object Symbol]"==r(e)}},4378:(e,t,n)=>{var r=n(4759);e.exports=function(){return r.Date.now()}},2588:(e,t,n)=>{var r=n(6914),s=n(4567),a=n(184),i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,A=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(s(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=s(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=o.test(e);return n||l.test(e)?A(e.slice(2),n?2:8):i.test(e)?NaN:+e}},4008:(e,t,n)=>{var r=n(1582);e.exports=function(e){return null==e?"":r(e)}},3414:(e,t,n)=>{var r=n(6689)("toUpperCase");e.exports=r},1047:(e,t,n)=>{var r=n(1443),s=n(8300),a=n(4008),i=n(3315);e.exports=function(e,t,n){return e=a(e),void 0===(t=n?void 0:t)?s(e)?i(e):r(e):e.match(t)||[]}},5181:e=>{"use strict";var t={};function n(e,r,s){var a,i,o,l,A,c="";for("string"!==typeof r&&(s=r,r=n.defaultChars),"undefined"===typeof s&&(s=!0),A=function(e){var n,r,s=t[e];if(s)return s;for(s=t[e]=[],n=0;n<128;n++)r=String.fromCharCode(n),/^[0-9a-z]$/i.test(r)?s.push(r):s.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2));for(n=0;n<e.length;n++)s[e.charCodeAt(n)]=e[n];return s}(r),a=0,i=e.length;a<i;a++)if(o=e.charCodeAt(a),s&&37===o&&a+2<i&&/^[0-9a-f]{2}$/i.test(e.slice(a+1,a+3)))c+=e.slice(a,a+3),a+=2;else if(o<128)c+=A[o];else if(o>=55296&&o<=57343){if(o>=55296&&o<=56319&&a+1<i&&(l=e.charCodeAt(a+1))>=56320&&l<=57343){c+=encodeURIComponent(e[a]+e[a+1]),a++;continue}c+="%EF%BF%BD"}else c+=encodeURIComponent(e[a]);return c}n.defaultChars=";/?:@&=+$,-_.!~*'()#",n.componentChars="-_.!~*'()",e.exports=n},6705:(e,t,n)=>{var r;!function(s,a,i){if(s){for(var o,l={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},A={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},c={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},u={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},d=1;d<20;++d)l[111+d]="f"+d;for(d=0;d<=9;++d)l[d+96]=d.toString();y.prototype.bind=function(e,t,n){var r=this;return e=e instanceof Array?e:[e],r._bindMultiple.call(r,e,t,n),r},y.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},y.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},y.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},y.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(v(t,this.target))return!1;if("composedPath"in e&&"function"===typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},y.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},y.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(l[t]=e[t]);o=null},y.init=function(){var e=y(a);for(var t in e)"_"!==t.charAt(0)&&(y[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},y.init(),s.Mousetrap=y,e.exports&&(e.exports=y),void 0===(r=function(){return y}.call(t,n,t,e))||(e.exports=r)}function h(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function p(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return l[e.which]?l[e.which]:A[e.which]?A[e.which]:String.fromCharCode(e.which).toLowerCase()}function m(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function f(e,t,n){return n||(n=function(){if(!o)for(var e in o={},l)e>95&&e<112||l.hasOwnProperty(e)&&(o[l[e]]=e);return o}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function g(e,t){var n,r,s,a=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),s=0;s<n.length;++s)r=n[s],u[r]&&(r=u[r]),t&&"keypress"!=t&&c[r]&&(r=c[r],a.push("shift")),m(r)&&a.push(r);return{key:r,modifiers:a,action:t=f(r,a,t)}}function v(e,t){return null!==e&&e!==a&&(e===t||v(e.parentNode,t))}function y(e){var t=this;if(e=e||a,!(t instanceof y))return new y(e);t.target=e,t._callbacks={},t._directMap={};var n,r={},s=!1,i=!1,o=!1;function l(e){e=e||{};var t,n=!1;for(t in r)e[t]?n=!0:r[t]=0;n||(o=!1)}function A(e,n,s,a,i,o){var l,A,c,u,d=[],h=s.type;if(!t._callbacks[e])return[];for("keyup"==h&&m(e)&&(n=[e]),l=0;l<t._callbacks[e].length;++l)if(A=t._callbacks[e][l],(a||!A.seq||r[A.seq]==A.level)&&h==A.action&&("keypress"==h&&!s.metaKey&&!s.ctrlKey||(c=n,u=A.modifiers,c.sort().join(",")===u.sort().join(",")))){var p=!a&&A.combo==i,f=a&&A.seq==a&&A.level==o;(p||f)&&t._callbacks[e].splice(l,1),d.push(A)}return d}function c(e,n,r,s){t.stopCallback(n,n.target||n.srcElement,r,s)||!1===e(n,r)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(n))}function u(e){"number"!==typeof e.which&&(e.which=e.keyCode);var n=p(e);n&&("keyup"!=e.type||s!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):s=!1)}function d(e,t,a,i){function A(t){return function(){o=t,++r[e],clearTimeout(n),n=setTimeout(l,1e3)}}function u(t){c(a,t,e),"keyup"!==i&&(s=p(t)),setTimeout(l,10)}r[e]=0;for(var d=0;d<t.length;++d){var h=d+1===t.length?u:A(i||g(t[d+1]).action);f(t[d],h,i,e,d)}}function f(e,n,r,s,a){t._directMap[e+":"+r]=n;var i,o=(e=e.replace(/\s+/g," ")).split(" ");o.length>1?d(e,o,n,r):(i=g(e,r),t._callbacks[i.key]=t._callbacks[i.key]||[],A(i.key,i.modifiers,{type:i.action},s,e,a),t._callbacks[i.key][s?"unshift":"push"]({callback:n,modifiers:i.modifiers,action:i.action,seq:s,level:a,combo:e}))}t._handleKey=function(e,t,n){var r,s=A(e,t,n),a={},u=0,d=!1;for(r=0;r<s.length;++r)s[r].seq&&(u=Math.max(u,s[r].level));for(r=0;r<s.length;++r)if(s[r].seq){if(s[r].level!=u)continue;d=!0,a[s[r].seq]=1,c(s[r].callback,n,s[r].combo,s[r].seq)}else d||c(s[r].callback,n,s[r].combo);var h="keypress"==n.type&&i;n.type!=o||m(e)||h||l(a),i=d&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)f(e[r],t,n)},h(e,"keypress",u),h(e,"keydown",u),h(e,"keyup",u)}}("undefined"!==typeof window?window:null,"undefined"!==typeof window?document:null)},6470:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(s){return!1}}()?Object.assign:function(e,s){for(var a,i,o=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var A in a=Object(arguments[l]))n.call(a,A)&&(o[A]=a[A]);if(t){i=t(a);for(var c=0;c<i.length;c++)r.call(a,i[c])&&(o[i[c]]=a[i[c]])}}return o}},3488:(e,t,n)=>{"use strict";var r=n(3959);function s(){}function a(){}a.resetWarningCache=s,e.exports=function(){function e(e,t,n,s,a,i){if(i!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:s};return n.PropTypes=n,n}},1942:(e,t,n)=>{e.exports=n(3488)()},3959:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},8240:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.DebounceInput=void 0;var s=o(n(9950)),a=o(n(4267)),i=["element","onChange","value","minLength","debounceTimeout","forceNotifyByEnter","forceNotifyOnBlur","onKeyDown","onBlur","inputRef"];function o(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(s,arguments,a)}else n=s.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}(this,n)}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(A,e);var t,n,r,o=h(A);function A(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,A),f(p(t=o.call(this,e)),"onChange",(function(e){e.persist();var n=t.state.value,r=t.props.minLength;t.setState({value:e.target.value},(function(){var s=t.state.value;s.length>=r?t.notify(e):n.length>s.length&&t.notify(c(c({},e),{},{target:c(c({},e.target),{},{value:""})}))}))})),f(p(t),"onKeyDown",(function(e){"Enter"===e.key&&t.forceNotify(e);var n=t.props.onKeyDown;n&&(e.persist(),n(e))})),f(p(t),"onBlur",(function(e){t.forceNotify(e);var n=t.props.onBlur;n&&(e.persist(),n(e))})),f(p(t),"createNotifier",(function(e){if(e<0)t.notify=function(){return null};else if(0===e)t.notify=t.doNotify;else{var n=(0,a.default)((function(e){t.isDebouncing=!1,t.doNotify(e)}),e);t.notify=function(e){t.isDebouncing=!0,n(e)},t.flush=function(){return n.flush()},t.cancel=function(){t.isDebouncing=!1,n.cancel()}}})),f(p(t),"doNotify",(function(){t.props.onChange.apply(void 0,arguments)})),f(p(t),"forceNotify",(function(e){var n=t.props.debounceTimeout;if(t.isDebouncing||!(n>0)){t.cancel&&t.cancel();var r=t.state.value,s=t.props.minLength;r.length>=s?t.doNotify(e):t.doNotify(c(c({},e),{},{target:c(c({},e.target),{},{value:r})}))}})),t.isDebouncing=!1,t.state={value:"undefined"===typeof e.value||null===e.value?"":e.value};var n=t.props.debounceTimeout;return t.createNotifier(n),t}return t=A,(n=[{key:"componentDidUpdate",value:function(e){if(!this.isDebouncing){var t=this.props,n=t.value,r=t.debounceTimeout,s=e.debounceTimeout,a=e.value,i=this.state.value;"undefined"!==typeof n&&a!==n&&i!==n&&this.setState({value:n}),r!==s&&this.createNotifier(r)}}},{key:"componentWillUnmount",value:function(){this.flush&&this.flush()}},{key:"render",value:function(){var e,t,n=this.props,r=n.element,a=(n.onChange,n.value,n.minLength,n.debounceTimeout,n.forceNotifyByEnter),o=n.forceNotifyOnBlur,A=n.onKeyDown,u=n.onBlur,d=n.inputRef,h=l(n,i),p=this.state.value;e=a?{onKeyDown:this.onKeyDown}:A?{onKeyDown:A}:{},t=o?{onBlur:this.onBlur}:u?{onBlur:u}:{};var m=d?{ref:d}:{};return s.default.createElement(r,c(c(c(c({},h),{},{onChange:this.onChange,value:p},e),t),m))}}])&&u(t.prototype,n),r&&u(t,r),Object.defineProperty(t,"prototype",{writable:!1}),A}(s.default.PureComponent);t.DebounceInput=g,f(g,"defaultProps",{element:"input",type:"text",onKeyDown:void 0,onBlur:void 0,value:void 0,minLength:0,debounceTimeout:100,forceNotifyByEnter:!0,forceNotifyOnBlur:!0,inputRef:void 0})},3639:(e,t,n)=>{"use strict";var r=n(8240).DebounceInput;r.DebounceInput=r,e.exports=r},8345:(e,t,n)=>{"use strict";var r=n(9950),s=n(6470),a=n(5340);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(i(227));var o=new Set,l={};function A(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},m={};function f(e,t,n,r,s,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new f(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new f(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new f(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new f(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new f(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0===s.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!h.call(m,e)||!h.call(p,e)&&(d.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new f(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,B=60106,C=60107,k=60108,S=60114,E=60109,j=60110,F=60112,I=60113,Q=60120,M=60115,U=60116,N=60121,T=60128,D=60129,H=60130,L=60131;if("function"===typeof Symbol&&Symbol.for){var P=Symbol.for;x=P("react.element"),B=P("react.portal"),C=P("react.fragment"),k=P("react.strict_mode"),S=P("react.profiler"),E=P("react.provider"),j=P("react.context"),F=P("react.forward_ref"),I=P("react.suspense"),Q=P("react.suspense_list"),M=P("react.memo"),U=P("react.lazy"),N=P("react.block"),P("react.scope"),T=P("react.opaque.id"),D=P("react.debug_trace_mode"),H=P("react.offscreen"),L=P("react.legacy_hidden")}var O,R="function"===typeof Symbol&&Symbol.iterator;function V(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}function K(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var z=!1;function _(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var s=l.stack.split("\n"),a=r.stack.split("\n"),i=s.length-1,o=a.length-1;1<=i&&0<=o&&s[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(s[i]!==a[o]){if(1!==i||1!==o)do{if(i--,0>--o||s[i]!==a[o])return"\n"+s[i].replace(" at new "," at ")}while(1<=i&&0<=o);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?K(e):""}function G(e){switch(e.tag){case 5:return K(e.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return e=_(e.type,!1);case 11:return e=_(e.type.render,!1);case 22:return e=_(e.type._render,!1);case 1:return e=_(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case B:return"Portal";case S:return"Profiler";case k:return"StrictMode";case I:return"Suspense";case Q:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case j:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case F:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case M:return W(e.type);case N:return W(e._render);case U:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return s({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?se(e,t.type,n):t.hasOwnProperty("defaultValue")&&se(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function se(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=s({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ie(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function oe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return s({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function Ae(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var ue={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,me,fe=(me=function(e,t){if(e.namespaceURI!==ue.svg||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ve={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ye=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ve.hasOwnProperty(e)&&ve[e]?(""+t).trim():t+"px"}function be(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(ve).forEach((function(e){ye.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ve[t]=ve[e]}))}));var xe=s({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Be(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ee=null,je=null;function Fe(e){if(e=ns(e)){if("function"!==typeof Se)throw Error(i(280));var t=e.stateNode;t&&(t=ss(t),Se(e.stateNode,e.type,t))}}function Ie(e){Ee?je?je.push(e):je=[e]:Ee=e}function Qe(){if(Ee){var e=Ee,t=je;if(je=Ee=null,Fe(e),t)for(e=0;e<t.length;e++)Fe(t[e])}}function Me(e,t){return e(t)}function Ue(e,t,n,r,s){return e(t,n,r,s)}function Ne(){}var Te=Me,De=!1,He=!1;function Le(){null===Ee&&null===je||(Ne(),Qe())}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=ss(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Oe=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(me){Oe=!1}function Ve(e,t,n,r,s,a,i,o,l){var A=Array.prototype.slice.call(arguments,3);try{t.apply(n,A)}catch(c){this.onError(c)}}var Ke=!1,ze=null,_e=!1,Ge=null,We={onError:function(e){Ke=!0,ze=e}};function Ye(e,t,n,r,s,a,i,o,l){Ke=!1,ze=null,Ve.apply(We,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(qe(e)!==e)throw Error(i(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(r=s.return)){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Je(s),e;if(a===r)return Je(s),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function $e(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,st=!1,at=[],it=null,ot=null,lt=null,At=new Map,ct=new Map,ut=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ht(e,t,n,r,s){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:s,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":it=null;break;case"dragenter":case"dragleave":ot=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ct.delete(t.pointerId)}}function mt(e,t,n,r,s,a){return null===e||e.nativeEvent!==a?(e=ht(t,n,r,s,a),null!==t&&(null!==(t=ns(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function ft(e){var t=ts(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ns(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function vt(e,t,n){gt(e)&&n.delete(t)}function yt(){for(st=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ns(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==it&&gt(it)&&(it=null),null!==ot&&gt(ot)&&(ot=null),null!==lt&&gt(lt)&&(lt=null),At.forEach(vt),ct.forEach(vt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,st||(st=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,yt)))}function bt(e){function t(t){return wt(t,e)}if(0<at.length){wt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==it&&wt(it,e),null!==ot&&wt(ot,e),null!==lt&&wt(lt,e),At.forEach(t),ct.forEach(t),n=0;n<ut.length;n++)(r=ut[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ut.length&&null===(n=ut[0]).blockedOn;)ft(n),null===n.blockedOn&&ut.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Bt={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},Ct={},kt={};function St(e){if(Ct[e])return Ct[e];if(!Bt[e])return e;var t,n=Bt[e];for(t in n)if(n.hasOwnProperty(t)&&t in kt)return Ct[e]=n[t];return e}u&&(kt=document.createElement("div").style,"AnimationEvent"in window||(delete Bt.animationend.animation,delete Bt.animationiteration.animation,delete Bt.animationstart.animation),"TransitionEvent"in window||delete Bt.transitionend.transition);var Et=St("animationend"),jt=St("animationiteration"),Ft=St("animationstart"),It=St("transitionend"),Qt=new Map,Mt=new Map,Ut=["abort","abort",Et,"animationEnd",jt,"animationIteration",Ft,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",It,"transitionEnd","waiting","waiting"];function Nt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],s=e[n+1];s="on"+(s[0].toUpperCase()+s.slice(1)),Mt.set(r,t),Qt.set(r,s),A(s,[r])}}(0,a.unstable_now)();var Tt=8;function Dt(e){if(0!==(1&e))return Tt=15,1;if(0!==(2&e))return Tt=14,2;if(0!==(4&e))return Tt=13,4;var t=24&e;return 0!==t?(Tt=12,t):0!==(32&e)?(Tt=11,32):0!==(t=192&e)?(Tt=10,t):0!==(256&e)?(Tt=9,256):0!==(t=3584&e)?(Tt=8,t):0!==(4096&e)?(Tt=7,4096):0!==(t=4186112&e)?(Tt=6,t):0!==(t=62914560&e)?(Tt=5,t):67108864&e?(Tt=4,67108864):0!==(134217728&e)?(Tt=3,134217728):0!==(t=805306368&e)?(Tt=2,t):0!==(1073741824&e)?(Tt=1,1073741824):(Tt=8,e)}function Ht(e,t){var n=e.pendingLanes;if(0===n)return Tt=0;var r=0,s=0,a=e.expiredLanes,i=e.suspendedLanes,o=e.pingedLanes;if(0!==a)r=a,s=Tt=15;else if(0!==(a=134217727&n)){var l=a&~i;0!==l?(r=Dt(l),s=Tt):0!==(o&=a)&&(r=Dt(o),s=Tt)}else 0!==(a=n&~i)?(r=Dt(a),s=Tt):0!==o&&(r=Dt(o),s=Tt);if(0===r)return 0;if(r=n&((0>(r=31-Kt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&i)){if(Dt(t),s<=Tt)return t;Tt=s}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-Kt(t)),r|=e[n],t&=~s;return r}function Lt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Pt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ot(24&~t))?Pt(10,t):e;case 10:return 0===(e=Ot(192&~t))?Pt(8,t):e;case 8:return 0===(e=Ot(3584&~t))&&(0===(e=Ot(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ot(805306368&~t))&&(t=268435456),t}throw Error(i(358,e))}function Ot(e){return e&-e}function Rt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Kt(t)]=n}var Kt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(zt(e)/_t|0)|0},zt=Math.log,_t=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Wt=a.unstable_runWithPriority,Yt=!0;function qt(e,t,n,r){De||Ne();var s=Jt,a=De;De=!0;try{Ue(s,e,t,n,r)}finally{(De=a)||Le()}}function Xt(e,t,n,r){Wt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var s;if(Yt)if((s=0===(4&t))&&0<at.length&&-1<dt.indexOf(e))e=ht(null,e,t,n,r),at.push(e);else{var a=Zt(e,t,n,r);if(null===a)s&&pt(e,r);else{if(s){if(-1<dt.indexOf(e))return e=ht(a,e,t,n,r),void at.push(e);if(function(e,t,n,r,s){switch(t){case"focusin":return it=mt(it,e,t,n,r,s),!0;case"dragenter":return ot=mt(ot,e,t,n,r,s),!0;case"mouseover":return lt=mt(lt,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return At.set(a,mt(At.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,ct.set(a,mt(ct.get(a)||null,e,t,n,r,s)),!0}return!1}(a,e,t,n,r))return;pt(e,r)}Nr(e,t,r,null,n)}}}function Zt(e,t,n,r){var s=ke(r);if(null!==(s=ts(s))){var a=qe(s);if(null===a)s=null;else{var i=a.tag;if(13===i){if(null!==(s=Xe(a)))return s;s=null}else if(3===i){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Nr(e,t,r,s,n),null}var $t=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,s="value"in $t?$t.value:$t.textContent,a=s.length;for(e=0;e<r&&n[e]===s[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===s[a-t];t++);return tn=s.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function sn(){return!0}function an(){return!1}function on(e){function t(t,n,r,s,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(s):s[i]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?sn:an,this.isPropagationStopped=an,this}return s(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=sn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=sn)},persist:function(){},isPersistent:sn}),t}var ln,An,cn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=on(un),hn=s({},un,{view:0,detail:0}),pn=on(hn),mn=s({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(ln=e.screenX-cn.screenX,An=e.screenY-cn.screenY):An=ln=0,cn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:An}}),fn=on(mn),gn=on(s({},mn,{dataTransfer:0})),vn=on(s({},hn,{relatedTarget:0})),yn=on(s({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=s({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(wn),xn=on(s({},un,{data:0})),Bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function En(){return Sn}var jn=s({},hn,{key:function(e){if(e.key){var t=Bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Fn=on(jn),In=on(s({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Qn=on(s({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Mn=on(s({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Un=s({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=on(Un),Tn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Hn=null;u&&"documentMode"in document&&(Hn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Hn,Pn=u&&(!Dn||Hn&&8<Hn&&11>=Hn),On=String.fromCharCode(32),Rn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Tn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var _n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!_n[e.type]:"textarea"===t}function Wn(e,t,n,r){Ie(r),0<(t=Dr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,qn=null;function Xn(e){jr(e,0)}function Jn(e){if(J(rs(e)))return e}function Zn(e,t){if("change"===e)return t}var $n=!1;if(u){var er;if(u){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"===typeof nr.oninput}er=tr}else er=!1;$n=er&&(!document.documentMode||9<document.documentMode)}function rr(){Yn&&(Yn.detachEvent("onpropertychange",sr),qn=Yn=null)}function sr(e){if("value"===e.propertyName&&Jn(qn)){var t=[];if(Wn(t,qn,e,ke(e)),e=Xn,De)e(t);else{De=!0;try{Me(e,t)}finally{De=!1,Le()}}}}function ar(e,t,n){"focusin"===e?(rr(),qn=n,(Yn=t).attachEvent("onpropertychange",sr)):"focusout"===e&&rr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(qn)}function or(e,t){if("click"===e)return Jn(t)}function lr(e,t){if("input"===e||"change"===e)return Jn(t)}var Ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},cr=Object.prototype.hasOwnProperty;function ur(e,t){if(Ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!cr.call(t,n[r])||!Ar(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=u&&"documentMode"in document&&11>=document.documentMode,vr=null,yr=null,wr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==Z(r)||("selectionStart"in(r=vr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&ur(wr,r)||(wr=r,0<(r=Dr(yr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}Nt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Nt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Nt(Ut,2);for(var Br="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Cr=0;Cr<Br.length;Cr++)Mt.set(Br[Cr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),A("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),A("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),A("onBeforeInput",["compositionend","keypress","textInput","paste"]),A("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),A("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),A("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function Er(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,a,o,l,A){if(Ye.apply(this,arguments),Ke){if(!Ke)throw Error(i(198));var c=ze;Ke=!1,ze=null,_e||(_e=!0,Ge=c)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,A=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break e;Er(s,o,A),a=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,A=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break e;Er(s,o,A),a=l}}}if(_e)throw e=Ge,_e=!1,Ge=null,e}function Fr(e,t){var n=as(t),r=e+"__bubble";n.has(r)||(Ur(t,e,2,!1),n.add(r))}var Ir="_reactListening"+Math.random().toString(36).slice(2);function Qr(e){e[Ir]||(e[Ir]=!0,o.forEach((function(t){Sr.has(t)||Mr(t,!1,e,null),Mr(t,!0,e,null)})))}function Mr(e,t,n,r){var s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;s|=2,a=r}var i=as(a),o=e+"__"+(t?"capture":"bubble");i.has(o)||(t&&(s|=4),Ur(a,e,s,t),i.add(o))}function Ur(e,t,n,r){var s=Mt.get(t);switch(void 0===s?2:s){case 0:s=qt;break;case 1:s=Xt;break;default:s=Jt}n=s.bind(null,t,n,e),s=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Nr(e,t,n,r,s){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;i=i.return}for(;null!==o;){if(null===(i=ts(o)))return;if(5===(l=i.tag)||6===l){r=a=i;continue e}o=o.parentNode}}r=r.return}!function(e,t,n){if(He)return e(t,n);He=!0;try{return Te(e,t,n)}finally{He=!1,Le()}}((function(){var r=a,s=ke(n),i=[];e:{var o=Qt.get(e);if(void 0!==o){var l=dn,A=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":l=Fn;break;case"focusin":A="focus",l=vn;break;case"focusout":A="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Qn;break;case Et:case jt:case Ft:l=yn;break;case It:l=Mn;break;case"scroll":l=pn;break;case"wheel":l=Nn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var c=0!==(4&t),u=!c&&"scroll"===e,d=c?null!==o?o+"Capture":null:o;c=[];for(var h,p=r;null!==p;){var m=(h=p).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==d&&(null!=(m=Pe(p,d))&&c.push(Tr(p,m,h)))),u)break;p=p.return}0<c.length&&(o=new l(o,A,null,n,s),i.push({event:o,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(A=n.relatedTarget||n.fromElement)||!ts(A)&&!A[$r])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(A=(A=n.relatedTarget||n.toElement)?ts(A):null)&&(A!==(u=qe(A))||5!==A.tag&&6!==A.tag)&&(A=null)):(l=null,A=r),l!==A)){if(c=fn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,m="onPointerLeave",d="onPointerEnter",p="pointer"),u=null==l?o:rs(l),h=null==A?o:rs(A),(o=new c(m,p+"leave",l,n,s)).target=u,o.relatedTarget=h,m=null,ts(s)===r&&((c=new c(d,p+"enter",A,n,s)).target=h,c.relatedTarget=u,m=c),u=m,l&&A)e:{for(d=A,p=0,h=c=l;h;h=Hr(h))p++;for(h=0,m=d;m;m=Hr(m))h++;for(;0<p-h;)c=Hr(c),p--;for(;0<h-p;)d=Hr(d),h--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Hr(c),d=Hr(d)}c=null}else c=null;null!==l&&Lr(i,o,l,c,!1),null!==A&&null!==u&&Lr(i,u,A,c,!0)}if("select"===(l=(o=r?rs(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var f=Zn;else if(Gn(o))if($n)f=lr;else{f=ir;var g=ar}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(f=or);switch(f&&(f=f(e,r))?Wn(i,f,n,s):(g&&g(e,o,r),"focusout"===e&&(g=o._wrapperState)&&g.controlled&&"number"===o.type&&se(o,"number",o.value)),g=r?rs(r):window,e){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(vr=g,yr=r,wr=null);break;case"focusout":wr=yr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(i,n,s);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":xr(i,n,s)}var v;if(Dn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else zn?Vn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Pn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==y?"onCompositionEnd"===y&&zn&&(v=nn()):(en="value"in($t=s)?$t.value:$t.textContent,zn=!0)),0<(g=Dr(r,y)).length&&(y=new xn(y,e,null,n,s),i.push({event:y,listeners:g}),v?y.data=v:null!==(v=Kn(n))&&(y.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return Kn(t);case"keypress":return 32!==t.which?null:(Rn=!0,On);case"textInput":return(e=t.data)===On&&Rn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=nn(),tn=en=$t=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Dr(r,"onBeforeInput")).length&&(s=new xn("onBeforeInput","beforeinput",null,n,s),i.push({event:s,listeners:r}),s.data=v))}jr(i,t)}))}function Tr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Dr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,a=s.stateNode;5===s.tag&&null!==a&&(s=a,null!=(a=Pe(e,n))&&r.unshift(Tr(e,a,s)),null!=(a=Pe(e,t))&&r.push(Tr(e,a,s))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Lr(e,t,n,r,s){for(var a=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,A=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==A&&(o=A,s?null!=(l=Pe(n,a))&&i.unshift(Tr(n,l,o)):s||null!=(l=Pe(n,a))&&i.push(Tr(n,l,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}function Pr(){}var Or=null,Rr=null;function Vr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Kr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var zr="function"===typeof setTimeout?setTimeout:void 0,_r="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Wr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var qr=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,$r="__reactContainer$"+Xr,es="__reactEvents$"+Xr;function ts(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$r]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Jr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ns(e){return!(e=e[Jr]||e[$r])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function rs(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function ss(e){return e[Zr]||null}function as(e){var t=e[es];return void 0===t&&(t=e[es]=new Set),t}var is=[],os=-1;function ls(e){return{current:e}}function As(e){0>os||(e.current=is[os],is[os]=null,os--)}function cs(e,t){os++,is[os]=e.current,e.current=t}var us={},ds=ls(us),hs=ls(!1),ps=us;function ms(e,t){var n=e.type.contextTypes;if(!n)return us;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,a={};for(s in n)a[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function fs(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gs(){As(hs),As(ds)}function vs(e,t,n){if(ds.current!==us)throw Error(i(168));cs(ds,t),cs(hs,n)}function ys(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(i(108,W(t)||"Unknown",a));return s({},n,r)}function ws(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||us,ps=ds.current,cs(ds,e),cs(hs,hs.current),!0}function bs(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=ys(e,t,ps),r.__reactInternalMemoizedMergedChildContext=e,As(hs),As(ds),cs(ds,e)):As(hs),cs(hs,n)}var xs=null,Bs=null,Cs=a.unstable_runWithPriority,ks=a.unstable_scheduleCallback,Ss=a.unstable_cancelCallback,Es=a.unstable_shouldYield,js=a.unstable_requestPaint,Fs=a.unstable_now,Is=a.unstable_getCurrentPriorityLevel,Qs=a.unstable_ImmediatePriority,Ms=a.unstable_UserBlockingPriority,Us=a.unstable_NormalPriority,Ns=a.unstable_LowPriority,Ts=a.unstable_IdlePriority,Ds={},Hs=void 0!==js?js:function(){},Ls=null,Ps=null,Os=!1,Rs=Fs(),Vs=1e4>Rs?Fs:function(){return Fs()-Rs};function Ks(){switch(Is()){case Qs:return 99;case Ms:return 98;case Us:return 97;case Ns:return 96;case Ts:return 95;default:throw Error(i(332))}}function zs(e){switch(e){case 99:return Qs;case 98:return Ms;case 97:return Us;case 96:return Ns;case 95:return Ts;default:throw Error(i(332))}}function _s(e,t){return e=zs(e),Cs(e,t)}function Gs(e,t,n){return e=zs(e),ks(e,t,n)}function Ws(){if(null!==Ps){var e=Ps;Ps=null,Ss(e)}Ys()}function Ys(){if(!Os&&null!==Ls){Os=!0;var e=0;try{var t=Ls;_s(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ls=null}catch(n){throw null!==Ls&&(Ls=Ls.slice(e+1)),ks(Qs,Ws),n}finally{Os=!1}}}var qs=b.ReactCurrentBatchConfig;function Xs(e,t){if(e&&e.defaultProps){for(var n in t=s({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Js=ls(null),Zs=null,$s=null,ea=null;function ta(){ea=$s=Zs=null}function na(e){var t=Js.current;As(Js),e.type._context._currentValue=t}function ra(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function sa(e,t){Zs=e,ea=$s=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ti=!0),e.firstContext=null)}function aa(e,t){if(ea!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ea=e,t=1073741823),t={context:e,observedBits:t,next:null},null===$s){if(null===Zs)throw Error(i(308));$s=t,Zs.dependencies={lanes:0,firstContext:t,responders:null}}else $s=$s.next=t;return e._currentValue}var ia=!1;function oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function la(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Aa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ca(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ua(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?s=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?s=a=t:a=a.next=t}else s=a=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ia=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var A=l,c=A.next;A.next=null,null===o?i=c:o.next=c,o=A;var u=e.alternate;if(null!==u){var d=(u=u.updateQueue).lastBaseUpdate;d!==o&&(null===d?u.firstBaseUpdate=c:d.next=c,u.lastBaseUpdate=A)}}if(null!==i){for(d=a.baseState,o=0,u=c=A=null;;){l=i.lane;var h=i.eventTime;if((r&l)===l){null!==u&&(u=u.next={eventTime:h,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var p=e,m=i;switch(l=t,h=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(h,d,l);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(l="function"===typeof(p=m.payload)?p.call(h,d,l):p)||void 0===l)break e;d=s({},d,l);break e;case 2:ia=!0}}null!==i.callback&&(e.flags|=32,null===(l=a.effects)?a.effects=[i]:l.push(i))}else h={eventTime:h,lane:l,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===u?(c=u=h,A=d):u=u.next=h,o|=l;if(null===(i=i.next)){if(null===(l=a.shared.pending))break;i=l.next,l.next=null,a.lastBaseUpdate=l,a.shared.pending=null}}null===u&&(A=d),a.baseState=A,a.firstBaseUpdate=c,a.lastBaseUpdate=u,Ro|=o,e.lanes=o,e.memoizedState=d}}function ha(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(i(191,s));s.call(r)}}}var pa=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:s({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fa={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=dl(),s=hl(e),a=Aa(r,s);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ca(e,a),pl(e,s,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=dl(),s=hl(e),a=Aa(r,s);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ca(e,a),pl(e,s,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dl(),r=hl(e),s=Aa(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),ca(e,s),pl(e,r,n)}};function ga(e,t,n,r,s,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(s,a))}function va(e,t,n){var r=!1,s=us,a=t.contextType;return"object"===typeof a&&null!==a?a=aa(a):(s=fs(t)?ps:ds.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?ms(e,s):us),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=fa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function ya(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fa.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs=pa,oa(e);var a=t.contextType;"object"===typeof a&&null!==a?s.context=aa(a):(a=fs(t)?ps:ds.current,s.context=ms(e,a)),da(e,n,s,r),s.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&fa.enqueueReplaceState(s,s.state,null),da(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4)}var ba=Array.isArray;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=r.refs;t===pa&&(t=r.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Ba(e,t){if("textarea"!==e.type)throw Error(i(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ca(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Gl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function o(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Xl(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function A(e,t,n,r){return null!==t&&t.elementType===n.type?((r=s(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Wl(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Jl(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function u(e,t,n,r,a){return null===t||7!==t.tag?((t=Yl(n,e.mode,r,a)).return=e,t):((t=s(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Xl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Wl(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case B:return(t=Jl(t,e.mode,n)).return=e,t}if(ba(t)||V(t))return(t=Yl(t,e.mode,n,null)).return=e,t;Ba(e,t)}return null}function h(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===s?n.type===C?u(e,t,n.props.children,r,s):A(e,t,n,r):null;case B:return n.key===s?c(e,t,n,r):null}if(ba(n)||V(n))return null!==s?null:u(e,t,n,r,null);Ba(e,n)}return null}function p(e,t,n,r,s){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===C?u(t,e,r.props.children,s,r.key):A(t,e,r,s);case B:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s)}if(ba(r)||V(r))return u(t,e=e.get(n)||null,r,s,null);Ba(t,r)}return null}function m(s,i,o,l){for(var A=null,c=null,u=i,m=i=0,f=null;null!==u&&m<o.length;m++){u.index>m?(f=u,u=null):f=u.sibling;var g=h(s,u,o[m],l);if(null===g){null===u&&(u=f);break}e&&u&&null===g.alternate&&t(s,u),i=a(g,i,m),null===c?A=g:c.sibling=g,c=g,u=f}if(m===o.length)return n(s,u),A;if(null===u){for(;m<o.length;m++)null!==(u=d(s,o[m],l))&&(i=a(u,i,m),null===c?A=u:c.sibling=u,c=u);return A}for(u=r(s,u);m<o.length;m++)null!==(f=p(u,s,m,o[m],l))&&(e&&null!==f.alternate&&u.delete(null===f.key?m:f.key),i=a(f,i,m),null===c?A=f:c.sibling=f,c=f);return e&&u.forEach((function(e){return t(s,e)})),A}function f(s,o,l,A){var c=V(l);if("function"!==typeof c)throw Error(i(150));if(null==(l=c.call(l)))throw Error(i(151));for(var u=c=null,m=o,f=o=0,g=null,v=l.next();null!==m&&!v.done;f++,v=l.next()){m.index>f?(g=m,m=null):g=m.sibling;var y=h(s,m,v.value,A);if(null===y){null===m&&(m=g);break}e&&m&&null===y.alternate&&t(s,m),o=a(y,o,f),null===u?c=y:u.sibling=y,u=y,m=g}if(v.done)return n(s,m),c;if(null===m){for(;!v.done;f++,v=l.next())null!==(v=d(s,v.value,A))&&(o=a(v,o,f),null===u?c=v:u.sibling=v,u=v);return c}for(m=r(s,m);!v.done;f++,v=l.next())null!==(v=p(m,s,f,v.value,A))&&(e&&null!==v.alternate&&m.delete(null===v.key?f:v.key),o=a(v,o,f),null===u?c=v:u.sibling=v,u=v);return e&&m.forEach((function(e){return t(s,e)})),c}return function(e,r,a,l){var A="object"===typeof a&&null!==a&&a.type===C&&null===a.key;A&&(a=a.props.children);var c="object"===typeof a&&null!==a;if(c)switch(a.$$typeof){case x:e:{for(c=a.key,A=r;null!==A;){if(A.key===c){if(7===A.tag){if(a.type===C){n(e,A.sibling),(r=s(A,a.props.children)).return=e,e=r;break e}}else if(A.elementType===a.type){n(e,A.sibling),(r=s(A,a.props)).ref=xa(e,A,a),r.return=e,e=r;break e}n(e,A);break}t(e,A),A=A.sibling}a.type===C?((r=Yl(a.props.children,e.mode,l,a.key)).return=e,e=r):((l=Wl(a.type,a.key,a.props,null,e.mode,l)).ref=xa(e,r,a),l.return=e,e=l)}return o(e);case B:e:{for(A=a.key;null!==r;){if(r.key===A){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=s(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Jl(a,e.mode,l)).return=e,e=r}return o(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=s(r,a)).return=e,e=r):(n(e,r),(r=Xl(a,e.mode,l)).return=e,e=r),o(e);if(ba(a))return m(e,r,a,l);if(V(a))return f(e,r,a,l);if(c&&Ba(e,a),"undefined"===typeof a&&!A)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(i(152,W(e.type)||"Component"))}return n(e,r)}}var ka=Ca(!0),Sa=Ca(!1),Ea={},ja=ls(Ea),Fa=ls(Ea),Ia=ls(Ea);function Qa(e){if(e===Ea)throw Error(i(174));return e}function Ma(e,t){switch(cs(Ia,t),cs(Fa,e),cs(ja,Ea),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:he(null,"");break;default:t=he(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}As(ja),cs(ja,t)}function Ua(){As(ja),As(Fa),As(Ia)}function Na(e){Qa(Ia.current);var t=Qa(ja.current),n=he(t,e.type);t!==n&&(cs(Fa,e),cs(ja,n))}function Ta(e){Fa.current===e&&(As(ja),As(Fa))}var Da=ls(0);function Ha(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var La=null,Pa=null,Oa=!1;function Ra(e,t){var n=zl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Va(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ka(e){if(Oa){var t=Pa;if(t){var n=t;if(!Va(e,t)){if(!(t=Wr(n.nextSibling))||!Va(e,t))return e.flags=-1025&e.flags|2,Oa=!1,void(La=e);Ra(La,n)}La=e,Pa=Wr(t.firstChild)}else e.flags=-1025&e.flags|2,Oa=!1,La=e}}function za(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;La=e}function _a(e){if(e!==La)return!1;if(!Oa)return za(e),Oa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Kr(t,e.memoizedProps))for(t=Pa;t;)Ra(e,t),t=Wr(t.nextSibling);if(za(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Pa=Wr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Pa=null}}else Pa=La?Wr(e.stateNode.nextSibling):null;return!0}function Ga(){Pa=La=null,Oa=!1}var Wa=[];function Ya(){for(var e=0;e<Wa.length;e++)Wa[e]._workInProgressVersionPrimary=null;Wa.length=0}var qa=b.ReactCurrentDispatcher,Xa=b.ReactCurrentBatchConfig,Ja=0,Za=null,$a=null,ei=null,ti=!1,ni=!1;function ri(){throw Error(i(321))}function si(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ar(e[n],t[n]))return!1;return!0}function ai(e,t,n,r,s,a){if(Ja=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qa.current=null===e||null===e.memoizedState?Qi:Mi,e=n(r,s),ni){a=0;do{if(ni=!1,!(25>a))throw Error(i(301));a+=1,ei=$a=null,t.updateQueue=null,qa.current=Ui,e=n(r,s)}while(ni)}if(qa.current=Ii,t=null!==$a&&null!==$a.next,Ja=0,ei=$a=Za=null,ti=!1,t)throw Error(i(300));return e}function ii(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ei?Za.memoizedState=ei=e:ei=ei.next=e,ei}function oi(){if(null===$a){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=$a.next;var t=null===ei?Za.memoizedState:ei.next;if(null!==t)ei=t,$a=e;else{if(null===e)throw Error(i(310));e={memoizedState:($a=e).memoizedState,baseState:$a.baseState,baseQueue:$a.baseQueue,queue:$a.queue,next:null},null===ei?Za.memoizedState=ei=e:ei=ei.next=e}return ei}function li(e,t){return"function"===typeof t?t(e):t}function Ai(e){var t=oi(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=$a,s=r.baseQueue,a=n.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(null!==s){s=s.next,r=r.baseState;var l=o=a=null,A=s;do{var c=A.lane;if((Ja&c)===c)null!==l&&(l=l.next={lane:0,action:A.action,eagerReducer:A.eagerReducer,eagerState:A.eagerState,next:null}),r=A.eagerReducer===e?A.eagerState:e(r,A.action);else{var u={lane:c,action:A.action,eagerReducer:A.eagerReducer,eagerState:A.eagerState,next:null};null===l?(o=l=u,a=r):l=l.next=u,Za.lanes|=c,Ro|=c}A=A.next}while(null!==A&&A!==s);null===l?a=r:l.next=o,Ar(r,t.memoizedState)||(Ti=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ci(e){var t=oi(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{a=e(a,o.action),o=o.next}while(o!==s);Ar(a,t.memoizedState)||(Ti=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ui(e,t,n){var r=t._getVersion;r=r(t._source);var s=t._workInProgressVersionPrimary;if(null!==s?e=s===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,Wa.push(t))),e)return n(t._source);throw Wa.push(t),Error(i(350))}function di(e,t,n,r){var s=Uo;if(null===s)throw Error(i(349));var a=t._getVersion,o=a(t._source),l=qa.current,A=l.useState((function(){return ui(s,t,n)})),c=A[1],u=A[0];A=ei;var d=e.memoizedState,h=d.refs,p=h.getSnapshot,m=d.source;d=d.subscribe;var f=Za;return e.memoizedState={refs:h,source:t,subscribe:r},l.useEffect((function(){h.getSnapshot=n,h.setSnapshot=c;var e=a(t._source);if(!Ar(o,e)){e=n(t._source),Ar(u,e)||(c(e),e=hl(f),s.mutableReadLanes|=e&s.pendingLanes),e=s.mutableReadLanes,s.entangledLanes|=e;for(var r=s.entanglements,i=e;0<i;){var l=31-Kt(i),A=1<<l;r[l]|=e,i&=~A}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=hl(f);s.mutableReadLanes|=r&s.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),Ar(p,n)&&Ar(m,t)&&Ar(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:li,lastRenderedState:u}).dispatch=c=Fi.bind(null,Za,e),A.queue=e,A.baseQueue=null,u=ui(s,t,n),A.memoizedState=A.baseState=u),u}function hi(e,t,n){return di(oi(),e,t,n)}function pi(e){var t=ii();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:li,lastRenderedState:e}).dispatch=Fi.bind(null,Za,e),[t.memoizedState,e]}function mi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function fi(e){return e={current:e},ii().memoizedState=e}function gi(){return oi().memoizedState}function vi(e,t,n,r){var s=ii();Za.flags|=e,s.memoizedState=mi(1|t,n,void 0,void 0===r?null:r)}function yi(e,t,n,r){var s=oi();r=void 0===r?null:r;var a=void 0;if(null!==$a){var i=$a.memoizedState;if(a=i.destroy,null!==r&&si(r,i.deps))return void mi(t,n,a,r)}Za.flags|=e,s.memoizedState=mi(1|t,n,a,r)}function wi(e,t){return vi(516,4,e,t)}function bi(e,t){return yi(516,4,e,t)}function xi(e,t){return yi(4,2,e,t)}function Bi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ci(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,yi(4,2,Bi.bind(null,t,e),n)}function ki(){}function Si(e,t){var n=oi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&si(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ei(e,t){var n=oi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&si(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ji(e,t){var n=Ks();_s(98>n?98:n,(function(){e(!0)})),_s(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function Fi(e,t,n){var r=dl(),s=hl(e),a={lane:s,action:n,eagerReducer:null,eagerState:null,next:null},i=t.pending;if(null===i?a.next=a:(a.next=i.next,i.next=a),t.pending=a,i=e.alternate,e===Za||null!==i&&i===Za)ni=ti=!0;else{if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,l=i(o,n);if(a.eagerReducer=i,a.eagerState=l,Ar(l,o))return}catch(A){}pl(e,s,r)}}var Ii={readContext:aa,useCallback:ri,useContext:ri,useEffect:ri,useImperativeHandle:ri,useLayoutEffect:ri,useMemo:ri,useReducer:ri,useRef:ri,useState:ri,useDebugValue:ri,useDeferredValue:ri,useTransition:ri,useMutableSource:ri,useOpaqueIdentifier:ri,unstable_isNewReconciler:!1},Qi={readContext:aa,useCallback:function(e,t){return ii().memoizedState=[e,void 0===t?null:t],e},useContext:aa,useEffect:wi,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,vi(4,2,Bi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vi(4,2,e,t)},useMemo:function(e,t){var n=ii();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ii();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Fi.bind(null,Za,e),[r.memoizedState,e]},useRef:fi,useState:pi,useDebugValue:ki,useDeferredValue:function(e){var t=pi(e),n=t[0],r=t[1];return wi((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=pi(!1),t=e[0];return fi(e=ji.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ii();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},di(r,e,t,n)},useOpaqueIdentifier:function(){if(Oa){var e=!1,t=function(e){return{$$typeof:T,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(qr++).toString(36))),Error(i(355))})),n=pi(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,mi(5,(function(){n("r:"+(qr++).toString(36))}),void 0,null)),t}return pi(t="r:"+(qr++).toString(36)),t},unstable_isNewReconciler:!1},Mi={readContext:aa,useCallback:Si,useContext:aa,useEffect:bi,useImperativeHandle:Ci,useLayoutEffect:xi,useMemo:Ei,useReducer:Ai,useRef:gi,useState:function(){return Ai(li)},useDebugValue:ki,useDeferredValue:function(e){var t=Ai(li),n=t[0],r=t[1];return bi((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=Ai(li)[0];return[gi().current,e]},useMutableSource:hi,useOpaqueIdentifier:function(){return Ai(li)[0]},unstable_isNewReconciler:!1},Ui={readContext:aa,useCallback:Si,useContext:aa,useEffect:bi,useImperativeHandle:Ci,useLayoutEffect:xi,useMemo:Ei,useReducer:ci,useRef:gi,useState:function(){return ci(li)},useDebugValue:ki,useDeferredValue:function(e){var t=ci(li),n=t[0],r=t[1];return bi((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=ci(li)[0];return[gi().current,e]},useMutableSource:hi,useOpaqueIdentifier:function(){return ci(li)[0]},unstable_isNewReconciler:!1},Ni=b.ReactCurrentOwner,Ti=!1;function Di(e,t,n,r){t.child=null===e?Sa(t,null,n,r):ka(t,e.child,n,r)}function Hi(e,t,n,r,s){n=n.render;var a=t.ref;return sa(t,s),r=ai(e,t,n,r,a,s),null===e||Ti?(t.flags|=1,Di(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~s,so(e,t,s))}function Li(e,t,n,r,s,a){if(null===e){var i=n.type;return"function"!==typeof i||_l(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Wl(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Pi(e,t,i,r,s,a))}return i=e.child,0===(s&a)&&(s=i.memoizedProps,(n=null!==(n=n.compare)?n:ur)(s,r)&&e.ref===t.ref)?so(e,t,a):(t.flags|=1,(e=Gl(i,r)).ref=t.ref,e.return=t,t.child=e)}function Pi(e,t,n,r,s,a){if(null!==e&&ur(e.memoizedProps,r)&&e.ref===t.ref){if(Ti=!1,0===(a&s))return t.lanes=e.lanes,so(e,t,a);0!==(16384&e.flags)&&(Ti=!0)}return Vi(e,t,n,r,a)}function Oi(e,t,n){var r=t.pendingProps,s=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xl(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xl(t,e),null;t.memoizedState={baseLanes:0},xl(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xl(t,r);return Di(e,t,s,n),t.child}function Ri(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Vi(e,t,n,r,s){var a=fs(n)?ps:ds.current;return a=ms(t,a),sa(t,s),n=ai(e,t,n,r,a,s),null===e||Ti?(t.flags|=1,Di(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~s,so(e,t,s))}function Ki(e,t,n,r,s){if(fs(n)){var a=!0;ws(t)}else a=!1;if(sa(t,s),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),va(t,n,r),wa(t,n,r,s),r=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,A=n.contextType;"object"===typeof A&&null!==A?A=aa(A):A=ms(t,A=fs(n)?ps:ds.current);var c=n.getDerivedStateFromProps,u="function"===typeof c||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==r||l!==A)&&ya(t,i,r,A),ia=!1;var d=t.memoizedState;i.state=d,da(t,r,i,s),l=t.memoizedState,o!==r||d!==l||hs.current||ia?("function"===typeof c&&(ma(t,n,c,r),l=t.memoizedState),(o=ia||ga(t,n,o,r,d,l,A))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4)):("function"===typeof i.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=A,r=o):("function"===typeof i.componentDidMount&&(t.flags|=4),r=!1)}else{i=t.stateNode,la(e,t),o=t.memoizedProps,A=t.type===t.elementType?o:Xs(t.type,o),i.props=A,u=t.pendingProps,d=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=aa(l):l=ms(t,l=fs(n)?ps:ds.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==u||d!==l)&&ya(t,i,r,l),ia=!1,d=t.memoizedState,i.state=d,da(t,r,i,s);var p=t.memoizedState;o!==u||d!==p||hs.current||ia?("function"===typeof h&&(ma(t,n,h,r),p=t.memoizedState),(A=ia||ga(t,n,A,r,d,p,l))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=A):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return zi(e,t,n,r,a,s)}function zi(e,t,n,r,s,a){Ri(e,t);var i=0!==(64&t.flags);if(!r&&!i)return s&&bs(t,n,!1),so(e,t,a);r=t.stateNode,Ni.current=t;var o=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=ka(t,e.child,null,a),t.child=ka(t,null,o,a)):Di(e,t,o,a),t.memoizedState=r.state,s&&bs(t,n,!0),t.child}function _i(e){var t=e.stateNode;t.pendingContext?vs(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vs(0,t.context,!1),Ma(e,t.containerInfo)}var Gi,Wi,Yi,qi,Xi={dehydrated:null,retryLane:0};function Ji(e,t,n){var r,s=t.pendingProps,a=Da.current,i=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(i=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===s.fallback||!0===s.unstable_avoidThisFallback||(a|=1),cs(Da,1&a),null===e?(void 0!==s.fallback&&Ka(t),e=s.children,a=s.fallback,i?(e=Zi(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xi,e):"number"===typeof s.unstable_expectedLoadTime?(e=Zi(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xi,t.lanes=33554432,e):((n=ql({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,i?(s=eo(e,t,s.children,s.fallback,n),i=t.child,a=e.child.memoizedState,i.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},i.childLanes=e.childLanes&~n,t.memoizedState=Xi,s):(n=$i(e,t,s.children,n),t.memoizedState=null,n))}function Zi(e,t,n,r){var s=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&s)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=ql(t,s,0,null),n=Yl(n,s,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function $i(e,t,n,r){var s=e.child;return e=s.sibling,n=Gl(s,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function eo(e,t,n,r,s){var a=t.mode,i=e.child;e=i.sibling;var o={mode:"hidden",children:n};return 0===(2&a)&&t.child!==i?((n=t.child).childLanes=0,n.pendingProps=o,null!==(i=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=i,i.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Gl(i,o),null!==e?r=Gl(e,r):(r=Yl(r,a,s,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function to(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ra(e.return,t)}function no(e,t,n,r,s,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s,lastEffect:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s,i.lastEffect=a)}function ro(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(Di(e,t,r.children,n),0!==(2&(r=Da.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&to(e,n);else if(19===e.tag)to(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(cs(Da,r),0===(2&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===Ha(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),no(t,!1,s,n,a,t.lastEffect);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===Ha(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}no(t,!0,n,null,a,t.lastEffect);break;case"together":no(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function so(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ro|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Gl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ao(e,t){if(!Oa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function io(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return fs(t.type)&&gs(),null;case 3:return Ua(),As(hs),As(ds),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(_a(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Wi(t),null;case 5:Ta(t);var a=Qa(Ia.current);if(n=t.type,null!==e&&null!=t.stateNode)Yi(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(i(166));return null}if(e=Qa(ja.current),_a(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Jr]=t,r[Zr]=o,n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(e=0;e<kr.length;e++)Fr(kr[e],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":ee(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":le(r,o),Fr("invalid",r)}for(var A in Be(n,o),e=null,o)o.hasOwnProperty(A)&&(a=o[A],"children"===A?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):l.hasOwnProperty(A)&&null!=a&&"onScroll"===A&&Fr("scroll",r));switch(n){case"input":X(r),re(r,o,!0);break;case"textarea":X(r),ce(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Pr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(A=9===a.nodeType?a:a.ownerDocument,e===ue.html&&(e=de(n)),e===ue.html?"script"===n?((e=A.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=A.createElement(n,{is:r.is}):(e=A.createElement(n),"select"===n&&(A=e,r.multiple?A.multiple=!0:r.size&&(A.size=r.size))):e=A.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Gi(e,t,!1,!1),t.stateNode=e,A=Ce(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),a=r;break;case"iframe":case"object":case"embed":Fr("load",e),a=r;break;case"video":case"audio":for(a=0;a<kr.length;a++)Fr(kr[a],e);a=r;break;case"source":Fr("error",e),a=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),a=r;break;case"details":Fr("toggle",e),a=r;break;case"input":ee(e,r),a=$(e,r),Fr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=s({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":le(e,r),a=oe(e,r),Fr("invalid",e);break;default:a=r}Be(n,a);var c=a;for(o in c)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?be(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&fe(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&ge(e,u):"number"===typeof u&&ge(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(l.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Fr("scroll",e):null!=u&&w(e,o,u,A))}switch(n){case"input":X(e),re(e,r,!1);break;case"textarea":X(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ie(e,!!r.multiple,o,!1):null!=r.defaultValue&&ie(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Pr)}Vr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)qi(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));n=Qa(Ia.current),Qa(ja.current),_a(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return As(Da),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&_a(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Da.current)?0===Lo&&(Lo=3):(0!==Lo&&3!==Lo||(Lo=4),null===Uo||0===(134217727&Ro)&&0===(134217727&Vo)||vl(Uo,To))),(r||n)&&(t.flags|=4),null);case 4:return Ua(),Wi(t),null===e&&Qr(t.stateNode.containerInfo),null;case 10:return na(t),null;case 19:if(As(Da),null===(r=t.memoizedState))return null;if(o=0!==(64&t.flags),null===(A=r.rendering))if(o)ao(r,!1);else{if(0!==Lo||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(A=Ha(e))){for(t.flags|=64,ao(r,!1),null!==(o=A.updateQueue)&&(t.updateQueue=o,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(A=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=A.childLanes,o.lanes=A.lanes,o.child=A.child,o.memoizedProps=A.memoizedProps,o.memoizedState=A.memoizedState,o.updateQueue=A.updateQueue,o.type=A.type,e=A.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return cs(Da,1&Da.current|2),t.child}e=e.sibling}null!==r.tail&&Vs()>Go&&(t.flags|=64,o=!0,ao(r,!1),t.lanes=33554432)}else{if(!o)if(null!==(e=Ha(A))){if(t.flags|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ao(r,!0),null===r.tail&&"hidden"===r.tailMode&&!A.alternate&&!Oa)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Vs()-r.renderingStartTime>Go&&1073741824!==n&&(t.flags|=64,o=!0,ao(r,!1),t.lanes=33554432);r.isBackwards?(A.sibling=t.child,t.child=A):(null!==(n=r.last)?n.sibling=A:t.child=A,r.last=A)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Vs(),n.sibling=null,t=Da.current,cs(Da,o?1&t|2:1&t),n):null;case 23:case 24:return Bl(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(i(156,t.tag))}function oo(e){switch(e.tag){case 1:fs(e.type)&&gs();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ua(),As(hs),As(ds),Ya(),0!==(64&(t=e.flags)))throw Error(i(285));return e.flags=-4097&t|64,e;case 5:return Ta(e),null;case 13:return As(Da),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return As(Da),null;case 4:return Ua(),null;case 10:return na(e),null;case 23:case 24:return Bl(),null;default:return null}}function lo(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var s=n}catch(a){s="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:s}}function Ao(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Gi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Wi=function(){},Yi=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Qa(ja.current);var i,o=null;switch(n){case"input":a=$(e,a),r=$(e,r),o=[];break;case"option":a=ae(e,a),r=ae(e,r),o=[];break;case"select":a=s({},a,{value:void 0}),r=s({},r,{value:void 0}),o=[];break;case"textarea":a=oe(e,a),r=oe(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Pr)}for(u in Be(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var A=a[u];for(i in A)A.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(l.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(A=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==A&&(null!=c||null!=A))if("style"===u)if(A){for(i in A)!A.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&A[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,A=A?A.__html:void 0,null!=c&&A!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(l.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),o||A===c||(o=[])):"object"===typeof c&&null!==c&&c.$$typeof===T?c.toString():(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},qi=function(e,t,n,r){n!==r&&(t.flags|=4)};var co="function"===typeof WeakMap?WeakMap:Map;function uo(e,t,n){(n=Aa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xo||(Xo=!0,Jo=r),Ao(0,t)},n}function ho(e,t,n){(n=Aa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return Ao(0,t),r(s)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Zo?Zo=new Set([this]):Zo.add(this),Ao(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var po="function"===typeof WeakSet?WeakSet:Set;function mo(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Ol(e,n)}else t.current=null}function fo(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xs(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(i(163))}function go(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var s=e;r=s.next,0!==(4&(s=s.tag))&&0!==(1&s)&&(Hl(n,e),Dl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xs(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&ha(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}ha(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Vr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&bt(n)))))}throw Error(i(163))}function vo(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var s=n.memoizedProps.style;s=void 0!==s&&null!==s&&s.hasOwnProperty("display")?s.display:null,r.style.display=we("display",s)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function yo(e,t){if(Bs&&"function"===typeof Bs.onCommitFiberUnmount)try{Bs.onCommitFiberUnmount(xs,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,s=r.destroy;if(r=r.tag,void 0!==s)if(0!==(4&r))Hl(t,n);else{r=t;try{s()}catch(a){Ol(r,a)}}n=n.next}while(n!==e)}break;case 1:if(mo(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Ol(t,a)}break;case 5:mo(t);break;case 4:ko(e,t)}}function wo(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function bo(e){return 5===e.tag||3===e.tag||4===e.tag}function xo(e){e:{for(var t=e.return;null!==t;){if(bo(t))break e;t=t.return}throw Error(i(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(i(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||bo(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Bo(e,n,t):Co(e,n,t)}function Bo(e,t,n){var r=e.tag,s=5===r||6===r;if(s)e=s?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Pr));else if(4!==r&&null!==(e=e.child))for(Bo(e,t,n),e=e.sibling;null!==e;)Bo(e,t,n),e=e.sibling}function Co(e,t,n){var r=e.tag,s=5===r||6===r;if(s)e=s?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Co(e,t,n),e=e.sibling;null!==e;)Co(e,t,n),e=e.sibling}function ko(e,t){for(var n,r,s=t,a=!1;;){if(!a){a=s.return;e:for(;;){if(null===a)throw Error(i(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===s.tag||6===s.tag){e:for(var o=e,l=s,A=l;;)if(yo(o,A),null!==A.child&&4!==A.tag)A.child.return=A,A=A.child;else{if(A===l)break e;for(;null===A.sibling;){if(null===A.return||A.return===l)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}r?(o=n,l=s.stateNode,8===o.nodeType?o.parentNode.removeChild(l):o.removeChild(l)):n.removeChild(s.stateNode)}else if(4===s.tag){if(null!==s.child){n=s.stateNode.containerInfo,r=!0,s.child.return=s,s=s.child;continue}}else if(yo(e,s),null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return;4===(s=s.return).tag&&(a=!1)}s.sibling.return=s.return,s=s.sibling}}function So(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var s=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ce(e,s),t=Ce(e,r),s=0;s<a.length;s+=2){var o=a[s],l=a[s+1];"style"===o?be(n,l):"dangerouslySetInnerHTML"===o?fe(n,l):"children"===o?ge(n,l):w(n,o,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":Ae(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?ie(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?ie(n,!!r.multiple,r.defaultValue,!0):ie(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(i(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,bt(n.containerInfo)));case 13:return null!==t.memoizedState&&(_o=Vs(),vo(t.child,!0)),void Eo(t);case 19:return void Eo(t);case 23:case 24:return void vo(t,null!==t.memoizedState)}throw Error(i(163))}function Eo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new po),t.forEach((function(t){var r=Vl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function jo(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Fo=Math.ceil,Io=b.ReactCurrentDispatcher,Qo=b.ReactCurrentOwner,Mo=0,Uo=null,No=null,To=0,Do=0,Ho=ls(0),Lo=0,Po=null,Oo=0,Ro=0,Vo=0,Ko=0,zo=null,_o=0,Go=1/0;function Wo(){Go=Vs()+500}var Yo,qo=null,Xo=!1,Jo=null,Zo=null,$o=!1,el=null,tl=90,nl=[],rl=[],sl=null,al=0,il=null,ol=-1,ll=0,Al=0,cl=null,ul=!1;function dl(){return 0!==(48&Mo)?Vs():-1!==ol?ol:ol=Vs()}function hl(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ks()?1:2;if(0===ll&&(ll=Oo),0!==qs.transition){0!==Al&&(Al=null!==zo?zo.pendingLanes:0),e=ll;var t=4186112&~Al;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ks(),0!==(4&Mo)&&98===e?e=Pt(12,ll):e=Pt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ll),e}function pl(e,t,n){if(50<al)throw al=0,il=null,Error(i(185));if(null===(e=ml(e,t)))return null;Vt(e,t,n),e===Uo&&(Vo|=t,4===Lo&&vl(e,To));var r=Ks();1===t?0!==(8&Mo)&&0===(48&Mo)?yl(e):(fl(e,n),0===Mo&&(Wo(),Ws())):(0===(4&Mo)||98!==r&&99!==r||(null===sl?sl=new Set([e]):sl.add(e)),fl(e,n)),zo=e}function ml(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function fl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-Kt(o),A=1<<l,c=a[l];if(-1===c){if(0===(A&r)||0!==(A&s)){c=t,Dt(A);var u=Tt;a[l]=10<=u?c+250:6<=u?c+5e3:-1}}else c<=t&&(e.expiredLanes|=A);o&=~A}if(r=Ht(e,e===Uo?To:0),t=Tt,0===r)null!==n&&(n!==Ds&&Ss(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ds&&Ss(n)}15===t?(n=yl.bind(null,e),null===Ls?(Ls=[n],Ps=ks(Qs,Ys)):Ls.push(n),n=Ds):14===t?n=Gs(99,yl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(i(358,e))}}(t),n=Gs(n,gl.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gl(e){if(ol=-1,Al=ll=0,0!==(48&Mo))throw Error(i(327));var t=e.callbackNode;if(Tl()&&e.callbackNode!==t)return null;var n=Ht(e,e===Uo?To:0);if(0===n)return null;var r=n,s=Mo;Mo|=16;var a=Sl();for(Uo===e&&To===r||(Wo(),Cl(e,r));;)try{Fl();break}catch(l){kl(e,l)}if(ta(),Io.current=a,Mo=s,null!==No?r=0:(Uo=null,To=0,r=Lo),0!==(Oo&Vo))Cl(e,0);else if(0!==r){if(2===r&&(Mo|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Lt(e))&&(r=El(e,n))),1===r)throw t=Po,Cl(e,0),vl(e,n),fl(e,Vs()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(i(345));case 2:case 5:Ml(e);break;case 3:if(vl(e,n),(62914560&n)===n&&10<(r=_o+500-Vs())){if(0!==Ht(e,0))break;if(((s=e.suspendedLanes)&n)!==n){dl(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=zr(Ml.bind(null,e),r);break}Ml(e);break;case 4:if(vl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,s=-1;0<n;){var o=31-Kt(n);a=1<<o,(o=r[o])>s&&(s=o),n&=~a}if(n=s,10<(n=(120>(n=Vs()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Fo(n/1960))-n)){e.timeoutHandle=zr(Ml.bind(null,e),n);break}Ml(e);break;default:throw Error(i(329))}}return fl(e,Vs()),e.callbackNode===t?gl.bind(null,e):null}function vl(e,t){for(t&=~Ko,t&=~Vo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),r=1<<n;e[n]=-1,t&=~r}}function yl(e){if(0!==(48&Mo))throw Error(i(327));if(Tl(),e===Uo&&0!==(e.expiredLanes&To)){var t=To,n=El(e,t);0!==(Oo&Vo)&&(n=El(e,t=Ht(e,t)))}else n=El(e,t=Ht(e,0));if(0!==e.tag&&2===n&&(Mo|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Lt(e))&&(n=El(e,t))),1===n)throw n=Po,Cl(e,0),vl(e,t),fl(e,Vs()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ml(e),fl(e,Vs()),null}function wl(e,t){var n=Mo;Mo|=1;try{return e(t)}finally{0===(Mo=n)&&(Wo(),Ws())}}function bl(e,t){var n=Mo;Mo&=-2,Mo|=8;try{return e(t)}finally{0===(Mo=n)&&(Wo(),Ws())}}function xl(e,t){cs(Ho,Do),Do|=t,Oo|=t}function Bl(){Do=Ho.current,As(Ho)}function Cl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,_r(n)),null!==No)for(n=No.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gs();break;case 3:Ua(),As(hs),As(ds),Ya();break;case 5:Ta(r);break;case 4:Ua();break;case 13:case 19:As(Da);break;case 10:na(r);break;case 23:case 24:Bl()}n=n.return}Uo=e,No=Gl(e.current,null),To=Do=Oo=t,Lo=0,Po=null,Ko=Vo=Ro=0}function kl(e,t){for(;;){var n=No;try{if(ta(),qa.current=Ii,ti){for(var r=Za.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}ti=!1}if(Ja=0,ei=$a=Za=null,ni=!1,Qo.current=null,null===n||null===n.return){Lo=1,Po=t,No=null;break}e:{var a=e,i=n.return,o=n,l=t;if(t=To,o.flags|=2048,o.firstEffect=o.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var A=l;if(0===(2&o.mode)){var c=o.alternate;c?(o.updateQueue=c.updateQueue,o.memoizedState=c.memoizedState,o.lanes=c.lanes):(o.updateQueue=null,o.memoizedState=null)}var u=0!==(1&Da.current),d=i;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var m=d.memoizedProps;h=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!u)}}if(h){var f=d.updateQueue;if(null===f){var g=new Set;g.add(A),d.updateQueue=g}else f.add(A);if(0===(2&d.mode)){if(d.flags|=64,o.flags|=16384,o.flags&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var v=Aa(-1,1);v.tag=2,ca(o,v)}o.lanes|=1;break e}l=void 0,o=t;var y=a.pingCache;if(null===y?(y=a.pingCache=new co,l=new Set,y.set(A,l)):void 0===(l=y.get(A))&&(l=new Set,y.set(A,l)),!l.has(o)){l.add(o);var w=Rl.bind(null,a,A,o);A.then(w,w)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);l=Error((W(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Lo&&(Lo=2),l=lo(l,o),d=i;do{switch(d.tag){case 3:a=l,d.flags|=4096,t&=-t,d.lanes|=t,ua(d,uo(0,a,t));break e;case 1:a=l;var b=d.type,x=d.stateNode;if(0===(64&d.flags)&&("function"===typeof b.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Zo||!Zo.has(x)))){d.flags|=4096,t&=-t,d.lanes|=t,ua(d,ho(d,a,t));break e}}d=d.return}while(null!==d)}Ql(n)}catch(B){t=B,No===n&&null!==n&&(No=n=n.return);continue}break}}function Sl(){var e=Io.current;return Io.current=Ii,null===e?Ii:e}function El(e,t){var n=Mo;Mo|=16;var r=Sl();for(Uo===e&&To===t||Cl(e,t);;)try{jl();break}catch(s){kl(e,s)}if(ta(),Mo=n,Io.current=r,null!==No)throw Error(i(261));return Uo=null,To=0,Lo}function jl(){for(;null!==No;)Il(No)}function Fl(){for(;null!==No&&!Es();)Il(No)}function Il(e){var t=Yo(e.alternate,e,Do);e.memoizedProps=e.pendingProps,null===t?Ql(e):No=t,Qo.current=null}function Ql(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=io(n,t,Do)))return void(No=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Do)||0===(4&n.mode)){for(var r=0,s=n.child;null!==s;)r|=s.lanes|s.childLanes,s=s.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=oo(t)))return n.flags&=2047,void(No=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(No=t);No=t=e}while(null!==t);0===Lo&&(Lo=5)}function Ml(e){var t=Ks();return _s(99,Ul.bind(null,e,t)),null}function Ul(e,t){do{Tl()}while(null!==el);if(0!==(48&Mo))throw Error(i(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null;var r=n.lanes|n.childLanes,s=r,a=e.pendingLanes&~s;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=s,e.mutableReadLanes&=s,e.entangledLanes&=s,s=e.entanglements;for(var o=e.eventTimes,l=e.expirationTimes;0<a;){var A=31-Kt(a),c=1<<A;s[A]=0,o[A]=-1,l[A]=-1,a&=~c}if(null!==sl&&0===(24&r)&&sl.has(e)&&sl.delete(e),e===Uo&&(No=Uo=null,To=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(s=Mo,Mo|=32,Qo.current=null,Or=Yt,fr(o=mr())){if("selectionStart"in o)l={start:o.selectionStart,end:o.selectionEnd};else e:if(l=(l=o.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,a=c.anchorOffset,A=c.focusNode,c=c.focusOffset;try{l.nodeType,A.nodeType}catch(S){l=null;break e}var u=0,d=-1,h=-1,p=0,m=0,f=o,g=null;t:for(;;){for(var v;f!==l||0!==a&&3!==f.nodeType||(d=u+a),f!==A||0!==c&&3!==f.nodeType||(h=u+c),3===f.nodeType&&(u+=f.nodeValue.length),null!==(v=f.firstChild);)g=f,f=v;for(;;){if(f===o)break t;if(g===l&&++p===a&&(d=u),g===A&&++m===c&&(h=u),null!==(v=f.nextSibling))break;g=(f=g).parentNode}f=v}l=-1===d||-1===h?null:{start:d,end:h}}else l=null;l=l||{start:0,end:0}}else l=null;Rr={focusedElem:o,selectionRange:l},Yt=!1,cl=null,ul=!1,qo=r;do{try{Nl()}catch(S){if(null===qo)throw Error(i(330));Ol(qo,S),qo=qo.nextEffect}}while(null!==qo);cl=null,qo=r;do{try{for(o=e;null!==qo;){var y=qo.flags;if(16&y&&ge(qo.stateNode,""),128&y){var w=qo.alternate;if(null!==w){var b=w.ref;null!==b&&("function"===typeof b?b(null):b.current=null)}}switch(1038&y){case 2:xo(qo),qo.flags&=-3;break;case 6:xo(qo),qo.flags&=-3,So(qo.alternate,qo);break;case 1024:qo.flags&=-1025;break;case 1028:qo.flags&=-1025,So(qo.alternate,qo);break;case 4:So(qo.alternate,qo);break;case 8:ko(o,l=qo);var x=l.alternate;wo(l),null!==x&&wo(x)}qo=qo.nextEffect}}catch(S){if(null===qo)throw Error(i(330));Ol(qo,S),qo=qo.nextEffect}}while(null!==qo);if(b=Rr,w=mr(),y=b.focusedElem,o=b.selectionRange,w!==y&&y&&y.ownerDocument&&pr(y.ownerDocument.documentElement,y)){null!==o&&fr(y)&&(w=o.start,void 0===(b=o.end)&&(b=w),"selectionStart"in y?(y.selectionStart=w,y.selectionEnd=Math.min(b,y.value.length)):(b=(w=y.ownerDocument||document)&&w.defaultView||window).getSelection&&(b=b.getSelection(),l=y.textContent.length,x=Math.min(o.start,l),o=void 0===o.end?x:Math.min(o.end,l),!b.extend&&x>o&&(l=o,o=x,x=l),l=hr(y,x),a=hr(y,o),l&&a&&(1!==b.rangeCount||b.anchorNode!==l.node||b.anchorOffset!==l.offset||b.focusNode!==a.node||b.focusOffset!==a.offset)&&((w=w.createRange()).setStart(l.node,l.offset),b.removeAllRanges(),x>o?(b.addRange(w),b.extend(a.node,a.offset)):(w.setEnd(a.node,a.offset),b.addRange(w))))),w=[];for(b=y;b=b.parentNode;)1===b.nodeType&&w.push({element:b,left:b.scrollLeft,top:b.scrollTop});for("function"===typeof y.focus&&y.focus(),y=0;y<w.length;y++)(b=w[y]).element.scrollLeft=b.left,b.element.scrollTop=b.top}Yt=!!Or,Rr=Or=null,e.current=n,qo=r;do{try{for(y=e;null!==qo;){var B=qo.flags;if(36&B&&go(y,qo.alternate,qo),128&B){w=void 0;var C=qo.ref;if(null!==C){var k=qo.stateNode;qo.tag,w=k,"function"===typeof C?C(w):C.current=w}}qo=qo.nextEffect}}catch(S){if(null===qo)throw Error(i(330));Ol(qo,S),qo=qo.nextEffect}}while(null!==qo);qo=null,Hs(),Mo=s}else e.current=n;if($o)$o=!1,el=e,tl=t;else for(qo=r;null!==qo;)t=qo.nextEffect,qo.nextEffect=null,8&qo.flags&&((B=qo).sibling=null,B.stateNode=null),qo=t;if(0===(r=e.pendingLanes)&&(Zo=null),1===r?e===il?al++:(al=0,il=e):al=0,n=n.stateNode,Bs&&"function"===typeof Bs.onCommitFiberRoot)try{Bs.onCommitFiberRoot(xs,n,void 0,64===(64&n.current.flags))}catch(S){}if(fl(e,Vs()),Xo)throw Xo=!1,e=Jo,Jo=null,e;return 0!==(8&Mo)||Ws(),null}function Nl(){for(;null!==qo;){var e=qo.alternate;ul||null===cl||(0!==(8&qo.flags)?$e(qo,cl)&&(ul=!0):13===qo.tag&&jo(e,qo)&&$e(qo,cl)&&(ul=!0));var t=qo.flags;0!==(256&t)&&fo(e,qo),0===(512&t)||$o||($o=!0,Gs(97,(function(){return Tl(),null}))),qo=qo.nextEffect}}function Tl(){if(90!==tl){var e=97<tl?97:tl;return tl=90,_s(e,Ll)}return!1}function Dl(e,t){nl.push(t,e),$o||($o=!0,Gs(97,(function(){return Tl(),null})))}function Hl(e,t){rl.push(t,e),$o||($o=!0,Gs(97,(function(){return Tl(),null})))}function Ll(){if(null===el)return!1;var e=el;if(el=null,0!==(48&Mo))throw Error(i(331));var t=Mo;Mo|=32;var n=rl;rl=[];for(var r=0;r<n.length;r+=2){var s=n[r],a=n[r+1],o=s.destroy;if(s.destroy=void 0,"function"===typeof o)try{o()}catch(A){if(null===a)throw Error(i(330));Ol(a,A)}}for(n=nl,nl=[],r=0;r<n.length;r+=2){s=n[r],a=n[r+1];try{var l=s.create;s.destroy=l()}catch(A){if(null===a)throw Error(i(330));Ol(a,A)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Mo=t,Ws(),!0}function Pl(e,t,n){ca(e,t=uo(0,t=lo(n,t),1)),t=dl(),null!==(e=ml(e,1))&&(Vt(e,1,t),fl(e,t))}function Ol(e,t){if(3===e.tag)Pl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Pl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Zo||!Zo.has(r))){var s=ho(n,e=lo(t,e),1);if(ca(n,s),s=dl(),null!==(n=ml(n,1)))Vt(n,1,s),fl(n,s);else if("function"===typeof r.componentDidCatch&&(null===Zo||!Zo.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Rl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=dl(),e.pingedLanes|=e.suspendedLanes&n,Uo===e&&(To&n)===n&&(4===Lo||3===Lo&&(62914560&To)===To&&500>Vs()-_o?Cl(e,0):Ko|=n),fl(e,t)}function Vl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ks()?1:2:(0===ll&&(ll=Oo),0===(t=Ot(62914560&~ll))&&(t=4194304))),n=dl(),null!==(e=ml(e,t))&&(Vt(e,t,n),fl(e,n))}function Kl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function zl(e,t,n,r){return new Kl(e,t,n,r)}function _l(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gl(e,t){var n=e.alternate;return null===n?((n=zl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wl(e,t,n,r,s,a){var o=2;if(r=e,"function"===typeof e)_l(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case C:return Yl(n.children,s,a,t);case D:o=8,s|=16;break;case k:o=8,s|=1;break;case S:return(e=zl(12,n,t,8|s)).elementType=S,e.type=S,e.lanes=a,e;case I:return(e=zl(13,n,t,s)).type=I,e.elementType=I,e.lanes=a,e;case Q:return(e=zl(19,n,t,s)).elementType=Q,e.lanes=a,e;case H:return ql(n,s,a,t);case L:return(e=zl(24,n,t,s)).elementType=L,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:o=10;break e;case j:o=9;break e;case F:o=11;break e;case M:o=14;break e;case U:o=16,r=null;break e;case N:o=22;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=zl(o,n,t,s)).elementType=e,t.type=r,t.lanes=a,t}function Yl(e,t,n,r){return(e=zl(7,e,r,t)).lanes=n,e}function ql(e,t,n,r){return(e=zl(23,e,r,t)).elementType=H,e.lanes=n,e}function Xl(e,t,n){return(e=zl(6,e,null,t)).lanes=n,e}function Jl(e,t,n){return(t=zl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Rt(0),this.expirationTimes=Rt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rt(0),this.mutableSourceEagerHydrationData=null}function $l(e,t,n,r){var s=t.current,a=dl(),o=hl(s);e:if(n){t:{if(qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(i(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(fs(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(i(171))}if(1===n.tag){var A=n.type;if(fs(A)){n=ys(n,A,l);break e}}n=l}else n=us;return null===t.context?t.context=n:t.pendingContext=n,(t=Aa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ca(s,t),pl(s,o,a),o}function eA(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tA(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nA(e,t){tA(e,t),(e=e.alternate)&&tA(e,t)}function rA(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Zl(e,t,null!=n&&!0===n.hydrate),t=zl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,oa(t),e[$r]=n.current,Qr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var s=(t=r[e])._getVersion;s=s(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,s]:n.mutableSourceEagerHydrationData.push(t,s)}this._internalRoot=n}function sA(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function aA(e,t,n,r,s){var a=n._reactRootContainer;if(a){var i=a._internalRoot;if("function"===typeof s){var o=s;s=function(){var e=eA(i);o.call(e)}}$l(t,i,e,s)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rA(e,0,t?{hydrate:!0}:void 0)}(n,r),i=a._internalRoot,"function"===typeof s){var l=s;s=function(){var e=eA(i);l.call(e)}}bl((function(){$l(t,i,e,s)}))}return eA(i)}function iA(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!sA(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:B,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Yo=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||hs.current)Ti=!0;else{if(0===(n&r)){switch(Ti=!1,t.tag){case 3:_i(t),Ga();break;case 5:Na(t);break;case 1:fs(t.type)&&ws(t);break;case 4:Ma(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var s=t.type._context;cs(Js,s._currentValue),s._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ji(e,t,n):(cs(Da,1&Da.current),null!==(t=so(e,t,n))?t.sibling:null);cs(Da,1&Da.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return ro(e,t,n);t.flags|=64}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),cs(Da,Da.current),r)break;return null;case 23:case 24:return t.lanes=0,Oi(e,t,n)}return so(e,t,n)}Ti=0!==(16384&e.flags)}else Ti=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,s=ms(t,ds.current),sa(t,n),s=ai(null,t,r,e,s,n),t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,fs(r)){var a=!0;ws(t)}else a=!1;t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,oa(t);var o=r.getDerivedStateFromProps;"function"===typeof o&&ma(t,r,o,e),s.updater=fa,t.stateNode=s,s._reactInternals=t,wa(t,r,e,n),t=zi(null,t,r,!0,a,n)}else t.tag=0,Di(null,t,s,n),t=t.child;return t;case 16:s=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,s=(a=s._init)(s._payload),t.type=s,a=t.tag=function(e){if("function"===typeof e)return _l(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===F)return 11;if(e===M)return 14}return 2}(s),e=Xs(s,e),a){case 0:t=Vi(null,t,s,e,n);break e;case 1:t=Ki(null,t,s,e,n);break e;case 11:t=Hi(null,t,s,e,n);break e;case 14:t=Li(null,t,s,Xs(s.type,e),r,n);break e}throw Error(i(306,s,""))}return t;case 0:return r=t.type,s=t.pendingProps,Vi(e,t,r,s=t.elementType===r?s:Xs(r,s),n);case 1:return r=t.type,s=t.pendingProps,Ki(e,t,r,s=t.elementType===r?s:Xs(r,s),n);case 3:if(_i(t),r=t.updateQueue,null===e||null===r)throw Error(i(282));if(r=t.pendingProps,s=null!==(s=t.memoizedState)?s.element:null,la(e,t),da(t,r,null,n),(r=t.memoizedState.element)===s)Ga(),t=so(e,t,n);else{if((a=(s=t.stateNode).hydrate)&&(Pa=Wr(t.stateNode.containerInfo.firstChild),La=t,a=Oa=!0),a){if(null!=(e=s.mutableSourceEagerHydrationData))for(s=0;s<e.length;s+=2)(a=e[s])._workInProgressVersionPrimary=e[s+1],Wa.push(a);for(n=Sa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Di(e,t,r,n),Ga();t=t.child}return t;case 5:return Na(t),null===e&&Ka(t),r=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,o=s.children,Kr(r,s)?o=null:null!==a&&Kr(r,a)&&(t.flags|=16),Ri(e,t),Di(e,t,o,n),t.child;case 6:return null===e&&Ka(t),null;case 13:return Ji(e,t,n);case 4:return Ma(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ka(t,null,r,n):Di(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,Hi(e,t,r,s=t.elementType===r?s:Xs(r,s),n);case 7:return Di(e,t,t.pendingProps,n),t.child;case 8:case 12:return Di(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value;var l=t.type._context;if(cs(Js,l._currentValue),l._currentValue=a,null!==o)if(l=o.value,0===(a=Ar(l,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,a):1073741823))){if(o.children===s.children&&!hs.current){t=so(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var A=l.dependencies;if(null!==A){o=l.child;for(var c=A.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&a)){1===l.tag&&((c=Aa(-1,n&-n)).tag=2,ca(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),ra(l.return,n),A.lanes|=n;break}c=c.next}}else o=10===l.tag&&l.type===t.type?null:l.child;if(null!==o)o.return=l;else for(o=l;null!==o;){if(o===t){o=null;break}if(null!==(l=o.sibling)){l.return=o.return,o=l;break}o=o.return}l=o}Di(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=(a=t.pendingProps).children,sa(t,n),r=r(s=aa(s,a.unstable_observedBits)),t.flags|=1,Di(e,t,r,n),t.child;case 14:return a=Xs(s=t.type,t.pendingProps),Li(e,t,s,a=Xs(s.type,a),r,n);case 15:return Pi(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Xs(r,s),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,fs(r)?(e=!0,ws(t)):e=!1,sa(t,n),va(t,r,s),wa(t,r,s,n),zi(null,t,r,!0,e,n);case 19:return ro(e,t,n);case 23:case 24:return Oi(e,t,n)}throw Error(i(156,t.tag))},rA.prototype.render=function(e){$l(e,this._internalRoot,null,null)},rA.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;$l(null,e,null,(function(){t[$r]=null}))},et=function(e){13===e.tag&&(pl(e,4,dl()),nA(e,4))},tt=function(e){13===e.tag&&(pl(e,67108864,dl()),nA(e,67108864))},nt=function(e){if(13===e.tag){var t=dl(),n=hl(e);pl(e,n,t),nA(e,n)}},rt=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ss(r);if(!s)throw Error(i(90));J(r),ne(r,s)}}}break;case"textarea":Ae(e,n);break;case"select":null!=(t=n.value)&&ie(e,!!n.multiple,t,!1)}},Me=wl,Ue=function(e,t,n,r,s){var a=Mo;Mo|=4;try{return _s(98,e.bind(null,t,n,r,s))}finally{0===(Mo=a)&&(Wo(),Ws())}},Ne=function(){0===(49&Mo)&&(function(){if(null!==sl){var e=sl;sl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,fl(e,Vs())}))}Ws()}(),Tl())},Te=function(e,t){var n=Mo;Mo|=2;try{return e(t)}finally{0===(Mo=n)&&(Wo(),Ws())}};var oA={Events:[ns,rs,ss,Ie,Qe,Tl,{current:!1}]},lA={findFiberByHostInstance:ts,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},AA={bundleType:lA.bundleType,version:lA.version,rendererPackageName:lA.rendererPackageName,rendererConfig:lA.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:lA.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cA=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cA.isDisabled&&cA.supportsFiber)try{xs=cA.inject(AA),Bs=cA}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oA,t.createPortal=iA,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw Error(i(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Mo;if(0!==(48&n))return e(t);Mo|=1;try{if(e)return _s(99,e.bind(null,t))}finally{Mo=n,Ws()}},t.hydrate=function(e,t,n){if(!sA(t))throw Error(i(200));return aA(null,e,t,!0,n)},t.render=function(e,t,n){if(!sA(t))throw Error(i(200));return aA(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!sA(e))throw Error(i(40));return!!e._reactRootContainer&&(bl((function(){aA(null,null,e,!1,(function(){e._reactRootContainer=null,e[$r]=null}))})),!0)},t.unstable_batchedUpdates=wl,t.unstable_createPortal=function(e,t){return iA(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!sA(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return aA(e,t,n,!1,r)},t.version="17.0.2"},7119:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(8345)},8577:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),s=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),A=Symbol.for("react.context"),c=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case o:case i:case d:case h:return e;default:switch(e=e&&e.$$typeof){case c:case A:case u:case m:case p:case l:return e;default:return t}}case s:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=u,t.isFragment=function(e){return g(e)===a},t.isMemo=function(e){return g(e)===p}},6429:(e,t,n)=>{"use strict";e.exports=n(8577)},2506:(e,t)=>{"use strict";var n=60103,r=60106,s=60107,a=60108,i=60114,o=60109,l=60110,A=60112,c=60113,u=60120,d=60115,h=60116,p=60121,m=60122,f=60117,g=60129,v=60131;if("function"===typeof Symbol&&Symbol.for){var y=Symbol.for;n=y("react.element"),r=y("react.portal"),s=y("react.fragment"),a=y("react.strict_mode"),i=y("react.profiler"),o=y("react.provider"),l=y("react.context"),A=y("react.forward_ref"),c=y("react.suspense"),u=y("react.suspense_list"),d=y("react.memo"),h=y("react.lazy"),p=y("react.block"),m=y("react.server.block"),f=y("react.fundamental"),g=y("react.debug_trace_mode"),v=y("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case s:case i:case a:case c:case u:return e;default:switch(e=e&&e.$$typeof){case l:case A:case h:case d:case o:return e;default:return t}}case r:return t}}}var b=o,x=n,B=A,C=s,k=h,S=d,E=r,j=i,F=a,I=c;t.ContextConsumer=l,t.ContextProvider=b,t.Element=x,t.ForwardRef=B,t.Fragment=C,t.Lazy=k,t.Memo=S,t.Portal=E,t.Profiler=j,t.StrictMode=F,t.Suspense=I,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===o},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return w(e)===A},t.isFragment=function(e){return w(e)===s},t.isLazy=function(e){return w(e)===h},t.isMemo=function(e){return w(e)===d},t.isPortal=function(e){return w(e)===r},t.isProfiler=function(e){return w(e)===i},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===c},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===i||e===g||e===a||e===c||e===u||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===d||e.$$typeof===o||e.$$typeof===l||e.$$typeof===A||e.$$typeof===f||e.$$typeof===p||e[0]===m)},t.typeOf=w},7961:(e,t,n)=>{"use strict";e.exports=n(2506)},8984:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},r.apply(this,arguments)},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,s,a,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(s=(s=i.trys).length>0&&s[s.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(o){a=[6,o],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CommandOrchestrator=t.getStateFromTextArea=t.TextAreaTextApi=void 0;var i=n(3087),o=n(1398),l=n(5611),A=n(3631),c=function(){function e(e){this.textAreaRef=e}return e.prototype.replaceSelection=function(e){var t=this.textAreaRef.current;return o.insertText(t,e),u(t)},e.prototype.setSelectionRange=function(e){var t=this.textAreaRef.current;return t.focus(),t.selectionStart=e.start,t.selectionEnd=e.end,u(t)},e.prototype.getState=function(){return u(this.textAreaRef.current)},e}();function u(e){return{selection:{start:e.selectionStart,end:e.selectionEnd},text:e.value,selectedText:e.value.slice(e.selectionStart,e.selectionEnd)}}t.TextAreaTextApi=c,t.getStateFromTextArea=u;var d=function(){function e(e,t,n,s){var a=this;if(this.getCommand=function(e){var t=a.commandMap[e];if(!t)throw new Error("Cannot execute command. Command not found: "+e);return t},this.handlePossibleKeyCommand=function(e){for(var t=0,n=a.keyActivatedCommands;t<n.length;t++){var r=n[t];if(a.getCommand(r).handleKeyCommand(e))return a.executeCommand(r).then((function(e){})),!0}return!1},s&&!s.saveImage)throw new Error("paste options are incomplete. saveImage are required ");this.commandMap=r(r({},i.getDefaultCommandMap()),e||{}),this.pasteOptions=s,this.keyActivatedCommands=l.extractKeyActivatedCommands(e),this.textAreaRef=t,this.textApi=new c(t),this.l18n=n}return e.prototype.executeCommand=function(e,t){return s(this,void 0,void 0,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return this.isExecuting?[2]:(this.isExecuting=!0,n=this.commandMap[e],[4,n.execute({initialState:u(this.textAreaRef.current),textApi:this.textApi,l18n:this.l18n,context:t})]);case 1:return r.sent(),this.isExecuting=!1,[2]}}))}))},e.prototype.executePasteCommand=function(e){return s(this,void 0,void 0,(function(){return a(this,(function(t){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||A.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:e})]:[2]}))}))},e.prototype.executeDropCommand=function(e){return s(this,void 0,void 0,(function(){return a(this,(function(t){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||A.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:e})]:[2]}))}))},e.prototype.executeSelectImageCommand=function(e){return s(this,void 0,void 0,(function(){return a(this,(function(t){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||A.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:e})]:[2]}))}))},e.prototype.getCommandByName=function(e){return this.commandMap[e]},e}();t.CommandOrchestrator=d},5611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractKeyActivatedCommands=void 0,t.extractKeyActivatedCommands=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&e[n].handleKeyCommand&&t.push(n);return t}},6057:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boldCommand=void 0;var r=n(6439);t.boldCommand={buttonProps:{"aria-label":"Add bold text"},execute:function(e){var t=e.initialState,n=e.textApi,s=r.selectWord({text:t.text,selection:t.selection}),a=n.setSelectionRange(s),i=n.replaceSelection("**"+a.selectedText+"**");n.setSelectionRange({start:i.selection.end-2-a.selectedText.length,end:i.selection.end-2})},handleKeyCommand:function(e){return(e.ctrlKey||e.metaKey)&&"b"==e.key}}},7127:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.codeCommand=void 0;var r=n(6439);t.codeCommand={buttonProps:{"aria-label":"Insert code"},execute:function(e){var t=e.initialState,n=e.textApi,s=r.selectWord({text:t.text,selection:t.selection}),a=n.setSelectionRange(s);if(-1!==a.selectedText.indexOf("\n")){var i=r.getBreaksNeededForEmptyLineBefore(a.text,a.selection.start),o=Array(i+1).join("\n"),l=r.getBreaksNeededForEmptyLineAfter(a.text,a.selection.end),A=Array(l+1).join("\n");n.replaceSelection(o+"```\n"+a.selectedText+"\n```"+A);var c=a.selection.start+i+4,u=c+a.selectedText.length;n.setSelectionRange({start:c,end:u})}else{n.replaceSelection("`"+a.selectedText+"`");var d=a.selection.start+1,h=d+a.selectedText.length;n.setSelectionRange({start:d,end:h})}}}},3631:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultSaveImageCommandName=t.getDefaultCommandMap=t.getDefaultToolbarCommands=void 0;var r=n(5755),s=n(6057),a=n(3624),i=n(7245),o=n(3380),l=n(912),A=n(7127),c=n(6255),u=n(4095),d=n(9052);t.getDefaultToolbarCommands=function(){return[["header","bold","italic","strikethrough"],["link","quote","code","image"],["unordered-list","ordered-list","checked-list"]]},t.getDefaultCommandMap=function(){return{header:r.headerCommand,bold:s.boldCommand,italic:a.italicCommand,strikethrough:i.strikeThroughCommand,link:o.linkCommand,quote:l.quoteCommand,code:A.codeCommand,image:u.imageCommand,"unordered-list":c.unorderedListCommand,"ordered-list":c.orderedListCommand,"checked-list":c.checkedListCommand,"save-image":d.saveImageCommand}},t.getDefaultSaveImageCommandName=function(){return"save-image"}},5755:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.headerCommand=void 0;var r=n(6439);t.headerCommand={buttonProps:{"aria-label":"Add header"},execute:function(e){!function(e,t,n){var s=r.selectWord({text:e.text,selection:e.selection}),a=t.setSelectionRange(s),i=t.replaceSelection(""+n+a.selectedText);t.setSelectionRange({start:i.selection.end-a.selectedText.length,end:i.selection.end})}(e.initialState,e.textApi,"### ")}}},4095:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imageCommand=void 0;var r=n(6439);t.imageCommand={buttonProps:{"aria-label":"Add image"},execute:function(e){var t=e.initialState,n=e.textApi,s=n.setSelectionRange(r.selectWord({text:t.text,selection:t.selection})),a=s.selectedText||"https://example.com/your-image.png";n.replaceSelection("![]("+a+")"),n.setSelectionRange({start:s.selection.start+4,end:s.selection.start+4+a.length})}}},3624:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.italicCommand=void 0;var r=n(6439);t.italicCommand={buttonProps:{"aria-label":"Add italic text"},execute:function(e){var t=e.initialState,n=e.textApi,s=r.selectWord({text:t.text,selection:t.selection}),a=n.setSelectionRange(s),i=n.replaceSelection("*"+a.selectedText+"*");n.setSelectionRange({start:i.selection.end-1-a.selectedText.length,end:i.selection.end-1})},handleKeyCommand:function(e){return(e.ctrlKey||e.metaKey)&&"i"==e.key}}},3380:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linkCommand=void 0;var r=n(6439);t.linkCommand={buttonProps:{"aria-label":"Add a link"},execute:function(e){var t=e.initialState,n=e.textApi,s=r.selectWord({text:t.text,selection:t.selection}),a=n.setSelectionRange(s),i=n.replaceSelection("["+a.selectedText+"](url)");n.setSelectionRange({start:i.selection.end-6-a.selectedText.length,end:i.selection.end-6})},handleKeyCommand:function(e){return(e.ctrlKey||e.metaKey)&&"k"==e.key}}},6255:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkedListCommand=t.orderedListCommand=t.unorderedListCommand=t.makeList=t.insertBeforeEachLine=void 0;var r=n(6439);function s(e,t){var n=e.split(/\n/),r=0;return{modifiedText:n.map((function(e,n){if("string"===typeof t)return r+=t.length,t+e;if("function"===typeof t){var s=t(e,n);return r+=s.length,t(e,n)+e}throw Error("insertion is expected to be either a string or a function")})).join("\n"),insertionLength:r}}t.insertBeforeEachLine=s;t.makeList=function(e,t,n){var a=r.selectWord({text:e.text,selection:e.selection}),i=t.setSelectionRange(a),o=r.getBreaksNeededForEmptyLineBefore(i.text,i.selection.start),l=Array(o+1).join("\n"),A=r.getBreaksNeededForEmptyLineAfter(i.text,i.selection.end),c=Array(A+1).join("\n"),u=s(i.selectedText,n);t.replaceSelection(""+l+u.modifiedText+c);var d=-1===i.selectedText.indexOf("\n")?u.insertionLength:0,h=i.selection.start+o+d,p=h+u.modifiedText.length-d;t.setSelectionRange({start:h,end:p})},t.unorderedListCommand={buttonProps:{"aria-label":"Add unordered list"},execute:function(e){var n=e.initialState,r=e.textApi;t.makeList(n,r,"- ")}},t.orderedListCommand={buttonProps:{"aria-label":"Add ordered list"},execute:function(e){var n=e.initialState,r=e.textApi;t.makeList(n,r,(function(e,t){return t+1+". "}))}},t.checkedListCommand={buttonProps:{"aria-label":"Add checked list"},execute:function(e){var n=e.initialState,r=e.textApi;t.makeList(n,r,(function(e,t){return"- [ ] "}))}}},912:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.quoteCommand=void 0;var r=n(6439);t.quoteCommand={buttonProps:{"aria-label":"Insert a quote"},execute:function(e){var t=e.initialState,n=e.textApi,s=r.selectWord({text:t.text,selection:t.selection}),a=n.setSelectionRange(s),i=r.getBreaksNeededForEmptyLineBefore(a.text,a.selection.start),o=Array(i+1).join("\n"),l=r.getBreaksNeededForEmptyLineAfter(a.text,a.selection.end),A=Array(l+1).join("\n");n.replaceSelection(o+"> "+a.selectedText+A);var c=a.selection.start+i+2,u=c+a.selectedText.length;n.setSelectionRange({start:c,end:u})}}},9052:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,s,a,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(s=(s=i.trys).length>0&&s[s.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(o){a=[6,o],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.saveImageCommand=void 0;var a=n(2215),i=n(6439);function o(e){var t=[];for(var n in e){var r=e[n];"file"===r.kind&&t.push(r.getAsFile())}return t}t.saveImageCommand={execute:function(e){e.initialState;var t=e.textApi,n=e.context,l=e.l18n;return r(this,void 0,void 0,(function(){var e,r,A,c,u,d,h,p,m,f,g,v,y,w,b,x,B,C,k,S,E,j;return s(this,(function(s){switch(s.label){case 0:if(!n)throw new Error("wrong context");for(f in r=(e=n).event,A=e.pasteOptions,c=A.saveImage,u=A.multiple,d=A.accept,h=function(e){return void 0!==e.event.clipboardData}(n)?o(r.clipboardData.items):function(e){return void 0!==e.event.dataTransfer}(n)?o(r.dataTransfer.items):function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[0]);return t}(r.target.files),p=function(e,t){var n=t.multiple,r=t.accept,s=e;if(n||(s=s.slice(0,1)),r){var a=r.split(","),i=new Set(a.filter((function(e){return/^\.\w+/.test(e)})).map((function(e){return e.split(".")[1]}))),o=new Set(a.filter((function(e){return/^[-\w.]+\/[-\w.]+$/.test(e)}))),l=new Set(a.filter((function(e){return/(audio|video|image)\/\*/.test(e)})).map((function(e){return e.split("/")[0]})));s=s.filter((function(e){return i.has(e.name.split(".")[1])||o.has(e.type)||l.has(e.type.split("/")[0])}))}return s}(h,{multiple:u,accept:d}),m=[],p)m.push(f);g=0,s.label=1;case 1:return g<m.length?(v=m[g],y=t.getState(),w=i.getBreaksNeededForEmptyLineBefore(y.text,y.selection.start),b=Array(w+1).join("\n"),x=b+"!["+l.uploadingImage+"]()",t.replaceSelection(x),B=h[v],[4,a.readFileAsync(B)]):[3,5];case 2:return C=s.sent(),[4,c(C,B).next()];case 3:k=s.sent().value,S=t.getState(),S.text.substr(y.selection.start,x.length)===x&&(t.setSelectionRange({start:y.selection.start,end:y.selection.start+x.length}),j=(E=k?b+"![image]("+k+")":"").length-x.length,t.replaceSelection(E),t.setSelectionRange({start:S.selection.start+j,end:S.selection.end+j})),s.label=4;case 4:return g++,[3,1];case 5:return[2]}}))}))}}},7245:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.strikeThroughCommand=void 0;var r=n(6439);t.strikeThroughCommand={buttonProps:{"aria-label":"Add strikethrough text"},execute:function(e){var t=e.initialState,n=e.textApi,s=r.selectWord({text:t.text,selection:t.selection}),a=n.setSelectionRange(s),i=n.replaceSelection("~~"+a.selectedText+"~~");n.setSelectionRange({start:i.selection.end-2-a.selectedText.length,end:i.selection.end-2})}}},5244:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.Preview=void 0;var s=n(9950),a=n(342),i=function(e){function t(t){var n=e.call(this,t)||this;return n.state={loading:!0},n}return r(t,e),t.prototype.componentDidMount=function(){this.generatePreview()},t.prototype.componentDidUpdate=function(e,t){this.props.markdown!==e.markdown&&this.generatePreview()},t.prototype.generatePreview=function(){var e=this,t=this.props,n=t.markdown;(0,t.generateMarkdownPreview)(n).then((function(t){e.setState({preview:t,loading:!1})}))},t.prototype.render=function(){var e,t=this.props,n=t.classes,r=t.minHeight,i=t.loadingPreview,o=t.refObject,l=t.heightUnits,A=this.state,c=A.preview,u=A.loading,d=u?i:c;e="string"===typeof d?s.createElement("div",{className:"mde-preview-content",dangerouslySetInnerHTML:{__html:d||"<p>&nbsp;</p>"},ref:o}):s.createElement("div",{className:"mde-preview-content"},d);var h=r&&l?r+10+l:r+10;return s.createElement("div",{className:a.classNames("mde-preview",n,{loading:u}),style:{minHeight:h},"data-testid":"mde-preview"},e)},t}(s.Component);t.Preview=i},5319:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},s.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,s,a,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(s=(s=i.trys).length>0&&s[s.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(o){a=[6,o],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReactMde=void 0;var o=n(9950),l=n(3904),A=n(3631),c=n(8546),u=n(3014),d=n(342),h=n(8984),p={accept:"image/*",multiple:!1},m=function(e){function t(t){var n,r=e.call(this,t)||this;r.handleTextChange=function(e){(0,r.props.onChange)(e)},r.handlePaste=function(e){return a(r,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return(t=this.props.paste)&&t.saveImage?[4,this.commandOrchestrator.executePasteCommand(e)]:[2];case 1:return n.sent(),[2]}}))}))},r.handleDrop=function(e){return a(r,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return(t=this.props.paste)&&t.saveImage?[4,this.commandOrchestrator.executeDropCommand(e)]:[2];case 1:return n.sent(),[2]}}))}))},r.handleImageSelection=function(e){return a(r,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return(t=this.props.paste)&&t.saveImage?[4,this.commandOrchestrator.executeSelectImageCommand(e)]:[2];case 1:return n.sent(),[2]}}))}))},r.handleTabChange=function(e){(0,r.props.onTabChange)(e)},r.handleCommand=function(e){return a(r,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.commandOrchestrator.executeCommand(e)];case 1:return t.sent(),[2]}}))}))},r.finalRefs=s({},t.refs||{}),r.finalRefs.textarea||(r.finalRefs.textarea=o.createRef()),r.finalRefs.preview||(r.finalRefs.preview=o.createRef()),r.commandOrchestrator=new h.CommandOrchestrator(r.props.commands,r.finalRefs.textarea,r.props.l18n,r.props.paste?s(s({},p),r.props.paste):void 0);var l=Math.min(t.maxEditorHeight,t.minEditorHeight);return r.state={editorHeight:null!==(n=t.initialEditorHeight)&&void 0!==n?n:l},r}return r(t,e),t.prototype.render=function(){var e,t,n=this,r=this.props,s=r.getIcon,a=r.toolbarCommands,i=r.classes,A=r.loadingPreview,c=r.readOnly,u=r.disablePreview,h=r.value,m=r.l18n,f=r.minPreviewHeight,g=r.heightUnits,v=r.childProps,y=r.selectedTab,w=r.generateMarkdownPreview,b=r.loadSuggestions,x=r.suggestionTriggerCharacters,B=r.textAreaComponent,C=v||{},k=a.map((function(e){return e.map((function(e){var t=n.commandOrchestrator.getCommand(e);return{commandName:e,buttonContent:t.icon?t.icon(s):s(e),buttonProps:t.buttonProps,buttonComponentClass:t.buttonComponentClass}}))}));return o.createElement("div",{className:d.classNames("react-mde","react-mde-tabbed-layout",null===i||void 0===i?void 0:i.reactMde)},o.createElement(l.Toolbar,{classes:null===i||void 0===i?void 0:i.toolbar,buttons:k,onCommand:this.handleCommand,onTabChange:this.handleTabChange,tab:y,readOnly:c,disablePreview:u,l18n:m,buttonProps:C.commandButtons,writeButtonProps:C.writeButton,previewButtonProps:C.previewButton}),o.createElement("div",{className:d.classNames({invisible:"write"!==y})},o.createElement(l.TextArea,{classes:null===i||void 0===i?void 0:i.textArea,suggestionsDropdownClasses:null===i||void 0===i?void 0:i.suggestionsDropdown,suggestionsAutoplace:this.props.suggestionsAutoplace,refObject:this.finalRefs.textarea,onChange:this.handleTextChange,onPaste:this.handlePaste,onDrop:this.handleDrop,readOnly:c,textAreaComponent:B,textAreaProps:v&&v.textArea,height:this.state.editorHeight,heightUnits:this.props.heightUnits,value:h,suggestionTriggerCharacters:x,loadSuggestions:b,onPossibleKeyCommand:this.commandOrchestrator.handlePossibleKeyCommand}),this.props.paste&&o.createElement("label",{className:d.classNames("image-tip")},o.createElement("input",{className:d.classNames("image-input"),type:"file",accept:null!==(e=this.props.paste.accept)&&void 0!==e?e:p.accept,multiple:null!==(t=this.props.paste.multiple)&&void 0!==t?t:p.multiple,onChange:this.handleImageSelection}),o.createElement("span",null,m.pasteDropSelect))),"write"!==y&&o.createElement(l.Preview,{classes:null===i||void 0===i?void 0:i.preview,refObject:this.finalRefs.preview,loadingPreview:A,minHeight:f,heightUnits:g,generateMarkdownPreview:w,markdown:h}))},t.defaultProps={commands:A.getDefaultCommandMap(),toolbarCommands:A.getDefaultToolbarCommands(),getIcon:function(e){return o.createElement(u.SvgIcon,{icon:e})},readOnly:!1,l18n:c.enL18n,minEditorHeight:200,maxEditorHeight:500,minPreviewHeight:200,heightUnits:"px",selectedTab:"write",disablePreview:!1,suggestionTriggerCharacters:["@"],suggestionsAutoplace:!1},t}(o.Component);t.ReactMde=m},224:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SuggestionsDropdown=void 0;var r=n(9950),s=n(342);t.SuggestionsDropdown=function(e){var t=e.classes,n=e.suggestions,a=e.caret,i=e.onSuggestionSelected,o=e.suggestionsAutoplace,l=e.focusIndex,A=e.textAreaRef,c=function(e){e.preventDefault();var t=parseInt(e.currentTarget.attributes["data-index"].value);i(t)},u=function(e){return e.preventDefault()},d=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),h=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),p=a.left-A.current.scrollLeft,m=a.top-A.current.scrollTop,f={};return o&&m+A.current.getBoundingClientRect().top>h/2?f.bottom=A.current.offsetHeight-m:f.top=m,o&&p+A.current.getBoundingClientRect().left>d/2?f.right=A.current.offsetWidth-p:f.left=p,r.createElement("ul",{className:s.classNames("mde-suggestions",t),style:f},n.map((function(e,t){return r.createElement("li",{onClick:c,onMouseDown:u,key:t,"aria-selected":l===t?"true":"false","data-index":""+t},e.preview)})))}},4176:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},s.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.TextArea=void 0;var a=n(9950),i=n(342),o=n(9238),l=n(1398),A=n(6868),c=n(224),u=function(e){function t(t){var n=e.call(this,t)||this;return n.currentLoadSuggestionsPromise=Promise.resolve(void 0),n.suggestionsPromiseIndex=0,n.getTextArea=function(){return n.props.refObject.current},n.handleOnChange=function(e){(0,n.props.onChange)(e.target.value)},n.handleBlur=function(){n.state.mention&&n.setState({mention:{status:"inactive",suggestions:[]}})},n.startLoadingSuggestions=function(e){var t=++n.suggestionsPromiseIndex,r=n.props.loadSuggestions;n.currentLoadSuggestionsPromise=n.currentLoadSuggestionsPromise.then((function(){return r(e,n.state.mention.triggeredBy)})).then((function(e){if("inactive"!==n.state.mention.status)return n.suggestionsPromiseIndex===t&&(e&&e.length?n.setState({mention:s(s({},n.state.mention),{status:"active",suggestions:e,focusIndex:0})}):n.setState({mention:{status:"inactive",suggestions:[]}}),n.suggestionsPromiseIndex=0),Promise.resolve()}))},n.loadEmptySuggestion=function(e,t){var r=o.getCaretCoordinates(e,t);n.startLoadingSuggestions(""),n.setState({mention:{status:"loading",startPosition:e.selectionStart+1,caret:r,suggestions:[],triggeredBy:t}})},n.handleSuggestionSelected=function(e){var t=n.state.mention;n.getTextArea().selectionStart=t.startPosition-1;n.props.value.substr(n.getTextArea().selectionStart,n.getTextArea().selectionEnd-n.getTextArea().selectionStart);l.insertText(n.getTextArea(),t.suggestions[e].value+" "),n.setState({mention:{status:"inactive",suggestions:[]}})},n.handleKeyDown=function(e){if(n.props.onPossibleKeyCommand&&n.props.onPossibleKeyCommand(e))return e.preventDefault(),n.suggestionsPromiseIndex=0,void n.setState({mention:{status:"inactive",suggestions:[]}});if(n.suggestionsEnabled()){var t=e.key,r=e.shiftKey,a=e.currentTarget.selectionStart,i=n.state.mention;switch(i.status){case"loading":case"active":if("Escape"===t||"Backspace"===t&&a<=n.state.mention.startPosition)n.suggestionsPromiseIndex=0,n.setState({mention:{status:"inactive",suggestions:[]}});else if("active"!==i.status||"ArrowUp"!==t&&"ArrowDown"!==t||r)"Enter"===t&&"active"===i.status&&i.suggestions.length&&(e.preventDefault(),n.handleSuggestionSelected(i.focusIndex));else{e.preventDefault();var o="ArrowUp"===t?-1:1;n.setState({mention:s(s({},i),{focusIndex:A.mod(i.focusIndex+o,i.suggestions.length)})})}}}},n.handleKeyUp=function(e){var t=e.key,r=n.state.mention,a=n.props,i=a.suggestionTriggerCharacters,o=a.value;switch(r.status){case"loading":case"active":if("Backspace"===t){var l=o.substr(r.startPosition,n.getTextArea().selectionStart-r.startPosition);n.startLoadingSuggestions(l),"loading"!==r.status&&n.setState({mention:s(s({},n.state.mention),{status:"loading"})})}break;case"inactive":if("Backspace"===t){var A=o.charAt(n.getTextArea().selectionStart-1);i.includes(o.charAt(n.getTextArea().selectionStart-1))&&n.loadEmptySuggestion(e.currentTarget,A)}}},n.handleKeyPress=function(e){var t=n.props,r=t.suggestionTriggerCharacters,a=t.value,i=n.state.mention,o=e.key;switch(i.status){case"loading":case"active":if(" "===o)return void n.setState({mention:s(s({},n.state.mention),{status:"inactive"})});var l=a.substr(i.startPosition,n.getTextArea().selectionStart-i.startPosition)+o;n.startLoadingSuggestions(l),"loading"!==i.status&&n.setState({mention:s(s({},n.state.mention),{status:"loading"})});break;case"inactive":if(-1===r.indexOf(e.key)||!/\s|\(|\[|^.{0}$/.test(a.charAt(n.getTextArea().selectionStart-1)))return;n.loadEmptySuggestion(e.currentTarget,e.key)}},n.state={mention:{status:"inactive",suggestions:[]}},n}return r(t,e),t.prototype.suggestionsEnabled=function(){return this.props.suggestionTriggerCharacters&&this.props.suggestionTriggerCharacters.length&&this.props.loadSuggestions},t.prototype.render=function(){var e=this,t=this.props,n=t.classes,r=t.readOnly,o=t.textAreaProps,l=t.height,A=t.heightUnits,u=t.value,d=t.suggestionTriggerCharacters,h=t.loadSuggestions,p=t.suggestionsDropdownClasses,m=t.textAreaComponent,f=t.onPaste,g=t.onDrop,v=d&&d.length&&h,y=this.state.mention,w=m||"textarea",b=l&&A?l+A:l;return a.createElement("div",{className:"mde-textarea-wrapper"},a.createElement(w,s({className:i.classNames("mde-text",n),style:{height:b},ref:this.props.refObject,readOnly:r,value:u,"data-testid":"text-area"},o,{onChange:function(t){var n;null===(n=null===o||void 0===o?void 0:o.onChange)||void 0===n||n.call(o,t),e.handleOnChange(t)},onBlur:function(t){var n;null===(n=null===o||void 0===o?void 0:o.onBlur)||void 0===n||n.call(o,t),v&&e.handleBlur()},onKeyDown:function(t){var n;null===(n=null===o||void 0===o?void 0:o.onKeyDown)||void 0===n||n.call(o,t),e.handleKeyDown(t)},onKeyUp:function(t){var n;null===(n=null===o||void 0===o?void 0:o.onKeyUp)||void 0===n||n.call(o,t),v&&e.handleKeyUp(t)},onKeyPress:function(t){var n;null===(n=null===o||void 0===o?void 0:o.onKeyPress)||void 0===n||n.call(o,t),v&&e.handleKeyPress(t)},onPaste:function(e){var t;null===(t=null===o||void 0===o?void 0:o.onPaste)||void 0===t||t.call(o,e),f(e)},onDragOver:function(e){e.preventDefault(),e.stopPropagation()},onDrop:function(e){var t;null===(t=null===o||void 0===o?void 0:o.onDrop)||void 0===t||t.call(o,e),g(e),e.preventDefault()}})),"active"===y.status&&y.suggestions.length&&a.createElement(c.SuggestionsDropdown,{classes:p,caret:y.caret,suggestions:y.suggestions,onSuggestionSelected:this.handleSuggestionSelected,suggestionsAutoplace:this.props.suggestionsAutoplace,focusIndex:y.focusIndex,textAreaRef:this.props.refObject}))},t}(a.Component);t.TextArea=u},9391:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},s.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.Toolbar=void 0;var a=n(9950),i=n(342),o=n(3212),l=n(8851),A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleTabChange=function(e){(0,t.props.onTabChange)(e)},t}return r(t,e),t.prototype.render=function(){var e=this,t=this.props.l18n,n=this.props,r=n.classes,A=n.children,c=n.buttons,u=n.onCommand,d=n.readOnly,h=n.disablePreview,p=n.writeButtonProps,m=n.previewButtonProps,f=n.buttonProps;if((!c||0===c.length)&&!A)return null;var g=a.createElement("div",{className:"mde-tabs"},a.createElement("button",s({type:"button",className:i.classNames({selected:"write"===this.props.tab}),onClick:function(){return e.handleTabChange("write")}},p),t.write),a.createElement("button",s({type:"button",className:i.classNames({selected:"preview"===this.props.tab}),onClick:function(){return e.handleTabChange("preview")}},m),t.preview));return a.createElement("div",{className:i.classNames("mde-header",r)},!h&&g,c.map((function(t,n){return a.createElement(o.ToolbarButtonGroup,{key:n,hidden:"preview"===e.props.tab},t.map((function(e,t){return a.createElement(l.ToolbarButton,{key:t,name:e.commandName,buttonContent:e.buttonContent,buttonProps:s(s({},f||{}),e.buttonProps),onClick:function(){return u(e.commandName)},readOnly:d,buttonComponentClass:e.buttonComponentClass})})))})))},t}(a.Component);t.Toolbar=A},8851:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ToolbarButton=void 0;var s=n(9950),a={tabIndex:-1};t.ToolbarButton=function(e){var t=e.buttonComponentClass,n=e.buttonContent,i=e.buttonProps,o=e.onClick,l=e.readOnly,A=e.name,c=r(r({},a),i||{}),u=t||"button";return s.createElement("li",{className:"mde-header-item"},s.createElement(u,r(r({"data-name":A},c),{onClick:o,disabled:l,type:"button"}),n))}},3212:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToolbarButtonGroup=void 0;var r=n(9950),s=n(342);t.ToolbarButtonGroup=function(e){return r.createElement("ul",{className:s.classNames("mde-header-group",{hidden:e.hidden})},e.children)}},3904:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),s(n(3212),t),s(n(8851),t),s(n(3629),t),s(n(5244),t),s(n(4176),t),s(n(9391),t),s(n(5319),t),s(n(224),t)},3629:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MdeFontAwesomeIcon=void 0;var r=n(9950);t.MdeFontAwesomeIcon=function(e){var t=e.icon,n=t;switch(t){case"header":n="heading";break;case"quote":n="quote-right";break;case"unordered-list":case"checked-list":n="tasks";break;case"ordered-list":n="list-ol";break;default:n=t}return r.createElement("i",{className:"fas fa-"+n,"aria-hidden":"true"})}},5325:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SvgIcon=void 0;var r=n(9950),s=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"tasks",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M208 132h288c8.8 0 16-7.2 16-16V76c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zM64 368c-26.5 0-48.6 21.5-48.6 48s22.1 48 48.6 48 48-21.5 48-48-21.5-48-48-48zm92.5-299l-72.2 72.2-15.6 15.6c-4.7 4.7-12.9 4.7-17.6 0L3.5 109.4c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.3c4.7-4.7 12.3-4.7 17 0l17 16.5c4.6 4.7 4.6 12.3-.1 17zm0 159.6l-72.2 72.2-15.7 15.7c-4.7 4.7-12.9 4.7-17.6 0L3.5 269c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.7c4.7-4.7 12.3-4.7 17 0l17 17c4.6 4.6 4.6 12.2-.1 16.9z"})),a=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ol",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),i=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ul",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M96 96c0 26.51-21.49 48-48 48S0 122.51 0 96s21.49-48 48-48 48 21.49 48 48zM48 208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm0 160c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm96-236h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),o=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"image",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"})),l=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"code",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})),A=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"quote-right",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M512 80v128c0 137.018-63.772 236.324-193.827 271.172-15.225 4.08-30.173-7.437-30.173-23.199v-33.895c0-10.057 6.228-19.133 15.687-22.55C369.684 375.688 408 330.054 408 256h-72c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h128c26.51 0 48 21.49 48 48zM176 32H48C21.49 32 0 53.49 0 80v128c0 26.51 21.49 48 48 48h72c0 74.054-38.316 119.688-104.313 143.528C6.228 402.945 0 412.021 0 422.078v33.895c0 15.762 14.948 27.279 30.173 23.199C160.228 444.324 224 345.018 224 208V80c0-26.51-21.49-48-48-48z"})),c=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"link",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"})),u=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"strikethrough",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z"})),d=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"italic",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z"})),h=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"heading",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M496 80V48c0-8.837-7.163-16-16-16H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.621v128H154.379V96H192c8.837 0 16-7.163 16-16V48c0-8.837-7.163-16-16-16H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.275v320H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.621V288H357.62v128H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.275V96H480c8.837 0 16-7.163 16-16z"})),p=r.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"bold",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512","data-fa-i2svg":""},r.createElement("path",{fill:"currentColor",d:"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z"}));t.SvgIcon=function(e){switch(e.icon){case"header":return h;case"bold":return p;case"italic":return d;case"strikethrough":return u;case"link":return c;case"quote":return A;case"code":return l;case"image":return o;case"unordered-list":return i;case"ordered-list":return a;case"checked-list":return s;default:return null}}},3014:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),s(n(3629),t),s(n(5325),t)},3087:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultToolbarCommands=t.getDefaultCommandMap=t.MdeFontAwesomeIcon=t.SvgIcon=t.MarkdownUtil=t.ToolbarButtonGroup=t.Toolbar=t.Preview=t.SuggestionsDropdown=t.TextArea=void 0;var r=n(6439);t.MarkdownUtil=r;var s=n(3904);Object.defineProperty(t,"TextArea",{enumerable:!0,get:function(){return s.TextArea}}),Object.defineProperty(t,"SuggestionsDropdown",{enumerable:!0,get:function(){return s.SuggestionsDropdown}}),Object.defineProperty(t,"Preview",{enumerable:!0,get:function(){return s.Preview}}),Object.defineProperty(t,"Toolbar",{enumerable:!0,get:function(){return s.Toolbar}}),Object.defineProperty(t,"ToolbarButtonGroup",{enumerable:!0,get:function(){return s.ToolbarButtonGroup}});var a=n(3014);Object.defineProperty(t,"SvgIcon",{enumerable:!0,get:function(){return a.SvgIcon}}),Object.defineProperty(t,"MdeFontAwesomeIcon",{enumerable:!0,get:function(){return a.MdeFontAwesomeIcon}});var i=n(3631);Object.defineProperty(t,"getDefaultCommandMap",{enumerable:!0,get:function(){return i.getDefaultCommandMap}}),Object.defineProperty(t,"getDefaultToolbarCommands",{enumerable:!0,get:function(){return i.getDefaultToolbarCommands}}),t.default=s.ReactMde},8546:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enL18n=void 0,t.enL18n={write:"Write",preview:"Preview",uploadingImage:"Uploading image...",pasteDropSelect:"Attach files by dragging & dropping, selecting or pasting them."}},342:(e,t)=>{"use strict";function n(e){return"string"===typeof e}function r(e){return Array.isArray(e)&&e.length>0}function s(e){return"object"===typeof e}Object.defineProperty(t,"__esModule",{value:!0}),t.classNames=void 0,t.classNames=function e(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];for(var i=[],o=0;o<t.length;o++){var l=t[o];if(l)if(n(l))i.push(l);else if(r(l)){var A=e.apply(null,l);A&&i.push(A)}else if(s(l))for(var c in l)l.hasOwnProperty(c)&&l[c]&&i.push(c)}return i.join(" ")}},1398:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.insertText=void 0,t.insertText=function(e,t){if(e.focus(),document.selection){var n=document.selection.createRange();return n.text=t,n.collapse(!1),void n.select()}if(!document.execCommand("insertText",!1,t)){var r=e.selectionStart,s=e.selectionEnd;if("function"===typeof e.setRangeText)e.setRangeText(t);else if(function(e){if("TEXTAREA"!==e.nodeName)return!1;var t;if("undefined"===typeof t){var n=document.createElement("textarea");n.value="1",t=!!n.firstChild}return t}(e)){var a=document.createTextNode(t),i=e.firstChild;if(i){for(var o=0,l=null,A=null,c=document.createRange();i&&(null===l||null===A);){var u=i.nodeValue.length;r>=o&&r<=o+u&&c.setStart(l=i,r-o),s>=o&&s<=o+u&&c.setEnd(A=i,s-o),o+=u,i=i.nextSibling}r!==s&&c.deleteContents(),c.insertNode(a)}else e.appendChild(a)}else{var d=e.value;e.value=d.slice(0,r)+t+d.slice(s)}e.setSelectionRange(r+t.length,r+t.length);var h=document.createEvent("UIEvent");h.initEvent("input",!0,!1),e.dispatchEvent(h)}}},6439:(e,t)=>{"use strict";function n(e,t){if(!e)throw Error("Argument 'text' should be truthy");for(var n=function(e){return" "===e||10===e.charCodeAt(0)},r=0,s=e.length,a=t;a-1>-1;a--)if(n(e[a-1])){r=a;break}for(a=t;a<e.length;a++)if(n(e[a])){s=a;break}return{start:r,end:s}}Object.defineProperty(t,"__esModule",{value:!0}),t.getBreaksNeededForEmptyLineAfter=t.getBreaksNeededForEmptyLineBefore=t.selectWord=t.getSurroundingWord=void 0,t.getSurroundingWord=n,t.selectWord=function(e){var t=e.text,r=e.selection;return t&&t.length&&r.start===r.end?n(t,r.start):r},t.getBreaksNeededForEmptyLineBefore=function(e,t){if(void 0===e&&(e=""),0===t)return 0;for(var n=2,r=!0,s=t-1;s>=0&&n>=0;s--)switch(e.charCodeAt(s)){case 32:continue;case 10:n--,r=!1;break;default:return n}return r?0:n},t.getBreaksNeededForEmptyLineAfter=function(e,t){if(void 0===e&&(e=""),t===e.length-1)return 0;for(var n=2,r=!0,s=t;s<e.length&&n>=0;s++)switch(e.charCodeAt(s)){case 32:continue;case 10:n--,r=!1;break;default:return n}return r?0:n}},6868:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mod=void 0,t.mod=function(e,t){return(e%t+t)%t}},9238:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCaretCoordinates=void 0;var n=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],r="undefined"!==typeof window,s=r&&null!=window.mozInnerScreenX;t.getCaretCoordinates=function(e,t){if(!r)throw new Error("getCaretCoordinates should only be called in a browser");var a=document.createElement("div");a.id="input-textarea-caret-position-mirror-div",document.body.appendChild(a);var i=a.style,o=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle;i.whiteSpace="pre-wrap",i.wordWrap="break-word",i.position="absolute",i.visibility="hidden",n.forEach((function(e){i[e]=o[e]})),s?e.scrollHeight>parseInt(o.height)&&(i.overflowY="scroll"):i.overflow="hidden",a.textContent=e.value.substring(0,e.selectionStart),t&&(a.textContent+=t);var l=document.createElement("span");l.textContent=e.value.substring(e.selectionEnd)||".",a.appendChild(l);var A={top:l.offsetTop+parseInt(o.borderTopWidth),left:l.offsetLeft+parseInt(o.borderLeftWidth),lineHeight:parseInt(o.lineHeight)};return document.body.removeChild(a),A}},2215:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(s,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,r,s,a,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(s=(s=i.trys).length>0&&s[s.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(o){a=[6,o],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.readFileAsync=void 0,t.readFileAsync=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(t){return[2,new Promise((function(t,n){var r=new FileReader;r.onload=function(){if("string"===typeof r.result)throw new Error("reader.result is expected to be an ArrayBuffer");t(r.result)},r.onerror=n,r.readAsArrayBuffer(e)}))]}))}))}},7657:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},s.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var l=o(n(9950)),A=o(n(7119)),c=n(5580),u=200,d=function(e){function t(t){var n=e.call(this,t)||this;return n.listRef=l.createRef(),n.ghostRef=l.createRef(),n.topOffsets=[],n.itemTranslateOffsets=[],n.initialYOffset=0,n.lastScroll=0,n.lastYOffset=0,n.lastListYOffset=0,n.needle=-1,n.afterIndex=-2,n.state={itemDragged:-1,itemDraggedOutOfBounds:-1,selectedItem:-1,initialX:0,initialY:0,targetX:0,targetY:0,targetHeight:0,targetWidth:0,liveText:"",scrollingSpeed:0,scrollWindow:!1},n.doScrolling=function(){var e=n.state,t=e.scrollingSpeed,r=e.scrollWindow,s=n.listRef.current;window.requestAnimationFrame((function(){r?window.scrollTo(window.pageXOffset,window.pageYOffset+1.5*t):s.scrollTop+=t,0!==t&&n.doScrolling()}))},n.getChildren=function(){return n.listRef&&n.listRef.current?Array.from(n.listRef.current.children):(console.warn("No items found in the List container. Did you forget to pass & spread the `props` param in renderList?"),[])},n.calculateOffsets=function(){n.topOffsets=n.getChildren().map((function(e){return e.getBoundingClientRect().top})),n.itemTranslateOffsets=n.getChildren().map((function(e){return c.getTranslateOffset(e)}))},n.getTargetIndex=function(e){return n.getChildren().findIndex((function(t){return t===e.target||t.contains(e.target)}))},n.onMouseOrTouchStart=function(e){n.dropTimeout&&n.state.itemDragged>-1&&(window.clearTimeout(n.dropTimeout),n.finishDrop());var t=c.isTouchEvent(e);if(t||0===e.button){var r=n.getTargetIndex(e);if(-1===r||n.props.values[r]&&n.props.values[r].disabled)-1!==n.state.selectedItem&&(n.setState({selectedItem:-1}),n.finishDrop());else{var s=n.getChildren()[r],a=s.querySelector("[data-movable-handle]");if((!a||a.contains(e.target))&&!c.checkIfInteractive(e.target,s)){if(e.preventDefault(),n.props.beforeDrag&&n.props.beforeDrag({elements:n.getChildren(),index:r}),t){var i={passive:!1};s.style.touchAction="none",document.addEventListener("touchend",n.schdOnEnd,i),document.addEventListener("touchmove",n.schdOnTouchMove,i),document.addEventListener("touchcancel",n.schdOnEnd,i)}else{document.addEventListener("mousemove",n.schdOnMouseMove),document.addEventListener("mouseup",n.schdOnEnd);var o=n.getChildren()[n.state.itemDragged];o&&o.style&&(o.style.touchAction="")}n.onStart(s,t?e.touches[0].clientX:e.clientX,t?e.touches[0].clientY:e.clientY,r)}}}},n.getYOffset=function(){var e=n.listRef.current?n.listRef.current.scrollTop:0;return window.pageYOffset+e},n.onStart=function(e,t,r,s){n.state.selectedItem>-1&&(n.setState({selectedItem:-1}),n.needle=-1);var a=e.getBoundingClientRect(),i=window.getComputedStyle(e);n.calculateOffsets(),n.initialYOffset=n.getYOffset(),n.lastYOffset=window.pageYOffset,n.lastListYOffset=n.listRef.current.scrollTop,n.setState({itemDragged:s,targetX:a.left-parseInt(i["margin-left"],10),targetY:a.top-parseInt(i["margin-top"],10),targetHeight:a.height,targetWidth:a.width,initialX:t,initialY:r})},n.onMouseMove=function(e){e.cancelable&&e.preventDefault(),n.onMove(e.clientX,e.clientY)},n.onTouchMove=function(e){e.cancelable&&e.preventDefault(),n.onMove(e.touches[0].clientX,e.touches[0].clientY)},n.onWheel=function(e){n.state.itemDragged<0||(n.lastScroll=n.listRef.current.scrollTop+=e.deltaY,n.moveOtherItems())},n.onMove=function(e,t){if(-1===n.state.itemDragged)return null;c.transformItem(n.ghostRef.current,t-n.state.initialY,n.props.lockVertically?0:e-n.state.initialX),n.autoScrolling(t),n.moveOtherItems()},n.moveOtherItems=function(){var e=n.ghostRef.current.getBoundingClientRect(),t=e.top+e.height/2,r=c.getTranslateOffset(n.getChildren()[n.state.itemDragged]),s=n.getYOffset();n.initialYOffset!==s&&(n.topOffsets=n.topOffsets.map((function(e){return e-(s-n.initialYOffset)})),n.initialYOffset=s),n.isDraggedItemOutOfBounds()&&n.props.removableByMove?n.afterIndex=n.topOffsets.length+1:n.afterIndex=c.binarySearch(n.topOffsets,t),n.animateItems(-1===n.afterIndex?0:n.afterIndex,n.state.itemDragged,r)},n.autoScrolling=function(e){var t=n.listRef.current.getBoundingClientRect(),r=t.top,s=t.bottom,a=t.height,i=window.innerHeight||document.documentElement.clientHeight;if(s>i&&i-e<u)n.setState({scrollingSpeed:Math.round((u-(i-e))/10),scrollWindow:!0});else if(r<0&&e<u)n.setState({scrollingSpeed:Math.round((u-e)/-10),scrollWindow:!0});else if(n.state.scrollWindow&&0!==n.state.scrollingSpeed&&n.setState({scrollingSpeed:0,scrollWindow:!1}),a+20<n.listRef.current.scrollHeight){var o=0;e-r<u?o=Math.round((u-(e-r))/-10):s-e<u&&(o=Math.round((u-(s-e))/10)),n.state.scrollingSpeed!==o&&n.setState({scrollingSpeed:o})}},n.animateItems=function(e,t,r,s){void 0===s&&(s=!1),n.getChildren().forEach((function(a,i){if(c.setItemTransition(a,n.props.transitionDuration),t===i&&s){if(t===e)return c.transformItem(a,null);c.transformItem(a,t<e?n.itemTranslateOffsets.slice(t+1,e+1).reduce((function(e,t){return e+t}),0):-1*n.itemTranslateOffsets.slice(e,t).reduce((function(e,t){return e+t}),0))}else t<e&&i>t&&i<=e?c.transformItem(a,-r):i<t&&t>e&&i>=e?c.transformItem(a,r):c.transformItem(a,null)}))},n.isDraggedItemOutOfBounds=function(){var e=n.getChildren()[n.state.itemDragged].getBoundingClientRect(),t=n.ghostRef.current.getBoundingClientRect();return Math.abs(e.left-t.left)>t.width?(-1===n.state.itemDraggedOutOfBounds&&n.setState({itemDraggedOutOfBounds:n.state.itemDragged}),!0):(n.state.itemDraggedOutOfBounds>-1&&n.setState({itemDraggedOutOfBounds:-1}),!1)},n.onEnd=function(e){e.cancelable&&e.preventDefault(),document.removeEventListener("mousemove",n.schdOnMouseMove),document.removeEventListener("touchmove",n.schdOnTouchMove),document.removeEventListener("mouseup",n.schdOnEnd),document.removeEventListener("touchup",n.schdOnEnd),document.removeEventListener("touchcancel",n.schdOnEnd);var t=n.props.removableByMove&&n.isDraggedItemOutOfBounds();!t&&n.props.transitionDuration>0&&-2!==n.afterIndex&&c.schd((function(){c.setItemTransition(n.ghostRef.current,n.props.transitionDuration,"cubic-bezier(.2,1,.1,1)"),n.afterIndex<1&&0===n.state.itemDragged?c.transformItem(n.ghostRef.current,0,0):c.transformItem(n.ghostRef.current,-(window.pageYOffset-n.lastYOffset)-(n.listRef.current.scrollTop-n.lastListYOffset)+(n.state.itemDragged<n.afterIndex?n.itemTranslateOffsets.slice(n.state.itemDragged+1,n.afterIndex+1).reduce((function(e,t){return e+t}),0):-1*n.itemTranslateOffsets.slice(n.afterIndex<0?0:n.afterIndex,n.state.itemDragged).reduce((function(e,t){return e+t}),0)),0)}))(),n.dropTimeout=window.setTimeout(n.finishDrop,t||-2===n.afterIndex?0:n.props.transitionDuration)},n.finishDrop=function(){var e=n.props.removableByMove&&n.isDraggedItemOutOfBounds();(e||n.afterIndex>-2&&n.state.itemDragged!==n.afterIndex)&&n.props.onChange({oldIndex:n.state.itemDragged,newIndex:e?-1:Math.max(n.afterIndex,0),targetRect:n.ghostRef.current.getBoundingClientRect()}),n.getChildren().forEach((function(e){c.setItemTransition(e,0),c.transformItem(e,null),e.style.touchAction=""})),n.setState({itemDragged:-1,scrollingSpeed:0}),n.afterIndex=-2,n.lastScroll>0&&(n.listRef.current.scrollTop=n.lastScroll,n.lastScroll=0)},n.onKeyDown=function(e){var t=n.state.selectedItem,r=n.getTargetIndex(e);if(!c.checkIfInteractive(e.target,e.currentTarget)&&-1!==r){if(" "===e.key&&(e.preventDefault(),t===r?(t!==n.needle&&(n.getChildren().forEach((function(e){c.setItemTransition(e,0),c.transformItem(e,null)})),n.props.onChange({oldIndex:t,newIndex:n.needle,targetRect:n.getChildren()[n.needle].getBoundingClientRect()}),n.getChildren()[n.needle].focus()),n.setState({selectedItem:-1,liveText:n.props.voiceover.dropped(t+1,n.needle+1)}),n.needle=-1):(n.setState({selectedItem:r,liveText:n.props.voiceover.lifted(r+1)}),n.needle=r,n.calculateOffsets())),("ArrowDown"===e.key||"j"===e.key)&&t>-1&&n.needle<n.props.values.length-1){e.preventDefault();var s=c.getTranslateOffset(n.getChildren()[t]);n.needle++,n.animateItems(n.needle,t,s,!0),n.setState({liveText:n.props.voiceover.moved(n.needle+1,!1)})}if(("ArrowUp"===e.key||"k"===e.key)&&t>-1&&n.needle>0){e.preventDefault();s=c.getTranslateOffset(n.getChildren()[t]);n.needle--,n.animateItems(n.needle,t,s,!0),n.setState({liveText:n.props.voiceover.moved(n.needle+1,!0)})}"Escape"===e.key&&t>-1&&(n.getChildren().forEach((function(e){c.setItemTransition(e,0),c.transformItem(e,null)})),n.setState({selectedItem:-1,liveText:n.props.voiceover.canceled(t+1)}),n.needle=-1),("Tab"===e.key||"Enter"===e.key)&&t>-1&&e.preventDefault()}},n.schdOnMouseMove=c.schd(n.onMouseMove),n.schdOnTouchMove=c.schd(n.onTouchMove),n.schdOnEnd=c.schd(n.onEnd),n}return r(t,e),t.prototype.componentDidMount=function(){this.calculateOffsets(),document.addEventListener("touchstart",this.onMouseOrTouchStart,{passive:!1,capture:!1}),document.addEventListener("mousedown",this.onMouseOrTouchStart)},t.prototype.componentDidUpdate=function(e,t){t.scrollingSpeed!==this.state.scrollingSpeed&&0===t.scrollingSpeed&&this.doScrolling()},t.prototype.componentWillUnmount=function(){document.removeEventListener("touchstart",this.onMouseOrTouchStart),document.removeEventListener("mousedown",this.onMouseOrTouchStart)},t.prototype.render=function(){var e=this,t={userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",boxSizing:"border-box",position:"relative"},n=s(s({},t),{top:this.state.targetY,left:this.state.targetX,width:this.state.targetWidth,height:this.state.targetHeight,position:"fixed",marginTop:0});return l.createElement(l.Fragment,null,this.props.renderList({children:this.props.values.map((function(n,r){var a=r===e.state.itemDragged,i=r===e.state.selectedItem,o={key:r,tabIndex:e.props.values[r]&&e.props.values[r].disabled?-1:0,"aria-roledescription":e.props.voiceover.item(r+1),onKeyDown:e.onKeyDown,style:s(s({},t),{visibility:a?"hidden":void 0,zIndex:i?5e3:0})};return e.props.renderItem({value:n,props:o,index:r,isDragged:!1,isSelected:i,isOutOfBounds:!1})})),isDragged:this.state.itemDragged>-1,props:{ref:this.listRef}}),this.state.itemDragged>-1&&A.createPortal(this.props.renderItem({value:this.props.values[this.state.itemDragged],props:{ref:this.ghostRef,style:n,onWheel:this.onWheel},index:this.state.itemDragged,isDragged:!0,isSelected:!1,isOutOfBounds:this.state.itemDraggedOutOfBounds>-1}),this.props.container||document.body),l.createElement("div",{"aria-live":"assertive",role:"log","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0px",padding:"0px",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"}},this.state.liveText))},t.defaultProps={transitionDuration:300,lockVertically:!1,removableByMove:!1,voiceover:{item:function(e){return"You are currently at a draggable item at position "+e+". Press space bar to lift."},lifted:function(e){return"You have lifted item at position "+e+". Press j to move down, k to move up, space bar to drop and escape to cancel."},moved:function(e,t){return"You have moved the lifted item "+(t?"up":"down")+" to position "+e+". Press j to move down, k to move up, space bar to drop and escape to cancel."},dropped:function(e,t){return"You have dropped the item. It has moved from position "+e+" to "+t+"."},canceled:function(e){return"You have cancelled the movement. The item has returned to its starting position of "+e+"."}}},t}(l.Component);t.default=d},65:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.arrayRemove=t.arrayMove=t.List=void 0;var s=r(n(7657));t.List=s.default;var a=n(5580);Object.defineProperty(t,"arrayMove",{enumerable:!0,get:function(){return a.arrayMove}}),Object.defineProperty(t,"arrayRemove",{enumerable:!0,get:function(){return a.arrayRemove}})},5580:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkIfInteractive=t.schd=t.binarySearch=t.setItemTransition=t.isItemTransformed=t.transformItem=t.isTouchEvent=t.getTranslateOffset=t.arrayRemove=t.arrayMove=void 0,t.arrayMove=function(e,t,n){return(e=e.slice()).splice(n<0?e.length+n:n,0,e.splice(t,1)[0]),e},t.arrayRemove=function(e,t){return(e=e.slice()).splice(t,1),e},t.getTranslateOffset=function(e){var t=window.getComputedStyle(e);return Math.max(parseInt(t["margin-top"],10),parseInt(t["margin-bottom"],10))+e.getBoundingClientRect().height},t.isTouchEvent=function(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length},t.transformItem=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0),e&&(null!==t&&null!==n?e.style.transform="translate("+n+"px, "+t+"px)":e.style.removeProperty("transform"))},t.isItemTransformed=function(e){return!!e.style.transform},t.setItemTransition=function(e,t,n){e&&(e.style.transition="transform "+t+"ms"+(n?" "+n:""))},t.binarySearch=function(e,t){for(var n,r=0,s=e.length-1;r<=s;){if(!e[(n=Math.floor((s+r)/2))+1]||e[n]<=t&&e[n+1]>=t)return n;e[n]<t&&e[n+1]<t?r=n+1:s=n-1}return-1};t.schd=function(e){var t=[],n=null;return function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];t=r,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))}},t.checkIfInteractive=function(e,t){for(var n=["input","textarea","select","option","optgroup","video","audio","button","a"],r=["button","link","checkbox","tab"];e!==t;){if(e.getAttribute("data-movable-handle"))return!1;if(n.includes(e.tagName.toLowerCase()))return!0;var s=e.getAttribute("role");if(s&&r.includes(s.toLowerCase()))return!0;if("label"===e.tagName.toLowerCase()&&e.hasAttribute("for"))return!0;e.tagName&&(e=e.parentElement)}return!1}},2654:(e,t,n)=>{"use strict";n(6470);var r=n(9950),s=60103;if("function"===typeof Symbol&&Symbol.for){var a=Symbol.for;s=a("react.element"),a("react.fragment")}var i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,n){var r,a={},A=null,c=null;for(r in void 0!==n&&(A=""+n),void 0!==t.key&&(A=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:s,type:e,key:A,ref:c,props:a,_owner:i.current}}t.jsx=A,t.jsxs=A},2049:(e,t,n)=>{"use strict";var r=n(6470),s=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var i=60109,o=60110,l=60112;t.Suspense=60113;var A=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var u=Symbol.for;s=u("react.element"),a=u("react.portal"),t.Fragment=u("react.fragment"),t.StrictMode=u("react.strict_mode"),t.Profiler=u("react.profiler"),i=u("react.provider"),o=u("react.context"),l=u("react.forward_ref"),t.Suspense=u("react.suspense"),A=u("react.memo"),c=u("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function f(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}f.prototype.isReactComponent={},f.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},f.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=f.prototype;var y=v.prototype=new g;y.constructor=v,r(y,f.prototype),y.isPureReactComponent=!0;var w={current:null},b=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function B(e,t,n){var r,a={},i=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)b.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var A=Array(l),c=0;c<l;c++)A[c]=arguments[c+2];a.children=A}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:s,type:e,key:i,ref:o,props:a,_owner:w.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===s}var k=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function E(e,t,n,r,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case s:case a:l=!0}}if(l)return i=i(l=e),e=""===r?"."+S(l,0):r,Array.isArray(i)?(n="",null!=e&&(n=e.replace(k,"$&/")+"/"),E(i,t,n,"",(function(e){return e}))):null!=i&&(C(i)&&(i=function(e,t){return{$$typeof:s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(k,"$&/")+"/")+e)),t.push(i)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var A=0;A<e.length;A++){var c=r+S(o=e[A],A);l+=E(o,t,n,c,i)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),A=0;!(o=e.next()).done;)l+=E(o=o.value,t,n,c=r+S(o,A++),i);else if("object"===o)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function j(e,t,n){if(null==e)return e;var r=[],s=0;return E(e,r,"","",(function(e){return t.call(n,e,s++)})),r}function F(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var I={current:null};function Q(){var e=I.current;if(null===e)throw Error(h(321));return e}var M={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:j,forEach:function(e,t,n){j(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return j(e,(function(){t++})),t},toArray:function(e){return j(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error(h(143));return e}},t.Component=f,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var a=r({},e.props),i=e.key,o=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,l=w.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var A=e.type.defaultProps;for(c in t)b.call(t,c)&&!x.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==A?A[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){A=Array(c);for(var u=0;u<c;u++)A[u]=arguments[u+2];a.children=A}return{$$typeof:s,type:e.type,key:i,ref:o,props:a,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:o,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=B,t.createFactory=function(e){var t=B.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:F}},t.memo=function(e,t){return{$$typeof:A,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return Q().useCallback(e,t)},t.useContext=function(e,t){return Q().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return Q().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return Q().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return Q().useLayoutEffect(e,t)},t.useMemo=function(e,t){return Q().useMemo(e,t)},t.useReducer=function(e,t,n){return Q().useReducer(e,t,n)},t.useRef=function(e){return Q().useRef(e)},t.useState=function(e){return Q().useState(e)},t.version="17.0.2"},9950:(e,t,n)=>{"use strict";e.exports=n(2049)},4414:(e,t,n)=>{"use strict";e.exports=n(2654)},1761:(e,t)=>{"use strict";var n,r,s,a;if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var A=null,c=null,u=function(){if(null!==A)try{var e=t.unstable_now();A(!0,e),A=null}catch(n){throw setTimeout(u,0),n}};n=function(e){null!==A?setTimeout(n,0,e):(A=e,setTimeout(u,0))},r=function(e,t){c=setTimeout(e,t)},s=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,f=null,g=-1,v=5,y=0;t.unstable_shouldYield=function(){return t.unstable_now()>=y},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,b=w.port2;w.port1.onmessage=function(){if(null!==f){var e=t.unstable_now();y=e+v;try{f(!0,e)?b.postMessage(null):(m=!1,f=null)}catch(n){throw b.postMessage(null),n}}else m=!1},n=function(e){f=e,m||(m=!0,b.postMessage(null))},r=function(e,n){g=d((function(){e(t.unstable_now())}),n)},s=function(){h(g),g=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,s=e[r];if(!(void 0!==s&&0<k(s,t)))break e;e[r]=t,e[n]=s,n=r}}function B(e){return void 0===(e=e[0])?null:e}function C(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length;r<s;){var a=2*(r+1)-1,i=e[a],o=a+1,l=e[o];if(void 0!==i&&0>k(i,n))void 0!==l&&0>k(l,i)?(e[r]=l,e[o]=n,r=o):(e[r]=i,e[a]=n,r=a);else{if(!(void 0!==l&&0>k(l,n)))break e;e[r]=l,e[o]=n,r=o}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],E=[],j=1,F=null,I=3,Q=!1,M=!1,U=!1;function N(e){for(var t=B(E);null!==t;){if(null===t.callback)C(E);else{if(!(t.startTime<=e))break;C(E),t.sortIndex=t.expirationTime,x(S,t)}t=B(E)}}function T(e){if(U=!1,N(e),!M)if(null!==B(S))M=!0,n(D);else{var t=B(E);null!==t&&r(T,t.startTime-e)}}function D(e,n){M=!1,U&&(U=!1,s()),Q=!0;var a=I;try{for(N(n),F=B(S);null!==F&&(!(F.expirationTime>n)||e&&!t.unstable_shouldYield());){var i=F.callback;if("function"===typeof i){F.callback=null,I=F.priorityLevel;var o=i(F.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?F.callback=o:F===B(S)&&C(S),N(n)}else C(S);F=B(S)}if(null!==F)var l=!0;else{var A=B(E);null!==A&&r(T,A.startTime-n),l=!1}return l}finally{F=null,I=a,Q=!1}}var H=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){M||Q||(M=!0,n(D))},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return B(S)},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var n=I;I=t;try{return e()}finally{I=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=H,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=I;I=e;try{return t()}finally{I=n}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:j++,callback:a,priorityLevel:e,startTime:i,expirationTime:l=i+l,sortIndex:-1},i>o?(e.sortIndex=i,x(E,e),null===B(S)&&e===B(E)&&(U?s():U=!0,r(T,i-o))):(e.sortIndex=l,x(S,e),M||Q||(M=!0,n(D))),e},t.unstable_wrapCallback=function(e){var t=I;return function(){var n=I;I=t;try{return e.apply(this,arguments)}finally{I=n}}}},5340:(e,t,n)=>{"use strict";e.exports=n(1761)},403:e=>{e.exports=function(e,t,n,r){var s=n?n.call(r,e,t):void 0;if(void 0!==s)return!!s;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),l=0;l<a.length;l++){var A=a[l];if(!o(A))return!1;var c=e[A],u=t[A];if(!1===(s=n?n.call(r,c,u,A):void 0)||void 0===s&&c!==u)return!1}return!0}},9794:e=>{e.exports=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()}},126:(e,t,n)=>{var r=n(4814);e.exports=function(e,t){var n,s=null;if(!e||"string"!==typeof e)return s;for(var a,i,o=r(e),l="function"===typeof t,A=0,c=o.length;A<c;A++)a=(n=o[A]).property,i=n.value,l?t(a,i,n):i&&(s||(s={}),s[a]=i);return s}},8738:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function s(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,a(n)))}return e}function a(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return s.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=i(t,n));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(s.default=s,e.exports=s):void 0===(n=function(){return s}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&s&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>i[e]=()=>r[e]));return i.default=()=>r,n.d(a,i),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{attentionMarkers:()=>Dp,contentInitial:()=>Ip,disable:()=>Hp,document:()=>Fp,flow:()=>Mp,flowInitial:()=>Qp,insideSpan:()=>Tp,string:()=>Up,text:()=>Np});var t={};n.r(t),n.d(t,{boolean:()=>Um,booleanish:()=>Nm,commaOrSpaceSeparated:()=>Pm,commaSeparated:()=>Lm,number:()=>Dm,overloadedBoolean:()=>Tm,spaceSeparated:()=>Hm});var r=n(7119),s=n.t(r,2);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=n(9950);const u={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};function d(e){if(Array.isArray(e))return e}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){if(e){if("string"==typeof e)return h(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function m(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){return d(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,a,i,o=[],l=!0,A=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){A=!0,s=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(A)throw s}}return o}}(e,t)||p(e,t)||m()}function g(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var v=n(8738),y=n.n(v);const w=(0,c.createContext)({});function b(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function x(e){return Math.min(1,Math.max(0,e))}function B(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function C(e){return e<=1?"".concat(100*Number(e),"%"):e}function k(e){return 1===e.length?"0"+e:String(e)}function S(e,t,n){e=b(e,255),t=b(t,255),n=b(n,255);var r=Math.max(e,t,n),s=Math.min(e,t,n),a=0,i=0,o=(r+s)/2;if(r===s)i=0,a=0;else{var l=r-s;switch(i=o>.5?l/(2-r-s):l/(r+s),r){case e:a=(t-n)/l+(t<n?6:0);break;case t:a=(n-e)/l+2;break;case n:a=(e-t)/l+4}a/=6}return{h:a,s:i,l:o}}function E(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function j(e,t,n){e=b(e,255),t=b(t,255),n=b(n,255);var r=Math.max(e,t,n),s=Math.min(e,t,n),a=0,i=r,o=r-s,l=0===r?0:o/r;if(r===s)a=0;else{switch(r){case e:a=(t-n)/o+(t<n?6:0);break;case t:a=(n-e)/o+2;break;case n:a=(e-t)/o+4}a/=6}return{h:a,s:l,v:i}}function F(e,t,n,r){var s=[k(Math.round(e).toString(16)),k(Math.round(t).toString(16)),k(Math.round(n).toString(16))];return r&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function I(e){return Math.round(255*parseFloat(e)).toString(16)}function Q(e){return M(e)/255}function M(e){return parseInt(e,16)}var U={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function N(e){var t,n,r,s={r:0,g:0,b:0},a=1,i=null,o=null,l=null,A=!1,c=!1;return"string"===typeof e&&(e=function(e){if(e=e.trim().toLowerCase(),0===e.length)return!1;var t=!1;if(U[e])e=U[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=L.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=L.rgba.exec(e),n)return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=L.hsl.exec(e),n)return{h:n[1],s:n[2],l:n[3]};if(n=L.hsla.exec(e),n)return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=L.hsv.exec(e),n)return{h:n[1],s:n[2],v:n[3]};if(n=L.hsva.exec(e),n)return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=L.hex8.exec(e),n)return{r:M(n[1]),g:M(n[2]),b:M(n[3]),a:Q(n[4]),format:t?"name":"hex8"};if(n=L.hex6.exec(e),n)return{r:M(n[1]),g:M(n[2]),b:M(n[3]),format:t?"name":"hex"};if(n=L.hex4.exec(e),n)return{r:M(n[1]+n[1]),g:M(n[2]+n[2]),b:M(n[3]+n[3]),a:Q(n[4]+n[4]),format:t?"name":"hex8"};if(n=L.hex3.exec(e),n)return{r:M(n[1]+n[1]),g:M(n[2]+n[2]),b:M(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(P(e.r)&&P(e.g)&&P(e.b)?(t=e.r,n=e.g,r=e.b,s={r:255*b(t,255),g:255*b(n,255),b:255*b(r,255)},A=!0,c="%"===String(e.r).substr(-1)?"prgb":"rgb"):P(e.h)&&P(e.s)&&P(e.v)?(i=C(e.s),o=C(e.v),s=function(e,t,n){e=6*b(e,360),t=b(t,100),n=b(n,100);var r=Math.floor(e),s=e-r,a=n*(1-t),i=n*(1-s*t),o=n*(1-(1-s)*t),l=r%6;return{r:255*[n,i,a,a,o,n][l],g:255*[o,n,n,i,a,a][l],b:255*[a,a,o,n,n,i][l]}}(e.h,i,o),A=!0,c="hsv"):P(e.h)&&P(e.s)&&P(e.l)&&(i=C(e.s),l=C(e.l),s=function(e,t,n){var r,s,a;if(e=b(e,360),t=b(t,100),n=b(n,100),0===t)s=n,a=n,r=n;else{var i=n<.5?n*(1+t):n+t-n*t,o=2*n-i;r=E(o,i,e+1/3),s=E(o,i,e),a=E(o,i,e-1/3)}return{r:255*r,g:255*s,b:255*a}}(e.h,i,l),A=!0,c="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(a=e.a)),a=B(a),{ok:A,format:e.format||c,r:Math.min(255,Math.max(s.r,0)),g:Math.min(255,Math.max(s.g,0)),b:Math.min(255,Math.max(s.b,0)),a:a}}var T="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),D="[\\s|\\(]+(".concat(T,")[,|\\s]+(").concat(T,")[,|\\s]+(").concat(T,")\\s*\\)?"),H="[\\s|\\(]+(".concat(T,")[,|\\s]+(").concat(T,")[,|\\s]+(").concat(T,")[,|\\s]+(").concat(T,")\\s*\\)?"),L={CSS_UNIT:new RegExp(T),rgb:new RegExp("rgb"+D),rgba:new RegExp("rgba"+H),hsl:new RegExp("hsl"+D),hsla:new RegExp("hsla"+H),hsv:new RegExp("hsv"+D),hsva:new RegExp("hsva"+H),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function P(e){return Boolean(L.CSS_UNIT.exec(String(e)))}var O=2,R=.16,V=.05,K=.05,z=.15,_=5,G=4,W=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Y(e){var t=j(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function q(e){var t=e.r,n=e.g,r=e.b;return"#".concat(F(t,n,r,!1))}function X(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-O*t:Math.round(e.h)+O*t:n?Math.round(e.h)+O*t:Math.round(e.h)-O*t)<0?r+=360:r>=360&&(r-=360),r}function J(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-R*t:t===G?e.s+R:e.s+V*t)>1&&(r=1),n&&t===_&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function Z(e,t,n){var r;return(r=n?e.v+K*t:e.v-z*t)>1&&(r=1),Number(r.toFixed(2))}function $(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=N(e),s=_;s>0;s-=1){var a=Y(r),i=q(N({h:X(a,s,!0),s:J(a,s,!0),v:Z(a,s,!0)}));n.push(i)}n.push(q(r));for(var o=1;o<=G;o+=1){var l=Y(r),A=q(N({h:X(l,o),s:J(l,o),v:Z(l,o)}));n.push(A)}return"dark"===t.theme?W.map((function(e){var r=e.index,s=e.opacity;return q(function(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}(N(t.backgroundColor||"#141414"),N(n[r]),100*s))})):n}var ee={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},te={},ne={};Object.keys(ee).forEach((function(e){te[e]=$(ee[e]),te[e].primary=te[e][5],ne[e]=$(ee[e],{theme:"dark",backgroundColor:"#141414"}),ne[e].primary=ne[e][5]}));te.red,te.volcano,te.gold,te.orange,te.yellow,te.lime,te.green,te.cyan,te.blue,te.geekblue,te.purple,te.magenta,te.grey;var re={},se=[];function ae(e,t){}function ie(e,t){}function oe(e,t,n){t||re[n]||(e(!1,n),re[n]=!0)}function le(e,t){oe(ae,e,t)}le.preMessage=function(e){se.push(e)},le.resetWarned=function(){re={}},le.noteOnce=function(e,t){oe(ie,e,t)};const Ae=le;function ce(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}function ue(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}var de="data-rc-order",he="data-rc-priority",pe="rc-util-key",me=new Map;function fe(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):pe}function ge(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function ve(e){return Array.from((me.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!ce())return null;var n=t.csp,r=t.prepend,s=t.priority,a=void 0===s?0:s,i=function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(r),o="prependQueue"===i,l=document.createElement("style");l.setAttribute(de,i),o&&a&&l.setAttribute(he,"".concat(a)),null!==n&&void 0!==n&&n.nonce&&(l.nonce=null===n||void 0===n?void 0:n.nonce),l.innerHTML=e;var A=ge(t),c=A.firstChild;if(r){if(o){var u=(t.styles||ve(A)).filter((function(e){if(!["prepend","prependQueue"].includes(e.getAttribute(de)))return!1;var t=Number(e.getAttribute(he)||0);return a>=t}));if(u.length)return A.insertBefore(l,u[u.length-1].nextSibling),l}A.insertBefore(l,c)}else A.appendChild(l);return l}function we(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ge(t);return(t.styles||ve(n)).find((function(n){return n.getAttribute(fe(t))===e}))}function be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=we(e,t);n&&ge(t).removeChild(n)}function xe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=ge(n),s=ve(r),a=A(A({},n),{},{styles:s});!function(e,t){var n=me.get(e);if(!n||!ue(document,n)){var r=ye("",t),s=r.parentNode;me.set(e,s),e.removeChild(r)}}(r,a);var i=we(t,a);if(i){var o,l,c;if(null!==(o=a.csp)&&void 0!==o&&o.nonce&&i.nonce!==(null===(l=a.csp)||void 0===l?void 0:l.nonce))i.nonce=null===(c=a.csp)||void 0===c?void 0:c.nonce;return i.innerHTML!==e&&(i.innerHTML=e),i}var u=ye(e,a);return u.setAttribute(fe(a),t),u}var Be=n(6808),Ce=n.n(Be);function ke(e){return"object"===a(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===a(e.icon)||"function"===typeof e.icon)}function Se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else delete t[n],t[Ce()(n)]=r;return t}),{})}function Ee(e,t,n){return n?c.createElement(e.tag,A(A({key:t},Se(e.attrs)),n),(e.children||[]).map((function(n,r){return Ee(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))):c.createElement(e.tag,A({key:t},Se(e.attrs)),(e.children||[]).map((function(n,r){return Ee(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})))}function je(e){return $(e)[0]}function Fe(e){return e?Array.isArray(e)?e:[e]:[]}var Ie=["icon","className","onClick","style","primaryColor","secondaryColor"],Qe={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var Me=function(e){var t=e.icon,n=e.className,r=e.onClick,s=e.style,a=e.primaryColor,i=e.secondaryColor,o=g(e,Ie),l=Qe;if(a&&(l={primaryColor:a,secondaryColor:i||je(a)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"\n.anticon {\n  display: inline-flex;\n  alignItems: center;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",t=(0,c.useContext)(w).csp;(0,c.useEffect)((function(){xe(e,"@ant-design-icons",{prepend:!0,csp:t})}),[])}(),function(e,t){Ae(e,"[@ant-design/icons] ".concat(t))}(ke(t),"icon should be icon definiton, but got ".concat(t)),!ke(t))return null;var u=t;return u&&"function"===typeof u.icon&&(u=A(A({},u),{},{icon:u.icon(l.primaryColor,l.secondaryColor)})),Ee(u.icon,"svg-".concat(u.name),A({className:n,onClick:r,style:s,"data-icon":u.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},o))};Me.displayName="IconReact",Me.getTwoToneColors=function(){return A({},Qe)},Me.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;Qe.primaryColor=t,Qe.secondaryColor=n||je(t),Qe.calculated=!!n};const Ue=Me;function Ne(e){var t=f(Fe(e),2),n=t[0],r=t[1];return Ue.setTwoToneColors({primaryColor:n,secondaryColor:r})}var Te=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Ne("#1890ff");var De=c.forwardRef((function(e,t){var n=e.className,r=e.icon,s=e.spin,a=e.rotate,i=e.tabIndex,l=e.onClick,u=e.twoToneColor,d=g(e,Te),h=c.useContext(w),p=h.prefixCls,m=void 0===p?"anticon":p,v=h.rootClassName,b=y()(v,m,o(o({},"".concat(m,"-").concat(r.name),!!r.name),"".concat(m,"-spin"),!!s||"loading"===r.name),n),x=i;void 0===x&&l&&(x=-1);var B=a?{msTransform:"rotate(".concat(a,"deg)"),transform:"rotate(".concat(a,"deg)")}:void 0,C=f(Fe(u),2),k=C[0],S=C[1];return c.createElement("span",A(A({role:"img","aria-label":r.name},d),{},{ref:t,tabIndex:x,onClick:l,className:b}),c.createElement(Ue,{icon:r,primaryColor:k,secondaryColor:S,style:B}))}));De.displayName="AntdIcon",De.getTwoToneColor=function(){var e=Ue.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},De.setTwoToneColor=Ne;const He=De;var Le=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:u}))};const Pe=c.forwardRef(Le);function Oe(){return Oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oe.apply(null,arguments)}const Re={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};var Ve=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Re}))};const Ke=c.forwardRef(Ve);const ze={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};var _e=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:ze}))};const Ge=c.forwardRef(_e);const We={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"};var Ye=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:We}))};const qe=c.forwardRef(Ye);const Xe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};var Je=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Xe}))};const Ze=c.forwardRef(Je);function $e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function tt(e,t,n){return t&&et(e.prototype,t),n&&et(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nt(e,t){return nt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nt(e,t)}function rt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nt(e,t)}function st(e){return st=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},st(e)}function at(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(at=function(){return!!e})()}function it(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ot(e,t){if(t&&("object"==a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return it(e)}function lt(e){var t=at();return function(){var n,r=st(e);if(t){var s=st(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return ot(this,n)}}function At(){At=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",A=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),o=new Q(r||[]);return s(i,"_invoke",{value:E(e,n,o)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",p="suspendedYield",m="executing",f="completed",g={};function v(){}function y(){}function w(){}var b={};c(b,o,(function(){return this}));var x=Object.getPrototypeOf,B=x&&x(x(M([])));B&&B!==n&&r.call(B,o)&&(b=B);var C=w.prototype=v.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(s,i,o,l){var A=d(e[s],e,i);if("throw"!==A.type){var c=A.arg,u=c.value;return u&&"object"==a(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(u).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,l)}))}l(A.arg)}var i;s(this,"_invoke",{value:function(e,r){function s(){return new t((function(t,s){n(e,r,t,s)}))}return i=i?i.then(s,s):s()}})}function E(t,n,r){var s=h;return function(a,i){if(s===m)throw Error("Generator is already running");if(s===f){if("throw"===a)throw i;return{value:e,done:!0}}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var l=j(o,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(s===h)throw s=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);s=m;var A=d(t,n,r);if("normal"===A.type){if(s=r.done?f:p,A.arg===g)continue;return{value:A.arg,done:r.done}}"throw"===A.type&&(s=f,r.method="throw",r.arg=A.arg)}}}function j(t,n){var r=n.method,s=t.iterator[r];if(s===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,j(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=d(s,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var i=a.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function F(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Q(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(F,this),this.reset(!0)}function M(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var s=-1,i=function n(){for(;++s<t.length;)if(r.call(t,s))return n.value=t[s],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return y.prototype=w,s(C,"constructor",{value:w,configurable:!0}),s(w,"constructor",{value:y,configurable:!0}),y.displayName=c(w,A,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,c(e,A,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},k(S.prototype),c(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,s,a){void 0===a&&(a=Promise);var i=new S(u(e,n,r,s),a);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(C),c(C,A,"Generator"),c(C,o,(function(){return this})),c(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=M,Q.prototype={constructor:Q,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function s(r,s){return o.type="throw",o.arg=t,n.next=r,s&&(n.method="next",n.arg=e),!!s}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return s("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),A=r.call(i,"finallyLoc");if(l&&A){if(this.prev<i.catchLoc)return s(i.catchLoc,!0);if(this.prev<i.finallyLoc)return s(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return s(i.catchLoc,!0)}else{if(!A)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return s(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n];if(s.tryLoc<=this.prev&&r.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var a=s;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var s=r.arg;I(n)}return s}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:M(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function ct(e,t,n,r,s,a,i){try{var o=e[a](i),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,s)}function ut(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var a=e.apply(t,n);function i(e){ct(a,r,s,i,o,"next",e)}function o(e){ct(a,r,s,i,o,"throw",e)}i(void 0)}))}}var dt,ht=A({},s),pt=ht.version,mt=ht.render,ft=ht.unmountComponentAtNode;try{Number((pt||"").split(".")[0])>=18&&(dt=ht.createRoot)}catch(DB){}function gt(e){var t=ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===a(t)&&(t.usingClientEntryPoint=e)}var vt="__rc_react_root__";function yt(e,t){dt?function(e,t){gt(!0);var n=t[vt]||dt(t);gt(!1),n.render(e),t[vt]=n}(e,t):function(e,t){mt(e,t)}(e,t)}function wt(e){return bt.apply(this,arguments)}function bt(){return(bt=ut(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){var e;null===(e=t[vt])||void 0===e||e.unmount(),delete t[vt]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xt(e){ft(e)}function Bt(){return(Bt=ut(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===dt){e.next=2;break}return e.abrupt("return",wt(t));case 2:xt(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ct(e){return e instanceof HTMLElement||e instanceof SVGElement}function kt(e){var t,n=function(e){return e&&"object"===a(e)&&Ct(e.nativeElement)?e.nativeElement:Ct(e)?e:null}(e);return n||(e instanceof c.Component?null===(t=r.findDOMNode)||void 0===t?void 0:t.call(r,e):null)}var St=n(6429);function Et(e,t,n){var r=c.useRef({});return"value"in r.current&&!n(r.current.condition,t)||(r.current.value=e(),r.current.condition=t),r.current.value}var jt=function(e,t){"function"===typeof e?e(t):"object"===a(e)&&e&&"current"in e&&(e.current=t)},Ft=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);return r.length<=1?r[0]:function(e){t.forEach((function(t){jt(t,e)}))}},It=function(e){var t,n,r=(0,St.isMemo)(e)?e.type.type:e.type;return!!("function"!==typeof r||null!==(t=r.prototype)&&void 0!==t&&t.render||r.$$typeof===St.ForwardRef)&&!!("function"!==typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render||e.$$typeof===St.ForwardRef)};function Qt(e){return(0,c.isValidElement)(e)&&!(0,St.isFragment)(e)}Number(c.version.split(".")[0]);var Mt=c.createContext({});const Ut=function(e){rt(n,e);var t=lt(n);function n(){return $e(this,n),t.apply(this,arguments)}return tt(n,[{key:"render",value:function(){return this.props.children}}]),n}(c.Component);function Nt(e){var t=c.useRef();t.current=e;var n=c.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return n}var Tt=ce()?c.useLayoutEffect:c.useEffect,Dt=function(e,t){var n=c.useRef(!0);Tt((function(){return e(n.current)}),t),Tt((function(){return n.current=!1,function(){n.current=!0}}),[])},Ht=function(e,t){Dt((function(t){if(!t)return e()}),t)};const Lt=Dt;function Pt(e){var t=c.useRef(!1),n=f(c.useState(e),2),r=n[0],s=n[1];return c.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[r,function(e,n){n&&t.current||s(e)}]}function Ot(e){return void 0!==e}function Rt(e,t){var n=t||{},r=n.defaultValue,s=n.value,a=n.onChange,i=n.postState,o=f(Pt((function(){return Ot(s)?s:Ot(r)?"function"===typeof r?r():r:"function"===typeof e?e():e})),2),l=o[0],A=o[1],c=void 0!==s?s:l,u=i?i(c):c,d=Nt(a),h=f(Pt([c]),2),p=h[0],m=h[1];return Ht((function(){var e=p[0];l!==e&&d(l,e)}),[p]),Ht((function(){Ot(s)||A(s)}),[s]),[u,Nt((function(e,t){A(e,t),m([c],t)}))]}function Vt(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Kt(e){return function(e){if(Array.isArray(e))return h(e)}(e)||Vt(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}function _t(e,t,n,r){if(!t.length)return n;var s,a,i=d(s=t)||Vt(s)||p(s)||m(),o=i[0],l=i.slice(1);return a=e||"number"!==typeof o?Array.isArray(e)?Kt(e):A({},e):[],r&&void 0===n&&1===l.length?delete a[o][l[0]]:a[o]=_t(a[o],l,n,r),a}function Gt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!zt(e,t.slice(0,-1))?e:_t(e,t,n,r)}function Wt(e){return Array.isArray(e)?[]:{}}var Yt="undefined"===typeof Reflect?Object.keys:Reflect.ownKeys;function qt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Wt(t[0]);return t.forEach((function(e){!function t(n,s){var i,o=new Set(s),l=zt(e,n),A=Array.isArray(l);if(A||"object"===a(i=l)&&null!==i&&Object.getPrototypeOf(i)===Object.prototype){if(!o.has(l)){o.add(l);var c=zt(r,n);A?r=Gt(r,n,[]):c&&"object"===a(c)||(r=Gt(r,n,Wt(l))),Yt(l).forEach((function(e){t([].concat(Kt(n),[e]),o)}))}}else r=Gt(r,n,l)}([])})),r}var Xt="none",Jt="appear",Zt="enter",$t="leave",en="none",tn="prepare",nn="start",rn="active",sn="end",an="prepared";function on(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var ln=function(e,t){var n={animationend:on("Animation","AnimationEnd"),transitionend:on("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(ce(),"undefined"!==typeof window?window:{}),An={};if(ce()){var cn=document.createElement("div");An=cn.style}var un={};function dn(e){if(un[e])return un[e];var t=ln[e];if(t)for(var n=Object.keys(t),r=n.length,s=0;s<r;s+=1){var a=n[s];if(Object.prototype.hasOwnProperty.call(t,a)&&a in An)return un[e]=t[a],un[e]}return""}var hn=dn("animationend"),pn=dn("transitionend"),mn=!(!hn||!pn),fn=hn||"animationend",gn=pn||"transitionend";function vn(e,t){if(!e)return null;if("object"===a(e)){var n=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[n]}return"".concat(e,"-").concat(t)}const yn=function(e){var t=(0,c.useRef)();function n(t){t&&(t.removeEventListener(gn,e),t.removeEventListener(fn,e))}return c.useEffect((function(){return function(){n(t.current)}}),[]),[function(r){t.current&&t.current!==r&&n(t.current),r&&r!==t.current&&(r.addEventListener(gn,e),r.addEventListener(fn,e),t.current=r)},n]};const wn=ce()?c.useLayoutEffect:c.useEffect;var bn=function(e){return+setTimeout(e,16)},xn=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(bn=function(e){return window.requestAnimationFrame(e)},xn=function(e){return window.cancelAnimationFrame(e)});var Bn=0,Cn=new Map;function kn(e){Cn.delete(e)}var Sn=function(e){var t=Bn+=1;return function n(r){if(0===r)kn(t),e();else{var s=bn((function(){n(r-1)}));Cn.set(t,s)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};Sn.cancel=function(e){var t=Cn.get(e);return kn(e),xn(t)};const En=Sn;var jn=[tn,nn,rn,sn],Fn=[tn,an],In=!1,Qn=!0;function Mn(e){return e===rn||e===sn}const Un=function(e,t,n){var r=f(Pt(en),2),s=r[0],a=r[1],i=function(){var e=c.useRef(null);function t(){En.cancel(e.current)}return c.useEffect((function(){return function(){t()}}),[]),[function n(r){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var a=En((function(){s<=1?r({isCanceled:function(){return a!==e.current}}):n(r,s-1)}));e.current=a},t]}(),o=f(i,2),l=o[0],A=o[1];var u=t?Fn:jn;return wn((function(){if(s!==en&&s!==sn){var e=u.indexOf(s),t=u[e+1],r=n(s);r===In?a(t,!0):t&&l((function(e){function n(){e.isCanceled()||a(t,!0)}!0===r?n():Promise.resolve(r).then(n)}))}}),[e,s]),c.useEffect((function(){return function(){A()}}),[]),[function(){a(tn,!0)},s]};function Nn(e,t,n,r){var s=r.motionEnter,a=void 0===s||s,i=r.motionAppear,l=void 0===i||i,u=r.motionLeave,d=void 0===u||u,h=r.motionDeadline,p=r.motionLeaveImmediately,m=r.onAppearPrepare,g=r.onEnterPrepare,v=r.onLeavePrepare,y=r.onAppearStart,w=r.onEnterStart,b=r.onLeaveStart,x=r.onAppearActive,B=r.onEnterActive,C=r.onLeaveActive,k=r.onAppearEnd,S=r.onEnterEnd,E=r.onLeaveEnd,j=r.onVisibleChanged,F=f(Pt(),2),I=F[0],Q=F[1],M=function(e){var t=f(c.useReducer((function(e){return e+1}),0),2)[1],n=c.useRef(e);return[Nt((function(){return n.current})),Nt((function(e){n.current="function"===typeof e?e(n.current):e,t()}))]}(Xt),U=f(M,2),N=U[0],T=U[1],D=f(Pt(null),2),H=D[0],L=D[1],P=N(),O=(0,c.useRef)(!1),R=(0,c.useRef)(null);function V(){return n()}var K=(0,c.useRef)(!1);function z(){T(Xt),L(null,!0)}var _=Nt((function(e){var t=N();if(t!==Xt){var n=V();if(!e||e.deadline||e.target===n){var r,s=K.current;t===Jt&&s?r=null===k||void 0===k?void 0:k(n,e):t===Zt&&s?r=null===S||void 0===S?void 0:S(n,e):t===$t&&s&&(r=null===E||void 0===E?void 0:E(n,e)),s&&!1!==r&&z()}}})),G=f(yn(_),1)[0],W=function(e){switch(e){case Jt:return o(o(o({},tn,m),nn,y),rn,x);case Zt:return o(o(o({},tn,g),nn,w),rn,B);case $t:return o(o(o({},tn,v),nn,b),rn,C);default:return{}}},Y=c.useMemo((function(){return W(P)}),[P]),q=f(Un(P,!e,(function(e){if(e===tn){var t=Y[tn];return t?t(V()):In}var n;J in Y&&L((null===(n=Y[J])||void 0===n?void 0:n.call(Y,V(),null))||null);return J===rn&&P!==Xt&&(G(V()),h>0&&(clearTimeout(R.current),R.current=setTimeout((function(){_({deadline:!0})}),h))),J===an&&z(),Qn})),2),X=q[0],J=q[1],Z=Mn(J);K.current=Z,wn((function(){Q(t);var n,r=O.current;O.current=!0,!r&&t&&l&&(n=Jt),r&&t&&a&&(n=Zt),(r&&!t&&d||!r&&p&&!t&&d)&&(n=$t);var s=W(n);n&&(e||s[tn])?(T(n),X()):T(Xt)}),[t]),(0,c.useEffect)((function(){(P===Jt&&!l||P===Zt&&!a||P===$t&&!d)&&T(Xt)}),[l,a,d]),(0,c.useEffect)((function(){return function(){O.current=!1,clearTimeout(R.current)}}),[]);var $=c.useRef(!1);(0,c.useEffect)((function(){I&&($.current=!0),void 0!==I&&P===Xt&&(($.current||I)&&(null===j||void 0===j||j(I)),$.current=!0)}),[I,P]);var ee=H;return Y[tn]&&J===nn&&(ee=A({transition:"none"},ee)),[P,J,ee,null!==I&&void 0!==I?I:t]}const Tn=function(e){var t=e;"object"===a(e)&&(t=e.transitionSupport);var n=c.forwardRef((function(e,n){var r=e.visible,s=void 0===r||r,a=e.removeOnLeave,i=void 0===a||a,l=e.forceRender,u=e.children,d=e.motionName,h=e.leavedClassName,p=e.eventProps,m=function(e,n){return!(!e.motionName||!t||!1===n)}(e,c.useContext(Mt).motion),g=(0,c.useRef)(),v=(0,c.useRef)();var w=f(Nn(m,s,(function(){try{return g.current instanceof HTMLElement?g.current:kt(v.current)}catch(DB){return null}}),e),4),b=w[0],x=w[1],B=w[2],C=w[3],k=c.useRef(C);C&&(k.current=!0);var S,E=c.useCallback((function(e){g.current=e,jt(n,e)}),[n]),j=A(A({},p),{},{visible:s});if(u)if(b===Xt)S=C?u(A({},j),E):!i&&k.current&&h?u(A(A({},j),{},{className:h}),E):l||!i&&!h?u(A(A({},j),{},{style:{display:"none"}}),E):null;else{var F;x===tn?F="prepare":Mn(x)?F="active":x===nn&&(F="start");var I=vn(d,"".concat(b,"-").concat(F));S=u(A(A({},j),{},{className:y()(vn(d,b),o(o({},I,I&&F),d,"string"===typeof d)),style:B}),E)}else S=null;c.isValidElement(S)&&It(S)&&(S.ref||(S=c.cloneElement(S,{ref:E})));return c.createElement(Ut,{ref:v},S)}));return n.displayName="CSSMotion",n}(mn);var Dn="add",Hn="keep",Ln="remove",Pn="removed";function On(e){var t;return A(A({},t=e&&"object"===a(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function Rn(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(On)}var Vn=["component","children","onVisibleChanged","onAllRemoved"],Kn=["status"],zn=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];const _n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tn,n=function(e){rt(r,e);var n=lt(r);function r(){var e;$e(this,r);for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return o(it(e=n.call.apply(n,[this].concat(s))),"state",{keyEntities:[]}),o(it(e),"removeKey",(function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:A(A({},e),{},{status:Pn})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==Pn})).length})),e}return tt(r,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,r=this.props,s=r.component,a=r.children,i=r.onVisibleChanged,o=r.onAllRemoved,l=g(r,Vn),u=s||c.Fragment,d={};return zn.forEach((function(e){d[e]=l[e],delete l[e]})),delete l.keys,c.createElement(u,l,n.map((function(n,r){var s=n.status,l=g(n,Kn),u=s===Dn||s===Hn;return c.createElement(t,Oe({},d,{key:l.key,visible:u,eventProps:l,onVisibleChanged:function(t){(null===i||void 0===i||i(t,{key:l.key}),t)||0===e.removeKey(l.key)&&o&&o()}}),(function(e,t){return a(A(A({},e),{},{index:r}),t)}))})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,s=Rn(n),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,s=t.length,a=Rn(e),i=Rn(t);a.forEach((function(e){for(var t=!1,a=r;a<s;a+=1){var o=i[a];if(o.key===e.key){r<a&&(n=n.concat(i.slice(r,a).map((function(e){return A(A({},e),{},{status:Dn})}))),r=a),n.push(A(A({},o),{},{status:Hn})),r+=1,t=!0;break}}t||n.push(A(A({},e),{},{status:Ln}))})),r<s&&(n=n.concat(i.slice(r).map((function(e){return A(A({},e),{},{status:Dn})}))));var o={};n.forEach((function(e){var t=e.key;o[t]=(o[t]||0)+1}));var l=Object.keys(o).filter((function(e){return o[e]>1}));return l.forEach((function(e){n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==Ln})),n.forEach((function(t){t.key===e&&(t.status=Hn)}))})),n}(r,s);return{keyEntities:a.filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==Pn||e.status!==Ln}))}}}]),r}(c.Component);return o(n,"defaultProps",{component:"div"}),n}(mn),Gn=Tn;var Wn=function(e){rt(n,e);var t=lt(n);function n(){var e;$e(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).closeTimer=null,e.close=function(t){t&&t.stopPropagation(),e.clearCloseTimer();var n=e.props,r=n.onClose,s=n.noticeKey;r&&r(s)},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=window.setTimeout((function(){e.close()}),1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},e}return tt(n,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.updateMark!==e.updateMark||this.props.visible!==e.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,s=t.className,a=t.closable,i=t.closeIcon,l=t.style,A=t.onClick,u=t.children,d=t.holder,h="".concat(n,"-notice"),p=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{}),m=c.createElement("div",Oe({className:y()(h,s,o({},"".concat(h,"-closable"),a)),style:l,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:A},p),c.createElement("div",{className:"".concat(h,"-content")},u),a?c.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(h,"-close")},i||c.createElement("span",{className:"".concat(h,"-close-x")})):null);return d?r.createPortal(m,d):m}}]),n}(c.Component);function Yn(e){var t=c.useRef({}),n=f(c.useState([]),2),r=n[0],s=n[1];return[function(n){var r=!0;e.add(n,(function(e,n){var a=n.key;if(e&&(!t.current[a]||r)){var i=c.createElement(Wn,Oe({},n,{holder:e}));t.current[a]=i,s((function(e){var t=e.findIndex((function(e){return e.key===n.key}));if(-1===t)return[].concat(Kt(e),[i]);var r=Kt(e);return r[t]=i,r}))}r=!1}))},c.createElement(c.Fragment,null,r)]}Wn.defaultProps={onClose:function(){},duration:1.5};var qn=["getContainer"],Xn=0,Jn=Date.now();function Zn(){var e=Xn;return Xn+=1,"rcNotification_".concat(Jn,"_").concat(e)}var $n=function(e){rt(n,e);var t=lt(n);function n(){var e;$e(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={notices:[]},e.hookRefs=new Map,e.add=function(t,n){var r,s=null!==(r=t.key)&&void 0!==r?r:Zn(),a=A(A({},t),{},{key:s}),i=e.props.maxCount;e.setState((function(e){var t=e.notices,r=t.map((function(e){return e.notice.key})).indexOf(s),o=t.concat();return-1!==r?o.splice(r,1,{notice:a,holderCallback:n}):(i&&t.length>=i&&(a.key=o[0].notice.key,a.updateMark=Zn(),a.userPassKey=s,o.shift()),o.push({notice:a,holderCallback:n})),{notices:o}}))},e.remove=function(t){e.setState((function(e){return{notices:e.notices.filter((function(e){var n=e.notice,r=n.key,s=n.userPassKey;return(null!==s&&void 0!==s?s:r)!==t}))}}))},e.noticePropsMap={},e}return tt(n,[{key:"getTransitionName",value:function(){var e=this.props,t=e.prefixCls,n=e.animation,r=this.props.transitionName;return!r&&n&&(r="".concat(t,"-").concat(n)),r}},{key:"render",value:function(){var e=this,t=this.state.notices,n=this.props,r=n.prefixCls,s=n.className,a=n.closeIcon,i=n.style,o=[];return t.forEach((function(n,s){var i=n.notice,l=n.holderCallback,c=s===t.length-1?i.updateMark:void 0,u=i.key,d=i.userPassKey,h=A(A(A({prefixCls:r,closeIcon:a},i),i.props),{},{key:u,noticeKey:d||u,updateMark:c,onClose:function(t){var n;e.remove(t),null===(n=i.onClose)||void 0===n||n.call(i)},onClick:i.onClick,children:i.content});o.push(u),e.noticePropsMap[u]={props:h,holderCallback:l}})),c.createElement("div",{className:y()(r,s),style:i},c.createElement(_n,{keys:o,motionName:this.getTransitionName(),onVisibleChanged:function(t,n){var r=n.key;t||delete e.noticePropsMap[r]}},(function(t){var n=t.key,s=t.className,a=t.style,i=t.visible,o=e.noticePropsMap[n],l=o.props,u=o.holderCallback;return u?c.createElement("div",{key:n,className:y()(s,"".concat(r,"-hook-holder")),style:A({},a),ref:function(t){"undefined"!==typeof n&&(t?(e.hookRefs.set(n,t),u(t,l)):e.hookRefs.delete(n))}}):c.createElement(Wn,Oe({},l,{className:y()(s,null===l||void 0===l?void 0:l.className),style:A(A({},a),null===l||void 0===l?void 0:l.style),visible:i}))})))}}]),n}(c.Component);$n.newInstance=void 0,$n.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},$n.newInstance=function(e,t){var n=e||{},r=n.getContainer,s=g(n,qn),a=document.createElement("div");r?r().appendChild(a):document.body.appendChild(a);var i=!1;yt(c.createElement($n,Oe({},s,{ref:function(e){i||(i=!0,t({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){!function(e){Bt.apply(this,arguments)}(a),a.parentNode&&a.parentNode.removeChild(a)},useNotification:function(){return Yn(e)}}))}})),a)};const er=$n,tr=(0,c.createContext)(void 0);const nr={placeholder:"Select time",rangePlaceholder:["Start time","End time"]};var rr={lang:Oe({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),timePickerLocale:Oe({},nr)};var sr="${label} is not a valid ${type}";const ar={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:rr,TimePicker:nr,Calendar:rr,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:sr,method:sr,array:sr,object:sr,number:sr,date:sr,boolean:sr,integer:sr,float:sr,regexp:sr,email:sr,url:sr,hex:sr},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}};var ir=Oe({},ar.Modal);function or(e){ir=e?Oe(Oe({},ir),e):Oe({},ar.Modal)}const lr=(0,c.createContext)(void 0);const Ar=function(e){var t=e.locale,n=void 0===t?{}:t,r=e.children;e._ANT_MARK__;c.useEffect((function(){return or(n&&n.Modal),function(){or()}}),[n]);var s=c.useMemo((function(){return Oe(Oe({},n),{exist:!0})}),[n]);return c.createElement(lr.Provider,{value:s},r)},cr=ar;const ur=function(e){var t=e.componentName,n=void 0===t?"global":t,r=e.defaultLocale,s=e.children,a=c.useContext(lr),i=c.useMemo((function(){var e,t=r||cr[n],s=null!==(e=null===a||void 0===a?void 0:a[n])&&void 0!==e?e:{};return Oe(Oe({},t instanceof Function?t():t),s||{})}),[n,r,a]);return s(i,c.useMemo((function(){var e=a&&a.locale;return a&&a.exist&&!e?cr.locale:e}),[a]),a)};const dr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};var hr=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:dr}))};const pr=c.forwardRef(hr);const mr={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};var fr=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:mr}))};const gr=c.forwardRef(fr);const vr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};var yr=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:vr}))};const wr=c.forwardRef(yr);const br={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};var xr=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:br}))};const Br=c.forwardRef(xr);const Cr={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};var kr=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Cr}))};const Sr=c.forwardRef(kr);var Er,jr=c.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")}}),Fr=jr.Consumer;var Ir,Qr,Mr,Ur=3,Nr=1,Tr="",Dr="move-up",Hr=!1,Lr=!1;function Pr(){return Nr++}function Or(e,t){var n=e.prefixCls,r=e.getPopupContainer,s=os(),a=s.getPrefixCls,i=s.getRootPrefixCls,o=s.getIconPrefixCls,l=a("message",n||Tr),A=i(e.rootPrefixCls,l),c=o();if(Er)t({prefixCls:l,rootPrefixCls:A,iconPrefixCls:c,instance:Er});else{var u={prefixCls:l,transitionName:Hr?Dr:"".concat(A,"-").concat(Dr),style:{top:Ir},getContainer:Qr||r,maxCount:Mr};er.newInstance(u,(function(e){Er?t({prefixCls:l,rootPrefixCls:A,iconPrefixCls:c,instance:Er}):(Er=e,t({prefixCls:l,rootPrefixCls:A,iconPrefixCls:c,instance:e}))}))}}var Rr={info:Br,success:pr,error:gr,warning:wr,loading:Sr},Vr=Object.keys(Rr);function Kr(e,t,n){var r=void 0!==e.duration?e.duration:Ur,s=Rr[e.type],a=y()("".concat(t,"-custom-content"),o(o({},"".concat(t,"-").concat(e.type),e.type),"".concat(t,"-rtl"),!0===Lr));return{key:e.key,duration:r,style:e.style||{},className:e.className,content:c.createElement(cs,{iconPrefixCls:n},c.createElement("div",{className:a},e.icon||s&&c.createElement(s,null),c.createElement("span",null,e.content))),onClose:e.onClose,onClick:e.onClick}}var zr={open:function(e){var t=e.key||Pr(),n=new Promise((function(n){var r=function(){return"function"===typeof e.onClose&&e.onClose(),n(!0)};Or(e,(function(n){var s=n.prefixCls,a=n.iconPrefixCls;n.instance.notice(Kr(Oe(Oe({},e),{key:t,onClose:r}),s,a))}))})),r=function(){var n;Er&&(Er.removeNotice(t),null===(n=e.onClose)||void 0===n||n.call(e))};return r.then=function(e,t){return n.then(e,t)},r.promise=n,r},config:function(e){void 0!==e.top&&(Ir=e.top,Er=null),void 0!==e.duration&&(Ur=e.duration),void 0!==e.prefixCls&&(Tr=e.prefixCls),void 0!==e.getContainer&&(Qr=e.getContainer,Er=null),void 0!==e.transitionName&&(Dr=e.transitionName,Er=null,Hr=!0),void 0!==e.maxCount&&(Mr=e.maxCount,Er=null),void 0!==e.rtl&&(Lr=e.rtl)},destroy:function(e){if(Er)if(e){(0,Er.removeNotice)(e)}else{var t=Er.destroy;t(),Er=null}}};function _r(e,t){e[t]=function(n,r,s){return function(e){return"[object Object]"===Object.prototype.toString.call(e)&&!!e.content}(n)?e.open(Oe(Oe({},n),{type:t})):("function"===typeof r&&(s=r,r=void 0),e.open({content:n,duration:r,type:t,onClose:s}))}}Vr.forEach((function(e){return _r(zr,e)})),zr.warn=zr.warning,zr.useMessage=function(e,t){return function(){var n,r,s=null,a=f(Yn({add:function(e,t){null===s||void 0===s||s.component.add(e,t)}}),2),i=a[0],o=a[1];var l=c.useRef({});return l.current.open=function(a){var o=a.prefixCls,l=n("message",o),A=n(),c=a.key||Pr(),u=new Promise((function(n){var o=function(){return"function"===typeof a.onClose&&a.onClose(),n(!0)};e(Oe(Oe({},a),{prefixCls:l,rootPrefixCls:A,getPopupContainer:r}),(function(e){var n=e.prefixCls,r=e.instance;s=r,i(t(Oe(Oe({},a),{key:c,onClose:o}),n))}))})),d=function(){s&&s.removeNotice(c)};return d.then=function(e,t){return u.then(e,t)},d.promise=u,d},Vr.forEach((function(e){return _r(l.current,e)})),[l.current,c.createElement(Fr,{key:"holder"},(function(e){return n=e.getPrefixCls,r=e.getPopupContainer,o}))]}}(Or,Kr);const Gr=zr;var Wr=function(){function e(t,n){var r;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"===typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var s=N(t);this.originalInput=t,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=n.format)&&void 0!==r?r:s.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=B(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){return 0===this.toHsl().s},e.prototype.toHsv=function(){var e=j(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=j(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=S(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=S(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),F(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,n,r,s){var a=[k(Math.round(e).toString(16)),k(Math.round(t).toString(16)),k(Math.round(n).toString(16)),k(I(r))];return s&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toHexShortString=function(e){return void 0===e&&(e=!1),1===this.a?this.toHexString(e):this.toHex8String(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*b(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*b(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+F(this.r,this.g,this.b,!1),t=0,n=Object.entries(U);t<n.length;t++){var r=n[t],s=r[0];if(e===r[1])return s}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var n=!1,r=this.a<1&&this.a>=0;return t||!r||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=x(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=x(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=x(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=x(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var r=this.toRgb(),s=new e(t).toRgb(),a=n/100;return new e({r:(s.r-r.r)*a+r.r,g:(s.g-r.g)*a+r.g,b:(s.b-r.b)*a+r.b,a:(s.a-r.a)*a+r.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var r=this.toHsl(),s=360/n,a=[this];for(r.h=(r.h-(s*t>>1)+720)%360;--t;)r.h=(r.h+s)%360,a.push(new e(r));return a},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),r=n.h,s=n.s,a=n.v,i=[],o=1/t;t--;)i.push(new e({h:r,s:s,v:a})),a=(a+o)%1;return i},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb(),s=n.a+r.a*(1-n.a);return new e({r:(n.r*n.a+r.r*r.a*(1-n.a))/s,g:(n.g*n.a+r.g*r.a*(1-n.a))/s,b:(n.b*n.a+r.b*r.a*(1-n.a))/s,a:s})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,s=[this],a=360/t,i=1;i<t;i++)s.push(new e({h:(r+i*a)%360,s:n.s,l:n.l}));return s},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();var Yr="-ant-".concat(Date.now(),"-").concat(Math.random());function qr(e,t){var n=function(e,t){var n={},r=function(e,t){var n=e.clone();return(n=(null===t||void 0===t?void 0:t(n))||n).toRgbString()},s=function(e,t){var s=new Wr(e),a=$(s.toRgbString());n["".concat(t,"-color")]=r(s),n["".concat(t,"-color-disabled")]=a[1],n["".concat(t,"-color-hover")]=a[4],n["".concat(t,"-color-active")]=a[6],n["".concat(t,"-color-outline")]=s.clone().setAlpha(.2).toRgbString(),n["".concat(t,"-color-deprecated-bg")]=a[0],n["".concat(t,"-color-deprecated-border")]=a[2]};if(t.primaryColor){s(t.primaryColor,"primary");var a=new Wr(t.primaryColor),i=$(a.toRgbString());i.forEach((function(e,t){n["primary-".concat(t+1)]=e})),n["primary-color-deprecated-l-35"]=r(a,(function(e){return e.lighten(35)})),n["primary-color-deprecated-l-20"]=r(a,(function(e){return e.lighten(20)})),n["primary-color-deprecated-t-20"]=r(a,(function(e){return e.tint(20)})),n["primary-color-deprecated-t-50"]=r(a,(function(e){return e.tint(50)})),n["primary-color-deprecated-f-12"]=r(a,(function(e){return e.setAlpha(.12*e.getAlpha())}));var o=new Wr(i[0]);n["primary-color-active-deprecated-f-30"]=r(o,(function(e){return e.setAlpha(.3*e.getAlpha())})),n["primary-color-active-deprecated-d-02"]=r(o,(function(e){return e.darken(2)}))}t.successColor&&s(t.successColor,"success"),t.warningColor&&s(t.warningColor,"warning"),t.errorColor&&s(t.errorColor,"error"),t.infoColor&&s(t.infoColor,"info");var l=Object.keys(n).map((function(t){return"--".concat(e,"-").concat(t,": ").concat(n[t],";")}));return"\n  :root {\n    ".concat(l.join("\n"),"\n  }\n  ").trim()}(e,t);ce()&&xe(n,"".concat(Yr,"-dynamic-theme"))}var Xr=c.createContext(!1),Jr=function(e){var t=e.children,n=e.disabled,r=c.useContext(Xr);return c.createElement(Xr.Provider,{value:null!==n&&void 0!==n?n:r},t)};const Zr=Xr;var $r=c.createContext(void 0),es=function(e){var t=e.children,n=e.size;return c.createElement($r.Consumer,null,(function(e){return c.createElement($r.Provider,{value:n||e},t)}))};const ts=$r;var ns,rs,ss=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form"];function as(){return ns||"ant"}function is(){return rs||"anticon"}var os=function(){return{getPrefixCls:function(e,t){return t||(e?"".concat(as(),"-").concat(e):as())},getIconPrefixCls:is,getRootPrefixCls:function(e,t){return e||(ns||(t&&t.includes("-")?t.replace(/^(.*)-[^-]*$/,"$1"):as()))}}},ls=function(e){var t=e.children,n=e.csp,r=e.autoInsertSpaceInButton,s=e.form,a=e.locale,i=e.componentSize,o=e.direction,l=e.space,A=e.virtual,u=e.dropdownMatchSelectWidth,d=e.legacyLocale,h=e.parentContext,p=e.iconPrefixCls,m=e.componentDisabled,f=c.useCallback((function(t,n){var r=e.prefixCls;if(n)return n;var s=r||h.getPrefixCls("");return t?"".concat(s,"-").concat(t):s}),[h.getPrefixCls,e.prefixCls]),g=Oe(Oe({},h),{csp:n,autoInsertSpaceInButton:r,locale:a||d,direction:o,space:l,virtual:A,dropdownMatchSelectWidth:u,getPrefixCls:f});ss.forEach((function(t){var n=e[t];n&&(g[t]=n)}));var v=Et((function(){return g}),g,(function(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some((function(n){return e[n]!==t[n]}))})),y=c.useMemo((function(){return{prefixCls:p,csp:n}}),[p,n]),b=t,x=c.useMemo((function(){var e,t,n,r;return qt((null===(e=ar.Form)||void 0===e?void 0:e.defaultValidateMessages)||{},(null===(n=null===(t=v.locale)||void 0===t?void 0:t.Form)||void 0===n?void 0:n.defaultValidateMessages)||{},(null===(r=v.form)||void 0===r?void 0:r.validateMessages)||{},(null===s||void 0===s?void 0:s.validateMessages)||{})}),[v,null===s||void 0===s?void 0:s.validateMessages]);return Object.keys(x).length>0&&(b=c.createElement(tr.Provider,{value:x},t)),a&&(b=c.createElement(Ar,{locale:a,_ANT_MARK__:"internalMark"},b)),(p||n)&&(b=c.createElement(w.Provider,{value:y},b)),i&&(b=c.createElement(es,{size:i},b)),void 0!==m&&(b=c.createElement(Jr,{disabled:m},b)),c.createElement(jr.Provider,{value:v},b)},As=function(e){return c.useEffect((function(){e.direction&&(Gr.config({rtl:"rtl"===e.direction}),Ss.config({rtl:"rtl"===e.direction}))}),[e.direction]),c.createElement(ur,null,(function(t,n,r){return c.createElement(Fr,null,(function(t){return c.createElement(ls,Oe({parentContext:t,legacyLocale:r},e))}))}))};As.ConfigContext=jr,As.SizeContext=ts,As.config=function(e){var t=e.prefixCls,n=e.iconPrefixCls,r=e.theme;void 0!==t&&(ns=t),void 0!==n&&(rs=n),r&&qr(as(),r)};const cs=As;var us,ds,hs,ps={},ms=4.5,fs=24,gs=24,vs="",ys="topRight",ws=!1;function bs(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fs,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gs;switch(e){case"top":t={left:"50%",transform:"translateX(-50%)",right:"auto",top:n,bottom:"auto"};break;case"topLeft":t={left:0,top:n,bottom:"auto"};break;case"topRight":t={right:0,top:n,bottom:"auto"};break;case"bottom":t={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:r};break;case"bottomLeft":t={left:0,top:"auto",bottom:r};break;default:t={right:0,top:"auto",bottom:r}}return t}function xs(e,t){var n=e.placement,r=void 0===n?ys:n,s=e.top,a=e.bottom,i=e.getContainer,l=void 0===i?us:i,A=e.prefixCls,c=os(),u=c.getPrefixCls,d=c.getIconPrefixCls,h=u("notification",A||vs),p=d(),m="".concat(h,"-").concat(r),f=ps[m];if(f)Promise.resolve(f).then((function(e){t({prefixCls:"".concat(h,"-notice"),iconPrefixCls:p,instance:e})}));else{var g=y()("".concat(h,"-").concat(r),o({},"".concat(h,"-rtl"),!0===ws));ps[m]=new Promise((function(e){er.newInstance({prefixCls:h,className:g,style:bs(r,s,a),getContainer:l,maxCount:hs},(function(n){e(n),t({prefixCls:"".concat(h,"-notice"),iconPrefixCls:p,instance:n})}))}))}}var Bs={success:Ke,info:Ze,error:Pe,warning:qe};function Cs(e,t,n){var r=e.duration,s=e.icon,a=e.type,i=e.description,l=e.message,A=e.btn,u=e.onClose,d=e.onClick,h=e.key,p=e.style,m=e.className,f=e.closeIcon,g=void 0===f?ds:f,v=e.props,w=void 0===r?ms:r,b=null;s?b=c.createElement("span",{className:"".concat(t,"-icon")},e.icon):a&&(b=c.createElement(Bs[a]||null,{className:"".concat(t,"-icon ").concat(t,"-icon-").concat(a)}));var x="undefined"===typeof g?c.createElement("span",{className:"".concat(t,"-close-x")},c.createElement(Ge,{className:"".concat(t,"-close-icon")})):g,B=!i&&b?c.createElement("span",{className:"".concat(t,"-message-single-line-auto-margin")}):null;return{content:c.createElement(cs,{iconPrefixCls:n},c.createElement("div",{className:b?"".concat(t,"-with-icon"):"",role:"alert"},b,c.createElement("div",{className:"".concat(t,"-message")},B,l),c.createElement("div",{className:"".concat(t,"-description")},i),A?c.createElement("span",{className:"".concat(t,"-btn")},A):null)),duration:w,closable:!0,closeIcon:x,onClose:u,onClick:d,key:h,style:p||{},className:y()(m,o({},"".concat(t,"-").concat(a),!!a)),props:v}}var ks={open:function(e){xs(e,(function(t){var n=t.prefixCls,r=t.iconPrefixCls;t.instance.notice(Cs(e,n,r))}))},close:function(e){Object.keys(ps).forEach((function(t){return Promise.resolve(ps[t]).then((function(t){t.removeNotice(e)}))}))},config:function(e){var t=e.duration,n=e.placement,r=e.bottom,s=e.top,a=e.getContainer,i=e.closeIcon,o=e.prefixCls;void 0!==o&&(vs=o),void 0!==t&&(ms=t),void 0!==n?ys=n:e.rtl&&(ys="topLeft"),void 0!==r&&(gs=r),void 0!==s&&(fs=s),void 0!==a&&(us=a),void 0!==i&&(ds=i),void 0!==e.rtl&&(ws=e.rtl),void 0!==e.maxCount&&(hs=e.maxCount)},destroy:function(){Object.keys(ps).forEach((function(e){Promise.resolve(ps[e]).then((function(e){e.destroy()})),delete ps[e]}))}};["success","info","warning","error"].forEach((function(e){ks[e]=function(t){return ks.open(Oe(Oe({},t),{type:e}))}})),ks.warn=ks.warning,ks.useNotification=function(e,t){return function(){var n,r=null,s=f(Yn({add:function(e,t){null===r||void 0===r||r.component.add(e,t)}}),2),a=s[0],i=s[1];var o=c.useRef({});return o.current.open=function(s){var i=s.prefixCls,o=n("notification",i);e(Oe(Oe({},s),{prefixCls:o}),(function(e){var n=e.prefixCls,i=e.instance;r=i,a(t(s,n))}))},["success","info","warning","error"].forEach((function(e){o.current[e]=function(t){return o.current.open(Oe(Oe({},t),{type:e}))}})),[o.current,c.createElement(Fr,{key:"holder"},(function(e){return n=e.getPrefixCls,i}))]}}(xs,Cs);const Ss=ks;var Es,js=function(){if(!ce()||!window.document.documentElement)return!1;if(void 0!==Es)return Es;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),Es=1===e.scrollHeight,document.body.removeChild(e),Es};var Fs=["xxl","xl","lg","md","sm","xs"],Is={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},Qs=new Map,Ms=-1,Us={};const Ns={matchHandlers:{},dispatch:function(e){return Us=e,Qs.forEach((function(e){return e(Us)})),Qs.size>=1},subscribe:function(e){return Qs.size||this.register(),Ms+=1,Qs.set(Ms,e),e(Us),Ms},unsubscribe:function(e){Qs.delete(e),Qs.size||this.unregister()},unregister:function(){var e=this;Object.keys(Is).forEach((function(t){var n=Is[t],r=e.matchHandlers[n];null===r||void 0===r||r.mql.removeListener(null===r||void 0===r?void 0:r.listener)})),Qs.clear()},register:function(){var e=this;Object.keys(Is).forEach((function(t){var n=Is[t],r=function(n){var r=n.matches;e.dispatch(Oe(Oe({},Us),o({},t,r)))},s=window.matchMedia(n);s.addListener(r),e.matchHandlers[n]={mql:s,listener:r},r(s)}))}};var Ts=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t};const Ds=(0,c.createContext)({});var Hs=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};Ts("top","middle","bottom","stretch"),Ts("start","end","center","space-around","space-between","space-evenly");function Ls(e,t){var n=f(c.useState("string"===typeof e?e:""),2),r=n[0],s=n[1];return c.useEffect((function(){!function(){if("string"===typeof e&&s(e),"object"===a(e))for(var n=0;n<Fs.length;n++){var r=Fs[n];if(t[r]){var i=e[r];if(void 0!==i)return void s(i)}}}()}),[JSON.stringify(e),t]),r}var Ps=c.forwardRef((function(e,t){var n=e.prefixCls,r=e.justify,s=e.align,i=e.className,l=e.style,A=e.children,u=e.gutter,d=void 0===u?0:u,h=e.wrap,p=Hs(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),m=c.useContext(jr),g=m.getPrefixCls,v=m.direction,w=f(c.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),2),b=w[0],x=w[1],B=f(c.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),2),C=B[0],k=B[1],S=Ls(s,C),E=Ls(r,C),j=function(){var e=f(c.useState(!1),2),t=e[0],n=e[1];return c.useEffect((function(){n(js())}),[]),t}(),F=c.useRef(d);c.useEffect((function(){var e=Ns.subscribe((function(e){k(e);var t=F.current||0;(!Array.isArray(t)&&"object"===a(t)||Array.isArray(t)&&("object"===a(t[0])||"object"===a(t[1])))&&x(e)}));return function(){return Ns.unsubscribe(e)}}),[]);var I=g("row",n),Q=function(){var e=[void 0,void 0];return(Array.isArray(d)?d:[d,void 0]).forEach((function(t,n){if("object"===a(t))for(var r=0;r<Fs.length;r++){var s=Fs[r];if(b[s]&&void 0!==t[s]){e[n]=t[s];break}}else e[n]=t})),e}(),M=y()(I,o(o(o(o({},"".concat(I,"-no-wrap"),!1===h),"".concat(I,"-").concat(E),E),"".concat(I,"-").concat(S),S),"".concat(I,"-rtl"),"rtl"===v),i),U={},N=null!=Q[0]&&Q[0]>0?Q[0]/-2:void 0,T=null!=Q[1]&&Q[1]>0?Q[1]/-2:void 0;if(N&&(U.marginLeft=N,U.marginRight=N),j){var D=f(Q,2);U.rowGap=D[1]}else T&&(U.marginTop=T,U.marginBottom=T);var H=f(Q,2),L=H[0],P=H[1],O=c.useMemo((function(){return{gutter:[L,P],wrap:h,supportFlexGap:j}}),[L,P,h,j]);return c.createElement(Ds.Provider,{value:O},c.createElement("div",Oe({},p,{className:M,style:Oe(Oe({},U),l),ref:t}),A))}));const Os=Ps;var Rs=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};var Vs=["xs","sm","md","lg","xl","xxl"],Ks=c.forwardRef((function(e,t){var n=c.useContext(jr),r=n.getPrefixCls,s=n.direction,i=c.useContext(Ds),l=i.gutter,A=i.wrap,u=i.supportFlexGap,d=e.prefixCls,h=e.span,p=e.order,m=e.offset,f=e.push,g=e.pull,v=e.className,w=e.children,b=e.flex,x=e.style,B=Rs(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),C=r("col",d),k={};Vs.forEach((function(t){var n={},r=e[t];"number"===typeof r?n.span=r:"object"===a(r)&&(n=r||{}),delete B[t],k=Oe(Oe({},k),o(o(o(o(o(o({},"".concat(C,"-").concat(t,"-").concat(n.span),void 0!==n.span),"".concat(C,"-").concat(t,"-order-").concat(n.order),n.order||0===n.order),"".concat(C,"-").concat(t,"-offset-").concat(n.offset),n.offset||0===n.offset),"".concat(C,"-").concat(t,"-push-").concat(n.push),n.push||0===n.push),"".concat(C,"-").concat(t,"-pull-").concat(n.pull),n.pull||0===n.pull),"".concat(C,"-rtl"),"rtl"===s))}));var S=y()(C,o(o(o(o(o({},"".concat(C,"-").concat(h),void 0!==h),"".concat(C,"-order-").concat(p),p),"".concat(C,"-offset-").concat(m),m),"".concat(C,"-push-").concat(f),f),"".concat(C,"-pull-").concat(g),g),v,k),E={};if(l&&l[0]>0){var j=l[0]/2;E.paddingLeft=j,E.paddingRight=j}if(l&&l[1]>0&&!u){var F=l[1]/2;E.paddingTop=F,E.paddingBottom=F}return b&&(E.flex=function(e){return"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}(b),!1!==A||E.minWidth||(E.minWidth=0)),c.createElement("div",Oe({},B,{style:Oe(Oe({},E),x),className:S,ref:t}),w)}));const zs=Ks;const _s=c.createContext(null);var Gs=[];function Ws(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var r,s,a=n.style;if(a.position="absolute",a.left="0",a.top="0",a.width="100px",a.height="100px",a.overflow="scroll",e){var i=getComputedStyle(e);a.scrollbarColor=i.scrollbarColor,a.scrollbarWidth=i.scrollbarWidth;var o=getComputedStyle(e,"::-webkit-scrollbar"),l=parseInt(o.width,10),A=parseInt(o.height,10);try{var c=l?"width: ".concat(o.width,";"):"",u=A?"height: ".concat(o.height,";"):"";xe("\n#".concat(t,"::-webkit-scrollbar {\n").concat(c,"\n").concat(u,"\n}"),t)}catch(DB){console.error(DB),r=l,s=A}}document.body.appendChild(n);var d=e&&r&&!isNaN(r)?r:n.offsetWidth-n.clientWidth,h=e&&s&&!isNaN(s)?s:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),be(t),{width:d,height:h}}var Ys="rc-util-locker-".concat(Date.now()),qs=0;function Xs(e){var t=!!e,n=f(c.useState((function(){return qs+=1,"".concat(Ys,"_").concat(qs)})),1)[0];Lt((function(){if(t){var e=(s=document.body,"undefined"!==typeof document&&s&&s instanceof Element?Ws(s):{width:0,height:0}).width,r=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;xe("\nhtml body {\n  overflow-y: hidden;\n  ".concat(r?"width: calc(100% - ".concat(e,"px);"):"","\n}"),n)}else be(n);var s;return function(){be(n)}}),[t,n])}var Js=!1;var Zs=function(e){return!1!==e&&(ce()&&e?"string"===typeof e?document.querySelector(e):"function"===typeof e?e():e:null)},$s=c.forwardRef((function(e,t){var n=e.open,s=e.autoLock,a=e.getContainer,i=(e.debug,e.autoDestroy),o=void 0===i||i,l=e.children,A=f(c.useState(n),2),u=A[0],d=A[1],h=u||n;c.useEffect((function(){(o||n)&&d(n)}),[n,o]);var p=f(c.useState((function(){return Zs(a)})),2),m=p[0],g=p[1];c.useEffect((function(){var e=Zs(a);g(null!==e&&void 0!==e?e:null)}));var v=function(e,t){var n=f(c.useState((function(){return ce()?document.createElement("div"):null})),1)[0],r=c.useRef(!1),s=c.useContext(_s),a=f(c.useState(Gs),2),i=a[0],o=a[1],l=s||(r.current?void 0:function(e){o((function(t){return[e].concat(Kt(t))}))});function A(){n.parentElement||document.body.appendChild(n),r.current=!0}function u(){var e;null===(e=n.parentElement)||void 0===e||e.removeChild(n),r.current=!1}return Lt((function(){return e?s?s(A):A():u(),u}),[e]),Lt((function(){i.length&&(i.forEach((function(e){return e()})),o(Gs))}),[i]),[n,l]}(h&&!m),y=f(v,2),w=y[0],b=y[1],x=null!==m&&void 0!==m?m:w;Xs(s&&n&&ce()&&(x===w||x===document.body));var B=null;l&&It(l)&&t&&(B=l.ref);var C=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Et((function(){return Ft.apply(void 0,t)}),t,(function(e,t){return e.length!==t.length||e.every((function(e,n){return e!==t[n]}))}))}(B,t);if(!h||!ce()||void 0===m)return null;var k,S=!1===x||("boolean"===typeof k&&(Js=k),Js),E=l;return t&&(E=c.cloneElement(l,{ref:C})),c.createElement(_s.Provider,{value:b},S?E:(0,r.createPortal)(E,x))}));const ea=$s;var ta={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=ta.F1&&t<=ta.F12)return!1;switch(t){case ta.ALT:case ta.CAPS_LOCK:case ta.CONTEXT_MENU:case ta.CTRL:case ta.DOWN:case ta.END:case ta.ESC:case ta.HOME:case ta.INSERT:case ta.LEFT:case ta.MAC_FF_META:case ta.META:case ta.NUMLOCK:case ta.NUM_CENTER:case ta.PAGE_DOWN:case ta.PAGE_UP:case ta.PAUSE:case ta.PRINT_SCREEN:case ta.RIGHT:case ta.SHIFT:case ta.UP:case ta.WIN_KEY:case ta.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=ta.ZERO&&e<=ta.NINE)return!0;if(e>=ta.NUM_ZERO&&e<=ta.NUM_MULTIPLY)return!0;if(e>=ta.A&&e<=ta.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case ta.SPACE:case ta.QUESTION_MARK:case ta.NUM_PLUS:case ta.NUM_MINUS:case ta.NUM_PERIOD:case ta.NUM_DIVISION:case ta.SEMICOLON:case ta.DASH:case ta.EQUALS:case ta.COMMA:case ta.PERIOD:case ta.SLASH:case ta.APOSTROPHE:case ta.SINGLE_QUOTE:case ta.OPEN_SQUARE_BRACKET:case ta.BACKSLASH:case ta.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const na=ta;var ra="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),sa="aria-",aa="data-";function ia(e,t){return 0===e.indexOf(t)}function oa(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:A({},n);var r={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||ia(n,sa))||t.data&&ia(n,aa)||t.attr&&ra.includes(n))&&(r[n]=e[n])})),r}const la=c.createContext(null);const Aa=function(e){var t=e.prefixCls,n=e.className,r=e.style,s=e.children,a=e.containerRef,i=e.id,o={onMouseEnter:e.onMouseEnter,onMouseOver:e.onMouseOver,onMouseLeave:e.onMouseLeave,onClick:e.onClick,onKeyDown:e.onKeyDown,onKeyUp:e.onKeyUp};return c.createElement(c.Fragment,null,c.createElement("div",Oe({id:i,className:y()("".concat(t,"-content"),n),style:A({},r),"aria-modal":"true",role:"dialog",ref:a},o),s))};function ca(e){return"string"===typeof e&&String(Number(e))===e?(Ae(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var ua={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function da(e,t){var n,r,s,a,i=e.prefixCls,l=e.open,u=e.placement,d=e.inline,h=e.push,p=e.forceRender,m=e.autoFocus,g=e.keyboard,v=e.rootClassName,w=e.rootStyle,b=e.zIndex,x=e.className,B=e.id,C=e.style,k=e.motion,S=e.width,E=e.height,j=e.children,F=e.contentWrapperStyle,I=e.mask,Q=e.maskClosable,M=e.maskMotion,U=e.maskClassName,N=e.maskStyle,T=e.afterOpenChange,D=e.onClose,H=e.onMouseEnter,L=e.onMouseOver,P=e.onMouseLeave,O=e.onClick,R=e.onKeyDown,V=e.onKeyUp,K=c.useRef(),z=c.useRef(),_=c.useRef();c.useImperativeHandle(t,(function(){return K.current}));c.useEffect((function(){var e;l&&m&&(null===(e=K.current)||void 0===e||e.focus({preventScroll:!0}))}),[l]);var G=f(c.useState(!1),2),W=G[0],Y=G[1],q=c.useContext(la),X=null!==(n=null!==(r=null===(s=!1===h?{distance:0}:!0===h?{}:h||{})||void 0===s?void 0:s.distance)&&void 0!==r?r:null===q||void 0===q?void 0:q.pushDistance)&&void 0!==n?n:180,J=c.useMemo((function(){return{pushDistance:X,push:function(){Y(!0)},pull:function(){Y(!1)}}}),[X]);c.useEffect((function(){var e,t;l?null===q||void 0===q||null===(e=q.push)||void 0===e||e.call(q):null===q||void 0===q||null===(t=q.pull)||void 0===t||t.call(q)}),[l]),c.useEffect((function(){return function(){var e;null===q||void 0===q||null===(e=q.pull)||void 0===e||e.call(q)}}),[]);var Z=I&&c.createElement(Gn,Oe({key:"mask"},M,{visible:l}),(function(e,t){var n=e.className,r=e.style;return c.createElement("div",{className:y()("".concat(i,"-mask"),n,U),style:A(A({},r),N),onClick:Q&&l?D:void 0,ref:t})})),$="function"===typeof k?k(u):k,ee={};if(W&&X)switch(u){case"top":ee.transform="translateY(".concat(X,"px)");break;case"bottom":ee.transform="translateY(".concat(-X,"px)");break;case"left":ee.transform="translateX(".concat(X,"px)");break;default:ee.transform="translateX(".concat(-X,"px)")}"left"===u||"right"===u?ee.width=ca(S):ee.height=ca(E);var te={onMouseEnter:H,onMouseOver:L,onMouseLeave:P,onClick:O,onKeyDown:R,onKeyUp:V},ne=c.createElement(Gn,Oe({key:"panel"},$,{visible:l,forceRender:p,onVisibleChanged:function(e){null===T||void 0===T||T(e)},removeOnLeave:!1,leavedClassName:"".concat(i,"-content-wrapper-hidden")}),(function(t,n){var r=t.className,s=t.style;return c.createElement("div",Oe({className:y()("".concat(i,"-content-wrapper"),r),style:A(A(A({},ee),s),F)},oa(e,{data:!0})),c.createElement(Aa,Oe({id:B,containerRef:n,prefixCls:i,className:x,style:C},te),j))})),re=A({},w);return b&&(re.zIndex=b),c.createElement(la.Provider,{value:J},c.createElement("div",{className:y()(i,"".concat(i,"-").concat(u),v,(a={},o(a,"".concat(i,"-open"),l),o(a,"".concat(i,"-inline"),d),a)),style:re,tabIndex:-1,ref:K,onKeyDown:function(e){var t=e.keyCode,n=e.shiftKey;switch(t){case na.TAB:var r;if(t===na.TAB)if(n||document.activeElement!==_.current){if(n&&document.activeElement===z.current){var s;null===(s=_.current)||void 0===s||s.focus({preventScroll:!0})}}else null===(r=z.current)||void 0===r||r.focus({preventScroll:!0});break;case na.ESC:D&&g&&(e.stopPropagation(),D(e))}}},Z,c.createElement("div",{tabIndex:0,ref:z,style:ua,"aria-hidden":"true","data-sentinel":"start"}),ne,c.createElement("div",{tabIndex:0,ref:_,style:ua,"aria-hidden":"true","data-sentinel":"end"})))}const ha=c.forwardRef(da);const pa=function(e){var t=e.open,n=void 0!==t&&t,r=e.prefixCls,s=void 0===r?"rc-drawer":r,a=e.placement,i=void 0===a?"right":a,o=e.autoFocus,l=void 0===o||o,u=e.keyboard,d=void 0===u||u,h=e.width,p=void 0===h?378:h,m=e.mask,g=void 0===m||m,v=e.maskClosable,y=void 0===v||v,w=e.getContainer,b=e.forceRender,x=e.afterOpenChange,B=e.destroyOnClose,C=e.onMouseEnter,k=e.onMouseOver,S=e.onMouseLeave,E=e.onClick,j=e.onKeyDown,F=e.onKeyUp,I=f(c.useState(!1),2),Q=I[0],M=I[1];var U=f(c.useState(!1),2),N=U[0],T=U[1];Lt((function(){T(!0)}),[]);var D=!!N&&n,H=c.useRef(),L=c.useRef();Lt((function(){D&&(L.current=document.activeElement)}),[D]);if(!b&&!Q&&!D&&B)return null;var P={onMouseEnter:C,onMouseOver:k,onMouseLeave:S,onClick:E,onKeyDown:j,onKeyUp:F},O=A(A({},e),{},{open:D,prefixCls:s,placement:i,autoFocus:l,keyboard:d,width:p,mask:g,maskClosable:y,inline:!1===w,afterOpenChange:function(e){var t,n;(M(e),null===x||void 0===x||x(e),e||!L.current||(null===(t=H.current)||void 0===t?void 0:t.contains(L.current)))||(null===(n=L.current)||void 0===n||n.focus({preventScroll:!0}))},ref:H},P);return c.createElement(ea,{open:D||b||Q,autoDestroy:!1,getContainer:w,autoLock:g&&(D||Q)},c.createElement(ha,O))},ma=pa;function fa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return c.Children.forEach(e,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(fa(e)):(0,St.isFragment)(e)&&e.props?n=n.concat(fa(e.props.children,t)):n.push(e))})),n}const ga=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Set;return function e(t,s){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=r.has(t);if(Ae(!o,"Warning: There may be circular references"),o)return!1;if(t===s)return!0;if(n&&i>1)return!1;r.add(t);var l=i+1;if(Array.isArray(t)){if(!Array.isArray(s)||t.length!==s.length)return!1;for(var A=0;A<t.length;A++)if(!e(t[A],s[A],l))return!1;return!0}if(t&&s&&"object"===a(t)&&"object"===a(s)){var c=Object.keys(t);return c.length===Object.keys(s).length&&c.every((function(n){return e(t[n],s[n],l)}))}return!1}(e,t)};var va="RC_FORM_INTERNAL_HOOKS",ya=function(){Ae(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")};const wa=c.createContext({getFieldValue:ya,getFieldsValue:ya,getFieldError:ya,getFieldWarning:ya,getFieldsError:ya,isFieldsTouched:ya,isFieldTouched:ya,isFieldValidating:ya,isFieldsValidating:ya,resetFields:ya,setFields:ya,setFieldValue:ya,setFieldsValue:ya,validateFields:ya,submit:ya,getInternalHooks:function(){return ya(),{dispatch:ya,initEntityValue:ya,registerField:ya,useSubscribe:ya,setInitialValues:ya,destroyForm:ya,setCallbacks:ya,registerWatch:ya,getFields:ya,setValidateMessages:ya,setPreserve:ya,getInitialValue:ya}}});const ba=c.createContext(null);function xa(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function Ba(){return Ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ba.apply(this,arguments)}function Ca(e){return Ca=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ca(e)}function ka(e,t){return ka=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ka(e,t)}function Sa(e,t,n){return Sa=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(DB){return!1}}()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var s=new(Function.bind.apply(e,r));return n&&ka(s,n.prototype),s},Sa.apply(null,arguments)}function Ea(e){var t="function"===typeof Map?new Map:void 0;return Ea=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Sa(e,arguments,Ca(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ka(r,e)},Ea(e)}var ja=/%[sdj%]/g;function Fa(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function Ia(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var s=0,a=n.length;return"function"===typeof e?e.apply(null,n):"string"===typeof e?e.replace(ja,(function(e){if("%%"===e)return"%";if(s>=a)return e;switch(e){case"%s":return String(n[s++]);case"%d":return Number(n[s++]);case"%j":try{return JSON.stringify(n[s++])}catch(t){return"[Circular]"}break;default:return e}})):e}function Qa(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function Ma(e,t,n){var r=0,s=e.length;!function a(i){if(i&&i.length)n(i);else{var o=r;r+=1,o<s?t(e[o],a):n([])}}([])}var Ua=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,ka(t,n),r}(Ea(Error));function Na(e,t,n,r,s){if(t.first){var a=new Promise((function(t,a){var i=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);Ma(i,n,(function(e){return r(e),e.length?a(new Ua(e,Fa(e))):t(s)}))}));return a.catch((function(e){return e})),a}var i=!0===t.firstFields?Object.keys(e):t.firstFields||[],o=Object.keys(e),l=o.length,A=0,c=[],u=new Promise((function(t,a){var u=function(e){if(c.push.apply(c,e),++A===l)return r(c),c.length?a(new Ua(c,Fa(c))):t(s)};o.length||(r(c),t(s)),o.forEach((function(t){var r=e[t];-1!==i.indexOf(t)?Ma(r,n,u):function(e,t,n){var r=[],s=0,a=e.length;function i(e){r.push.apply(r,e||[]),++s===a&&n(r)}e.forEach((function(e){t(e,i)}))}(r,n,u)}))}));return u.catch((function(e){return e})),u}function Ta(e,t){return function(n){var r,s;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(void 0==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(s=n)&&void 0!==s.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function Da(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===typeof r&&"object"===typeof e[n]?e[n]=Ba({},e[n],r):e[n]=r}return e}var Ha,La=function(e,t,n,r,s,a){!e.required||n.hasOwnProperty(e.field)&&!Qa(t,a||e.type)||r.push(Ia(s.messages.required,e.fullField))},Pa=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,Oa=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,Ra={integer:function(e){return Ra.number(e)&&parseInt(e,10)===e},float:function(e){return Ra.number(e)&&!Ra.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(DB){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!Ra.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(Pa)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(function(){if(Ha)return Ha;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",s=("\n(?:\n(?:"+r+":){7}(?:"+r+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+r+":){6}(?:"+n+"|:"+r+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+r+":){5}(?::"+n+"|(?::"+r+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+r+"){0,5}:"+n+"|(?::"+r+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+n+"$)|(?:^"+s+"$)"),i=new RegExp("^"+n+"$"),o=new RegExp("^"+s+"$"),l=function(e){return e&&e.exact?a:new RegExp("(?:"+t(e)+n+t(e)+")|(?:"+t(e)+s+t(e)+")","g")};l.v4=function(e){return e&&e.exact?i:new RegExp(""+t(e)+n+t(e),"g")},l.v6=function(e){return e&&e.exact?o:new RegExp(""+t(e)+s+t(e),"g")};var A=l.v4().source,c=l.v6().source;return Ha=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+A+"|"+c+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(e){return"string"===typeof e&&!!e.match(Oa)}},Va="enum",Ka={required:La,whitespace:function(e,t,n,r,s){(/^\s+$/.test(t)||""===t)&&r.push(Ia(s.messages.whitespace,e.fullField))},type:function(e,t,n,r,s){if(e.required&&void 0===t)La(e,t,n,r,s);else{var a=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(a)>-1?Ra[a](t)||r.push(Ia(s.messages.types[a],e.fullField,e.type)):a&&typeof t!==e.type&&r.push(Ia(s.messages.types[a],e.fullField,e.type))}},range:function(e,t,n,r,s){var a="number"===typeof e.len,i="number"===typeof e.min,o="number"===typeof e.max,l=t,A=null,c="number"===typeof t,u="string"===typeof t,d=Array.isArray(t);if(c?A="number":u?A="string":d&&(A="array"),!A)return!1;d&&(l=t.length),u&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),a?l!==e.len&&r.push(Ia(s.messages[A].len,e.fullField,e.len)):i&&!o&&l<e.min?r.push(Ia(s.messages[A].min,e.fullField,e.min)):o&&!i&&l>e.max?r.push(Ia(s.messages[A].max,e.fullField,e.max)):i&&o&&(l<e.min||l>e.max)&&r.push(Ia(s.messages[A].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,s){e[Va]=Array.isArray(e[Va])?e[Va]:[],-1===e[Va].indexOf(t)&&r.push(Ia(s.messages[Va],e.fullField,e[Va].join(", ")))},pattern:function(e,t,n,r,s){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(Ia(s.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(Ia(s.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},za=function(e,t,n,r,s){var a=e.type,i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qa(t,a)&&!e.required)return n();Ka.required(e,t,r,i,s,a),Qa(t,a)||Ka.type(e,t,r,i,s)}n(i)},_a={string:function(e,t,n,r,s){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qa(t,"string")&&!e.required)return n();Ka.required(e,t,r,a,s,"string"),Qa(t,"string")||(Ka.type(e,t,r,a,s),Ka.range(e,t,r,a,s),Ka.pattern(e,t,r,a,s),!0===e.whitespace&&Ka.whitespace(e,t,r,a,s))}n(a)},method:function(e,t,n,r,s){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qa(t)&&!e.required)return n();Ka.required(e,t,r,a,s),void 0!==t&&Ka.type(e,t,r,a,s)}n(a)},number:function(e,t,n,r,s){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),Qa(t)&&!e.required)return n();Ka.required(e,t,r,a,s),void 0!==t&&(Ka.type(e,t,r,a,s),Ka.range(e,t,r,a,s))}n(a)},boolean:function(e,t,n,r,s){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qa(t)&&!e.required)return n();Ka.required(e,t,r,a,s),void 0!==t&&Ka.type(e,t,r,a,s)}n(a)},regexp:function(e,t,n,r,s){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qa(t)&&!e.required)return n();Ka.required(e,t,r,a,s),Qa(t)||Ka.type(e,t,r,a,s)}n(a)},integer:function(e,t,n,r,s){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qa(t)&&!e.required)return n();Ka.required(e,t,r,a,s),void 0!==t&&(Ka.type(e,t,r,a,s),Ka.range(e,t,r,a,s))}n(a)},float:function(e,t,n,r,s){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qa(t)&&!e.required)return n();Ka.required(e,t,r,a,s),void 0!==t&&(Ka.type(e,t,r,a,s),Ka.range(e,t,r,a,s))}n(a)},array:function(e,t,n,r,s){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();Ka.required(e,t,r,a,s,"array"),void 0!==t&&null!==t&&(Ka.type(e,t,r,a,s),Ka.range(e,t,r,a,s))}n(a)},object:function(e,t,n,r,s){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qa(t)&&!e.required)return n();Ka.required(e,t,r,a,s),void 0!==t&&Ka.type(e,t,r,a,s)}n(a)},enum:function(e,t,n,r,s){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qa(t)&&!e.required)return n();Ka.required(e,t,r,a,s),void 0!==t&&Ka.enum(e,t,r,a,s)}n(a)},pattern:function(e,t,n,r,s){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qa(t,"string")&&!e.required)return n();Ka.required(e,t,r,a,s),Qa(t,"string")||Ka.pattern(e,t,r,a,s)}n(a)},date:function(e,t,n,r,s){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qa(t,"date")&&!e.required)return n();var i;if(Ka.required(e,t,r,a,s),!Qa(t,"date"))i=t instanceof Date?t:new Date(t),Ka.type(e,i,r,a,s),i&&Ka.range(e,i.getTime(),r,a,s)}n(a)},url:za,hex:za,email:za,required:function(e,t,n,r,s){var a=[],i=Array.isArray(t)?"array":typeof t;Ka.required(e,t,r,a,s,i),n(a)},any:function(e,t,n,r,s){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Qa(t)&&!e.required)return n();Ka.required(e,t,r,a,s)}n(a)}};function Ga(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Wa=Ga(),Ya=function(){function e(e){this.rules=null,this._messages=Wa,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=Da(Ga(),e)),this._messages},t.validate=function(t,n,r){var s=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var a=t,i=n,o=r;if("function"===typeof i&&(o=i,i={}),!this.rules||0===Object.keys(this.rules).length)return o&&o(null,a),Promise.resolve(a);if(i.messages){var l=this.messages();l===Wa&&(l=Ga()),Da(l,i.messages),i.messages=l}else i.messages=this.messages();var A={};(i.keys||Object.keys(this.rules)).forEach((function(e){var n=s.rules[e],r=a[e];n.forEach((function(n){var i=n;"function"===typeof i.transform&&(a===t&&(a=Ba({},a)),r=a[e]=i.transform(r)),(i="function"===typeof i?{validator:i}:Ba({},i)).validator=s.getValidationMethod(i),i.validator&&(i.field=e,i.fullField=i.fullField||e,i.type=s.getType(i),A[e]=A[e]||[],A[e].push({rule:i,value:r,source:a,field:e}))}))}));var c={};return Na(A,i,(function(t,n){var r,s=t.rule,o=("object"===s.type||"array"===s.type)&&("object"===typeof s.fields||"object"===typeof s.defaultField);function l(e,t){return Ba({},t,{fullField:s.fullField+"."+e,fullFields:s.fullFields?[].concat(s.fullFields,[e]):[e]})}function A(r){void 0===r&&(r=[]);var A=Array.isArray(r)?r:[r];!i.suppressWarning&&A.length&&e.warning("async-validator:",A),A.length&&void 0!==s.message&&(A=[].concat(s.message));var u=A.map(Ta(s,a));if(i.first&&u.length)return c[s.field]=1,n(u);if(o){if(s.required&&!t.value)return void 0!==s.message?u=[].concat(s.message).map(Ta(s,a)):i.error&&(u=[i.error(s,Ia(i.messages.required,s.field))]),n(u);var d={};s.defaultField&&Object.keys(t.value).map((function(e){d[e]=s.defaultField})),d=Ba({},d,t.rule.fields);var h={};Object.keys(d).forEach((function(e){var t=d[e],n=Array.isArray(t)?t:[t];h[e]=n.map(l.bind(null,e))}));var p=new e(h);p.messages(i.messages),t.rule.options&&(t.rule.options.messages=i.messages,t.rule.options.error=i.error),p.validate(t.value,t.rule.options||i,(function(e){var t=[];u&&u.length&&t.push.apply(t,u),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(u)}if(o=o&&(s.required||!s.required&&t.value),s.field=t.field,s.asyncValidator)r=s.asyncValidator(s,t.value,A,t.source,i);else if(s.validator){try{r=s.validator(s,t.value,A,t.source,i)}catch(u){null==console.error||console.error(u),i.suppressValidatorError||setTimeout((function(){throw u}),0),A(u.message)}!0===r?A():!1===r?A("function"===typeof s.message?s.message(s.fullField||s.field):s.message||(s.fullField||s.field)+" fails"):r instanceof Array?A(r):r instanceof Error&&A(r.message)}r&&r.then&&r.then((function(){return A()}),(function(e){return A(e)}))}),(function(e){!function(e){var t=[],n={};function r(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var s=0;s<e.length;s++)r(e[s]);t.length?(n=Fa(t),o(t,n)):o(null,a)}(e)}),a)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!_a.hasOwnProperty(e.type))throw new Error(Ia("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?_a.required:_a[this.getType(e)]||void 0},e}();Ya.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");_a[e]=t},Ya.warning=function(){},Ya.messages=Wa,Ya.validators=_a;var qa="'${name}' is not a valid ${type}",Xa={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:qa,method:qa,array:qa,object:qa,number:qa,date:qa,boolean:qa,integer:qa,float:qa,regexp:qa,email:qa,url:qa,hex:qa},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},Ja=Ya;function Za(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}var $a="CODE_LOGIC_ERROR";function ei(e,t,n,r,s){return ti.apply(this,arguments)}function ti(){return ti=ut(At().mark((function e(t,n,r,s,a){var i,l,u,d,h,p,m,f,g;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(i=A({},r)).ruleIndex,Ja.warning=function(){},i.validator&&(l=i.validator,i.validator=function(){try{return l.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject($a)}}),u=null,i&&"array"===i.type&&i.defaultField&&(u=i.defaultField,delete i.defaultField),d=new Ja(o({},t,[i])),h=qt(Xa,s.validateMessages),d.messages(h),p=[],e.prev=10,e.next=13,Promise.resolve(d.validate(o({},t,n),A({},s)));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),e.t0.errors&&(p=e.t0.errors.map((function(e,t){var n=e.message,r=n===$a?h.default:n;return c.isValidElement(r)?c.cloneElement(r,{key:"error_".concat(t)}):r})));case 18:if(p.length||!u){e.next=23;break}return e.next=21,Promise.all(n.map((function(e,n){return ei("".concat(t,".").concat(n),e,u,s,a)})));case 21:return m=e.sent,e.abrupt("return",m.reduce((function(e,t){return[].concat(Kt(e),Kt(t))}),[]));case 23:return f=A(A({},r),{},{name:t,enum:(r.enum||[]).join(", ")},a),g=p.map((function(e){return"string"===typeof e?Za(e,f):e})),e.abrupt("return",g);case 26:case"end":return e.stop()}}),e,null,[[10,15]])}))),ti.apply(this,arguments)}function ni(e,t,n,r,s,a){var i,o=e.join("."),l=n.map((function(e,t){var n=e.validator,r=A(A({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var s=!1,a=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){Ae(!s,"Your validator function has already return a promise. `callback` will be ignored."),s||r.apply(void 0,t)}))}));s=a&&"function"===typeof a.then&&"function"===typeof a.catch,Ae(s,"`callback` is deprecated. Please return a promise instead."),s&&a.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,s=t.warningOnly,a=t.ruleIndex;return!!n===!!s?r-a:n?1:-1}));if(!0===s)i=new Promise(function(){var e=ut(At().mark((function e(n,s){var i,A,c;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<l.length)){e.next=12;break}return A=l[i],e.next=5,ei(o,t,A,r,a);case 5:if(!(c=e.sent).length){e.next=9;break}return s([{errors:c,rule:A}]),e.abrupt("return");case 9:i+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var c=l.map((function(e){return ei(o,t,e,r,a).then((function(t){return{errors:t,rule:e}}))}));i=(s?function(e){return si.apply(this,arguments)}(c):function(e){return ri.apply(this,arguments)}(c)).then((function(e){return Promise.reject(e)}))}return i.catch((function(e){return e})),i}function ri(){return(ri=ut(At().mark((function e(t){return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,Kt(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function si(){return(si=ut(At().mark((function e(t){var n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ai(e){return xa(e)}function ii(e,t){var n={};return t.forEach((function(t){var r=zt(e,t);n=Gt(n,t,r)})),n}function oi(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&e.some((function(e){return li(t,e,n)}))}function li(e,t){return!(!e||!t)&&(!(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&e.length!==t.length)&&t.every((function(t,n){return e[n]===t})))}function Ai(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===a(t.target)&&e in t.target?t.target[e]:t}function ci(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var s=e[t],a=t-n;return a>0?[].concat(Kt(e.slice(0,n)),[s],Kt(e.slice(n,t)),Kt(e.slice(t+1,r))):a<0?[].concat(Kt(e.slice(0,t)),Kt(e.slice(t+1,n+1)),[s],Kt(e.slice(n+1,r))):e}var ui=["name"],di=[];function hi(e,t,n,r,s,a){return"function"===typeof e?e(t,n,"source"in a?{source:a.source}:{}):r!==s}var pi=function(e){rt(n,e);var t=lt(n);function n(e){var r;($e(this,n),o(it(r=t.call(this,e)),"state",{resetCount:0}),o(it(r),"cancelRegisterFunc",null),o(it(r),"mounted",!1),o(it(r),"touched",!1),o(it(r),"dirty",!1),o(it(r),"validatePromise",void 0),o(it(r),"prevValidating",void 0),o(it(r),"errors",di),o(it(r),"warnings",di),o(it(r),"cancelRegister",(function(){var e=r.props,t=e.preserve,n=e.isListField,s=e.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(n,t,ai(s)),r.cancelRegisterFunc=null})),o(it(r),"getNamePath",(function(){var e=r.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat(Kt(void 0===n?[]:n),Kt(t)):[]})),o(it(r),"getRules",(function(){var e=r.props,t=e.rules,n=void 0===t?[]:t,s=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(s):e}))})),o(it(r),"refresh",(function(){r.mounted&&r.setState((function(e){return{resetCount:e.resetCount+1}}))})),o(it(r),"metaCache",null),o(it(r),"triggerMetaEvent",(function(e){var t=r.props.onMetaChange;if(t){var n=A(A({},r.getMeta()),{},{destroy:e});ga(r.metaCache,n)||t(n),r.metaCache=n}else r.metaCache=null})),o(it(r),"onStoreChange",(function(e,t,n){var s=r.props,a=s.shouldUpdate,i=s.dependencies,o=void 0===i?[]:i,l=s.onReset,A=n.store,c=r.getNamePath(),u=r.getValue(e),d=r.getValue(A),h=t&&oi(t,c);switch("valueUpdate"===n.type&&"external"===n.source&&u!==d&&(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=di,r.warnings=di,r.triggerMetaEvent()),n.type){case"reset":if(!t||h)return r.touched=!1,r.dirty=!1,r.validatePromise=void 0,r.errors=di,r.warnings=di,r.triggerMetaEvent(),null===l||void 0===l||l(),void r.refresh();break;case"remove":if(a)return void r.reRender();break;case"setField":var p=n.data;if(h)return"touched"in p&&(r.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(r.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(r.errors=p.errors||di),"warnings"in p&&(r.warnings=p.warnings||di),r.dirty=!0,r.triggerMetaEvent(),void r.reRender();if("value"in p&&oi(t,c,!0))return void r.reRender();if(a&&!c.length&&hi(a,e,A,u,d,n))return void r.reRender();break;case"dependenciesUpdate":if(o.map(ai).some((function(e){return oi(n.relatedFields,e)})))return void r.reRender();break;default:if(h||(!o.length||c.length||a)&&hi(a,e,A,u,d,n))return void r.reRender()}!0===a&&r.reRender()})),o(it(r),"validateRules",(function(e){var t=r.getNamePath(),n=r.getValue(),s=e||{},a=s.triggerName,i=s.validateOnly,o=void 0!==i&&i,l=Promise.resolve().then(ut(At().mark((function s(){var i,o,A,c,u,d,h;return At().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(r.mounted){s.next=2;break}return s.abrupt("return",[]);case 2:if(i=r.props,o=i.validateFirst,A=void 0!==o&&o,c=i.messageVariables,u=i.validateDebounce,d=r.getRules(),a&&(d=d.filter((function(e){return e})).filter((function(e){var t=e.validateTrigger;return!t||xa(t).includes(a)}))),!u||!a){s.next=10;break}return s.next=8,new Promise((function(e){setTimeout(e,u)}));case 8:if(r.validatePromise===l){s.next=10;break}return s.abrupt("return",[]);case 10:return(h=ni(t,n,d,e,A,c)).catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di;if(r.validatePromise===l){var t;r.validatePromise=null;var n=[],s=[];null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,r=e.errors,a=void 0===r?di:r;t?s.push.apply(s,Kt(a)):n.push.apply(n,Kt(a))})),r.errors=n,r.warnings=s,r.triggerMetaEvent(),r.reRender()}})),s.abrupt("return",h);case 13:case"end":return s.stop()}}),s)}))));return o||(r.validatePromise=l,r.dirty=!0,r.errors=di,r.warnings=di,r.triggerMetaEvent(),r.reRender()),l})),o(it(r),"isFieldValidating",(function(){return!!r.validatePromise})),o(it(r),"isFieldTouched",(function(){return r.touched})),o(it(r),"isFieldDirty",(function(){return!(!r.dirty&&void 0===r.props.initialValue)||void 0!==(0,r.props.fieldContext.getInternalHooks(va).getInitialValue)(r.getNamePath())})),o(it(r),"getErrors",(function(){return r.errors})),o(it(r),"getWarnings",(function(){return r.warnings})),o(it(r),"isListField",(function(){return r.props.isListField})),o(it(r),"isList",(function(){return r.props.isList})),o(it(r),"isPreserve",(function(){return r.props.preserve})),o(it(r),"getMeta",(function(){return r.prevValidating=r.isFieldValidating(),{touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath(),validated:null===r.validatePromise}})),o(it(r),"getOnlyChild",(function(e){if("function"===typeof e){var t=r.getMeta();return A(A({},r.getOnlyChild(e(r.getControlled(),t,r.props.fieldContext))),{},{isFunction:!0})}var n=fa(e);return 1===n.length&&c.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}})),o(it(r),"getValue",(function(e){var t=r.props.fieldContext.getFieldsValue,n=r.getNamePath();return zt(e||t(!0),n)})),o(it(r),"getControlled",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.props,n=t.trigger,s=t.validateTrigger,a=t.getValueFromEvent,i=t.normalize,l=t.valuePropName,c=t.getValueProps,u=t.fieldContext,d=void 0!==s?s:u.validateTrigger,h=r.getNamePath(),p=u.getInternalHooks,m=u.getFieldsValue,f=p(va).dispatch,g=r.getValue(),v=c||function(e){return o({},l,e)},y=e[n],w=A(A({},e),v(g));return w[n]=function(){var e;r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];e=a?a.apply(void 0,n):Ai.apply(void 0,[l].concat(n)),i&&(e=i(e,g,m(!0))),f({type:"updateValue",namePath:h,value:e}),y&&y.apply(void 0,n)},xa(d||[]).forEach((function(e){var t=w[e];w[e]=function(){t&&t.apply(void 0,arguments);var n=r.props.rules;n&&n.length&&f({type:"validateField",namePath:h,triggerName:e})}})),w})),e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(va).initEntityValue)(it(r));return r}return tt(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(va).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,r=this.getOnlyChild(n),s=r.child;return r.isFunction?e=s:c.isValidElement(s)?e=c.cloneElement(s,this.getControlled(s.props)):(Ae(!s,"`children` of Field is not validate ReactElement."),e=s),c.createElement(c.Fragment,{key:t},e)}}]),n}(c.Component);o(pi,"contextType",wa),o(pi,"defaultProps",{trigger:"onChange",valuePropName:"value"});const mi=function(e){var t=e.name,n=g(e,ui),r=c.useContext(wa),s=c.useContext(ba),a=void 0!==t?ai(t):void 0,i="keep";return n.isListField||(i="_".concat((a||[]).join("_"))),c.createElement(pi,Oe({key:i,name:a,isListField:!!s},n,{fieldContext:r}))};const fi=function(e){var t=e.name,n=e.initialValue,r=e.children,s=e.rules,a=e.validateTrigger,i=e.isListField,o=c.useContext(wa),l=c.useContext(ba),u=c.useRef({keys:[],id:0}).current,d=c.useMemo((function(){var e=ai(o.prefixName)||[];return[].concat(Kt(e),Kt(ai(t)))}),[o.prefixName,t]),h=c.useMemo((function(){return A(A({},o),{},{prefixName:d})}),[o,d]),p=c.useMemo((function(){return{getKey:function(e){var t=d.length,n=e[t];return[u.keys[n],e.slice(t+1)]}}}),[d]);return"function"!==typeof r?(Ae(!1,"Form.List only accepts function as children."),null):c.createElement(ba.Provider,{value:p},c.createElement(wa.Provider,{value:h},c.createElement(mi,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:s,validateTrigger:a,initialValue:n,isList:!0,isListField:null!==i&&void 0!==i?i:!!l},(function(e,t){var n=e.value,s=void 0===n?[]:n,a=e.onChange,i=o.getFieldValue,l=function(){return i(d||[])||[]},A={add:function(e,t){var n=l();t>=0&&t<=n.length?(u.keys=[].concat(Kt(u.keys.slice(0,t)),[u.id],Kt(u.keys.slice(t))),a([].concat(Kt(n.slice(0,t)),[e],Kt(n.slice(t))))):(u.keys=[].concat(Kt(u.keys),[u.id]),a([].concat(Kt(n),[e]))),u.id+=1},remove:function(e){var t=l(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(u.keys=u.keys.filter((function(e,t){return!n.has(t)})),a(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=l();e<0||e>=n.length||t<0||t>=n.length||(u.keys=ci(u.keys,e,t),a(ci(n,e,t)))}}},c=s||[];return Array.isArray(c)||(c=[]),r(c.map((function(e,t){var n=u.keys[t];return void 0===n&&(u.keys[t]=u.id,n=u.keys[t],u.id+=1),{name:t,key:n,isListField:!0}})),A,t)}))))};var gi="__@field_split__";function vi(e){return e.map((function(e){return"".concat(a(e),":").concat(e)})).join(gi)}var yi=function(){function e(){$e(this,e),o(this,"kvs",new Map)}return tt(e,[{key:"set",value:function(e,t){this.kvs.set(vi(e),t)}},{key:"get",value:function(e){return this.kvs.get(vi(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(vi(e))}},{key:"map",value:function(e){return Kt(this.kvs.entries()).map((function(t){var n=f(t,2),r=n[0],s=n[1],a=r.split(gi);return e({key:a.map((function(e){var t=f(e.match(/^([^:]*):(.*)$/),3),n=t[1],r=t[2];return"number"===n?Number(r):r})),value:s})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}();const wi=yi;var bi=["name"],xi=tt((function e(t){var n=this;$e(this,e),o(this,"formHooked",!1),o(this,"forceRootUpdate",void 0),o(this,"subscribable",!0),o(this,"store",{}),o(this,"fieldEntities",[]),o(this,"initialValues",{}),o(this,"callbacks",{}),o(this,"validateMessages",null),o(this,"preserve",null),o(this,"lastValidatePromise",null),o(this,"getForm",(function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}})),o(this,"getInternalHooks",(function(e){return e===va?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(Ae(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)})),o(this,"useSubscribe",(function(e){n.subscribable=e})),o(this,"prevWithoutPreserves",null),o(this,"setInitialValues",(function(e,t){if(n.initialValues=e||{},t){var r,s=qt(e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map((function(t){var n=t.key;s=Gt(s,n,zt(e,n))})),n.prevWithoutPreserves=null,n.updateStore(s)}})),o(this,"destroyForm",(function(){var e=new wi;n.getFieldEntities(!0).forEach((function(t){n.isMergedPreserve(t.isPreserve())||e.set(t.getNamePath(),!0)})),n.prevWithoutPreserves=e})),o(this,"getInitialValue",(function(e){var t=zt(n.initialValues,e);return e.length?qt(t):t})),o(this,"setCallbacks",(function(e){n.callbacks=e})),o(this,"setValidateMessages",(function(e){n.validateMessages=e})),o(this,"setPreserve",(function(e){n.preserve=e})),o(this,"watchList",[]),o(this,"registerWatch",(function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter((function(t){return t!==e}))}})),o(this,"notifyWatch",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue(),r=n.getFieldsValue(!0);n.watchList.forEach((function(n){n(t,r,e)}))}})),o(this,"timeoutId",null),o(this,"warningUnhooked",(function(){0})),o(this,"updateStore",(function(e){n.store=e})),o(this,"getFieldEntities",(function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities})),o(this,"getFieldsMap",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new wi;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t})),o(this,"getFieldEntitiesForNamePathList",(function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=ai(e);return t.get(n)||{INVALIDATE_NAME_PATH:ai(e)}}))})),o(this,"getFieldsValue",(function(e,t){var r,s,i;if(n.warningUnhooked(),!0===e||Array.isArray(e)?(r=e,s=t):e&&"object"===a(e)&&(i=e.strict,s=e.filter),!0===r&&!s)return n.store;var o=n.getFieldEntitiesForNamePathList(Array.isArray(r)?r:null),l=[];return o.forEach((function(e){var t,n,a,o,A="INVALIDATE_NAME_PATH"in e?e.INVALIDATE_NAME_PATH:e.getNamePath();if(i){if(null!==(a=(o=e).isList)&&void 0!==a&&a.call(o))return}else if(!r&&null!==(t=(n=e).isListField)&&void 0!==t&&t.call(n))return;if(s){var c="getMeta"in e?e.getMeta():null;s(c)&&l.push(A)}else l.push(A)})),ii(n.store,l.map(ai))})),o(this,"getFieldValue",(function(e){n.warningUnhooked();var t=ai(e);return zt(n.store,t)})),o(this,"getFieldsError",(function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:ai(e[n]),errors:[],warnings:[]}}))})),o(this,"getFieldError",(function(e){n.warningUnhooked();var t=ai(e);return n.getFieldsError([t])[0].errors})),o(this,"getFieldWarning",(function(e){n.warningUnhooked();var t=ai(e);return n.getFieldsError([t])[0].warnings})),o(this,"isFieldsTouched",(function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var s,a=t[0],i=t[1],o=!1;0===t.length?s=null:1===t.length?Array.isArray(a)?(s=a.map(ai),o=!1):(s=null,o=a):(s=a.map(ai),o=i);var l=n.getFieldEntities(!0),A=function(e){return e.isFieldTouched()};if(!s)return o?l.every(A):l.some(A);var c=new wi;s.forEach((function(e){c.set(e,[])})),l.forEach((function(e){var t=e.getNamePath();s.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&c.update(n,(function(t){return[].concat(Kt(t),[e])}))}))}));var u=function(e){return e.some(A)},d=c.map((function(e){return e.value}));return o?d.every(u):d.some(u)})),o(this,"isFieldTouched",(function(e){return n.warningUnhooked(),n.isFieldsTouched([e])})),o(this,"isFieldsValidating",(function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(ai);return t.some((function(e){var t=e.getNamePath();return oi(r,t)&&e.isFieldValidating()}))})),o(this,"isFieldValidating",(function(e){return n.warningUnhooked(),n.isFieldsValidating([e])})),o(this,"resetWithFieldInitialValue",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new wi,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var s=t.get(r)||new Set;s.add({entity:e,value:n}),t.set(r,s)}}));var s;e.entities?s=e.entities:e.namePathList?(s=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=s).push.apply(n,Kt(Kt(r).map((function(e){return e.entity}))))}))):s=r,s.forEach((function(r){if(void 0!==r.props.initialValue){var s=r.getNamePath();if(void 0!==n.getInitialValue(s))Ae(!1,"Form already set 'initialValues' with path '".concat(s.join("."),"'. Field can not overwrite it."));else{var a=t.get(s);if(a&&a.size>1)Ae(!1,"Multiple Field with path '".concat(s.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(a){var i=n.getFieldValue(s);e.skipExist&&void 0!==i||n.updateStore(Gt(n.store,s,Kt(a)[0].value))}}}}))})),o(this,"resetFields",(function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(qt(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(ai);r.forEach((function(e){var t=n.getInitialValue(e);n.updateStore(Gt(n.store,e,t))})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)})),o(this,"setFields",(function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach((function(e){var s=e.name,a=g(e,bi),i=ai(s);r.push(i),"value"in a&&n.updateStore(Gt(n.store,i,a.value)),n.notifyObservers(t,[i],{type:"setField",data:e})})),n.notifyWatch(r)})),o(this,"getFields",(function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=A(A({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(r,"originRCField",{value:!0}),r}))})),o(this,"initEntityValue",(function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===zt(n.store,r)&&n.updateStore(Gt(n.store,r,t))}})),o(this,"isMergedPreserve",(function(e){var t=void 0!==e?e:n.preserve;return null===t||void 0===t||t})),o(this,"registerField",(function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,s){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e})),!n.isMergedPreserve(s)&&(!r||a.length>1)){var i=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==i&&n.fieldEntities.every((function(e){return!li(e.getNamePath(),t)}))){var o=n.store;n.updateStore(Gt(o,t,i,!0)),n.notifyObservers(o,[t],{type:"remove"}),n.triggerDependenciesUpdate(o,t)}}n.notifyWatch([t])}})),o(this,"dispatch",(function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var s=e.namePath,a=e.triggerName;n.validateFields([s],{triggerName:a})}})),o(this,"notifyObservers",(function(e,t,r){if(n.subscribable){var s=A(A({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,s)}))}else n.forceRootUpdate()})),o(this,"triggerDependenciesUpdate",(function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat(Kt(r))}),r})),o(this,"updateValue",(function(e,t){var r=ai(e),s=n.store;n.updateStore(Gt(n.store,r,t)),n.notifyObservers(s,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var a=n.triggerDependenciesUpdate(s,r),i=n.callbacks.onValuesChange;i&&i(ii(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat(Kt(a)))})),o(this,"setFieldsValue",(function(e){n.warningUnhooked();var t=n.store;if(e){var r=qt(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()})),o(this,"setFieldValue",(function(e,t){n.setFields([{name:e,value:t}])})),o(this,"getDependencyChildrenFields",(function(e){var t=new Set,r=[],s=new wi;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=ai(t);s.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(s.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var s=n.getNamePath();n.isFieldDirty()&&s.length&&(r.push(s),e(s))}}))}(e),r})),o(this,"triggerOnFieldsChange",(function(e,t){var r=n.callbacks.onFieldsChange;if(r){var s=n.getFields();if(t){var a=new wi;t.forEach((function(e){var t=e.name,n=e.errors;a.set(t,n)})),s.forEach((function(e){e.errors=a.get(e.name)||e.errors}))}var i=s.filter((function(t){var n=t.name;return oi(e,n)}));i.length&&r(i,s)}})),o(this,"validateFields",(function(e,t){var r,s,a;n.warningUnhooked(),Array.isArray(e)||"string"===typeof e||"string"===typeof t?(s=e,a=t):a=e;var i=!!s,o=i?s.map(ai):[],l=[],c=String(Date.now()),u=new Set,d=null===(r=a)||void 0===r?void 0:r.recursive;n.getFieldEntities(!0).forEach((function(e){if(i||o.push(e.getNamePath()),e.props.rules&&e.props.rules.length){var t=e.getNamePath();if(u.add(t.join(c)),!i||oi(o,t,d)){var r=e.validateRules(A({validateMessages:A(A({},Xa),n.validateMessages)},a));l.push(r.then((function(){return{name:t,errors:[],warnings:[]}})).catch((function(e){var n,r=[],s=[];return null===(n=e.forEach)||void 0===n||n.call(e,(function(e){var t=e.rule.warningOnly,n=e.errors;t?s.push.apply(s,Kt(n)):r.push.apply(r,Kt(n))})),r.length?Promise.reject({name:t,errors:r,warnings:s}):{name:t,errors:r,warnings:s}})))}}}));var h=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(s,a){e.forEach((function(e,i){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[i]=e,n>0||(t&&a(r),s(r))}))}))})):Promise.resolve([])}(l);n.lastValidatePromise=h,h.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var p=h.then((function(){return n.lastValidatePromise===h?Promise.resolve(n.getFieldsValue(o)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(o),errorFields:t,outOfDate:n.lastValidatePromise!==h})}));p.catch((function(e){return e}));var m=o.filter((function(e){return u.has(e.join(c))}));return n.triggerOnFieldsChange(m),p})),o(this,"submit",(function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))})),this.forceRootUpdate=t}));const Bi=function(e){var t=c.useRef(),n=f(c.useState({}),2)[1];if(!t.current)if(e)t.current=e;else{var r=new xi((function(){n({})}));t.current=r.getForm()}return[t.current]};var Ci=c.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}});const ki=Ci;var Si=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"];const Ei=function(e,t){var n=e.name,r=e.initialValues,s=e.fields,i=e.form,o=e.preserve,l=e.children,u=e.component,d=void 0===u?"form":u,h=e.validateMessages,p=e.validateTrigger,m=void 0===p?"onChange":p,v=e.onValuesChange,y=e.onFieldsChange,w=e.onFinish,b=e.onFinishFailed,x=g(e,Si),B=c.useContext(ki),C=f(Bi(i),1)[0],k=C.getInternalHooks(va),S=k.useSubscribe,E=k.setInitialValues,j=k.setCallbacks,F=k.setValidateMessages,I=k.setPreserve,Q=k.destroyForm;c.useImperativeHandle(t,(function(){return C})),c.useEffect((function(){return B.registerForm(n,C),function(){B.unregisterForm(n)}}),[B,C,n]),F(A(A({},B.validateMessages),h)),j({onValuesChange:v,onFieldsChange:function(e){if(B.triggerFormChange(n,e),y){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];y.apply(void 0,[e].concat(r))}},onFinish:function(e){B.triggerFormFinish(n,e),w&&w(e)},onFinishFailed:b}),I(o);var M,U=c.useRef(null);E(r,!U.current),U.current||(U.current=!0),c.useEffect((function(){return Q}),[]);var N="function"===typeof l;N?M=l(C.getFieldsValue(!0),C):M=l;S(!N);var T=c.useRef();c.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==a(e)||"object"!==a(t))return!1;var n=Object.keys(e),r=Object.keys(t);return Kt(new Set([].concat(n,r))).every((function(n){var r=e[n],s=t[n];return"function"===typeof r&&"function"===typeof s||r===s}))})(T.current||[],s||[])||C.setFields(s||[]),T.current=s}),[s,C]);var D=c.useMemo((function(){return A(A({},C),{},{validateTrigger:m})}),[C,m]),H=c.createElement(ba.Provider,{value:null},c.createElement(wa.Provider,{value:D},M));return!1===d?H:c.createElement(d,Oe({},x,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),C.submit()},onReset:function(e){var t;e.preventDefault(),C.resetFields(),null===(t=x.onReset)||void 0===t||t.call(x,e)}}),H)};function ji(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var Fi=function(){};const Ii=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],s=void 0===r?[]:r,a=t[1],i=void 0===a?{}:a,o=function(e){return e&&!!e._init}(i)?{form:i}:i,l=o.form,A=f((0,c.useState)(),2),u=A[0],d=A[1],h=(0,c.useMemo)((function(){return ji(u)}),[u]),p=(0,c.useRef)(h);p.current=h;var m=(0,c.useContext)(wa),g=l||m,v=g&&g._init,y=ai(s),w=(0,c.useRef)(y);return w.current=y,Fi(y),(0,c.useEffect)((function(){if(v){var e=g.getFieldsValue,t=(0,(0,g.getInternalHooks)(va).registerWatch)((function(e,t){var n=zt(o.preserve?t:e,w.current),r=ji(n);p.current!==r&&(p.current=r,d(n))})),n=zt(o.preserve?e(!0):e(),w.current);return u!==n&&d(n),t}}),[v]),u};var Qi=c.forwardRef(Ei);Qi.FormProvider=function(e){var t=e.validateMessages,n=e.onFormChange,r=e.onFormFinish,s=e.children,a=c.useContext(Ci),i=c.useRef({});return c.createElement(Ci.Provider,{value:A(A({},a),{},{validateMessages:A(A({},a.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:i.current}),a.triggerFormChange(e,t)},triggerFormFinish:function(e,t){r&&r(e,{values:t,forms:i.current}),a.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(i.current=A(A({},i.current),{},o({},e,t))),a.registerForm(e,t)},unregisterForm:function(e){var t=A({},i.current);delete t[e],i.current=t,a.unregisterForm(e)}})},s)},Qi.Field=mi,Qi.List=fi,Qi.useForm=Bi,Qi.useWatch=Ii;var Mi=c.createContext({}),Ui=function(e){var t=e.children,n=e.status,r=e.override,s=(0,c.useContext)(Mi),a=(0,c.useMemo)((function(){var e=Oe({},s);return r&&delete e.isFormItemInput,n&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[n,r,s]);return c.createElement(Mi.Provider,{value:a},t)},Ni=function(){return{height:0,opacity:0}},Ti=function(e){return{height:e.scrollHeight,opacity:1}},Di=function(e,t){return!0===(null===t||void 0===t?void 0:t.deadline)||"height"===t.propertyName},Hi={motionName:"ant-motion-collapse",onAppearStart:Ni,onEnterStart:Ni,onAppearActive:Ti,onEnterActive:Ti,onLeaveStart:function(e){return{height:e?e.offsetHeight:0}},onLeaveActive:Ni,onAppearEnd:Di,onEnterEnd:Di,onLeaveEnd:Di,motionDeadline:500},Li=(Ts("bottomLeft","bottomRight","topLeft","topRight"),function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)});const Pi=Hi;var Oi=c.createContext(null),Ri=function(e,t){var n=c.useContext(Oi),r=c.useMemo((function(){if(!n)return"";var r=n.compactDirection,s=n.isFirstItem,a=n.isLastItem,i="vertical"===r?"-vertical-":"-";return y()(o(o(o(o({},"".concat(e,"-compact").concat(i,"item"),!0),"".concat(e,"-compact").concat(i,"first-item"),s),"".concat(e,"-compact").concat(i,"last-item"),a),"".concat(e,"-compact").concat(i,"item-rtl"),"rtl"===t))}),[e,t,n]);return{compactSize:null===n||void 0===n?void 0:n.compactSize,compactDirection:null===n||void 0===n?void 0:n.compactDirection,compactItemClassnames:r}},Vi=function(e){var t=e.children;return c.createElement(Oi.Provider,{value:null},t)};var Ki=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},zi=(Ts("default","large"),{distance:180});const _i=function(e){var t=e.width,n=e.height,r=e.size,s=void 0===r?"default":r,a=e.closable,i=void 0===a||a,l=e.mask,A=void 0===l||l,u=e.push,d=void 0===u?zi:u,h=e.closeIcon,p=void 0===h?c.createElement(Ge,null):h,m=e.bodyStyle,g=e.drawerStyle,v=e.className,w=e.visible,b=e.open,x=e.children,B=e.style,C=e.title,k=e.headerStyle,S=e.onClose,E=e.footer,j=e.footerStyle,F=e.prefixCls,I=e.getContainer,Q=e.extra,M=e.afterVisibleChange,U=e.afterOpenChange,N=Ki(e,["width","height","size","closable","mask","push","closeIcon","bodyStyle","drawerStyle","className","visible","open","children","style","title","headerStyle","onClose","footer","footerStyle","prefixCls","getContainer","extra","afterVisibleChange","afterOpenChange"]),T=c.useContext(jr),D=T.getPopupContainer,H=T.getPrefixCls,L=T.direction,P=H("drawer",F),O=void 0===I&&D?function(){return D(document.body)}:I,R=i&&c.createElement("button",{type:"button",onClick:S,"aria-label":"Close",className:"".concat(P,"-close")},p);[["visible","open"],["afterVisibleChange","afterOpenChange"]].forEach((function(e){var t=f(e,2);t[0],t[1]}));var V=y()(o({"no-mask":!A},"".concat(P,"-rtl"),"rtl"===L),v),K=c.useMemo((function(){return null!==t&&void 0!==t?t:"large"===s?736:378}),[t,s]),z=c.useMemo((function(){return null!==n&&void 0!==n?n:"large"===s?736:378}),[n,s]),_={motionName:Li(P,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500};return c.createElement(Vi,null,c.createElement(Ui,{status:!0,override:!0},c.createElement(ma,Oe({prefixCls:P,onClose:S},N,{open:null!==b&&void 0!==b?b:w,mask:A,push:d,width:K,height:z,rootClassName:V,getContainer:O,afterOpenChange:function(e){null===U||void 0===U||U(e),null===M||void 0===M||M(e)},maskMotion:_,motion:function(e){return{motionName:Li(P,"panel-motion-".concat(e)),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}},rootStyle:B}),c.createElement("div",{className:"".concat(P,"-wrapper-body"),style:Oe({},g)},C||i?c.createElement("div",{className:y()("".concat(P,"-header"),o({},"".concat(P,"-header-close-only"),i&&!C&&!Q)),style:k},c.createElement("div",{className:"".concat(P,"-header-title")},R,C&&c.createElement("div",{className:"".concat(P,"-title")},C)),Q&&c.createElement("div",{className:"".concat(P,"-extra")},Q)):null,c.createElement("div",{className:"".concat(P,"-body"),style:m},x),function(){if(!E)return null;var e="".concat(P,"-footer");return c.createElement("div",{className:e,style:j},E)}()))))};var Gi,Wi=n(6705),Yi=n.n(Wi),qi=new Uint8Array(16);function Xi(){if(!Gi&&!(Gi="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Gi(qi)}const Ji=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const Zi=function(e){return"string"===typeof e&&Ji.test(e)};for(var $i=[],eo=0;eo<256;++eo)$i.push((eo+256).toString(16).substr(1));const to=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=($i[e[t+0]]+$i[e[t+1]]+$i[e[t+2]]+$i[e[t+3]]+"-"+$i[e[t+4]]+$i[e[t+5]]+"-"+$i[e[t+6]]+$i[e[t+7]]+"-"+$i[e[t+8]]+$i[e[t+9]]+"-"+$i[e[t+10]]+$i[e[t+11]]+$i[e[t+12]]+$i[e[t+13]]+$i[e[t+14]]+$i[e[t+15]]).toLowerCase();if(!Zi(n))throw TypeError("Stringified UUID is invalid");return n};const no=function(e,t,n){var r=(e=e||{}).random||(e.rng||Xi)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=r[s];return t}return to(r)};class ro{static guid(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]){const e="abcdefghijklmnopqrstuvwxyz";let t="";for(;t.length<6;){t+=e[ro.randomNumber(e.length)]}return t}return no()}static sort(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];0===t.length&&(t=[{field:"name",dir:"asc"}]);return e.sort(((e,n)=>{let r=0;return t.forEach((t=>{0===r&&(r=((e,t,n)=>{if(void 0!==e[n]&&void 0!==t[n]){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0})(e,n,t.field)*("asc"===t.dir?1:-1))})),r})),e}static distinct(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>JSON.stringify(e);const n=new Set;return e.filter((e=>{const r=t(e);return!n.has(r)&&n.add(r)}))}static arrayToItems(e){return e.map((e=>({id:e,text:e,disabled:!1})))}static debounce(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return()=>{clearTimeout(t),t=setTimeout(e,n)}}static toData(e){const t=e/1073741824;if(t>=1)return t.toFixed(2)+" GB";{const t=e/1048576;if(t>=1)return t.toFixed(2)+" MB";{const t=e/1024;if(t>=1)return t.toFixed(2)+" KB"}}return e+" B"}static saveFile(e,t){const n=JSON.stringify(t,null,"\t"),r=new Blob([n],{type:"application/json"}),s=document.createElement("a");s.download=e,s.href=window.URL.createObjectURL(r),s.click()}static saveImage(e,t){const n=document.createElement("a");n.download=e,n.href=t.toDataURL("image/png").replace(/^data:image\/png/,"data:application/octet-stream"),n.click()}static randomNumber(e){return e<=0?0:Math.floor(Math.random()*e)}static randomBoolean(){return 0===ro.randomNumber(2)}static randomDecimal(){return ro.randomNumber(100)/100}}class so{static createParty(){return{id:ro.guid(),name:"",pcs:[],awards:[]}}static createPC(){return{id:ro.guid(),type:"pc",active:!0,player:"",name:"",size:"medium",race:"",classes:"",level:1,languages:"Common",passiveInsight:10,passiveInvestigation:10,passivePerception:10,darkvision:0,portrait:"",url:"",companions:[],awards:[]}}static createCompanion(){return{id:ro.guid(),name:"",monsterID:null}}static createAward(){return{id:ro.guid(),category:"",name:"",description:""}}static createMonsterGroup(){return{id:ro.guid(),name:"",monsters:[]}}static createMonster(){return{id:ro.guid(),type:"monster",name:"",size:"medium",role:"",category:"humanoid",tag:"",alignment:"",challenge:1,abilityScores:{str:10,dex:10,con:10,int:10,wis:10,cha:10},ac:10,acInfo:"",hitDice:1,damage:{resist:"",vulnerable:"",immune:""},savingThrows:"",speed:"",skills:"",senses:"",languages:"",traits:[],conditionImmunities:"",portrait:"",legendaryActions:0}}static createTrait(){return{id:ro.guid(),name:"",usage:"",type:"action",text:"",uses:0}}static createEncounter(){return{id:ro.guid(),name:"",slots:[],waves:[],notes:""}}static createEncounterSlot(){return{id:ro.guid(),monsterID:"",monsterThemeID:"",deltaCR:0,roles:[],count:1,faction:"foe"}}static createEncounterWave(){return{id:ro.guid(),name:"",slots:[]}}static createMonsterFilter(){return{name:"",challengeMin:0,challengeMax:5,category:"all types",size:"all sizes",role:"all roles"}}static createMap(){return{id:ro.guid(),name:"",items:[],walls:[],areas:[],lightSources:[]}}static createMapItem(){return{id:ro.guid(),type:"tile",x:0,y:0,z:0,width:4,height:4,depth:1,terrain:"",customBackground:"",customLink:"",content:null,size:"medium",color:"",opacity:255,style:null}}static createMapWall(){return{id:ro.guid(),pointA:{x:0,y:0,z:0},pointB:{x:0,y:0,z:0},display:"wall",blocksLineOfSight:!0,blocksMovement:!0,isConcealed:!1}}static createMapArea(){return{id:ro.guid(),name:"",text:"",x:0,y:0,z:0,width:1,height:1,depth:1}}static createMapLightSource(){return{id:ro.guid(),x:0,y:0,z:0,name:"torch",bright:20,dim:40}}static createAdventure(){return{id:ro.guid(),name:"",plot:this.createPlot()}}static createPlot(){return{id:ro.guid(),scenes:[],map:null}}static createScene(){return{id:ro.guid(),name:"",content:"",tags:[],links:[],plot:this.createPlot(),resources:[]}}static createSceneLink(){return{id:ro.guid(),text:"",sceneID:""}}static createSceneResource(){return{id:ro.guid(),name:"",type:"text",content:"",data:null}}static createExploration(){return{id:ro.guid(),name:"",map:this.createMap(),mapAreaID:null,partyID:"",fog:[],lighting:"bright light",combatants:[]}}static createCombatSetup(){return{party:null,encounter:null,waveID:null,map:null,mapAreaID:null,fog:[],lighting:"bright light",combatants:[],slotInfo:[]}}static createCombatSlotInfo(){return{id:"",monsterID:"",useGroupHP:!0,useGroupInit:!0,hp:0,init:0,members:[]}}static createCombatSlotMember(){return{id:ro.guid(),name:"",hp:0,init:0,location:null}}static createCombat(){return{id:ro.guid(),name:"",encounter:so.createEncounter(),combatants:[],map:null,mapAreaID:null,fog:[],lighting:"bright light",round:1}}static createNotification(){return{id:ro.guid(),type:"condition-save",data:null,combatant:null}}static createCondition(){return{id:ro.guid(),name:"",level:1,text:"",duration:null}}static createConditionDurationSaves(){return{type:"saves",count:1,saveType:"str",saveDC:10,point:"start"}}static createConditionDurationCombatant(){return{type:"combatant",point:"start",combatantID:null}}static createConditionDurationRounds(){return{type:"rounds",count:1}}}class ao{static matchParty(e,t){return!!ao.match(e,t.name)||t.pcs.some((t=>ao.matchPC(e,t)))}static matchPC(e,t){return!!ao.match(e,t.name)||(!!ao.match(e,t.player)||(!!ao.match(e,t.race)||(!!ao.match(e,t.classes)||t.companions.some((t=>ao.matchCompanion(e,t))))))}static matchCompanion(e,t){return!!ao.match(e,t.name)}static matchGroup(e,t){return!!ao.match(e,t.name)||t.monsters.some((t=>ao.matchMonster(e,t)))}static matchMonster(e,t){return!!ao.match(e,t.name)||(!!ao.match(e,t.category)||(!!ao.match(e,t.tag)||(!!ao.match(e,t.senses)||(!!ao.match(e,t.languages)||t.traits.some((t=>ao.matchTrait(e,t)))))))}static matchTrait(e,t){return!!ao.match(e,t.name)||(!!ao.match(e,t.usage)||!!ao.match(e,t.text))}static matchEncounter(e,t,n){return!!ao.match(e,t.name)||(!!t.waves.some((t=>ao.matchEncounterWave(e,t,(e=>n(e)))))||t.slots.some((t=>ao.matchEncounterSlot(e,t,(e=>n(e))))))}static matchEncounterWave(e,t,n){return!!ao.match(e,t.name)||t.slots.some((t=>ao.matchEncounterSlot(e,t,(e=>n(e)))))}static matchEncounterSlot(e,t,n){const r=n(t.monsterID);return!(!r||!ao.match(e,r.name))}static matchMap(e,t){return!!ao.match(e,t.name)||t.areas.some((t=>ao.matchMapArea(e,t)))}static matchMapArea(e,t){return!!ao.match(e,t.name)||!!ao.match(e,t.text)}static matchAdventure(e,t){return!!ao.match(e,t.name)||!!ao.matchPlot(e,t.plot)}static matchPlot(e,t){return!!t.scenes.some((t=>ao.matchScene(e,t)))}static matchScene(e,t){return!!ao.match(e,t.name)||(!!ao.match(e,t.content)||(!!t.links.some((t=>ao.match(e,t.text)))||!!ao.matchPlot(e,t.plot)))}static matchAward(e,t){return!!ao.match(e,t.name)||!!ao.match(e,t.description)}static match(e,t){if(!e)return!0;let n=!0;return e.toLowerCase().split(" ").forEach((e=>{-1===t.toLowerCase().indexOf(e)&&(n=!1)})),n}}class io{static getMonsterCount(e,t){let n=0,r=[];return null!==t&&t!==e.id||(r=r.concat(e.slots)),e.waves.forEach((e=>{null!==t&&t!==e.id||(r=r.concat(e.slots))})),r.filter((e=>"foe"===e.faction)).forEach((e=>{n+=e.count})),n}static getEncounterXP(e,t,n){let r=0,s=[];return null!==t&&t!==e.id||(s=s.concat(e.slots)),e.waves.forEach((e=>{null!==t&&t!==e.id||(s=s.concat(e.slots))})),s.filter((e=>"foe"===e.faction)).forEach((e=>{const t=this.slotToMonster(e,(e=>n(e)));t&&(r+=oo.experience(t.challenge)*e.count)})),r}static getAdjustedEncounterXP(e,t,n){const r=this.getMonsterCount(e,t),s=this.getEncounterXP(e,t,(e=>n(e)));return s*oo.experienceFactor(r)}static getXPForDifficulty(e,t){let n=0;return e.pcs.filter((e=>e.active)).forEach((e=>{n+=oo.pcExperience(e.level,t)})),n}static getCombatXP(e){let t=0;return e.combatants.filter((e=>"monster"===e.type)).filter((e=>"foe"===e.faction)).forEach((e=>{const n=e;t+=oo.experience(n.challenge)})),t}static getEncounterThresholds(e){let t=0,n=0,r=0,s=0;return e.pcs.filter((e=>e.active)).forEach((e=>{t+=oo.pcExperience(e.level,"easy"),n+=oo.pcExperience(e.level,"medium"),r+=oo.pcExperience(e.level,"hard"),s+=oo.pcExperience(e.level,"deadly")})),{easy:t,medium:n,hard:r,deadly:s}}static getEncounterDifficulty(e,t,n,r){const s=this.getEncounterThresholds(n),a=this.getAdjustedEncounterXP(e,t,(e=>r(e)));let i=0,o=0;if(a>0){a>=s.easy&&(i=1),a>=s.medium&&(i=2),a>=s.hard&&(i=3),a>=s.deadly&&(i=4),s.deadly>0&&a>=10*s.deadly&&(i=5),s.deadly>0&&a>=20*s.deadly&&(i=6),s.deadly>0&&a>=30*s.deadly&&(i=7),s.deadly>0&&a>=40*s.deadly&&(i=8),o=i;const e=n.pcs.filter((e=>e.active));e.length<3&&(o=i+1),e.length>5&&(o=Math.max(0,i-1))}return{basic:i,adjusted:o}}static getDifficultyDescription(e){switch(e){case 0:return"trivial";case 1:return"easy";case 2:return"medium";case 3:return"hard";case 4:return"deadly";case 5:return"tpk";case 6:return"dm with a grudge";case 7:return"now you're just being silly"}return"please stop"}static getFilterDescription(e){let t="";"all sizes"!==e.size&&(t+=t?" "+e.size:e.size),"all types"!==e.category&&(t+=t?" "+e.category:e.category),"all roles"!==e.role&&(t+=t?" "+e.role:e.role);const n=oo.challenge(e.challengeMin),r=oo.challenge(e.challengeMax);return t+=" monsters of cr "+(e.challengeMin===e.challengeMax?n:n+" to "+r),t}static buildEncounter(e,t,n,r,s,a){const i=[];if(s.forEach((e=>{e.monsters.filter((e=>this.matchMonster(e,r))).forEach((e=>i.push({id:e.id,role:e.role})))})),""!==n){if("random"===n){const e=ro.randomNumber(this.encounterTemplates().length);n=this.encounterTemplates()[e].name}const r=this.encounterTemplates().find((e=>e.name===n));if(r)for(e.slots=r.slots.map((e=>{const t=so.createEncounterSlot();return t.roles=e.roles,t.count=e.count,t})),e.slots.forEach((e=>{const t=i.filter((t=>e.roles.includes(t.role))),n=ro.randomNumber(t.length);e.monsterID=t[n].id}));this.getAdjustedEncounterXP(e,null,(e=>a(e)))<t;){const t=ro.randomNumber(e.slots.length);e.slots[t].count+=1}}else for(;this.getAdjustedEncounterXP(e,null,(e=>a(e)))<t;)if(e.slots.length>0&&oo.dieRoll(3)>1){const t=ro.randomNumber(e.slots.length);e.slots[t].count+=1}else{const t=i.filter((t=>!e.slots.find((e=>e.monsterID===t.id))));if(t.length>0){const n=ro.randomNumber(t.length),r=so.createEncounterSlot();r.monsterID=t[n].id,e.slots.push(r)}else if(0===e.slots.length)break}for(;e.slots.length>1&&10===oo.dieRoll(10);){const t=ro.randomNumber(e.slots.length),n=e.slots[t];e.slots=e.slots.filter((e=>e.id!==n.id));const r=so.createEncounterWave();r.name="wave "+(e.waves.length+2),r.slots.push(n),e.waves.push(r)}}static matchMonster(e,t){return!(e.challenge<t.challengeMin)&&(!(e.challenge>t.challengeMax)&&(!(""!==t.name&&!ao.match(t.name,e.name))&&(("all types"===t.category||e.category===t.category)&&(("all sizes"===t.size||e.size===t.size)&&("all roles"===t.role||e.role===t.role)))))}static sortEncounter(e,t){this.sortEncounterSlots(e,(e=>t(e))),e.waves.forEach((e=>this.sortEncounterSlots(e,(e=>t(e)))))}static sortEncounterSlots(e,t){const n=[];e.slots.forEach((e=>{let t=n.find((t=>t.monsterID===e.monsterID&&t.monsterThemeID===e.monsterThemeID&&t.faction===e.faction&&t.roles.join(",")===e.roles.join(",")));t?t.count+=e.count:(t=e,n.push(e))})),e.slots=n,e.slots.sort(((e,n)=>{let r=e.monsterID;const s=this.slotToMonster(e,(e=>t(e)));s&&s.name&&(r=s.name);let a=n.monsterID;const i=this.slotToMonster(n,(e=>t(e)));return i&&i.name&&(a=i.name),r<a?-1:r>a?1:0}))}static sortCombatants(e){e.combatants.sort(((e,t)=>e.initiative&&t.initiative&&e.initiative<t.initiative?1:e.initiative&&t.initiative&&e.initiative>t.initiative||e.displayName<t.displayName?-1:e.displayName>t.displayName?1:0))}static combatHasLairActions(e){let t=!1;return e.combatants.filter((e=>!e.pending&&e.active&&!e.defeated)).forEach((e=>{const n=e;n&&n.traits&&n.traits.some((e=>"lair"===e.type))&&(t=!0)})),t}static encounterHasMonster(e,t){let n=e.slots.map((e=>e.monsterID));return n=n.concat(e.slots.map((e=>e.monsterThemeID))),e.waves.forEach((e=>{n=n.concat(e.slots.map((e=>e.monsterID))),n=n.concat(e.slots.map((e=>e.monsterThemeID)))})),!!n.find((e=>e===t))}static slotToMonster(e,t){let n=t(e.monsterID);if(n){if(e.monsterThemeID){const r=t(e.monsterThemeID);r&&(n=mo.applyTheme(n,r))}0!==e.deltaCR&&(n=mo.adjustCR(n,e.deltaCR))}return n}static convertPCToCombatant(e){const t=JSON.parse(JSON.stringify(e));return t.current=!1,t.pending=!0,t.active=!1,t.defeated=!1,t.faction="ally",t.displayName=e.name,t.displaySize=e.size,t.showOnMap=!0,t.initiative=10,t.hpMax=null,t.hpCurrent=null,t.hpTemp=null,t.conditions=[],t.tags=[],t.note="",t.aura={radius:0,style:"rounded",color:"#005080"},t.mountID=null,t.mountType="controlled",t.darkvision=e.darkvision,t.lightSource=null,t.path=null,t}static convertMonsterToCombatant(e,t,n,r,s){const a=JSON.parse(JSON.stringify(e));return a.id=ro.guid(),a.current=!1,a.pending=!1,a.active=!0,a.defeated=!1,a.faction=s,a.displayName=r,a.displaySize=e.size,a.showOnMap=!0,a.initiative=t,a.hpMax=n,a.hpCurrent=n,a.hpTemp=0,a.conditions=[],a.tags=[],a.note="",a.aura={radius:0,style:"rounded",color:"#005080"},a.mountID=null,a.mountType="controlled",a.darkvision=mo.getVisionRadius(e),a.lightSource=null,a.path=null,a}static convertCompanionToCombatant(e){const t=e?JSON.parse(JSON.stringify(e)):{};return t.id=e?e.id:ro.guid(),t.type="companion",t.current=!1,t.pending=!0,t.active=!1,t.defeated=!1,t.faction="ally",t.displayName=e?e.name:"companion",t.displaySize="medium",t.showOnMap=!0,t.initiative=10,t.hpMax=null,t.hpCurrent=null,t.hpTemp=null,t.conditions=[],t.tags=[],t.note="",t.aura={radius:0,style:"rounded",color:"#005080"},t.mountID=null,t.mountType="controlled",t.darkvision=0,t.lightSource=null,t.path=null,t}static convertPlaceholderToCombatant(){return{id:ro.guid(),type:"placeholder",current:!1,pending:!1,active:!0,defeated:!1,faction:"neutral",displayName:"lair actions",displaySize:"medium",showOnMap:!0,initiative:20,hpMax:null,hpCurrent:null,hpTemp:null,conditions:[],tags:[],note:"",aura:{radius:0,style:"rounded",color:"#005080"},mountID:null,mountType:"controlled",darkvision:0,lightSource:null,path:null}}static updateCombatant(e,t){e.player=t.player,e.name=t.name,e.displayName=t.name,e.size=t.size,e.race=t.race,e.classes=t.classes,e.level=t.level,e.languages=t.languages,e.passiveInsight=t.passiveInsight,e.passiveInvestigation=t.passiveInvestigation,e.passivePerception=t.passivePerception,e.darkvision=t.darkvision,e.portrait=t.portrait,e.url=t.url}static encounterTemplates(){const e=[{name:"battlefield control",slots:[{roles:["controller"],count:1},{roles:["skirmisher","sneak"],count:5}]},{name:"commander and troops",slots:[{roles:["controller","soldier"],count:1},{roles:["soldier","tank"],count:5}]},{name:"dragon's den",slots:[{roles:["boss"],count:1}]},{name:"double line",slots:[{roles:["soldier","tank"],count:3},{roles:["artillery","controller"],count:2}]},{name:"wolf pack",slots:[{roles:["skirmisher"],count:6}]}];return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&e.unshift({name:"random",slots:[]}),e}static getActiveCombatants(e,t,n){const r=e.combatants.filter((e=>!!e.mountID&&"controlled"===e.mountType)).map((e=>e.mountID||""));return e.combatants.filter((e=>!r.includes(e.id))).filter((e=>e.active||e.defeated&&n)).filter((e=>!t||"pc"===e.type||e.showOnMap)).filter((n=>!t||"monster"!==n.type||!e.map||!!e.map.items.find((e=>e.id===n.id)))).filter((t=>"placeholder"!==t.type||this.combatHasLairActions(e)))}static getMountsAndRiders(e,t){const n=e.map((e=>t.find((t=>t.id===e)))).filter((e=>void 0!==e)),r=n.map((e=>t.find((t=>t.id===e.mountID)))).filter((e=>void 0!==e)),s=n.map((e=>t.find((t=>t.mountID===e.id)))).filter((e=>void 0!==e));return n.concat(r).concat(s)}static setMountPositions(e,t){e.forEach((e=>{if(e.mountID){const n=t.items.find((t=>t.id===e.id)),r=t.items.find((t=>t.id===e.mountID));n&&r&&(r.x=n.x,r.y=n.y)}}))}static getVictoryCondition(e,t){const n=[];n.push("the party must defeat their opponents within "+(1+oo.dieRoll(4,1))+" rounds"),n.push("at least one character must get to a certain area and stay there for "+(1+oo.dieRoll(4,1))+" consecutive rounds"),n.push("the party must leave the area within "+(1+oo.dieRoll(4,1))+" rounds"),n.push("the party must keep the enemy away from a certain area for the duration of the encounter"),n.push("the party must escort an NPC safely through the encounter area"),n.push("the party must rescue an NPC from their opponents"),n.push("the party must destroy a feature of the area");const r=[];if(e.slots.filter((e=>1===e.count)).forEach((e=>{const n=t(e.monsterID);n&&("boss"!==n.role&&"controller"!==n.role||r.push(n.name))})),e.waves.forEach((e=>{e.slots.filter((e=>1===e.count)).forEach((e=>{const n=t(e.monsterID);n&&("boss"!==n.role&&"controller"!==n.role||r.push(n.name))}))})),0!==r.length){const e=ro.randomNumber(r.length),t=r[e];n.push("the party must defeat "+t),n.push("the party must capture "+t),n.push("the party must defeat "+t+" within "+oo.dieRoll(4,2)+" rounds"),n.push("after "+oo.dieRoll(4,2)+" rounds, "+t+" will flee or surrender"),n.push("at "+10*oo.dieRoll(4,1)+"% HP, "+t+" will flee or surrender"),n.push("the party must obtain an item from "+t),n.push("the party must defeat "+t+" by destroying an object in the area"),n.push("the party must defeat "+t+"; the others will then flee or surrender")}const s=this.getMonsterCount(e,null);s>2&&n.push("the party must defeat "+(2+ro.randomNumber(s-2))+" opponents; the others will then flee or surrender");return n[ro.randomNumber(n.length)]}static getCombatantName(e,t){let n=e.displayName||"combatant";if(e.mountID){const r=t.find((t=>t.id===e.mountID));r&&(n+=" (on "+(r.displayName||"unnamed mount")+")")}return n}static getCombatantState(e){const t=e.hpCurrent||0,n=e.hpMax||0;return t>=n?"unhurt":t<=n/2?"bloodied":"injured"}}class oo{static modifierValue(e){return Math.floor((e-10)/2)}static modifier(e){const t=this.modifierValue(e);let n=t.toString();return t>=0&&(n="+"+n),n}static dieRoll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=0;for(let r=0;r!==t;++r)n+=ro.randomNumber(e)+1;return n}static rollDice(e,t,n,r){const s={id:ro.guid(),text:e,rolls:[],constant:n,mode:r};return[4,6,8,10,12,20,100].forEach((e=>{const n=t[e];for(let t=0;t!==n;++t){let t=oo.dieRoll(e);switch(s.mode){case"advantage":t=Math.max(t,oo.dieRoll(e));break;case"disadvantage":t=Math.min(t,oo.dieRoll(e))}s.rolls.push({id:ro.guid(),sides:e,value:t})}})),s}static miniSize(e){switch(e){case"tiny":return.4;case"small":return.6;case"medium":default:return 1;case"large":return 2;case"huge":return 3;case"gargantuan":return 4}}static hitDieType(e){switch(e){case"tiny":return 4;case"small":return 6;case"medium":default:return 8;case"large":return 10;case"huge":return 12;case"gargantuan":return 20}}static proficiency(e){return e<5?2:e<9?3:e<13?4:e<17?5:e<21?6:e<25?7:e<29?8:9}static challenge(e){switch(e){case.125:return"1/8";case.25:return"1/4";case.5:return"1/2";default:return e.toString()}}static parseChallenge(e){switch(e){case"1/8":return.125;case"1/4":return.25;case"1/2":return.5;default:return parseInt(e,10)}}static challengeDetails(){return[{cr:0,ac:13,hpMin:1,hpMax:6,attack:3,dmgMin:0,dmgMax:1,save:13},{cr:.125,ac:13,hpMin:7,hpMax:35,attack:3,dmgMin:2,dmgMax:3,save:13},{cr:.25,ac:13,hpMin:36,hpMax:49,attack:3,dmgMin:4,dmgMax:5,save:13},{cr:.5,ac:13,hpMin:50,hpMax:70,attack:3,dmgMin:6,dmgMax:8,save:13},{cr:1,ac:13,hpMin:71,hpMax:85,attack:3,dmgMin:9,dmgMax:14,save:13},{cr:2,ac:13,hpMin:86,hpMax:100,attack:3,dmgMin:15,dmgMax:20,save:13},{cr:3,ac:13,hpMin:101,hpMax:115,attack:4,dmgMin:21,dmgMax:26,save:13},{cr:4,ac:14,hpMin:116,hpMax:130,attack:5,dmgMin:27,dmgMax:32,save:14},{cr:5,ac:15,hpMin:131,hpMax:145,attack:6,dmgMin:33,dmgMax:38,save:15},{cr:6,ac:15,hpMin:146,hpMax:160,attack:6,dmgMin:39,dmgMax:44,save:15},{cr:7,ac:15,hpMin:161,hpMax:175,attack:6,dmgMin:45,dmgMax:50,save:15},{cr:8,ac:16,hpMin:176,hpMax:190,attack:7,dmgMin:51,dmgMax:56,save:16},{cr:9,ac:16,hpMin:191,hpMax:205,attack:7,dmgMin:57,dmgMax:62,save:16},{cr:10,ac:17,hpMin:206,hpMax:220,attack:7,dmgMin:63,dmgMax:68,save:16},{cr:11,ac:17,hpMin:221,hpMax:235,attack:8,dmgMin:69,dmgMax:74,save:17},{cr:12,ac:17,hpMin:236,hpMax:250,attack:8,dmgMin:75,dmgMax:80,save:17},{cr:13,ac:18,hpMin:251,hpMax:265,attack:8,dmgMin:81,dmgMax:86,save:18},{cr:14,ac:18,hpMin:266,hpMax:280,attack:8,dmgMin:87,dmgMax:92,save:18},{cr:15,ac:18,hpMin:281,hpMax:295,attack:8,dmgMin:93,dmgMax:98,save:18},{cr:16,ac:18,hpMin:296,hpMax:310,attack:9,dmgMin:99,dmgMax:104,save:18},{cr:17,ac:19,hpMin:311,hpMax:325,attack:10,dmgMin:105,dmgMax:110,save:19},{cr:18,ac:19,hpMin:326,hpMax:340,attack:10,dmgMin:111,dmgMax:116,save:19},{cr:19,ac:19,hpMin:341,hpMax:355,attack:10,dmgMin:117,dmgMax:122,save:19},{cr:20,ac:19,hpMin:356,hpMax:400,attack:10,dmgMin:123,dmgMax:140,save:19},{cr:21,ac:19,hpMin:401,hpMax:445,attack:11,dmgMin:141,dmgMax:158,save:20},{cr:22,ac:19,hpMin:446,hpMax:490,attack:11,dmgMin:159,dmgMax:176,save:20},{cr:23,ac:19,hpMin:491,hpMax:535,attack:11,dmgMin:177,dmgMax:194,save:20},{cr:24,ac:19,hpMin:536,hpMax:580,attack:12,dmgMin:195,dmgMax:212,save:21},{cr:25,ac:19,hpMin:581,hpMax:625,attack:12,dmgMin:213,dmgMax:230,save:21},{cr:26,ac:19,hpMin:626,hpMax:670,attack:12,dmgMin:231,dmgMax:248,save:21},{cr:27,ac:19,hpMin:671,hpMax:715,attack:13,dmgMin:249,dmgMax:266,save:22},{cr:28,ac:19,hpMin:716,hpMax:760,attack:13,dmgMin:267,dmgMax:284,save:22},{cr:29,ac:19,hpMin:761,hpMax:805,attack:13,dmgMin:285,dmgMax:302,save:22},{cr:30,ac:19,hpMin:806,hpMax:850,attack:14,dmgMin:303,dmgMax:320,save:23}]}static experience(e){switch(e){case 0:return 10;case.125:return 25;case.25:return 50;case.5:return 100;case 1:return 200;case 2:return 450;case 3:return 700;case 4:return 1100;case 5:return 1800;case 6:return 2300;case 7:return 2900;case 8:return 3900;case 9:return 5e3;case 10:return 5900;case 11:return 7200;case 12:return 8400;case 13:return 1e4;case 14:return 11500;case 15:return 13e3;case 16:return 15e3;case 17:return 18e3;case 18:return 2e4;case 19:return 22e3;case 20:return 25e3;case 21:return 33e3;case 22:return 41e3;case 23:return 5e4;case 24:return 62e3;case 30:return 155e3;default:return 0}}static experienceFactor(e){switch(e){case 0:return 0;case 1:return 1;case 2:return 1.5;case 3:case 4:case 5:case 6:return 2;case 7:case 8:case 9:case 10:return 2.5;case 11:case 12:case 13:case 14:return 3;default:return 4}}static pcExperience(e,t){switch(t){case"easy":switch(e){case 1:return 25;case 2:return 50;case 3:return 75;case 4:return 125;case 5:return 250;case 6:return 300;case 7:return 350;case 8:return 450;case 9:return 550;case 10:return 600;case 11:return 800;case 12:return 1e3;case 13:return 1100;case 14:return 1250;case 15:return 1400;case 16:return 1600;case 17:return 2e3;case 18:return 2100;case 19:return 2400;case 20:return 2800;default:return 0}case"medium":switch(e){case 1:return 50;case 2:return 100;case 3:return 150;case 4:return 250;case 5:return 500;case 6:return 600;case 7:return 750;case 8:return 900;case 9:return 1100;case 10:return 1200;case 11:return 1600;case 12:return 2e3;case 13:return 2200;case 14:return 2500;case 15:return 2800;case 16:return 3200;case 17:return 3900;case 18:return 4200;case 19:return 4900;case 20:return 5700;default:return 0}case"hard":switch(e){case 1:return 75;case 2:return 150;case 3:return 225;case 4:return 375;case 5:return 750;case 6:return 900;case 7:return 1100;case 8:return 1400;case 9:return 1600;case 10:return 1900;case 11:return 2400;case 12:return 3e3;case 13:return 3400;case 14:return 3800;case 15:return 4300;case 16:return 4800;case 17:return 5900;case 18:return 6300;case 19:return 7300;case 20:return 8500;default:return 0}case"deadly":switch(e){case 1:return 100;case 2:return 200;case 3:return 400;case 4:return 500;case 5:return 1100;case 6:return 1400;case 7:return 1700;case 8:return 2100;case 9:return 2400;case 10:return 2800;case 11:return 3600;case 12:return 4500;case 13:return 5100;case 14:return 5700;case 15:return 6400;case 16:return 7200;case 17:return 8800;case 18:return 9500;case 19:return 10900;case 20:return 12700;default:return 0}default:return 0}}static traitType(e,t){let n="";switch(e){case"trait":n="trait";break;case"action":n="action";break;case"reaction":n="reaction";break;default:n=e+" action"}return t&&(n+="s"),n}static nudgeChallenge(e,t){let n=0;switch(e){case 0:-1===t&&(n=0),1===t&&(n=.125);break;case.125:-1===t&&(n=0),1===t&&(n=.25);break;case.25:-1===t&&(n=.125),1===t&&(n=.5);break;case.5:-1===t&&(n=.25),1===t&&(n=1);break;case 1:-1===t&&(n=.5),1===t&&(n=2);break;default:n=e+t}return n}static nudgeSize(e,t){const n=["tiny","small","medium","large","huge","gargantuan"];let r=n.indexOf(e)+t;return r<0&&(r=0),r>=n.length&&(r=n.length-1),n[r]}static nudgeDifficulty(e,t){const n=["easy","medium","hard","deadly"];let r=n.indexOf(e)+t;return r<0&&(r=0),r>=n.length&&(r=n.length-1),n[r]}static nudgeLighting(e,t){const n=["darkness","dim light","bright light"];let r=n.indexOf(e)+t;return r<0&&(r=0),r>=n.length&&(r=n.length-1),n[r]}static conditionText(e){switch(e.name){case"blinded":return["a blinded creature can't see and automatically fails any ability check that requires sight","attack rolls against the creature have advantage, and the creature's attack rolls have disadvantage"];case"charmed":return["a charmed creature can't attack the charmer or target the charmer with harmful abilities or magical effects","the charmer has advantage on any ability check to interact socially with the creature"];case"deafened":return["a deafened creature can't hear and automatically fails any ability check that requires hearing."];case"exhaustion":switch(e.level){case 1:return["disadvantage on ability checks"];case 2:return["disadvantage on ability checks","speed halved"];case 3:return["disadvantage on ability checks","speed halved","disadvantage on attack rolls and saving throws"];case 4:return["disadvantage on ability checks","speed halved","disadvantage on attack rolls and saving throws","hit point maximum halved"];case 5:return["disadvantage on ability checks","speed halved","disadvantage on attack rolls and saving throws","hit point maximum halved","speed reduced to 0"];case 6:return["disadvantage on ability checks","speed halved","disadvantage on attack rolls and saving throws","hit point maximum halved","speed reduced to 0","death"];default:return[]}case"frightened":return["a frightened creature has disadvantage on ability checks and attack rolls while the source of its fear is within line of sight","the creature can't willingly move closer to the source of its fear"];case"grappled":return["a grappled creature's speed becomes 0, and it can't benefit from any bonus to its speed","the condition ends if the grappler is incapacitated","the condition also ends if an effect removes the grappled creature from the reach of the grappler or grappling effect"];case"incapacitated":return["an incapacitated creature can't take actions or reactions","being incapacitated breaks concentration"];case"invisible":return["an invisible creature is impossible to see without the aid of magic or a special sense","for the purpose of hiding, the creature is heavily obscured","the creature's location can be detected by any noise it makes or any tracks it leaves","attack rolls against the creature have disadvantage, and the creature's attack rolls have advantage"];case"paralyzed":return["a paralyzed creature is incapacitated (can't take actions or reactions) and can't move or speak","the creature automatically fails strength and dexterity saving throws","attack rolls against the creature have advantage","any attack that hits the creature is a critical hit if the attacker is within 5 feet of the creature"];case"petrified":return["a petrified creature is transformed, along with any nonmagical objects it is wearing or carrying, into a solid inanimate substance (usually stone)","its weight increases by a factor of ten, and it ceases aging","the creature is incapacitated (can't take actions or reactions), can't move or speak, and is unaware of its surroundings","attack rolls against the creature have advantage","the creature automatically fails strength and dexterity saving throws","the creature has resistance to all damage","the creature is immune to poison and disease, although a poison or disease already in its system is suspended, not neutralized"];case"poisoned":return["a poisoned creature has disadvantage on attack rolls and ability checks"];case"prone":return["a prone creature's only movement option is to crawl, unless it stands up (using half its speed) and thereby ends the condition","the creature has disadvantage on attack rolls","an attack roll against the creature has advantage if the attacker is within 5 feet of the creature; otherwise, the attack roll has disadvantage"];case"restrained":return["a restrained creature's speed becomes 0, and it can't benefit from any bonus to its speed","attack rolls against the creature have advantage, and the creature's attack rolls have disadvantage","the creature has disadvantage on dexterity saving throws"];case"stunned":return["a stunned creature is incapacitated (can't take actions or reactions), can't move, and can speak only falteringly","the creature automatically fails strength and dexterity saving throws","attack rolls against the creature have advantage"];case"unconscious":return["an unconscious creature is incapacitated (can't take actions or reactions), can't move or speak, and is unaware of its surroundings","the creature drops whatever its holding and falls prone","the creature automatically fails strength and dexterity saving throws","attack rolls against the creature have advantage","any attack that hits the creature is a critical hit if the attacker is within 5 feet of the creature"];case"custom":return[e.text];default:return[]}}static conditionDurationText(e,t){if(null!==e.duration)switch(e.duration.type){case"saves":{const t=e.duration;let n=t.saveType.toString();"death"!==n&&(n=n.toUpperCase());const r=t.count>1?"saves":"save";return"until they make "+t.count+" "+n+" "+r+" at dc "+t.saveDC}case"combatant":{const n=e.duration,r=n.point,s=t.find((e=>e.id===n.combatantID));return"until the "+r+" of "+(s?(s.displayName||s.name||"unnamed monster")+"'s":"their")+" next turn"}case"rounds":{const t=e.duration,n=t.count>1?"rounds":"round";return"for "+t.count+" "+n}default:return null}return null}static getCombatSlotData(e,t){const n=[];return e&&e.slots.forEach((e=>{const r=io.slotToMonster(e,(e=>t(e)));if(r){const t=so.createCombatSlotInfo();t.id=e.id,t.monsterID=e.monsterID,t.init=this.dieRoll()+this.modifierValue(r.abilityScores.dex),t.hp=mo.getTypicalHP(r);for(let n=0;n!==e.count;++n){const e=so.createCombatSlotMember();e.init=t.init,e.hp=t.hp,e.name=r.name,e.location=null,t.members.push(e)}if(e.count>1)for(let n=0;n!==e.count;++n)t.members[n].name=r.name+" "+(n+1);n.push(t)}})),n}static getTagTitle(e){if(e.startsWith("engaged"))return"engaged";switch(e){case"conc":return"concentrating";case"bane":return"affected by bane";case"bless":return"affected by bless";default:return e}}static getTagDescription(e){if(e.startsWith("engaged")){return e.split(":")[1]}switch(e){case"conc":return"if damaged, must make con save (dc is half damage taken or 10, whichever is higher) or lose concentration";case"bane":return"subtract d4 from attack rolls and saving throws";case"bless":return"add d4 to attack rolls and saving throws";default:return e}}static getWildSurge(){const e=["Roll on this table at the start of each of your turns for the next minute, ignoring this result on subsequent rolls.","For the next minute, you can see any invisible creature if you have line of sight to it.","A modron chosen and controlled by the DM appears in an unoccupied space within 5 feet of you, then disappears 1 minute later.","You cast fireball as a 3rd-level spell centered on yourself.","You cast magic missile as a 5th-level spell.","Roll a d10. Your height changes by a number of inches equal to the roll. If the roll is odd, you shrink. If the roll is even, you grow.","You cast confusion centered on yourself.","For the next minute, you regain 5 hit points at the start of each of your turns.","You grow a long beard made of feathers that remains until you sneeze, at which point the feathers explode out from your face.","You cast grease centered on yourself.","Creatures have disadvantage on saving throws against the next spell you cast in the next minute that involves a saving throw.","Your skin turns a vibrant shade of blue. A remove curse spell can end this effect.","An eye appears on your forehead for the next minute. During that time, you have advantage on Wisdom (Perception) checks that rely on sight.","For the next minute, all your spells with a casting time of 1 action have a casting time of 1 bonus action.","You teleport up to 60 feet to an unoccupied space of your choice that you can see.","You are transported to the Astral Plane until the end of your next turn, after which time you return to the space you previously occupied or the nearest unoccupied space if that space is occupied.","Maximize the damage of the next damaging spell you cast within the next minute.","Roll a d10. Your age changes by a number of years equal to the roll. If the roll is odd, you get younger (minimum 1 year old). If the roll is even, you get older.","1d6 flumphs controlled by the DM appear in unoccupied spaces within 60 feet of you and are frightened of you. They vanish after 1 minute.","You regain 2d10 hit points.","You turn into a potted plant until the start of your next turn. While a plant, you are incapacitated and have vulnerability to all damage. If you drop to 0 hit points, your pot breaks, and your form reverts.","For the next minute, you can teleport up to 20 feet as a bonus action on each of your turns.","You cast levitate on yourself.","A unicorn controlled by the DM appears in a space within 5 feet of you, then disappears 1 minute later.","You can't speak for the next minute. Whenever you try, pink bubbles float out of your mouth.","A spectral shield hovers near you for the next minute, granting you a +2 bonus to AC and immunity to magic missile.","You are immune to being intoxicated by alcohol for the next 5d6 days.","Your hair falls out but grows back within 24 hours.","For the next minute, any flammable object you touch that isn't being worn or carried by another creature bursts into flame.","You regain your lowest-level expended spell slot.","For the next minute, you must shout when you speak.","You cast fog cloud centered on yourself.","Up to three creatures you choose within 30 feet of you take 4d10 lightning damage.","You are frightened by the nearest creature until the end of your next turn.","Each creature within 30 feet of you becomes invisible for the next minute. The invisibility ends on a creature when it attacks or casts a spell.","You gain resistance to all damage for the next minute.","A random creature within 60 feet of you becomes poisoned for 1d4 hours.","You glow with bright light in a 30-foot radius for the next minute. Any creature that ends its turn within 5 feet of you is blinded until the end of its next turn.","You cast polymorph on yourself. If you fail the saving throw, you turn into a sheep for the spell's duration.","Illusory butterflies and flower petals flutter in the air within 10 feet of you for the next minute.","You can take one additional action immediately.","Each creature within 30 feet of you takes 1d10 necrotic damage. You regain hit points equal to the sum of the necrotic damage dealt.","You cast mirror image.","You cast fly on a random creature within 60 feet of you.","You become invisible for the next minute. During that time, other creatures can't hear you. The invisibility ends if you attack or cast a spell.","If you die within the next minute, you immediately come back to life as if by the reincarnate spell.","Your size increases by one size category for the next minute.","You and all creatures within 30 feet of you gain vulnerability to piercing damage for the next minute.","You are surrounded by faint, ethereal music for the next minute.","You regain all expended sorcery points.","You cast speak with animals","A mephit chosen and controlled by the DM appears in an unoccupied space within 5 feet of you, then disappears 1 minute later.","You cast ice storm as a 4th-level spell centered on yourself.","You cast scorching ray as a 5th-level spell.","For the next hour, your eyes and veins shed bright light in a 20 foot radius, and dim light for an additional 20 feet.","You cast plant growth centered on yourself.","You cast aura of life.","A daisy sprouts from your head. It may be pruned without harm.","You cast faerie fire centered on yourself.","You have a brief vision of the future. Roll a d20 and record the number rolled. Once in the next hour, you can replace any attack roll, saving throw, or ability check made by you or a creature that you can see with the foretelling roll. You must choose to do so before the roll, and you can replace a roll in this way only once per turn.","You become unable to turn left. A remove curse spell can end this effect.","A glimpse of the future gives you advantage on the next saving throw you make.","You cast haste on yourself.","You cast thunder step as a 3rd-level spell.","You switch positions with the target immediately after the effects of the spell occur. If the spell had multiple targets, you switch places with the closest one to you.","For the next minute, roll an extra die of damage for each spell you cast.","You take no action on your next turn. Instead, you vomit 1d100 gold pieces.","A pseudodragon controlled by the DM appears in an unoccupied space within 60 feet of you. It vanishes after 1 minute.","You cast healing word as a 2nd-level spell.","You turn into a harmless creature for 1d4 rounds. While in this form, you have a movement speed of 15 feet and vulnerability to all damage. If you drop to 0 hit points your form reverts.","Spider legs sprout from your back, giving you a climbing speed of 20 feet. The legs remain in place for one hour.","You cast freedom of movement on yourself.","A couatl controlled by the DM appears in a space within 5 feet of you, then disappears 1 minute later.","You're deafened for the next minute. For this duration, green smoke pours out from your ears.","A wall of fire encircles you as a 4th-level spell. You are on the side that takes no damage.","You cast create food and water.","You shoot eight non-venomous snakes from your fingertips.","For the next minute, any organic object you touch decays. Food spoils, plants wilt, etc. Your unarmed strikes deal an additional 1d4 necrotic damage.","All silver you are carrying becomes gold.","An illusory image of you is left in your space. It can be dispelled with dispel magic.","You cast darkness centered on yourself.","You breathe a cone of dragon's breath as a 2nd-level spell the next time you try to speak.","You are entombed in crystal, which shatters at the end of your next turn. You gain 50 temporary hit points and are considered petrified. All these effects, incuding any remaining temporary hit points, end when the crystal shatters.","For the next minute, creatures within 30 feet of you can't see further than 30 feet away.","You cast warding wind.","A random creature within 60 feet of you falls asleep for 1d4 turns or until it takes damage. While asleep they are unconscious. A creature is not affected if they cannot be put to sleep by magic.","You cast color spray as a 1st-level spell.","You cast flesh to stone on yourself.","Illusory rain and autumn leaves fall to the ground within 10 feet of you for the next minute.","If the spell requires concentration, it automatically lasts for its maximum duration; if not, its duration is doubled. If it is instantaneous, it is immediately recast on the same target.","You cast thunderwave as a 1st-level spell.","You cast blur.","You cast reverse gravity centered on yourself.","You cast blink.","You regain all expended hit dice.","Your size decreases by one size category for the next minute.","All weapons within 30 feet of you turn into food for the next minute.","A gentle gust of wind blows outward from you.","For one minute, an illusory duplicate of yourself appears in an empty space adjacent to you. The duplicate is under your control and shares your initiative, hit points, sorcery points, and spell slots. Any resources spent by the duplicate are also expended by you."];return e[ro.randomNumber(e.length)].toLowerCase()}}class lo{static initModel(e){const t=[];let n=0;e.forEach((e=>{e.split(/\r?\n/).forEach((e=>{e&&(lo.addLineToModel(e,t),n=Math.max(n,e.length))}))})),lo.model=t,lo.maxLength=n}static addLineToModel(e,t){e=String.fromCharCode(0,1)+e+String.fromCharCode(2);for(let n=2;n!==e.length;++n){const r=e.substr(n-2,2),s=e.substr(n,1);let a=t.find((e=>e.prev===r));a||(a={prev:r,freq:[]},t.push(a));let i=a.freq.find((e=>e.char===s));i||(i={char:s,count:0},a.freq.push(i)),i.count+=1}}static generateLine(){const e=this.generateLines(1);return e.length>0?e[0]:""}static generateLines(e){const t=[];let n=0;for(;t.length<e&&n<100;){const e=lo.extractLine();e&&!t.includes(e)&&e.length<=lo.maxLength?t.push(e):n+=1}return t}static extractLine(){let e=String.fromCharCode(0,1);for(;;){const t=e.substr(e.length-2,2),n=lo.model.find((e=>e.prev===t));if(!n)return null;{let t="";n.freq.forEach((e=>{t+=e.char.repeat(e.count)}));const r=ro.randomNumber(t.length);let s=t[r];if(s===String.fromCharCode(2))return e=e.substr(2),e;if(1===oo.dieRoll()){["bdg","ptk","sz","aeiouy","lr","ckq","vf"].forEach((e=>{if(e.includes(s)){const t=ro.randomNumber(e.length);s=e[t]}}))}e+=s}}}static getSourceLanguages(){return["afrikaans","amharic","armenian","basque","belarusian","bulgarian","chichewa","chinese","croatian","czech","danish","dutch","english","finnish","french","german","greek","hawaiian","hindi","hungarian","icelandic","irish","italian","japanese","kannada","kazakh","korean","kyrgyz","latvian","lithuanian","macedonian","malay","maltese","maori","myanmar","nepali","norwegian","polish","portuguese","punjabi","romanian","russian","samoan","serbian","shona","somali","spanish","swahili","swedish","thai","turkish","welsh","yiddish","zulu"]}static getLanguagePresets(){return[{name:"draconic",languages:["armenian","irish","maltese"]},{name:"dwarvish",languages:["czech","german","kazakh"]},{name:"elvish",languages:["finnish","spanish","welsh"]},{name:"giant",languages:["amharic","hungarian","polish"]},{name:"gnomish",languages:["chichewa","korean","yiddish"]},{name:"goblin",languages:["hawaiian","kyrgyz","somali"]},{name:"halfling",languages:["english","maori","samoan"]},{name:"orc",languages:["macedonian","russian","turkish"]}]}static getRandomLanguages(){const e=lo.getSourceLanguages(),t=[];for(;3!==t.length;){const n=e[ro.randomNumber(e.length)];t.includes(n)||t.push(n)}return t.sort()}static generateTranslation(e){const t="abcdefghijklmnopqrstuvwxyz";let n="";for(let r=0;r!==e.length;++r){if(" "!==e.toLowerCase().charAt(r)){n+=t[ro.randomNumber(26)]}else n+=" "}return lo.shuffle(n)}static getAllLanguages(){return["common","abyssal","aquan","auran","celestial","deep speech","dwarvish","elvish","giant","gnomish","goblin","halfling","ignan","infernal","orc","primordial","sylvan","terran","undercommon"]}static getKnownLanguages(e){return e.map((e=>e.languages.toLowerCase())).join(", ").split(/[,;:]+/).map((e=>e.trim())).filter((e=>e.length>0)).reduce(((e,t)=>(-1===e.indexOf(t)&&e.push(t),e)),[]).sort(((e,t)=>"common"===e?-1:"common"===t?1:e.localeCompare(t))).map((e=>lo.capitalise(e)))}static startsWithVowel(e){let t=!1;return["a","e","i","o","u"].forEach((n=>{e.toLowerCase().startsWith(n)&&(t=!0)})),t}static shuffle(e){const t=e.split("");for(let n=t.length-1;n>0;n--){const e=ro.randomNumber(n+1),r=t[n];t[n]=t[e],t[e]=r}return t.join("")}static capitalise(e){return e.split(" ").filter((e=>e.length>0)).map((e=>e[0].toUpperCase()+(e.length>1?e.substring(1):""))).join(" ")}static generateName(){const e=["As Has Khe Zash Gl Ig Iv Kos Miv Pav Ser Dar Even Gor Rand Sto Tam Barer Keth Mum","Mar Burg Al Hel Wrayt S Eag Eath Joan Answ L Ot Ced At Tal Ham Jasm Mail Yash Row","Adr Alber Ba Bar Gar Kildr Kath Dies Eld Gurd Har Morg Or Rur Mar Vis Jen Torg Tak Thor End Ris Em Gunn","Ad All Aram Berri Car Enial Gann Im Per Sorvi Var Adr An Beth Bir Jelen Key Lesh Mer Mia Naiv Quel Sar Shan","Al An C Cor Eld Er Finn Gar Lin Mer Os Per Ros An Cal Cor Kith Lav Ned Pae Seraph T V Chen","Are Bala Bhar Don Gh Hesk Med Meh Nad Pand Patr Sham Shed Ak Bir Farid Fla Ka Ko Mish Thav Uad Eder Hener","Alu Stos Fa Ravay Leo Stok Vic El Yeng Car Ric Ar Guir Es My Pey","Ae Ar Au Bae Bale Ca Cor Dae Elae Gae Helae Jacae Jae Jaehae Lae Luce Mae Me Monte Nae Rha Rhae Sae Shae Sy Te Ty Va Vae Valae Vale Ver Vha Vise","Alys Ce Cer Da Dar Dor El Er Ge Ger Ja Jai Jo Joa Joy Ke La Lan Le Lo Lor Lu Ly Ma Mar Myr No Nor Sta Te Ti To Ty Wil Will","Al Alys Areg Ar Arr Art Barth Ben Benj Benn Ber Brand Creg Donn Dorr Ed Edd Edder El Ell Err Ey Gill Harl Joc Jon Jonn Jor Karl Ly Lyn Lys Mar Marg Marn Mel Os Ray Rick Rob Rod Sar Sans Ser The Torrh Walt Will"].join(" ").toLowerCase().split(" "),t=["Eir Eid Eed El Ar An Or Ef Al Vin Orn Dur Stag Elm Ur Us","Ik Ich Ern End Tor Nor In Rak Gen Sik Gran Linn Vok Brek Dal Gar","An Ar Il Rian Ric Is Dan Arai Meral Cian En Rion Ialis Ior Nan Kas","Ton Der Ade Rin Don Rich Nan Ret Al Born Coe By Fire Yas Dal Yle","Han Asar Ash Aar Esch An Rash En Arr Jed Rin Gar Ash Dinn Hun Rek","Orel Aadi Ahn Aver Eiros Kain Retor Lannan Pet Ikos","Er Ey A E Il Elia Ya Ed Eue Ild Oane Yne Orna Ie Ala Erri Ea Ia","Ber Tin Hild Dryn A Eth Runn Ellen Loda Dis Ja Lin Ra Tyrd De Rasa","Rie Aea Striana Inua Rynna Ilia Na Neth Leth Iel Lee Qui Astra Ia Ania Ynn","Dry Ree Lie Ora Emia Ian Ri Inia Ina Aena Ani Erna Lyse La Da Aela","Ra Ir Eh Ann Ilar Rinn Ann La Ra A Ina Va Hit Ederei Ere Eila","Ina Ceryn Vyn Ella Aella Vyre","gar gal gel gelle gon gor kar l la larr leys lla lon lor lora lys lyx max mion mithor mon mond na naera nar nara nerys nor nora nya nyra nys ra rax raxes rea rion ron rra ryn rys than xes","a anne balt bolt casta cella cion dict elle em en enna fford ford ffrey frey gett got hanna ielle issa la land ler lessa lia man me men mion mon mond na nna ne nei n nn nora old on ora rek reon rick rion sei sha shara son tos tyn van ven wald well win","a ah am an anna anne antha ara ard aret aric arra edict el elle elyn en ena erick ert iah iane ion ogan old on or os ra ric rick rik ron rra well wyle wyn ya yn ys"].join(" ").toLowerCase().split(" "),n=ro.randomNumber(e.length),r=ro.randomNumber(t.length);let s="";if(1===oo.dieRoll(10)){const e=["-","'"," "];s=e[ro.randomNumber(e.length)]}return e[n]+s+t[r]}static generatePotion(){let e="";const t=lo.potionColour(!0),n=lo.potionLiquid(),r=lo.potionAdjective(),s=lo.potionFeature();switch(ro.randomNumber(5)){case 0:e=t+" "+n;break;case 1:e=t+" "+n+" "+s;break;case 2:e=r+" "+t+" "+n;break;case 3:e=r+" "+t+" "+n+" "+s;break;case 4:e=r+" "+n+", "+t+" "+s}switch(e=(lo.startsWithVowel(e)?"an":"a")+" "+e+" in "+lo.potionContainer(),ro.randomNumber(6)){case 0:e+="; it smells "+lo.potionSmell();break;case 1:e+="; it tastes "+lo.potionSmell();break;case 2:e+="; it smells "+lo.potionSmell()+" but tastes "+lo.potionSmell();break;case 3:e+="; it smells and tastes "+lo.potionSmell()}return e}static generateNPCAge(){const e=["elderly","middle-aged","teenage","youthful","young","old"];return e[ro.randomNumber(e.length)]}static generateNPCProfession(){const e=["apothecary","architect","armourer","arrowsmith","astrologer","baker","barber","lawyer","beggar","bellfounder","blacksmith","bookbinder","brewer","bricklayer","butcher","carpenter","carter","cartwright","chandler","peddler","clerk","clockmaker","cobbler","cook","cooper","merchant","embroiderer","engraver","fisherman","fishmonger","forester","furrier","gardener","gemcutter","glassblower","goldsmith","grocer","haberdasher","stableman","courtier","herbalist","innkeeper","ironmonger","labourer","painter","locksmith","mason","messenger","miller","miner","minstrel","ploughman","farmer","porter","sailor","scribe","seamstress","shepherd","shipwright","soapmaker","tailor","tinker","vintner","weaver"];return e[ro.randomNumber(e.length)]}static generateNPCHeight(){const e=["gangly","gigantic","hulking","lanky","short","small","stumpy","tall","tiny","willowy"];return e[ro.randomNumber(e.length)]}static generateNPCWeight(){const e=["broad-shouldered","fat","gaunt","heavy-set","obese","plump","pot-bellied","rotund","skinny","slender","slim","statuesque","stout","thin"];return e[ro.randomNumber(e.length)]}static generateNPCHair(){const e=["short","cropped","long","braided","dreadlocked","shoulder-length","wiry","balding","receeding","curly","tightly-curled","straight","greasy","limp","sparse","thinning","wavy"],t=["black","brown","dark brown","light brown","red","ginger","strawberry blonde","blonde","ash blonde","graying","silver","white","gray","auburn"];return e[ro.randomNumber(e.length)]+", "+t[ro.randomNumber(t.length)]}static generateNPCPhysical(){const e=["bearded","buck-toothed","chiselled","doe-eyed","fine-featured","florid","gap-toothed","goggle-eyed","grizzled","jowly","jug-eared","pock-marked","broken nose","red-cheeked","scarred","squinting","thin-lipped","toothless","weather-beaten","wrinkled"];return e[ro.randomNumber(e.length)]}static generateNPCMental(){const e=["hot-tempered","overbearing","antagonistic","haughty","elitist","proud","rude","aloof","mischievous","impulsive","lusty","irreverent","madcap","thoughtless","absent-minded","insensitive","brave","craven","shy","fearless","obsequious","inquisitive","prying","intellectual","perceptive","keen","perfectionist","stern","harsh","punctual","driven","trusting","kind-hearted","forgiving","easy-going","compassionate","miserly","hard-hearted","covetous","avaricious","thrifty","wastrel","spendthrift","extravagant","kind","charitable","gloomy","morose","compulsive","irritable","vengeful","honest","truthful","innocent","gullible","bigoted","biased","narrow-minded","cheerful","happy","diplomatic","pleasant","foolhardy","affable","fatalistic","depressing","cynical","sarcastic","realistic","secretive","retiring","practical","level-headed","dull","reverent","scheming","paranoid","cautious","deceitful","nervous","uncultured","boorish","barbaric","graceless","crude","cruel","sadistic","immoral","jealous","belligerent","argumentative","arrogant","careless","curious","exacting","friendly","greedy","generous","moody","naive","opinionated","optimistic","pessimistic","quiet","sober","suspicious","uncivilised","violent","peaceful"];return e[ro.randomNumber(e.length)]}static generateNPCSpeech(){const e=["accented","articulate","garrulous","breathless","crisp","gutteral","high-pitched","lisping","loud","nasal","slow","fast","squeaky","stuttering","wheezy","whiny","whispery","soft-spoken","laconic","blustering"];return e[ro.randomNumber(e.length)]}static generateNPCTrait(){const e=["I idolize a particular hero of my faith and constantly refer to that person's deeds and example.","I can find common ground between the fiercest enemies, empathizing with them and always working toward peace.","I see omens in every event and action. The gods try to speak to us, we just need to listen.","Nothing can shake my optimistic attitude.","I quote (or misquote) the sacred texts and proverbs in almost every situation.","I am tolerant (or intolerant) of other faiths and respect (or condemn) the worship of other gods.","I've enjoyed fine food, drink, and high society among my temple's elite. Rough living grates on me.","I've spent so long in the temple that I have little practical experience dealing with people in the outside world.","I fall in and out of love easily, and am always pursuing someone.","I have a joke for every occasion, especially occasions where humor is inappropriate.","Flattery is my preferred trick for getting what I want.","I'm a born gambler who can't resist taking a risk for a potential payoff.","I lie about almost everything, even when there's no good reason to.","Sarcasm and insults are my weapons of choice.","I keep multiple holy symbols on me and invoke whatever deity might come in useful at any given moment.","I pocket anything I see that might have some value.","I always have plan for what to do when things go wrong.","I am always calm, no matter what the situation. I never raise my voice or let my emotions control me.","The first thing I do in a new place is note the locations of everything valuable - or where such things could be hidden.","I would rather make a new friend than a new enemy.","I am incredibly slow to trust. Those who seem the fairest often have the most to hide.","I don't pay attention to the risks in a situation. Never tell me the odds.","The best way to get me to do something is to tell me I can't do it.","I blow up at the slightest insult.","I know a story relevant to almost every situation.","Whenever I come to a new place, I collect local rumors and spread gossip.","I'm a hopeless romantic, always searching for that 'special someone'.","Nobody stays angry at me or around me for long, since I can defuse any amount of tension.","I love a good insult, even one directed at me.","I get bitter if I'm not the center of attention.","I'll settle for nothing less than perfection.","I change my mood or my mind as quickly as I change key in a song.","I judge people by their actions, not their words.","If someone is in trouble, I'm always willing to lend help.","When I set my mind to something, I follow through no matter what gets in my way.","I have a strong sense of fair play and always try to find the most equitable solution to arguments.","I'm confident in my own abilities and do what I can to instill confidence in others.","Thinking is for other people. I prefer action.","I misuse long words in an attempt to sound smarter.","I get bored easily. When am I going to get on with my destiny?","I believe that everything worth doing is worth doing right. I can't help it - I'm a perfectionist.","I'm a snob who looks down on those who can't appreciate fine art.","I always want to know how things work and what makes people tick.","I'm full of witty aphorisms and have a proverb for every occasion.","I'm rude to people who lack my commitment to hard work and fair play.","I like to talk at length about my profession.","I don't part with my money easily and will haggle tirelessly to get the best deal possible.","I'm well known for my work, and I want to make sure everyone appreciates it. I'm always taken aback when people haven't heard of me.","I've been isolated for so long that I rarely speak, preferring gestures and the occasional grunt.","I am utterly serene, even in the face of disaster.","The leader of my community has something wise to say on every topic, and I am eager to share that wisdom.","I feel tremendous empathy for all who suffer.","I'm oblivious to etiquette and social expectations.","I connect everything that happens to me to a grand cosmic plan.","I often get lost in my own thoughts and contemplations, becoming oblivious to my surroundings.","I am working on a grand philosophical theory and love sharing my ideas.","My eloquent flattery makes everyone I talk to feel like the most wonderful and important person in the world.","The common folk love me for my kindness and generosity.","No one could doubt by looking at my regal bearing that I am a cut above the unwashed masses.","I take great pains to always look my best and follow the latest fashions.","I don't like to get my hands dirty, and I won't be caught dead in unsuitable accommodations.","Despite my birth, I do not place myself above other folk. We all have the same blood.","My favor, once lost, is lost forever.","If you do me an injury, I will crush you, ruin your name, and salt your fields.","I'm driven by a wanderlust that led me away from home.","I watch over my friends as if they were a litter of newborn pups.","I once ran twenty-five miles without stopping to warn my clan of an approaching orc horde. I'd do it again if I had to.","I have a lesson for every situation, drawn from observing nature.","I place no stock in wealthy or well-mannered folk. Money and manners won't save you from a hungry owlbear.","I'm always picking things up, absently fiddling with them, and sometimes accidentally breaking them.","I feel far more comfortable around animals than people.","I was, in fact, raised by wolves.","I use polysyllabic words to convey the impression of great erudition.","I've read every book in the world's greatest libraries - or like to boast that I have.","I'm used to helping out those who aren't as smart as I am, and I patiently explain anything and everything to others.","There's nothing I like more than a good mystery.","I'm willing to listen to every side of an argument before I make my own judgment.","I...speak...slowly...when talking...to idiots...which...almost...everyone...is...compared...to me.","I am horribly, horribly awkward in social situations.","I'm convinced that people are always trying to steal my secrets.","My friends know they can rely on me, no matter what.","I work hard so that I can play hard when the work is done.","I enjoy sailing into new ports and making new friends over a flagon of ale.","I stretch the truth for the sake of a good story.","To me, a tavern brawl is a nice way to get to know a new city.","I never pass up a friendly wager.","My language is as foul as an otyugh nest.","I like a job well done, especially if I can convince someone else to do it.","I'm always polite and respectful.","I'm haunted by memories of war. I can't get the images of violence out of my mind.","I've lost too many friends, and I'm slow to make new ones.","I'm full of inspiring and cautionary tales from my military experience relevant to almost every combat situation.","I can stare down a hellhound without flinching.","I enjoy being strong and like breaking things.","I have a crude sense of humor.","I face problems head-on. A simple direct solution is the best path to success.","I hide scraps of food and trinkets away in my pockets.","I ask a lot of questions.","I like to squeeze into small places where no one else can get to me.","I sleep with my back to a wall or tree, with everything I own wrapped in a bundle in my arms.","I eat like a pig and have bad manners.","I think anyone who's nice to me is hiding evil intent.","I don't like to bathe.","I bluntly say what other people are hinting or hiding."];return e[ro.randomNumber(e.length)]}static generateNPCIdeal(){const e=["Faith. I trust that my deity will guide my actions. I have faith that if I work hard, things will go well. (Lawful)","Tradition. The ancient traditions of worship and sacrifice must be preserved and upheld. (Lawful)","Charity. I always try to help those in need, no matter what the personal cost. (Good)","Change. We must help bring about the changes the gods are constantly working in the world. (Chaotic)","Power. I hope to one day rise to the top of my faith's religious hierarchy. (Lawful)","Aspiration. I seek to prove my self worthy of my god's favor by matching my actions against his or her teachings. (Any)","Independence. I am a free spirit - no one tells me what to do. (Chaotic)","Fairness. I never target people who can't afford to lose a few coins. (Lawful)","Charity. I distribute money I acquire to the people who really need it. (Good)","Creativity. I never run the same con twice. (Chaotic)","Friendship. Material goods come and go. Bonds of friendship last forever. (Good)","Aspiration. I'm determined to make something of myself. (Any)","Honor. I don't steal from others in the trade. (Lawful)","Freedom. Chains are meant to be broken, as are those who would forge them. (Chaotic)","Charity. I steal from the wealthy so that I can help people in need. (Good)","Greed. I will do whatever it takes to become wealthy. (Evil)","People. I'm loyal to my friends, not to any ideals, and everyone else can take a trip down the Styx for all I care. (Neutral)","Redemption. There's a spark of good in everyone. (Good)","Beauty. When I perform, I make the world better than it was. (Good)","Tradition. The stories, legends, and songs of the past must never be forgotten. (Lawful)","Creativity. The world is in need of new ideas and bold action. (Chaotic)","Greed. I'm only in it for the money and fame. (Evil)","People. I like seeing the smiles on people's faces when I perform. That's all that matters. (Neutral)","Honesty. Art should reflect the soul; it should come from within and reveal who we really are. (Any)","Respect. People deserve to be treated with dignity and respect. (Good)","Fairness. No one should get preferential treatment before the law, and no one is above the law. (Lawful)","Freedom. Tyrants must not be allowed to oppress the people. (Chaotic)","Might. If I become strong, I can take what I want - what I deserve. (Evil)","Sincerity. There's no good pretending to be something I'm not. (Neutral)","Destiny. Nothing and no one can steer me away from my higher calling. (Any)","Community. It is the duty of all civilized people to strengthen the bonds of community and the security of civilization. (Lawful)","Generosity. My talents were given to me so that I could use them to benefit the world. (Good)","Freedom. Everyone should be free to pursue his or her livelihood. (Chaotic)","Greed. I'm only in it for the money. (Evil)","People. I'm committed to the people I care about, not to ideals. (Neutral)","Aspiration. I work hard to be the best there is at my craft. (Any)","Greater Good. My gifts are meant to be shared with all, not used for my own benefit. (Good)","Logic. Emotions must not cloud our sense of what is right and true, or our logical thinking. (Lawful)","Free Thinking. Inquiry and curiosity are the pillars of progress. (Chaotic)","Power. Solitude and contemplation are paths toward mystical or magical power. (Evil)","Live and Let Live. Meddling in the affairs of others only causes trouble. (Neutral)","Self-Knowledge. If you know yourself, there're nothing left to know. (Any)","Respect. Respect is due to me because of my position, but all people regardless of station deserve to be treated with dignity. (Good)","Responsibility. It is my duty to respect the authority of those above me, just as those below me must respect mine. (Lawful)","Independence. I must prove that I can handle myself without the coddling of my family. (Chaotic)","Power. If I can attain more power, no one will tell me what to do. (Evil)","Family. Blood runs thicker than water. (Any)","Noble Obligation. It is my duty to protect and care for the people beneath me. (Good)","Change. Life is like the seasons, in constant change, and we must change with it. (Chaotic)","Greater Good. It is each person's responsibility to make the most happiness for the whole tribe. (Good)","Honor. If I dishonor myself, I dishonor my whole clan. (Lawful)","Might. The strongest are meant to rule. (Evil)","Nature. The natural world is more important than all the constructs of civilization. (Neutral)","Glory. I must earn glory in battle, for myself and my clan. (Any)","Knowledge. The path to power and self-improvement is through knowledge. (Neutral)","Beauty. What is beautiful points us beyond itself toward what is true. (Good)","Logic. Emotions must not cloud our logical thinking. (Lawful)","No Limits. Nothing should fetter the infinite possibility inherent in all existence. (Chaotic)","Power. Knowledge is the path to power and domination. (Evil)","Self-improvement. The goal of a life of study is the betterment of oneself.","Respect. The thing that keeps a ship together is mutual respect between captain and crew. (Good)","Fairness. We all do the work, so we all share in the rewards. (Lawful)","Freedom. The sea is freedom - the freedom to go anywhere and do anything. (Chaotic)","Master. I'm a predator, and the other ships on the sea are my prey. (Evil)","People. I'm committed to my crewmates, not to ideals. (Neutral)","Aspiration. Someday I'll own my own ship and chart my own destiny. (Any)","Greater Good. Our lot is to lay down our lives in defense of others. (Good)","Responsibility. I do what I must and obey just authority. (Lawful)","Independence. When people follow orders blindly they embrace a kind of tyranny. (Chaotic)","Might. In life as in war, the stronger force wins. (Evil)","Ideals aren't worth killing for or going to war for. (Neutral)","Nation. My city, nation, or people are all that matter. (Any)","Respect. All people, rich or poor, deserve respect. (Good)","Community. We have to take care of each other, because no one else is going to do it. (Lawful)","Change. The low are lifted up, and the high and mighty are brought down. Change is the nature of things. (Chaotic)","Retribution. The rich need to be shown what life and death are like in the gutters. (Evil)","People. I help people who help me - that's what keeps us alive. (Neutral)","Aspiration. I'm going to prove that I'm worthy of a better life. (Any)"];return e[ro.randomNumber(e.length)]}static generateNPCBond(){const e=["I would die to recover an ancient artifact of my faith that was lost long ago.","I will someday get revenge on the corrupt temple hierarchy who branded me a heretic.","I owe me life to the priest who took me in when my parents died.","Everything I do is for the common people.","I will do anything to protect the temple where I served.","I seek to preserve a sacred text that my enemies consider heretical and seek to destroy.","I fleeced the wrong person and must work to ensure that this individual never crosses paths with me or those I care about.","I owe everything to my mentor - a horrible person who's probably rotting in jail somewhere.","Somewhere out there I have a child who doesn't know me. I'm making the world better for him or her.","I come from a noble family, and one day I'll reclaim my lands and title from those who stole them from me.","A powerful person killed someone I love. Some day soon, I'll have my revenge.","I swindled and ruined a person who didn't deserve it. I seek to atone for my misdeeds but might never be able to forgive myself.","I'm trying to pay off an old debt I owe to a generous benefactor.","My ill-gotten gains go to support my family.","Something important was taken from me, and I aim to steal it back.","I will become the greatest thief that ever lived.","I'm guilty of a terrible crime. I hope I can redeem myself for it.","Someone I loved died because of a mistake I made. That will never happen again.","My instrument is my most treasured possession, and it reminds me of someone I love.","Someone stole my precious instrument, and someday I'll get it back.","I want to be famous, whatever it takes.","I idolize a hero of the old tales and measure my deeds against that person's.","I will do anything to prove myself superior to me hated rival.","I would do anything for the other members of my old troupe.","I have a family, but I have no idea where they are. One day, I hope to see them again.","I worked the land, I love the land, and I will protect the land.","A proud noble once gave me a horrible beating, and I will take my revenge on any bully I encounter.","My tools are symbols of my past life, and I carry them so that I will never forget my roots.","I protect those who cannot protect themselves.","I wish my childhood sweetheart had come with me to pursue my destiny.","The workshop where I learned my trade is the most important place in the world to me.","I created a great work for someone, and then found them unworthy to receive it. I'm still looking for someone worthy.","I owe my guild a great debt for forging me into the person I am today.","I pursue wealth to secure someone's love.","One day I will return to my guild and prove that I am the greatest artisan of them all.","I will get revenge on the evil forces that destroyed my place of business and ruined my livelihood.","Nothing is more important than the other members of my hermitage, order, or association.","I entered seclusion to hide from the ones who might still be hunting me. I must someday confront them.","I'm still seeking the enlightenment I pursued in my seclusion, and it still eludes me.","I entered seclusion because I loved someone I could not have.","Should my discovery come to light, it could bring ruin to the world.","My isolation gave me great insight into a great evil that only I can destroy.","I will face any challenge to win the approval of my family.","My house's alliance with another noble family must be sustained at all costs.","Nothing is more important that the other members of my family.","I am in love with the heir of a family that my family despises.","My loyalty to my sovereign is unwavering.","The common folk must see me as a hero of the people.","My family, clan, or tribe is the most important thing in my life, even when they are far from me.","An injury to the unspoiled wilderness of my home is an injury to me.","I will bring terrible wrath down on the evildoers who destroyed my homeland.","I am the last of my tribe, and it is up to me to ensure their names enter legend.","I suffer awful visions of a coming disaster and will do anything to prevent it.","It is my duty to provide children to sustain my tribe.","It is my duty to protect my students.","I have an ancient text that holds terrible secrets that must not fall into the wrong hands.","I work to preserve a library, university, scriptorium, or monastery.","My life's work is a series of tomes related to a specific field of lore.","I've been searching my whole life for the answer to a certain question.","I sold my soul for knowledge. I hope to do great deeds and win it back.","I'm loyal to my captain first, everything else second.","The ship is most important - crewmates and captains come and go.","I'll always remember my first ship.","In a harbor town, I have a paramour whose eyes nearly stole me from the sea.","I was cheated of my fair share of the profits, and I want to get my due.","Ruthless pirates murdered my captain and crewmates, plundered our ship, and left me to die. Vengeance will be mine.","I would lay down my life for the people I served with.","Someone saved my life on the battlefield. To this day, I will never leave a friend behind.","My honor is my life.","I'll never forget the crushing defeat my company suffered or the enemies who dealt it.","Those who fight beside me are those worth dying for.","I fight for those who cannot fight for themselves.","My town or city is my home, and I'll fight to defend it.","I sponsor an orphanage to keep others from enduring what I was forced to endure.","I owe my survival to another urchin who taught me to live on the streets.","I owe a debt I can never repay to the person who took pity on me.","I escaped my life of poverty by robbing an important person, and I'm wanted for it.","No one else is going to have to endure the hardships I've been through."];return e[ro.randomNumber(e.length)]}static generateNPCFlaw(){const e=["I judge others harshly, and myself even more severely.","I put too much trust in those who wield power within my temple's hierarchy.","My piety sometimes leads me to blindly trust those that profess faith in my god.","I am inflexible in my thinking.","I am suspicious of strangers and suspect the worst of them.","Once I pick a goal, I become obsessed with it to the detriment of everything else in my life.","I can't resist a pretty face.","I'm always in debt. I spend my ill-gotten gains on decadent luxuries faster than I bring them in.","I'm convinced that no one could ever fool me in the way I fool others.","I'm too greedy for my own good. I can't resist taking a risk if there's money involved.","I can't resist swindling people who are more powerful than me.","I hate to admit it and will hate myself for it, but I'll run and preserve my own hide if the going gets tough.","When I see something valuable, I can't think about anything but how to steal it.","When faced with a choice between money and my friends, I usually choose the money.","If there's a plan, I'll forget it. If I don't forget it, I'll ignore it.","I have a 'tell' that reveals when I'm lying.","I turn tail and run when things go bad.","An innocent person is in prison for a crime that I committed. I'm okay with that.","I'll do anything to win fame and renown.","I'm a sucker for a pretty face.","A scandal prevents me from ever going home again. That kind of trouble seems to follow me around.","I once satirized a noble who still wants my head. It was a mistake that I will likely repeat.","I have trouble keeping my true feelings hidden. My sharp tongue lands me in trouble.","Despite my best efforts, I am unreliable to my friends.","The tyrant who rules my land will stop at nothing to see me killed.","I'm convinced of the significance of my destiny, and blind to my shortcomings and the risk of failure.","The people who knew me when I was young know my shameful secret, so I can never go home again.","I have a weakness for the vices of the city, especially hard drink.","Secretly, I believe that things would be better if I were a tyrant lording over the land.","I have trouble trusting in my allies.","I'll do anything to get my hands on something rare or priceless.","I'm quick to assume that someone is trying to cheat me.","No one must ever learn that I once stole money from guild coffers.","I'm never satisfied with what I have - I always want more.","I would kill to acquire a noble title.","I'm horribly jealous of anyone who outshines my handiwork. Everywhere I go, I'm surrounded by rivals.","Now that I've returned to the world, I enjoy its delights a little too much.","I harbor dark bloodthirsty thoughts that my isolation failed to quell.","I am dogmatic in my thoughts and philosophy.","I let my need to win arguments overshadow friendships and harmony.","I'd risk too much to uncover a lost bit of knowledge.","I like keeping secrets and won't share them with anyone.","I secretly believe that everyone is beneath me.","I hide a truly scandalous secret that could ruin my family forever.","I too often hear veiled insults and threats in every word addressed to me, and I'm quick to anger.","I have an insatiable desire for carnal pleasures.","In fact, the world does revolve around me.","By my words and actions, I often bring shame to my family.","I am too enamored of ale, wine, and other intoxicants.","There's no room for caution in a life lived to the fullest.","I remember every insult I've received and nurse a silent resentment toward anyone who's ever wronged me.","I am slow to trust members of other races","Violence is my answer to almost any challenge.","Don't expect me to save those who can't save themselves. It is nature's way that the strong thrive and the weak perish.","I am easily distracted by the promise of information.","Most people scream and run when they see a demon. I stop and take notes on its anatomy.","Unlocking an ancient mystery is worth the price of a civilization.","I overlook obvious solutions in favor of complicated ones.","I speak without really thinking through my words, invariably insulting others.","I can't keep a secret to save my life, or anyone else's.","I follow orders, even if I think they're wrong.","I'll say anything to avoid having to do extra work.","Once someone questions my courage, I never back down no matter how dangerous the situation.","Once I start drinking, it's hard for me to stop.","I can't help but pocket loose coins and other trinkets I come across.","My pride will probably lead to my destruction","The monstrous enemy we faced in battle still leaves me quivering with fear.","I have little respect for anyone who is not a proven warrior.","I made a terrible mistake in battle that cost many lives - and I would do anything to keep that mistake secret.","My hatred of my enemies is blind and unreasoning.","I obey the law, even if the law causes misery.","I'd rather eat my armor than admit when I'm wrong.","If I'm outnumbered, I always run away from a fight.","Gold seems like a lot of money to me, and I'll do just about anything for more of it.","I will never fully trust anyone other than myself.","I'd rather kill someone in their sleep than fight fair.","It's not stealing if I need it more than someone else.","People who don't take care of themselves get what they deserve."];return e[ro.randomNumber(e.length)]}static generateTreasure(){let e="";const t=["diamond","ruby","sapphire","emerald","amethyst","garnet","topaz","pearl","black pearl","opal","fire opal","amber","coral","agate","carnelian","jade","peridot","moonstone","alexandrite","aquamarine","jacinth","marble"];switch(ro.randomNumber(12)){case 0:case 1:case 2:{let n=t[ro.randomNumber(t.length)];switch(ro.randomBoolean()){case!0:n+=" gemstone";break;case!1:n="piece of "+n}switch(ro.randomNumber(12)){case 0:n="well cut "+n;break;case 1:n="rough-cut "+n;break;case 2:n="poorly cut "+n;break;case 3:n="small "+n;break;case 4:n="large "+n;break;case 5:n="oddly shaped "+n;break;case 6:n="highly polished "+n}e=n}break;case 3:case 4:case 5:{const t=["medal","statuette","sculpture","idol","chalice","goblet","dish","bowl"],n=t[ro.randomNumber(t.length)],r=["small","large","light","heavy","delicate","fragile","masterwork","elegant"];e=r[ro.randomNumber(r.length)]+" "+n}break;case 6:case 7:case 8:{const t=["ring","necklace","crown","circlet","bracelet","anklet","torc","brooch","pendant","locket","diadem","tiara","earring"],n=t[ro.randomNumber(t.length)],r=["gold","silver","bronze","platinum","electrum","mithral","orium","adamantine"];switch(e=r[ro.randomNumber(r.length)]+" "+n,ro.randomNumber(5)){case 0:e=(ro.randomBoolean()?"enamelled":"laquered")+" "+e;break;case 1:e=r[ro.randomNumber(r.length)]+"-"+(ro.randomBoolean()?"plated":"filigreed")+" "+e}switch(ro.randomNumber(10)){case 0:e="delicate "+e;break;case 1:e="intricate "+e;break;case 2:e="elegant "+e;break;case 3:e="simple "+e;break;case 4:e="plain "+e}}break;case 9:case 10:{let t="";switch(ro.randomBoolean()){case!0:switch(t="painting",ro.randomBoolean()){case!0:t="oil "+t;break;case!1:t="watercolour "+t}break;case!1:switch(t="drawing",ro.randomNumber(3)){case 0:t="pencil "+t;break;case 1:t="charcoal "+t;break;case 2:t="pastel "+t}}const n=["small","large","delicate","fragile","elegant","detailed"],r=["canvas","paper","parchment","wood panels","fabric"];e=n[ro.randomNumber(n.length)]+" "+t+" on "+r[ro.randomNumber(r.length)]}break;case 11:{const t=["lute","lyre","mandolin","violin","drum","flute","clarinet","accordion","banjo","bodhran","ocarina","zither","djembe","shawm"],n=t[ro.randomNumber(t.length)],r=["small","large","light","heavy","delicate","fragile","masterwork","elegant"];e=r[ro.randomNumber(r.length)]+" "+n}}switch(ro.randomNumber(5)){case 0:{const t=["feywild","shadowfell","elemental chaos","astral plane","abyss","distant north","distant east","distant west","distant south"];e+=" from the "+t[ro.randomNumber(t.length)]}break;case 1:{const t=["decorated with","inscribed with","engraved with","embossed with","carved with"],n=["indecipherable","ancient","curious","unusual","dwarven","eladrin","elven","draconic","gith"],r=["script","designs","sigils","runes","glyphs","patterns"];e+=" "+t[ro.randomNumber(t.length)]+" "+n[ro.randomNumber(n.length)]+" "+r[ro.randomNumber(r.length)]}break;case 2:{const t=["glowing with","suffused with","infused with","humming with","pulsing with"],n=["arcane","divine","primal","psionic","dark","shadow","elemental","ethereal","unknown"],r=["energy","power","magic"];e+=" "+t[ro.randomNumber(t.length)]+" "+n[ro.randomNumber(n.length)]+" "+r[ro.randomNumber(r.length)]}break;case 4:{let n=t[ro.randomNumber(t.length)];ro.randomBoolean()?n+="s":n="a single "+n;const r=["set with","inlaid with","studded with","with shards of"];e+=" "+r[ro.randomNumber(r.length)]+" "+n}}return(lo.startsWithVowel(e)?"an ":"a ")+e}static generateRoomName(){const e=["antechamber","arena","armoury","aviary","audience chamber","banquet hall","bath chamber","barracks","bedroom","boudoir","bestiary","burial chamber","cells","chamber","chantry","chapel","classroom","closet","court","crypt","dining room","dormitory","dressing room","dumping ground","entrance hall","gallery","game room","great hall","guard post","hall","harem","hoard","infirmary","kennels","kitchens","laboratory","lair","library","mausoleum","meditation room","museum","nursery","observatory","office","pantry","prison","quarters","reception room","refectory","ritual chamber","shrine","smithy","stable","storeroom","study","temple","throne room","torture chamber","trophy room","training area","treasury","waiting room","workroom","workshop","vault","vestibule"];return e[ro.randomNumber(e.length)]}static generateRoomDescription(){const e=[];return 0===ro.randomNumber(2)&&(e.push(this.randomWall()),0===ro.randomNumber(2)&&e.push(this.randomWallFinish())),0===ro.randomNumber(5)&&e.push(this.randomAir()),0===ro.randomNumber(5)&&e.push(this.randomSmell()),0===ro.randomNumber(5)&&e.push(this.randomSound()),0===ro.randomNumber(10)&&e.push(this.randomActivity()),e.join(" ").trim()}static randomWall(){const e=["The walls of this area are "+this.randomWallMaterial()+".","The walls of this area are "+this.randomWallMaterial()+" and "+this.randomWallMaterial()+".","The floor of this area is made from "+this.randomWallMaterial()+".","The walls of this area are made of "+this.randomWallMaterial()+", while the ceiling and floor are "+this.randomWallMaterial()+".","The walls of this area have been hewn out of solid rock.","The walls of this area have been panelled in dark wood."];return e[ro.randomNumber(e.length)]}static randomWallMaterial(){const e=["granite","slate","sandstone","brick","marble","slabs of rock","an unfamiliar rock"];let t=e[ro.randomNumber(e.length)];if(0===ro.randomNumber(2)){const e=["polished","rough","chiselled","uneven","worked",this.potionColour(!1),this.potionColour(!1)+" and "+this.potionColour(!1)];t=e[ro.randomNumber(e.length)]+" "+t}return t}static randomWallFinish(){const e=["They are covered in black soot.","They are "+this.randomStyle()+" with "+this.randomDecoration()+".","They are covered in claw marks.","They have been painted "+this.potionColour(!1)+".","It is possible to tell that they were once plastered.","Here and there, graffiti covers them.","A thick layer of dust covers the room.","Moss and lichen grows here and there on them.","The patina of age covers them.","Childlike drawings and sketches cover them.","Cryptic signs have been scratched into them."];return e[ro.randomNumber(e.length)]}static randomStyle(){const e=["painted","engraved"];return e[ro.randomNumber(e.length)]}static randomDecoration(){const e=["abstract artwork","battle scenes","landscape scenes","hunting scenes","pastoral scenes","religious symbols","runes","glyphs","sigils","cryptic signs"];return e[ro.randomNumber(e.length)]}static randomAir(){const e=["The room is bitterly cold.","There is a distinct chill in the air.","A cold breeze blows through this area.","A warm draught blows through this area.","The area is uncomfortably hot.","The air is dank.","The air here is warm and humid.","A strange mist hangs in the air here.","The room's surfaces are covered in frost."];return e[ro.randomNumber(e.length)]}static randomSmell(){const e=["A smell of burning hangs in the air.","The air feels stagnant.","The air smells "+this.potionSmell(),"From time to time the smell of blood catches your nostrils.","The stench of rotting meat is in the air.","The area has a strange musky smell.","You notice a strangly acrid smell throughout the area.","The area is filled with an unpleasant putrid smell."];return e[ro.randomNumber(e.length)]}static randomSound(){const e=["You can hear distant chanting.","You can hear a quiet buzzing sound.","The sound of running water fills this area.","A low humming sound can be heard.","The area is unnaturally quiet.","A quiet susurration can just be heard.","Creaking sounds fill the area.","Scratching sounds can be heard.","From time to time, a distant voice can be heard."];return e[ro.randomNumber(e.length)]}static randomActivity(){const e=["The dust swirls as if disturbed by movement.","You catch a sudden movement out of the corner of your eye.","From time to time tiny pieces of debris fall from the ceiling.","Water drips slowly from a crack in the ceiling.","Water drips down the walls."];return e[ro.randomNumber(e.length)]}static potionColour(e){let t=["red","scarlet","crimson","carmine","vermillion","pink","blue","royal blue","sky blue","light blue","dark blue","midnight blue","indigo","yellow","lemon yellow","amber","green","light green","dark green","sea green","turquoise","aquamarine","emerald","purple","lavender","lilac","mauve","orange","brown","maroon","ochre","black","dark grey","grey","light grey","off-white","white","golden","silver"];if(e&&(t=t.concat(["blood red","cherry red","ruby-coloured","rose-coloured","sapphire-coloured","straw-coloured","olive-coloured","plum-coloured","mud-coloured","cream-coloured","ivory-coloured","bronze-coloured","colourless","clear","transparent"])),e&&0===ro.randomNumber(5)){const e=ro.randomNumber(t.length),n=ro.randomNumber(t.length),r=[t[e],t[n]];return ro.sort(r,[{field:"length",dir:"asc"}]),r[0]+" and "+r[1]}return t[ro.randomNumber(t.length)]}static potionAdjective(){const e=["watery","syrupy","thick","viscous","gloopy","thin","runny","translucent","effervescent","fizzing","bubbling","foaming","volatile","smoking","fuming","vaporous","steaming","cold","icy cold","hot","sparkling","iridescent","cloudy","opalescent","luminous","phosphorescent","glowing"];return e[ro.randomNumber(e.length)]}static potionFeature(){switch(ro.randomNumber(6)){case 0:return"with "+this.potionColour(!0)+" specks";case 1:return"with flecks of "+this.potionColour(!1);case 2:{const e=this.potionColour(!0);return"with "+(lo.startsWithVowel(e)?"an":"a")+" "+e+" suspension"}case 3:return"with a floating "+this.potionColour(!0)+" layer";case 4:return"with a ribbon of "+this.potionColour(!1);case 5:return"with "+this.potionColour(!0)+" marbling"}return""}static potionLiquid(){const e=["liquid","solution","draught","oil","elixir","potion"];return e[ro.randomNumber(e.length)]}static potionContainer(){const e=["small","rounded","tall","square","irregularly-shaped","long-necked","cylindrical","round-bottomed"],t=["glass","metal","ceramic","crystal"],n=["vial","jar","bottle","flask"],r=e[ro.randomNumber(e.length)];let s=t[ro.randomNumber(t.length)];const a=n[ro.randomNumber(n.length)];0===ro.randomNumber(3)&&(s=this.potionColour(!0)+" "+s);let i="";switch(ro.randomBoolean()){case!0:i=s+" "+a;break;case!1:i=r+" "+s+" "+a}return(lo.startsWithVowel(i)?"an":"a")+" "+i}static potionSmell(){const e=["acidic","acrid","of ammonia","of apples","bitter","brackish","buttery","of cherries","delicious","earthy","of earwax","of fish","floral","of lavender","lemony","of honey","fruity","meaty","metallic","musty","of onions","of oranges","peppery","of perfume","rotten","salty","sickly sweet","starchy","sugary","smokey","sour","spicy","of sweat","sweet","unpleasant","vile","vinegary"];return e[ro.randomNumber(e.length)]}}lo.model=[],lo.maxLength=0;const Ao=["blinded","charmed","deafened","exhaustion","frightened","grappled","incapacitated","invisible","paralyzed","petrified","poisoned","prone","restrained","stunned","unconscious","custom"],co=["tiny","small","medium","large","huge","gargantuan"],uo=["aberration","beast","celestial","construct","dragon","elemental","fey","fiend","giant","humanoid","monstrosity","ooze","plant","undead"],ho=["artillery","boss","controller","skirmisher","sneak","soldier","tank"],po=["trait","action","bonus","reaction","legendary","mythic","lair"];class mo{static getTypicalHP(e){const t=(oo.hitDieType(e.size)+1)/2+oo.modifierValue(e.abilityScores.con);return Math.floor(e.hitDice*t)}static getTypicalHPString(e){const t=oo.hitDieType(e.size),n=oo.modifierValue(e.abilityScores.con)*e.hitDice;let r="";return n>0&&(r=" + "+n),n<0&&(r=" - "+Math.abs(n)),e.hitDice+"d"+t+r}static getVisionRadius(e){let t=0;const n=e.senses.match(/dark\s?vision\s+(\d+)\s?ft/i);return n&&(t=parseInt(n[1],10)),t}static nudgeValue(e,t,n){let r=e,s=null;const a=t.split(".");let i;switch(a.forEach((e=>{e===a[a.length-1]?s=r[e]:r=r[e]})),t){case"challenge":i=oo.nudgeChallenge(s,n);break;case"size":i=oo.nudgeSize(s,n);break;default:i=(s||0)+n,i=Math.max(i,0)}mo.changeValue(e,t,i)}static changeValue(e,t,n){let r=e;if("name"===t){const t=e.name.toLowerCase()||"monster",r=n.toLowerCase()||"monster";e.traits.forEach((e=>{e.text=e.text.replaceAll(" "+t," "+r),e.text=e.text.replaceAll(" "+lo.capitalise(t)," "+r)}))}const s=t.split(".");s.forEach((e=>{e===s[s.length-1]?r[e]=n:r=r[e]}))}static clear(e){e.name="",e.size="medium",e.role="",e.category="beast",e.tag="",e.alignment="",e.challenge=1,e.abilityScores.str=10,e.abilityScores.dex=10,e.abilityScores.con=10,e.abilityScores.int=10,e.abilityScores.wis=10,e.abilityScores.cha=10,e.ac=10,e.acInfo="",e.hitDice=1,e.damage.resist="",e.damage.vulnerable="",e.damage.immune="",e.savingThrows="",e.speed="",e.skills="",e.senses="",e.languages="",e.traits=[],e.conditionImmunities="",e.portrait="",e.legendaryActions=0}static copyFields(e,t){return mo.clear(e),e.name=t.name,e.size=t.size,e.role=t.role,e.category=t.category,e.tag=t.tag,e.alignment=t.alignment,e.challenge=t.challenge,e.abilityScores.str=t.abilityScores.str,e.abilityScores.dex=t.abilityScores.dex,e.abilityScores.con=t.abilityScores.con,e.abilityScores.int=t.abilityScores.int,e.abilityScores.wis=t.abilityScores.wis,e.abilityScores.cha=t.abilityScores.cha,e.ac=t.ac,e.acInfo=t.acInfo,e.hitDice=t.hitDice,e.damage.resist=t.damage.resist,e.damage.vulnerable=t.damage.vulnerable,e.damage.immune=t.damage.immune,e.savingThrows=t.savingThrows,e.speed=t.speed,e.skills=t.skills,e.senses=t.senses,e.languages=t.languages,e.conditionImmunities=t.conditionImmunities,e.portrait=t.portrait,e.legendaryActions=t.legendaryActions,t.traits.forEach((t=>{const n=JSON.parse(JSON.stringify(t));e.traits.push(n)})),e}static sortTraits(e){ro.sort(e.traits);const t=e.traits.filter((e=>e.name.toLowerCase().startsWith("multiattack"))),n=e.traits.filter((e=>!e.name.toLowerCase().startsWith("multiattack")));e.traits=t.concat(n)}static createFromJSON(e){const t=so.createMonster();t.type="monster",t.name=e.name,t.size=e.size.toLowerCase(),t.role="",t.category=e.type,t.tag=e.subtype,t.alignment=e.alignment,t.challenge=oo.parseChallenge(e.challenge_rating),t.ac=e.armor_class,t.acInfo="",t.speed=e.speed,t.senses=e.senses,t.languages=e.languages;const n=e.hit_dice.indexOf("d");t.hitDice=parseInt(e.hit_dice.substring(0,n),10),t.abilityScores.str=e.strength,t.abilityScores.dex=e.dexterity,t.abilityScores.con=e.constitution,t.abilityScores.int=e.intelligence,t.abilityScores.wis=e.wisdom,t.abilityScores.cha=e.charisma,t.damage.resist=e.damage_resistances,t.damage.vulnerable=e.damage_vulnerabilities,t.damage.immune=e.damage_immunities,t.conditionImmunities=e.condition_immunities,t.legendaryActions=0;[{field:"strength_save",text:"Strength"},{field:"dexterity_save",text:"Dexterity"},{field:"constitution_save",text:"Constitution"},{field:"intelligence_save",text:"Intelligence"},{field:"wisdom_save",text:"Wisdom"},{field:"charisma_save",text:"Charisma"}].forEach((n=>{if(e[n.field]){const r=n.text+" "+e[n.field];t.savingThrows+=""===t.savingThrows?r:", "+r}}));return[{field:"acrobatics",text:"Acrobatics"},{field:"animal_handling",text:"Animal handling"},{field:"arcana",text:"Arcana"},{field:"athletics",text:"Athletics"},{field:"deception",text:"Deception"},{field:"history",text:"History"},{field:"insight",text:"Insight"},{field:"intimidation",text:"Intimidation"},{field:"investigation",text:"Investigation"},{field:"medicine",text:"Medicine"},{field:"nature",text:"Nature"},{field:"perception",text:"Perception"},{field:"performance",text:"Performance"},{field:"persuasion",text:"Persuasion"},{field:"religion",text:"Religion"},{field:"sleight_of_hand",text:"Sleight of hand"},{field:"stealth",text:"Stealth"},{field:"survival",text:"Survival"}].forEach((n=>{if(e[n.field]){const r=n.text+" "+e[n.field];t.skills+=""===t.skills?r:", "+r}})),e.special_abilities&&e.special_abilities.forEach((e=>{const n=this.buildTrait(e,"trait");t.traits.push(n)})),e.actions&&e.actions.forEach((e=>{const n=this.buildTrait(e,"action");t.traits.push(n)})),e.reactions&&e.reactions.forEach((e=>{const n=this.buildTrait(e,"reaction");t.traits.push(n)})),e.legendary_actions&&e.legendary_actions.forEach((e=>{const n=this.buildTrait(e,"legendary");t.traits.push(n)})),t.traits.some((e=>"legendary"===e.type||"mythic"===e.type))&&(t.legendaryActions=3),t.role=this.getRole(t),t}static buildTrait(e,t){let n="",r="";const s=e.name.indexOf("(");if(-1===s)n=e.name;else{const t=e.name.indexOf(")");n=e.name.substring(0,s-1),r=e.name.substring(s+1,t).toLowerCase()}const a=e.desc.replace(/\u2022/g,"*");let i=t;return"Lair Actions"===n&&(i="lair"),0===a.indexOf("As a bonus action")&&(i="bonus"),{id:ro.guid(),type:i,name:n,usage:r,text:a,uses:0}}static import(e,t){mo.clear(t);const n=(new DOMParser).parseFromString(e,"text/html");try{t.name=n.getElementsByClassName("mon-stat-block__name")[0].innerText.trim();let e=n.getElementsByClassName("mon-stat-block__meta")[0].innerText.toLowerCase().trim();const r=e.indexOf(" ");t.size=e.substring(0,r).trim(),e=e.substring(r+1).trim();const s=e.indexOf(",");t.alignment=e.substring(s+1).trim(),e=e.substring(0,s).trim();const a=e.indexOf("("),i=e.indexOf(")");-1!==a&&-1!==i&&(t.tag=e.substring(a+1,i).trim(),e=e.substring(0,a).trim()),t.category=e}catch(r){console.error(r)}try{const e=n.getElementsByClassName("mon-stat-block__attribute");for(let n=0;n!==e.length;++n){const r=e[n],s=r.getElementsByClassName("mon-stat-block__attribute-label")[0].innerText.toLowerCase().trim(),a=r.getElementsByClassName("mon-stat-block__attribute-data-value")[0].innerText.toLowerCase().trim();switch(s){case"armor class":{t.ac=Number.parseInt(a,10);let e=r.getElementsByClassName("mon-stat-block__attribute-data-extra")[0].innerText.toLowerCase().trim();e.startsWith("(")&&(e=e.substr(1,e.length-2)),t.acInfo=e}break;case"hit points":{const e=r.getElementsByClassName("mon-stat-block__attribute-data-extra")[0].innerText.toLowerCase().trim();t.hitDice=Number.parseInt(e.substring(1,e.indexOf("d")),10)}break;case"speed":t.speed=a}}}catch(r){console.error(r)}try{const e=n.getElementsByClassName("ability-block__stat");for(let n=0;n!==e.length;++n){const r=e[n],s=r.getElementsByClassName("ability-block__heading")[0].innerText.toLowerCase().trim(),a=r.getElementsByClassName("ability-block__score")[0].innerText.toLowerCase().trim(),i=Number.parseInt(a,10);t.abilityScores[s]=i}}catch(r){console.error(r)}try{const e=n.getElementsByClassName("mon-stat-block__tidbit");for(let n=0;n!==e.length;++n){const r=e[n],s=r.getElementsByClassName("mon-stat-block__tidbit-label")[0].innerText.toLowerCase().trim(),a=r.getElementsByClassName("mon-stat-block__tidbit-data")[0].innerText.toLowerCase().trim();switch(s){case"saving throws":t.savingThrows=a;break;case"skills":t.skills=a;break;case"damage vulnerabilities":t.damage.vulnerable=a;break;case"damage resistances":t.damage.resist=a;break;case"damage immunities":t.damage.immune=a;break;case"condition immunities":t.conditionImmunities=a;break;case"senses":t.senses=a;break;case"languages":t.languages=a;break;case"challenge":{const e=a.indexOf(" ");t.challenge=Number.parseInt(a.substring(0,e),10)}}}}catch(r){console.error(r)}try{const e=n.getElementsByClassName("mon-stat-block__description-block");for(let n=0;n!==e.length;++n){const r=e[n];let s="trait";const a=r.getElementsByClassName("mon-stat-block__description-block-heading");if(a.length>0){switch(a[0].innerText.toLowerCase().trim()){case"actions":s="action";break;case"bonus actions":s="bonus";break;case"reactions":s="reaction";break;case"legendary actions":s="legendary";break;case"mythic actions":s="mythic";break;case"lair actions":s="lair"}}const i=r.getElementsByTagName("p");for(let e=0;e!==i.length;++e){let n=i[e].innerText.trim();const r=so.createTrait();r.type=s;const a=n.indexOf(".");r.text=n.substring(a+1).trim(),n=n.substring(0,a);const o=n.indexOf("("),l=n.indexOf(")");if(-1!==o&&-1!==l&&(r.usage=n.substring(o+1,l).trim(),n=n.substring(0,o).trim()),r.name=n,r.name)t.traits.push(r);else{const e=t.traits[t.traits.length-1];e.text+="\n",e.text+=r.text}}}}catch(r){console.error(r)}t.traits.some((e=>"legendary"===e.type||"mythic"===e.type))&&(t.legendaryActions=3),t.role=this.getRole(t)}static getThemes(e,t){const n=[];let r=null;if(e.forEach((e=>{e.monsters.forEach((e=>{e.id===t.monsterID&&(r=e),e.id!==t.monsterID&&"any race"===e.tag&&n.push(e)}))})),r){const e=n.filter((e=>e.challenge<=r.challenge));if(e.length>0)return e}return n}static applyTheme(e,t){const n=JSON.parse(JSON.stringify(e));return n.id=ro.guid(),""!==n.name&&""!==t.name&&(n.name=n.name+" "+t.name),t.ac>n.ac&&(n.ac=t.ac,n.acInfo=t.acInfo),n.challenge=Math.max(n.challenge,t.challenge),n.hitDice=Math.max(n.hitDice,t.hitDice),this.applyThemeAbilityScores(n,t),this.applyThemeDamageMods(n,t),this.applyThemeConditions(n,t),this.applyThemeSaves(n,t),this.applyThemeSkills(n,t),this.applyThemeSpeeds(n,t),this.applyThemeSenses(n,t),this.applyThemeTraits(e,n,t),n}static applyThemeAbilityScores(e,t){e.abilityScores.str=Math.max(e.abilityScores.str,t.abilityScores.str),e.abilityScores.dex=Math.max(e.abilityScores.dex,t.abilityScores.dex),e.abilityScores.con=Math.max(e.abilityScores.con,t.abilityScores.con),e.abilityScores.int=Math.max(e.abilityScores.int,t.abilityScores.int),e.abilityScores.wis=Math.max(e.abilityScores.wis,t.abilityScores.wis),e.abilityScores.cha=Math.max(e.abilityScores.cha,t.abilityScores.cha)}static applyThemeDamageMods(e,t){const n=this.parseDamageMods(e.damage.immune),r=this.parseDamageMods(t.damage.immune);e.damage.immune=ro.distinct(n.concat(r)).sort().join("; ");const s=this.parseDamageMods(e.damage.resist),a=this.parseDamageMods(t.damage.resist);e.damage.resist=ro.distinct(s.concat(a)).filter((t=>!e.damage.immune.includes(t))).sort().join("; ");const i=this.parseDamageMods(e.damage.vulnerable),o=this.parseDamageMods(t.damage.vulnerable);e.damage.vulnerable=ro.distinct(i.concat(o)).filter((t=>!e.damage.immune.includes(t)&&!e.damage.resist.includes(t))).sort().join("; ")}static applyThemeConditions(e,t){const n=e.conditionImmunities.split(/[,;]/).map((e=>e.trim())),r=t.conditionImmunities.split(/[,;]/).map((e=>e.trim()));e.conditionImmunities=ro.distinct(n.concat(r)).sort().join(", ")}static applyThemeSaves(e,t){const n=this.parseSavingThrows(e.savingThrows),r=this.parseSavingThrows(t.savingThrows),s=ro.sort(ro.distinct(n.concat(r)));e.savingThrows=this.stringifySavingThrows(s,e)}static applyThemeSkills(e,t){const n=this.parseSkills(e.skills),r=this.parseSkills(t.skills),s=ro.sort(ro.distinct(n.concat(r)));e.skills=this.stringifySkills(s,e)}static applyThemeSpeeds(e,t){const n=this.parseSpeeds(e.speed),r=this.parseSpeeds(t.speed),s={walk:Math.max(n.walk,r.walk),burrow:Math.max(n.burrow,r.burrow),climb:Math.max(n.climb,r.climb),fly:Math.max(n.fly,r.fly),swim:Math.max(n.swim,r.swim),hover:n.hover||r.hover};e.speed=this.stringifySpeeds(s)}static applyThemeSenses(e,t){const n=this.parseSenses(e.senses),r=this.parseSenses(t.senses),s={blindsight:Math.max(n.blindsight,r.blindsight),darkvision:Math.max(n.darkvision,r.darkvision),tremorsense:Math.max(n.tremorsense,r.tremorsense),truesight:Math.max(n.truesight,r.truesight)};e.senses=this.stringifySenses(s,e)}static applyThemeTraits(e,t,n){t.traits=[],e.traits.forEach((n=>{const r=this.copyTrait(n,t,e),s=oo.proficiency(t.challenge)-oo.proficiency(e.challenge);s>0&&(this.getToHitExpressions(r).forEach((e=>{const t="+"+(e.bonus+s)+" to hit";r.text=r.text.replaceAll(e.expression,t)})),this.getDiceExpressions(r).forEach((e=>{const t=e.count+"d"+e.sides+" + "+(e.bonus+s);r.text=r.text.replaceAll(e.expression,t)})),this.getSaveExpressions(r).forEach((e=>{const t="DC "+(e.dc+s);r.text=r.text.replaceAll(e.expression,t)})))})),n.traits.forEach((r=>{const s=this.copyTrait(r,t,n);e.traits.find((e=>e.name===r.name))&&(s.name+=" ("+(n.name||"theme")+")");const a=oo.proficiency(t.challenge)-oo.proficiency(n.challenge);a>0&&(this.getToHitExpressions(s).forEach((e=>{const t="+"+(e.bonus+a)+" to hit";s.text=s.text.replaceAll(e.expression,t)})),this.getDiceExpressions(s).forEach((e=>{const t=e.count+"d"+e.sides+" + "+(e.bonus+a);s.text=s.text.replaceAll(e.expression,t)})),this.getSaveExpressions(s).forEach((e=>{const t="DC "+(e.dc+a);s.text=s.text.replaceAll(e.expression,t)})))})),this.sortTraits(t),t.traits.some((e=>"legendary"===e.type))&&(t.legendaryActions=Math.max(t.legendaryActions,3))}static parseDamageMods(e){const t=["acid","bludgeoning","cold","fire","force","lightning","necrotic","piercing","poison","psychic","radiant","slashing","thunder"],n=[];return e.toLowerCase().split(/[;]/).map((e=>e.trim())).forEach((e=>{const r=e.split(/[,]/).map((e=>e.trim()));r.some((e=>!t.includes(e)))?n.push(e):r.forEach((e=>n.push(e)))})),n}static parseSpeeds(e){const t={walk:0,burrow:0,climb:0,fly:0,swim:0,hover:!1};return e.split(/[,;]/).map((e=>e.trim())).forEach((e=>{const n=e.match(/\d+/);if(n){const r=parseInt(n[0],10);e.startsWith("burrow")?t.burrow=r:e.startsWith("climb")?t.climb=r:e.startsWith("fly")?(t.fly=r,t.hover=e.includes("hover")):e.startsWith("swim")?t.swim=r:t.walk=r}})),t}static parseSenses(e){const t={blindsight:0,darkvision:0,tremorsense:0,truesight:0};return e.split(/[,;]/).map((e=>e.trim())).forEach((e=>{const n=e.match(/\d+/);if(n){const r=parseInt(n[0],10);e.startsWith("blindsight")?t.blindsight=r:e.startsWith("darkvision")?t.darkvision=r:e.startsWith("tremorsense")?t.tremorsense=r:e.startsWith("truesight")&&(t.truesight=r)}})),t}static parseSavingThrows(e){return[{name:"Strength",ability:"str"},{name:"Dexterity",ability:"dex"},{name:"Constitution",ability:"con"},{name:"Intelligence",ability:"int"},{name:"Wisdom",ability:"wis"},{name:"Charisma",ability:"cha"}].filter((t=>e.toLowerCase().includes(t.name.toLowerCase())))}static parseSkills(e){return[{name:"Acrobatics",ability:"dex"},{name:"Animal handling",ability:"wis"},{name:"Arcana",ability:"int"},{name:"Athletics",ability:"str"},{name:"Deception",ability:"cha"},{name:"History",ability:"int"},{name:"Insight",ability:"wis"},{name:"Intimidation",ability:"cha"},{name:"Investigation",ability:"int"},{name:"Medicine",ability:"wis"},{name:"Nature",ability:"wis"},{name:"Perception",ability:"wis"},{name:"Performance",ability:"cha"},{name:"Persuasion",ability:"cha"},{name:"Religion",ability:"int"},{name:"Sleight of hand",ability:"dex"},{name:"Stealth",ability:"dex"},{name:"Survival",ability:"wis"}].filter((t=>e.toLowerCase().includes(t.name.toLowerCase())))}static stringifySavingThrows(e,t){return e.map((e=>{const n=t.abilityScores[e.ability],r=oo.modifierValue(n)+oo.proficiency(t.challenge);return e.name+" "+(r>=0?"+":"")+r})).join(", ")}static stringifySkills(e,t){return e.map((e=>{const n=t.abilityScores[e.ability],r=oo.modifierValue(n)+oo.proficiency(t.challenge);return e.name+" "+(r>=0?"+":"")+r})).join(", ")}static stringifySpeeds(e){const t=[];return e.walk>0&&t.push(e.walk+" ft"),e.burrow>0&&t.push("burrow "+e.burrow+" ft"),e.climb>0&&t.push("climb "+e.climb+" ft"),e.fly>0&&t.push("fly "+e.fly+" ft"+(e.hover?" (hover)":"")),e.swim>0&&t.push("swim "+e.swim+" ft"),t.join(", ")}static stringifySenses(e,t){const n=[];e.blindsight>0&&n.push("blindsight "+e.blindsight+" ft"),e.darkvision>0&&n.push("darkvision "+e.darkvision+" ft"),e.tremorsense>0&&n.push("tremorsense "+e.tremorsense+" ft"),e.truesight>0&&n.push("truesight "+e.truesight+" ft");let r=n.join(", ");""!==r&&(r+=", ");let s=10+oo.modifierValue(t.abilityScores.wis);return t.skills.includes("Perception")&&(s+=oo.proficiency(t.challenge)),r+="passive Perception "+s,r}static copyTrait(e,t,n){const r=JSON.parse(JSON.stringify(e));if(r.id=ro.guid(),n){const e=n.name.toLowerCase()||"monster",s=t.name.toLowerCase()||"monster";r.text=r.text.replaceAll(" "+e," "+s),r.text=r.text.replaceAll(" "+lo.capitalise(e)," "+s)}return t.traits.push(r),r}static addTrait(e,t){const n=so.createTrait();return n.type=t,e.traits.push(n),n}static moveTrait(e,t,n){const r=e.traits.splice(t,1);e.traits.splice(n,0,...r)}static removeTrait(e,t){const n=e.traits.indexOf(t);e.traits.splice(n,1)}static swapTraits(e,t,n){const r=e.traits.indexOf(t),s=e.traits.indexOf(n);e.traits[s]=t,e.traits[r]=n}static filterMonsters(e,t,n,r,s){const a=[];return e.forEach((e=>{e.monsters.forEach((e=>{let i=!0;Math.abs(e.challenge-t)>1&&(i=!1),n&&e.size!==n&&(i=!1),r&&e.category!==r&&(i=!1),s&&e.role!==s&&(i=!1),i&&a.push(e)}))})),a}static spliceMonsters(e,t){["size","category","tag","alignment","challenge","speed","senses","languages","abilityScores.str","abilityScores.dex","abilityScores.con","abilityScores.int","abilityScores.wis","abilityScores.cha","savingThrows","skills","ac","acInfo","hitDice","damage.resist","damage.vulnerable","damage.immune","conditionImmunities"].forEach((n=>{this.setRandomValue(e,n,t)})),e.traits=[],po.forEach((n=>{const r=[];t.forEach((e=>{e.traits.filter((e=>e.type===n)).forEach((t=>r.push({trait:t,monster:e})))}));const s=[];r.forEach((e=>{const t=s.find((t=>t.trait.name===e.trait.name));t?t.count+=1:s.push({trait:e.trait,monster:e.monster,count:1})}));const a=[];s.filter((e=>e.count===t.length)).forEach((t=>{this.copyTrait(t.trait,e,t.monster),a.push(t.trait.id)})),a.forEach((e=>{const t=s.findIndex((t=>t.trait.id===e));s.splice(t,1)}));const i=r.length/t.length;for(;e.traits.filter((e=>e.type===n)).length<i;){const t=ro.randomNumber(s.length),n=s[t].trait,r=s[t].monster;this.copyTrait(n,e,r),s.splice(t,1)}})),this.sortTraits(e),e.traits.some((e=>"legendary"===e.type||"mythic"===e.type))&&(e.legendaryActions=3),e.role=this.getRole(e)}static setRandomValue(e,t,n){let r=n[ro.randomNumber(n.length)],s=null;const a=t.split(".");a.forEach((e=>{e===a[a.length-1]?s=r[e]:r=r[e]})),this.changeValue(e,t,s)}static addRandomTrait(e,t,n){const r=[];n.forEach((e=>{e.traits.filter((e=>e.type===t)).forEach((t=>{r.push({trait:t,monster:e})}))}));const s=ro.randomNumber(r.length),a=r[s];this.copyTrait(a.trait,e,a.monster)}static getToHitExpressions(e){return Array.from(e.text.matchAll(/([+-])\s*(\d+)\s*to hit/g)).map((e=>{const t=e[0];let n=parseInt(e[2],10);return"-"===e[1]&&(n*=-1),{expression:t,bonus:n}}))}static getDiceExpressions(e){return Array.from(e.text.matchAll(/(\d*)[dD](\d+)\s*(([+-])\s*(\d*))?/g)).map((e=>{var t;const n=e[0],r=null!==(t=parseInt(e[1],10))&&void 0!==t?t:1,s=parseInt(e[2],10);let a=0;return e[3]&&e[4]&&e[5]&&(a=parseInt(e[5],10),"-"===e[4]&&(a*=-1)),{expression:n,count:r,sides:s,bonus:a}}))}static getSaveExpressions(e){return Array.from(e.text.matchAll(/(dc|DC)\s*(\d+)/g)).map((e=>({expression:e[0],dc:parseInt(e[2],10)})))}static getRole(e){if(e.legendaryActions>0)return"boss";if(e.traits.some((e=>e.text.toLowerCase().includes("teleport"))))return"skirmisher";const t=e.skills.toLowerCase();if(t.includes("deception")||t.includes("stealth"))return"sneak";if(e.traits.some((e=>e.text.toLowerCase().includes("indistinguishable"))))return"sneak";const n=oo.challengeDetails().find((t=>t.cr===e.challenge));if(n){if(mo.getTypicalHP(e)>n.hpMax)return"tank";const t=e.traits.filter((e=>{const t=this.getToHitExpressions(e),r=this.getDiceExpressions(e).map((e=>e.count*(e.sides+1)/2+e.bonus)),s=this.getSaveExpressions(e);return t.some((e=>e.bonus>n.attack))||r.some((e=>e>n.dmgMax))||s.some((e=>e.dc>n.save))}));if(t.length>0){const e=t.filter((e=>{const t=e.text.toLowerCase();return t.includes("ranged")&&t.includes("attack")})).length;return e>=t.length-e?"artillery":"soldier"}}let r=0;return Ao.forEach((t=>{if("custom"!==t){e.traits.some((e=>e.text.toLowerCase().includes(t.toLowerCase())))&&(r+=1)}})),r>=2?"controller":"skirmisher"}static adjustCR(e,t){if(0===t)return e;const n=JSON.parse(JSON.stringify(e));n.challenge=Math.min(Math.max(Math.floor(e.challenge+t),0),30),n.hitDice=Math.round(e.hitDice*n.challenge/e.challenge);const r=oo.proficiency(n.challenge)-oo.proficiency(e.challenge);if(0!==r){const e=this.parseSenses(n.senses);n.senses=this.stringifySenses(e,n);const t=this.parseSkills(n.skills);n.skills=this.stringifySkills(t,n);const s=this.parseSavingThrows(n.savingThrows);n.savingThrows=this.stringifySavingThrows(s,n),n.traits.forEach((e=>{this.getToHitExpressions(e).forEach((t=>{const n="+"+(t.bonus+r)+" to hit";e.text=e.text.replaceAll(t.expression,n)})),this.getDiceExpressions(e).forEach((t=>{const n=t.count+"d"+t.sides+" + "+(t.bonus+r);e.text=e.text.replaceAll(t.expression,n)})),this.getSaveExpressions(e).forEach((t=>{const n="DC "+(t.dc+r);e.text=e.text.replaceAll(t.expression,n)}))}))}return n}}var fo=n(1052),go=n.n(fo);class vo{static getRows(e){const t=[];let n=e.scenes.slice();const r=[];for(;n.length>0;){const s=n.filter((t=>this.getScenesWithLinksTo(e,[t.id]).every((e=>r.includes(e)))));t.push(s),s.forEach((e=>r.push(e))),n=n.filter((e=>!r.includes(e)))}return t}static getPotentialLinks(e,t){const n=[];let r=[t.id];for(;r.length>0;){const t=this.getScenesWithLinksTo(e,r);r.forEach((e=>n.push(e))),r=t.map((e=>e.id))}return t.links.forEach((e=>n.push(e.sceneID))),e.scenes.filter((e=>!n.includes(e.id)))}static getScenesWithLinksTo(e,t){return e.scenes.filter((e=>e.links.some((e=>t.includes(e.sceneID)))))}static canMoveScene(e,t,n){const r=this.getRows(e).find((e=>e.includes(t)));if(r){const e=r.indexOf(t);switch(n){case"left":return 0!==e;case"right":return e!==r.length-1}}return!1}static moveScene(e,t,n){if(!this.canMoveScene(e,t,n))return;const r=this.getRows(e).find((e=>e.includes(t)));if(r){const s=r.indexOf(t);let a=null;switch(n){case"left":a=r[s-1];break;case"right":a=r[s+1]}if(a){const n=e.scenes.indexOf(t),r=e.scenes.indexOf(a);e.scenes[r]=t,e.scenes[n]=a}}}static getScenes(e){let t=e.scenes.slice();return e.scenes.forEach((e=>{t=t.concat(this.getScenes(e.plot))})),t}static getEncounterIDs(e){let t=e.resources.slice();return this.getScenes(e.plot).forEach((e=>{t=t.concat(e.resources)})),t.filter((e=>"encounter"===e.type)).map((e=>e.content))}static getReadAloudSections(e){const t=[];let n=null;return e.content.split("\n").map((e=>e.trim())).forEach((e=>{""===e?n&&(t.push(n),n=null):e.startsWith(">")?(n&&(t.push(n),n=null),n=e.substring(1).trim()):n&&(n+=" "+e)})),n&&t.push(n),t}}class yo{static allImages(){const e=[];for(let t=0;t!==window.localStorage.length;++t){const n=window.localStorage.key(t);if(n&&n.startsWith("image-")){const t=window.localStorage.getItem(n);if(t){const n=JSON.parse(t);e.push({id:n.id,name:n.name,data:n.data})}}}return ro.sort(e,[{field:"name",dir:"asc"}])}static getImage(e){let t=null;const n=window.localStorage.getItem("image-"+e);if(n){const e=JSON.parse(n);t={id:e.id,name:e.name,data:e.data}}return t}static saveImage(e,t,n){const r="image-"+e;if(null===window.localStorage.getItem(r)){const s={id:e,name:t,data:n};window.localStorage.setItem(r,JSON.stringify(s))}}static clearUnusedImages(e,t,n,r){this.allImages().forEach((s=>{let a=!1;e.forEach((e=>{e.items.find((e=>e.customBackground===s.id))&&(a=!0)})),t.forEach((e=>{null!==e.plot.map&&e.plot.map.items.find((e=>e.customBackground===s.id))&&(a=!0),vo.getScenes(e.plot).forEach((e=>{e.plot.map&&e.plot.map.items.find((e=>e.customBackground===s.id))&&(a=!0),e.resources.forEach((e=>{"image"===e.type&&e.content===s.id&&(a=!0)}))}))})),n.forEach((e=>{e.map&&e.map.items.find((e=>e.customBackground===s.id))&&(a=!0)})),r.forEach((e=>{e.map.items.find((e=>e.customBackground===s.id))&&(a=!0)})),a||window.localStorage.removeItem("image-"+s.id)}))}static takeScreenshot(e){const t=document.getElementById(e);t&&go()(t).then((e=>ro.saveImage("image.png",e)))}}class wo{static scatterCombatants(e,t,n){e.items=e.items.filter((e=>!t.map((e=>e.id)).includes(e.id)));if(e.items.filter((e=>"tile"===e.type)).length>0){let r=null;if(n){const t=e.areas.find((e=>e.id===n));t&&(r={minX:t.x,minY:t.y,maxX:t.x+t.width-1,maxY:t.y+t.height-1})}const s=r||this.mapDimensions(e.items);s&&t.forEach((n=>{const r=[];for(let a=s.minX;a<=s.maxX;++a)for(let i=s.minY;i<=s.maxY;++i){this.canAddMonsterHere(e,n,t,a,i)&&r.push({x:a,y:i})}if(r.length>0){const s=r[ro.randomNumber(r.length)],a=this.getTokenSize(n,t),i=so.createMapItem();i.id=n.id,i.type=n.type,i.x=s.x,i.y=s.y,i.z=0,i.height=a,i.width=a,i.depth=a,e.items.push(i)}}))}}static moveCombatants(e,t,n,r,s){const a=io.getMountsAndRiders(e,n).map((e=>e.id));e.forEach((e=>{a.includes(e)||a.push(e)})),a.forEach((e=>{const a={x:0,y:0,z:0,width:1,height:1,depth:1},i=r.items.find((t=>t.id===e));i&&(a.x=i.x,a.y=i.y,a.z=i.z,a.width=i.width,a.height=i.height,a.depth=i.depth);const o=n.find((t=>t.id===e));if(o){const e=Math.max(1,this.getTokenSize(o,n));a.width=e,a.height=e,a.depth=e}this.canMove(r,a,t)&&(i&&o&&o.path&&o.path.push({id:ro.guid(),x:i.x,y:i.y,z:i.z}),this.move(r,e,t,s))})),io.setMountPositions(n,r)}static canMove(e,t,n){const r=this.getWalls(e,(e=>e.blocksMovement)),s=r.horizontal.filter((e=>e.y===t.y)).filter((e=>e.start<=t.x&&e.end>t.x+Math.max(t.width,1)-1)),a=r.vertical.filter((e=>e.x===t.x+Math.max(t.width,1))).filter((e=>e.start<=t.y&&e.end>t.y+Math.max(t.height,1)-1)),i=r.horizontal.filter((e=>e.y===t.y+Math.max(t.height,1))).filter((e=>e.start<=t.x&&e.end>t.x+Math.max(t.width,1)-1)),o=r.vertical.filter((e=>e.x===t.x)).filter((e=>e.start<=t.y&&e.end>t.y+Math.max(t.height,1)-1));switch(n){case"N":return 0===s.length;case"NE":return 0===s.length&&0===a.length;case"E":return 0===a.length;case"SE":return 0===i.length&&0===a.length;case"S":return 0===i.length;case"SW":return 0===i.length&&0===o.length;case"W":return 0===o.length;case"NW":return 0===s.length&&0===o.length}return!0}static canSee(e,t,n){const r=(e,t)=>{const n=(e.b.x-e.a.x)*(t.b.y-t.a.y)-(t.b.x-t.a.x)*(e.b.y-e.a.y);if(0===n)return!1;{const r=((t.b.y-t.a.y)*(t.b.x-e.a.x)+(t.a.x-t.b.x)*(t.b.y-e.a.y))/n,s=((e.a.y-e.b.y)*(t.b.x-e.a.x)+(e.b.x-e.a.x)*(t.b.y-e.a.y))/n;return 0<=r&&r<=1&&0<=s&&s<=1}};return!(e.horizontal.some((e=>r({a:t,b:n},{a:{x:e.start,y:e.y},b:{x:e.end,y:e.y}})))||e.vertical.some((e=>r({a:t,b:n},{a:{x:e.x,y:e.start},b:{x:e.x,y:e.end}}))))}static mapDimensions(e){const t=e.filter((e=>"tile"===e.type));if(t.length>0){let e=t[0].x,n=t[0].y,r=t[0].x+t[0].width-1,s=t[0].y+t[0].height-1;return t.forEach((t=>{e=Math.min(e,t.x),n=Math.min(n,t.y),r=Math.max(r,t.x+t.width-1),s=Math.max(s,t.y+t.height-1)})),{minX:e,minY:n,maxX:r,maxY:s}}return null}static calculateDistance(e,t,n,r){let s=0;e.x>t&&(s=e.x-t),e.x+Math.max(e.width,1)-1<t&&(s=t-(e.x+Math.max(e.width,1)-1));let a=0;e.y>n&&(a=e.y-n),e.y+Math.max(e.height,1)-1<n&&(a=n-(e.y+Math.max(e.height,1)-1));let i=0;return e.z>r&&(i=e.z-r),e.z+Math.max(e.depth,1)-1<r&&(i=r-(e.z+Math.max(e.depth,1)-1)),5*Math.ceil(Math.sqrt(Math.pow(s,2)+Math.pow(a,2)+Math.pow(i,2)))}static canAddTileHere(e,t,n,r,s,a,i){const o=[],l=n-i,A=t+(r-1)+a,c=n+(s-1)+i;for(let u=t-a;u<=A;++u)for(let t=l;t<=c;++t){const n=this.itemsAt(e,u,t).every((e=>"tile"!==e.type));o.push(n)}return o.every((e=>e))}static canAddMonsterHere(e,t,n,r,s){const a=[],i=this.getTokenSize(t,n),o=r+Math.max(1,i)-1,l=s+Math.max(1,i)-1;for(let A=r;A<=o;++A)for(let t=s;t<=l;++t){const n=this.itemsAt(e,A,t),r=n.length>0&&n.every((e=>"tile"===e.type));a.push(r)}return a.every((e=>e))}static itemsAt(e,t,n){return e.items.filter((e=>{const r=e.x,s=e.x+e.width-1,a=e.y,i=e.y+e.height-1;return t>=r&&t<=s&&n>=a&&n<=i}))}static rotateMap(e){e.items.forEach((e=>{const t=-1*(e.y+e.height-1),n=e.x,r=e.height,s=e.width;e.x=t,e.y=n,e.width=r,e.height=s,e.content&&(e.content.orientation="horizontal"===e.content.orientation?"vertical":"horizontal")})),e.walls.forEach((e=>{const t=Math.min(e.pointA.x,e.pointB.x),n=Math.min(e.pointA.y,e.pointB.y),r=Math.max(e.pointA.x,e.pointB.x)-t+1,s=Math.max(e.pointA.y,e.pointB.y)-n+1,a=-1*(n+s-1),i=t,o=s,l=r;e.pointA.x=a+1,e.pointA.y=i,e.pointB.x=a+o,e.pointB.y=i+l-1})),e.areas.forEach((e=>{const t=-1*(e.y+e.height-1),n=e.x,r=e.height,s=e.width;e.x=t,e.y=n,e.width=r,e.height=s}))}static mapSize(e){return e.items.filter((e=>"tile"===e.type)).reduce(((e,t)=>e+this.mapTileSize(t)),0)}static mapTileSize(e){return"tile"===e.type?e.width*e.height:0}static generate(e,t){let n=0;for(;n<e;)this.addRoom(t)&&(n+=1);this.addWalls(t,!0,!0)}static addRoom(e){const t=so.createMapItem();t.type="tile",t.terrain="default",t.style="square",t.width=oo.dieRoll(6,2)+2,t.height=oo.dieRoll(6,2)+2;let n=null;const r=this.mapDimensions(e.items);if(r){const s=1,a=2;r.minX-=t.width+a,r.minY-=t.height+a,r.maxX+=a,r.maxY+=a;const i=[];for(let n=r.minX;n!==r.maxX;++n)for(let a=r.minY;a!==r.maxY;++a){this.canAddTileHere(e,n,a,t.width,t.height,s,s)&&i.push({x:n,y:a})}if(!(i.length>0))return!1;{const e=ro.randomNumber(i.length);t.x=i[e].x,t.y=i[e].y}const o=[];if(e.items.filter((e=>"tile"===e.type)).forEach((n=>{const r=Math.max(t.x,n.x),s=Math.min(t.x+t.width-1,n.x+n.width-1);if(s-r+1>=2){const a=Math.min(t.y+t.height-1,n.y+n.height-1)+1,i=Math.max(t.y,n.y)-1;for(let t=r;t<=s-1;++t){const n=so.createMapItem();n.type="tile",n.terrain="default",n.style="square",n.x=t,n.y=a,n.width=2,n.height=i-a+1,this.canAddTileHere(e,n.x,n.y,n.width,n.height,1,0)&&o.push({tile:n,horizontal:!1})}}const a=Math.max(t.y,n.y),i=Math.min(t.y+t.height-1,n.y+n.height-1);if(i-a+1>=2){const r=Math.min(t.x+t.width-1,n.x+n.width-1)+1,s=Math.max(t.x,n.x)-1;for(let t=a;t<=i-1;++t){const n=so.createMapItem();n.type="tile",n.terrain="default",n.style="square",n.x=r,n.y=t,n.width=s-r+1,n.height=2,this.canAddTileHere(e,n.x,n.y,n.width,n.height,0,1)&&o.push({tile:n,horizontal:!0})}}})),!(o.length>0))return!1;{const r=ro.randomNumber(o.length),s=o[r];(!s.horizontal&&s.tile.height<=4||s.horizontal&&s.tile.width<=4)&&3===oo.dieRoll(3)&&(s.tile.content={type:"stairway",style:"stairs",orientation:s.horizontal?"vertical":"horizontal"}),n=this.getRoomAdjunct(t,e),e.items.push(s.tile),e.items.push(t),n&&e.items.push(n)}}else n=this.getRoomAdjunct(t,e),e.items.push(t),n&&e.items.push(n);const s=[t];n&&s.push(n);const a=this.mapDimensions(s);if(a){const t=so.createMapArea();t.name=lo.capitalise(lo.generateRoomName()),t.x=a.minX-1,t.y=a.minY-1,t.width=a.maxX-a.minX+3,t.height=a.maxY-a.minY+3,e.areas.push(t)}return!0}static getRoomAdjunct(e,t){if(ro.randomBoolean())return null;let n=0,r=0;const s=[];switch(ro.randomNumber(2)){case 0:{n=ro.randomNumber(e.width-2)+2,r=oo.dieRoll(4,2);const a=e.width-n;for(let i=0;i!==a;++i){const a=e.x+i,o=e.y-r;this.canAddTileHere(t,a,o,n,r,1,1)&&s.push({x:a,y:o});const l=e.y+e.height;this.canAddTileHere(t,a,l,n,r,1,1)&&s.push({x:a,y:l})}}break;case 1:{n=oo.dieRoll(4,2),r=ro.randomNumber(e.height-2)+2;const a=e.height-r;for(let i=0;i!==a;++i){const a=e.y+i,o=e.x-n;this.canAddTileHere(t,o,a,n,r,1,1)&&s.push({x:o,y:a});const l=e.x+e.width;this.canAddTileHere(t,l,a,n,r,1,1)&&s.push({x:l,y:a})}}}if(s.length>0){const e=s[ro.randomNumber(s.length)],t=so.createMapItem();return t.type="tile",t.terrain="default",t.style="square",t.x=e.x,t.y=e.y,t.width=n,t.height=r,t}return null}static getViewport(e,t){if(t){const n=e.areas.find((e=>e.id===t));if(n)return{minX:n.x,minY:n.y,maxX:n.x+n.width-1,maxY:n.y+n.height-1}}return null}static add(e,t,n,r,s){let a=e.items.find((e=>e.id===t.id));if(a)t.path&&t.path.push({id:ro.guid(),x:a.x,y:a.y,z:a.z});else{a=so.createMapItem(),a.id=t.id,a.type=t.type;const r=this.getTokenSize(t,n);a.height=r,a.width=r,a.depth=r,e.items.push(a)}a.x=r,a.y=s}static move(e,t,n,r){let s=null;if(s=e.items.find((e=>e.id===t))||null,s||(s=e.areas.find((e=>e.id===t))||null),s)switch(n){case"N":s.y-=r;break;case"NE":s.x+=r,s.y-=r;break;case"E":s.x+=r;break;case"SE":s.x+=r,s.y+=r;break;case"S":s.y+=r;break;case"SW":s.x-=r,s.y+=r;break;case"W":s.x-=r;break;case"NW":s.x-=r,s.y-=r;break;case"UP":s.z+=r;break;case"DOWN":s.z-=r}}static moveWall(e,t,n){switch(t){case"N":e.pointA.y-=n,e.pointB.y-=n;break;case"NE":e.pointA.x+=n,e.pointA.y-=n,e.pointB.x+=n,e.pointB.y-=n;break;case"E":e.pointA.x+=n,e.pointB.x+=n;break;case"SE":e.pointA.x+=n,e.pointA.y+=n,e.pointB.x+=n,e.pointB.y+=n;break;case"S":e.pointA.y+=n,e.pointB.y+=n;break;case"SW":e.pointA.x-=n,e.pointA.y+=n,e.pointB.x-=n,e.pointB.y+=n;break;case"W":e.pointA.x-=n,e.pointB.x-=n;break;case"NW":e.pointA.x-=n,e.pointA.y-=n,e.pointB.x-=n,e.pointB.y-=n;break;case"UP":e.pointA.z+=n,e.pointB.z+=n;break;case"DOWN":e.pointA.z-=n,e.pointB.z-=n}}static remove(e,t){const n=e.items.find((e=>e.id===t));if(n){const t=e.items.indexOf(n);e.items.splice(t,1)}}static getDistanceBetweenItems(e,t){let n=Number.MAX_VALUE;const r=e.x+Math.max(1,e.width)-1,s=e.y+Math.max(1,e.height)-1,a=e.z+Math.max(1,e.depth)-1,i=t.x+Math.max(1,t.width)-1,o=t.y+Math.max(1,t.height)-1,l=t.z+Math.max(1,t.depth)-1;for(let A=e.x;A<=r;++A)for(let r=e.y;r<=s;++r)for(let s=e.z;s<=a;++s)for(let e=t.x;e<=i;++e)for(let a=t.y;a<=o;++a)for(let i=t.z;i<=l;++i){const t=Math.abs(A-e),o=Math.abs(r-a),l=Math.abs(s-i),c=Math.sqrt(Math.pow(t,2)+Math.pow(o,2)+Math.pow(l,2));n=Math.min(n,c)}return Math.round(2*n)/2}static getDistance(e,t,n){let r=0;const s=t.filter((e=>null!==e)).concat([e]);let a=null;return s.forEach((e=>{a&&(r+=this.getStepDistance(a,e,n)),a=e})),r}static getStepDistance(e,t,n){if(!e||!t)return 0;const r=Math.abs(e.x-t.x),s=Math.abs(e.y-t.y),a=Math.abs(e.z-t.z),i=Math.max(r,s,a);if(r>0&&s>0||r>0&&a>0||s>0&&a>0){if(i>1){const e=Math.sqrt(Math.pow(r,2)+Math.pow(s,2)+Math.pow(a,2));return Math.round(2*e)/2}switch(n){case"one":return r;case"two":return 2*r;default:return 1.5*r}}return i}static getWallOrientation(e){return e.pointA.x===e.pointB.x?"vertical":e.pointA.y===e.pointB.y?"horizontal":""}static getWallLength(e){return e.pointA.x===e.pointB.x?Math.abs(e.pointA.y-e.pointB.y):e.pointA.y===e.pointB.y?Math.abs(e.pointA.x-e.pointB.x):0}static nudgeWallLength(e,t){e.pointA.x===e.pointB.x?e.pointB.y+=t:e.pointA.y===e.pointB.y&&(e.pointB.x+=t)}static addWalls(e,t,n){const r=[],s=(e,t,s,a)=>{const i=so.createMapWall();return i.pointA={x:e,y:t,z:0},i.pointB={x:s,y:a,z:0},i.display=(()=>{const e=["door","double-door","bars"];return e[ro.randomNumber(e.length)]})(),i.blocksMovement=!1,this.getWallLength(i)<=2&&n&&r.push(i),i},a=e.items.filter((e=>"tile"===e.type));a.forEach((e=>{const n=e.y,i=e.x+e.width-1,o=e.y+e.height-1,l=e.x;let A=[],c=[],u=[],d=[];for(let t=l;t<=i;++t)A.push(t),u.push(t);for(let t=n;t<=o;++t)c.push(t),d.push(t);if(a.filter((e=>e.y+e.height-1===n-1&&e.x<=i&&e.x+e.width-1>=l)).forEach((e=>{const t=s(Math.max(l,e.x),n,Math.min(i+1,e.x+e.width),n);for(let n=t.pointA.x;n<t.pointB.x;++n)A=A.filter((e=>e!==n))})),a.filter((e=>e.x===i+1&&e.y<=o&&e.y+e.height-1>=n)).forEach((e=>{const t=s(i+1,Math.max(n,e.y),i+1,Math.min(o+1,e.y+e.height));for(let n=t.pointA.y;n<t.pointB.y;++n)c=c.filter((e=>e!==n))})),a.filter((e=>e.y===o+1&&e.x<=i&&e.x+e.width-1>=l)).forEach((e=>{const t=s(Math.max(l,e.x),o+1,Math.min(i+1,e.x+e.width),o+1);for(let n=t.pointA.x;n<t.pointB.x;++n)u=u.filter((e=>e!==n))})),a.filter((e=>e.x+e.width-1===l-1&&e.y<=o&&e.y+e.height-1>=n)).forEach((e=>{const t=s(l,Math.max(n,e.y),l,Math.min(o+1,e.y+e.height));for(let n=t.pointA.y;n<t.pointB.y;++n)d=d.filter((e=>e!==n))})),t){for(;A.length>0;){let e=A[0];A.splice(0,1);const t=so.createMapWall();for(t.pointA.x=e,t.pointA.y=n,t.pointB.x=e+1,t.pointB.y=n;A.length>0&&A[0]===e+1;)e=A[0],A.splice(0,1),t.pointB.x+=1;r.push(t)}for(;c.length>0;){let e=c[0];c.splice(0,1);const t=so.createMapWall();for(t.pointA.x=i+1,t.pointA.y=e,t.pointB.x=i+1,t.pointB.y=e+1;c.length>0&&c[0]===e+1;)e=c[0],c.splice(0,1),t.pointB.y+=1;r.push(t)}for(;u.length>0;){let e=u[0];u.splice(0,1);const t=so.createMapWall();for(t.pointA.x=e,t.pointA.y=o+1,t.pointB.x=e+1,t.pointB.y=o+1;u.length>0&&u[0]===e+1;)e=u[0],u.splice(0,1),t.pointB.x+=1;r.push(t)}for(;d.length>0;){let e=d[0];d.splice(0,1);const t=so.createMapWall();for(t.pointA.x=l,t.pointA.y=e,t.pointB.x=l,t.pointB.y=e+1;d.length>0&&d[0]===e+1;)e=d[0],d.splice(0,1),t.pointB.y+=1;r.push(t)}}})),ro.distinct(r,(e=>{const t=e;return t.pointA.x+","+t.pointA.y+","+t.pointA.z+"-"+(t.pointB.x+","+t.pointB.y+","+t.pointB.z)})).forEach((t=>e.walls.push(t)))}static getWalls(e,t){const n=[];e.walls.filter((e=>t(e))).filter((e=>"horizontal"===this.getWallOrientation(e))).map((e=>({start:Math.min(e.pointA.x,e.pointB.x),end:Math.max(e.pointA.x,e.pointB.x),y:e.pointA.y}))).forEach((e=>{const t=n.find((t=>t.y===e.y&&t.end===e.start)),r=n.find((t=>t.y===e.y&&t.start===e.end));t&&r?(t.end=r.end,n.splice(n.indexOf(r),1)):t?t.end=e.end:r?r.start=e.start:n.push(e)}));const r=[];return e.walls.filter((e=>t(e))).filter((e=>"vertical"===this.getWallOrientation(e))).map((e=>({start:Math.min(e.pointA.y,e.pointB.y),end:Math.max(e.pointA.y,e.pointB.y),x:e.pointA.x}))).forEach((e=>{const t=r.find((t=>t.x===e.x&&t.end===e.start)),n=r.find((t=>t.x===e.x&&t.start===e.end));t&&n?(t.end=n.end,r.splice(r.indexOf(n),1)):t?t.end=e.end:n?n.start=e.start:r.push(e)})),{horizontal:n,vertical:r}}static getTokenSize(e,t){let n=e.displaySize;if(e.mountID){const r=t.find((t=>t.id===e.mountID));r&&(n=r.displaySize)}return oo.miniSize(n)}}var bo=n(3639),xo=n(4414);class Bo extends c.Component{keyDown(e){"Enter"===e.key&&this.props.onPressEnter&&this.props.onPressEnter()}render(){try{let e="";return this.props.disabled&&(e="disabled"),this.props.noMargins&&(e+=" no-margins"),this.props.multiLine?(0,xo.jsx)(bo.DebounceInput,{element:"textarea",minLength:this.props.minLength,debounceTimeout:this.props.debounce?500:100,className:e,value:this.props.text,placeholder:this.props.placeholder,rows:5,onChange:e=>this.props.onChange(e.target.value)}):(0,xo.jsx)(bo.DebounceInput,{minLength:this.props.minLength,debounceTimeout:this.props.debounce?500:100,className:e,value:this.props.text,placeholder:this.props.placeholder,onChange:e=>this.props.onChange(e.target.value),onKeyDown:e=>this.keyDown(e)})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"Textbox",error:DB})}}}Bo.defaultProps={placeholder:"",multiLine:!1,minLength:0,disabled:!1,debounce:!0,noMargins:!1,onPressEnter:null};class Co extends c.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("Error recorded by ErrorBoundary:"),console.error(e.name),console.error(e.message),console.error(e.stack),console.error(t.componentStack)}render(){return this.state.error?(0,xo.jsx)(ko,{context:"ErrorBoundary",error:this.state.error}):this.props.children}}class ko extends c.Component{showError(){Ss.open({message:(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"subheading",children:"error"}),(0,xo.jsxs)("div",{className:"section",children:["in ",this.props.context]}),(0,xo.jsx)(Bo,{text:this.props.error,multiLine:!0,onChange:()=>null})]}),closeIcon:(0,xo.jsx)(Pe,{}),duration:5})}render(){return(0,xo.jsxs)("div",{className:"render-error",children:[(0,xo.jsx)("div",{className:"render-message",children:"error"}),(0,xo.jsx)("div",{className:"render-message",children:"please refresh"}),(0,xo.jsx)("button",{className:"link",onClick:()=>this.showError(),children:"details"})]})}}const So={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};var Eo=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:So}))};const jo=c.forwardRef(Eo);const Fo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M848 359.3H627.7L825.8 109c4.1-5.3.4-13-6.3-13H436c-2.8 0-5.5 1.5-6.9 4L170 547.5c-3.1 5.3.7 12 6.9 12h174.4l-89.4 357.6c-1.9 7.8 7.5 13.3 13.3 7.7L853.5 373c5.2-4.9 1.7-13.7-5.5-13.7zM378.2 732.5l60.3-241H281.1l189.6-327.4h224.6L487 427.4h211L378.2 732.5z"}}]},name:"thunderbolt",theme:"outlined"};var Io=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Fo}))};const Qo=c.forwardRef(Io);const Mo={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M689 165.1L308.2 493.5c-10.9 9.4-10.9 27.5 0 37L689 858.9c14.2 12.2 35 1.2 35-18.5V183.6c0-19.7-20.8-30.7-35-18.5z"}}]},name:"caret-left",theme:"outlined"};var Uo=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Mo}))};const No=c.forwardRef(Uo);const To={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"};var Do=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:To}))};const Ho=c.forwardRef(Do);const Lo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885 780H165c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM400 325.7h73.9V664c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V325.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 171a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13z"}}]},name:"to-top",theme:"outlined"};var Po=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Lo}))};const Oo=c.forwardRef(Po);const Ro={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"};var Vo=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Ro}))};const Ko=c.forwardRef(Vo);var zo=function(e){return e?"function"===typeof e?e():e:null};function _o(e,t,n,s){var a=r.unstable_batchedUpdates?function(e){r.unstable_batchedUpdates(n,e)}:n;return null!==e&&void 0!==e&&e.addEventListener&&e.addEventListener(t,a,s),{remove:function(){null!==e&&void 0!==e&&e.removeEventListener&&e.removeEventListener(t,a,s)}}}var Go=(0,c.forwardRef)((function(e,t){var n=e.didUpdate,s=e.getContainer,a=e.children,i=(0,c.useRef)(),o=(0,c.useRef)();(0,c.useImperativeHandle)(t,(function(){return{}}));var l=(0,c.useRef)(!1);return!l.current&&ce()&&(o.current=s(),i.current=o.current.parentNode,l.current=!0),(0,c.useEffect)((function(){null===n||void 0===n||n(e)})),(0,c.useEffect)((function(){return null===o.current.parentNode&&null!==i.current&&i.current.appendChild(o.current),function(){var e;null===(e=o.current)||void 0===e||null===(e=e.parentNode)||void 0===e||e.removeChild(o.current)}}),[]),o.current?r.createPortal(a,o.current):null}));const Wo=Go;function Yo(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}const qo=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4))};function Xo(e){var t=e.prefixCls,n=e.motion,r=e.animation,s=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:s?{motionName:s}:null)}function Jo(e){var t=e.prefixCls,n=e.visible,r=e.zIndex,s=e.mask,a=e.maskMotion,i=e.maskAnimation,o=e.maskTransitionName;if(!s)return null;var l={};return(a||o||i)&&(l=A({motionAppear:!0},Xo({motion:a,prefixCls:t,transitionName:o,animation:i}))),c.createElement(Gn,Oe({},l,{visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return c.createElement("div",{style:{zIndex:r},className:y()("".concat(t,"-mask"),n)})}))}function Zo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zo(Object(n),!0).forEach((function(t){tl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function el(e){return el="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(e)}function tl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nl,rl={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function sl(){if(void 0!==nl)return nl;nl="";var e=document.createElement("p").style;for(var t in rl)t+"Transform"in e&&(nl=t);return nl}function al(){return sl()?"".concat(sl(),"TransitionProperty"):"transitionProperty"}function il(){return sl()?"".concat(sl(),"Transform"):"transform"}function ol(e,t){var n=al();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function ll(e,t){var n=il();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var Al,cl=/matrix\((.*)\)/,ul=/matrix3d\((.*)\)/;function dl(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function hl(e,t,n){var r=n;if("object"!==el(t))return"undefined"!==typeof r?("number"===typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):Al(e,t);for(var s in t)t.hasOwnProperty(s)&&hl(e,s,t[s])}function pl(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var s=e.document;"number"!==typeof(n=s.documentElement[r])&&(n=s.body[r])}return n}function ml(e){return pl(e)}function fl(e){return pl(e,!0)}function gl(e){var t=function(e){var t,n,r,s=e.ownerDocument,a=s.body,i=s&&s.documentElement;return t=e.getBoundingClientRect(),n=Math.floor(t.left),r=Math.floor(t.top),{left:n-=i.clientLeft||a.clientLeft||0,top:r-=i.clientTop||a.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=ml(r),t.top+=fl(r),t}function vl(e){return null!==e&&void 0!==e&&e==e.window}function yl(e){return vl(e)?e.document:9===e.nodeType?e:e.ownerDocument}var wl=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),bl=/^(top|right|bottom|left)$/,xl="currentStyle",Bl="runtimeStyle",Cl="left";function kl(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function Sl(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function El(e,t,n){"static"===hl(e,"position")&&(e.style.position="relative");var r=-999,s=-999,a=kl("left",n),i=kl("top",n),o=Sl(a),l=Sl(i);"left"!==a&&(r=999),"top"!==i&&(s=999);var A="",c=gl(e);("left"in t||"top"in t)&&(A=function(e){return e.style.transitionProperty||e.style[al()]}(e)||"",ol(e,"none")),"left"in t&&(e.style[o]="",e.style[a]="".concat(r,"px")),"top"in t&&(e.style[l]="",e.style[i]="".concat(s,"px")),dl(e);var u=gl(e),d={};for(var h in t)if(t.hasOwnProperty(h)){var p=kl(h,n),m="left"===h?r:s,f=c[h]-u[h];d[p]=p===h?m+f:m-f}hl(e,d),dl(e),("left"in t||"top"in t)&&ol(e,A);var g={};for(var v in t)if(t.hasOwnProperty(v)){var y=kl(v,n),w=t[v]-c[v];g[y]=v===y?d[y]+w:d[y]-w}hl(e,g)}function jl(e,t){var n=gl(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(il());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),s={x:r.x,y:r.y};"left"in t&&(s.x=r.x+t.left-n.left),"top"in t&&(s.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(il());if(r&&"none"!==r){var s,a=r.match(cl);a?((s=(a=a[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,s[5]=t.y,ll(e,"matrix(".concat(s.join(","),")"))):((s=r.match(ul)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,s[13]=t.y,ll(e,"matrix3d(".concat(s.join(","),")")))}else ll(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,s)}function Fl(e,t){for(var n=0;n<e.length;n++)t(e[n])}function Il(e){return"border-box"===Al(e,"boxSizing")}"undefined"!==typeof window&&(Al=window.getComputedStyle?function(e,t,n){var r=n,s="",a=yl(e);return(r=r||a.defaultView.getComputedStyle(e,null))&&(s=r.getPropertyValue(t)||r[t]),s}:function(e,t){var n=e[xl]&&e[xl][t];if(wl.test(n)&&!bl.test(t)){var r=e.style,s=r[Cl],a=e[Bl][Cl];e[Bl][Cl]=e[xl][Cl],r[Cl]="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r[Cl]=s,e[Bl][Cl]=a}return""===n?"auto":n});var Ql=["margin","border","padding"],Ml=-1,Ul=2,Nl=1;function Tl(e,t,n){var r,s,a,i=0;for(s=0;s<t.length;s++)if(r=t[s])for(a=0;a<n.length;a++){var o=void 0;o="border"===r?"".concat(r).concat(n[a],"Width"):r+n[a],i+=parseFloat(Al(e,o))||0}return i}var Dl={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function Hl(e,t,n){var r=n;if(vl(e))return"width"===t?Dl.viewportWidth(e):Dl.viewportHeight(e);if(9===e.nodeType)return"width"===t?Dl.docWidth(e):Dl.docHeight(e);var s="width"===t?["Left","Right"]:["Top","Bottom"],a="width"===t?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height),i=Il(e),o=0;(null===a||void 0===a||a<=0)&&(a=void 0,(null===(o=Al(e,t))||void 0===o||Number(o)<0)&&(o=e.style[t]||0),o=Math.floor(parseFloat(o))||0),void 0===r&&(r=i?Nl:Ml);var l=void 0!==a||i,A=a||o;return r===Ml?l?A-Tl(e,["border","padding"],s):o:l?r===Nl?A:A+(r===Ul?-Tl(e,["border"],s):Tl(e,["margin"],s)):o+Tl(e,Ql.slice(r),s)}Fl(["Width","Height"],(function(e){Dl["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],Dl["viewport".concat(e)](n))},Dl["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,s=r.body,a=r.documentElement[n];return"CSS1Compat"===r.compatMode&&a||s&&s[n]||a}}));var Ll={position:"absolute",visibility:"hidden",display:"block"};function Pl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,s=t[0];return 0!==s.offsetWidth?r=Hl.apply(void 0,t):function(e,t,n){var r,s={},a=e.style;for(r in t)t.hasOwnProperty(r)&&(s[r]=a[r],a[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(a[r]=s[r])}(s,Ll,(function(){r=Hl.apply(void 0,t)})),r}function Ol(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}Fl(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Dl["outer".concat(t)]=function(t,n){return t&&Pl(t,e,n?0:Nl)};var n="width"===e?["Left","Right"]:["Top","Bottom"];Dl[e]=function(t,r){var s=r;return void 0!==s?t?(Il(t)&&(s+=Tl(t,["padding","border"],n)),hl(t,e,s)):void 0:t&&Pl(t,e,Ml)}}));var Rl={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:yl,offset:function(e,t,n){if("undefined"===typeof t)return gl(e);!function(e,t,n){if(n.ignoreShake){var r=gl(e),s=r.left.toFixed(0),a=r.top.toFixed(0),i=t.left.toFixed(0),o=t.top.toFixed(0);if(s===i&&a===o)return}n.useCssRight||n.useCssBottom?El(e,t,n):n.useCssTransform&&il()in document.body.style?jl(e,t):El(e,t,n)}(e,t,n||{})},isWindow:vl,each:Fl,css:hl,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:Ol,getWindowScrollLeft:function(e){return ml(e)},getWindowScrollTop:function(e){return fl(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)Rl.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};Ol(Rl,Dl);var Vl=Rl.getParent;function Kl(e){if(Rl.isWindow(e)||9===e.nodeType)return null;var t,n=Rl.getDocument(e).body,r=Rl.css(e,"position");if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:Vl(e);for(t=Vl(e);t&&t!==n&&9!==t.nodeType;t=Vl(t))if("static"!==(r=Rl.css(t,"position")))return t;return null}var zl=Rl.getParent;function _l(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=Kl(e),s=Rl.getDocument(e),a=s.defaultView||s.parentWindow,i=s.body,o=s.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===i||r===o||"visible"===Rl.css(r,"overflow")){if(r===i||r===o)break}else{var l=Rl.offset(r);l.left+=r.clientLeft,l.top+=r.clientTop,n.top=Math.max(n.top,l.top),n.right=Math.min(n.right,l.left+r.clientWidth),n.bottom=Math.min(n.bottom,l.top+r.clientHeight),n.left=Math.max(n.left,l.left)}r=Kl(r)}var A=null;Rl.isWindow(e)||9===e.nodeType||(A=e.style.position,"absolute"===Rl.css(e,"position")&&(e.style.position="fixed"));var c=Rl.getWindowScrollLeft(a),u=Rl.getWindowScrollTop(a),d=Rl.viewportWidth(a),h=Rl.viewportHeight(a),p=o.scrollWidth,m=o.scrollHeight,f=window.getComputedStyle(i);if("hidden"===f.overflowX&&(p=a.innerWidth),"hidden"===f.overflowY&&(m=a.innerHeight),e.style&&(e.style.position=A),t||function(e){if(Rl.isWindow(e)||9===e.nodeType)return!1;var t=Rl.getDocument(e),n=t.body,r=null;for(r=zl(e);r&&r!==n&&r!==t;r=zl(r))if("fixed"===Rl.css(r,"position"))return!0;return!1}(e))n.left=Math.max(n.left,c),n.top=Math.max(n.top,u),n.right=Math.min(n.right,c+d),n.bottom=Math.min(n.bottom,u+h);else{var g=Math.max(p,c+d);n.right=Math.min(n.right,g);var v=Math.max(m,u+h);n.bottom=Math.min(n.bottom,v)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function Gl(e){var t,n,r;if(Rl.isWindow(e)||9===e.nodeType){var s=Rl.getWindow(e);t={left:Rl.getWindowScrollLeft(s),top:Rl.getWindowScrollTop(s)},n=Rl.viewportWidth(s),r=Rl.viewportHeight(s)}else t=Rl.offset(e),n=Rl.outerWidth(e),r=Rl.outerHeight(e);return t.width=n,t.height=r,t}function Wl(e,t){var n=t.charAt(0),r=t.charAt(1),s=e.width,a=e.height,i=e.left,o=e.top;return"c"===n?o+=a/2:"b"===n&&(o+=a),"c"===r?i+=s/2:"r"===r&&(i+=s),{left:i,top:o}}function Yl(e,t,n,r,s){var a=Wl(t,n[1]),i=Wl(e,n[0]),o=[i.left-a.left,i.top-a.top];return{left:Math.round(e.left-o[0]+r[0]-s[0]),top:Math.round(e.top-o[1]+r[1]-s[1])}}function ql(e,t,n){return e.left<n.left||e.left+t.width>n.right}function Xl(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function Jl(e,t,n){var r=[];return Rl.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function Zl(e,t){return e[t]=-e[t],e}function $l(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function eA(e,t){e[0]=$l(e[0],t.width),e[1]=$l(e[1],t.height)}function tA(e,t,n,r){var s=n.points,a=n.offset||[0,0],i=n.targetOffset||[0,0],o=n.overflow,l=n.source||e;a=[].concat(a),i=[].concat(i);var A={},c=0,u=_l(l,!(!(o=o||{})||!o.alwaysByViewport)),d=Gl(l);eA(a,d),eA(i,t);var h=Yl(d,t,s,a,i),p=Rl.merge(d,h);if(u&&(o.adjustX||o.adjustY)&&r){if(o.adjustX&&ql(h,d,u)){var m=Jl(s,/[lr]/gi,{l:"r",r:"l"}),f=Zl(a,0),g=Zl(i,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(Yl(d,t,m,f,g),d,u)||(c=1,s=m,a=f,i=g)}if(o.adjustY&&Xl(h,d,u)){var v=Jl(s,/[tb]/gi,{t:"b",b:"t"}),y=Zl(a,1),w=Zl(i,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(Yl(d,t,v,y,w),d,u)||(c=1,s=v,a=y,i=w)}c&&(h=Yl(d,t,s,a,i),Rl.mix(p,h));var b=ql(h,d,u),x=Xl(h,d,u);if(b||x){var B=s;b&&(B=Jl(s,/[lr]/gi,{l:"r",r:"l"})),x&&(B=Jl(s,/[tb]/gi,{t:"b",b:"t"})),s=B,a=n.offset||[0,0],i=n.targetOffset||[0,0]}A.adjustX=o.adjustX&&b,A.adjustY=o.adjustY&&x,(A.adjustX||A.adjustY)&&(p=function(e,t,n,r){var s=Rl.clone(e),a={width:t.width,height:t.height};return r.adjustX&&s.left<n.left&&(s.left=n.left),r.resizeWidth&&s.left>=n.left&&s.left+a.width>n.right&&(a.width-=s.left+a.width-n.right),r.adjustX&&s.left+a.width>n.right&&(s.left=Math.max(n.right-a.width,n.left)),r.adjustY&&s.top<n.top&&(s.top=n.top),r.resizeHeight&&s.top>=n.top&&s.top+a.height>n.bottom&&(a.height-=s.top+a.height-n.bottom),r.adjustY&&s.top+a.height>n.bottom&&(s.top=Math.max(n.bottom-a.height,n.top)),Rl.mix(s,a)}(h,d,u,A))}return p.width!==d.width&&Rl.css(l,"width",Rl.width(l)+p.width-d.width),p.height!==d.height&&Rl.css(l,"height",Rl.height(l)+p.height-d.height),Rl.offset(l,{left:p.left,top:p.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:s,offset:a,targetOffset:i,overflow:A}}function nA(e,t,n){var r=n.target||t,s=Gl(r),a=!function(e,t){var n=_l(e,t),r=Gl(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport);return tA(e,s,n,a)}nA.__getOffsetParent=Kl,nA.__getVisibleRectForElement=_l;var rA=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var s=r[n];e.call(t,s[1],s[0])}},t}()}(),sA="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,aA="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),iA="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(aA):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var oA=["top","right","bottom","left","width","height","size","weight"],lA="undefined"!==typeof MutationObserver,AA=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,s=0;function a(){n&&(n=!1,e()),r&&o()}function i(){iA(a)}function o(){var e=Date.now();if(n){if(e-s<2)return;r=!0}else n=!0,r=!1,setTimeout(i,t);s=e}return o}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){sA&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),lA?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){sA&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,r=oA.some((function(e){return!!~n.indexOf(e)}));r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),cA=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var s=r[n];Object.defineProperty(e,s,{value:t[s],enumerable:!1,writable:!1,configurable:!0})}return e},uA=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||aA},dA=vA(0,0,0,0);function hA(e){return parseFloat(e)||0}function pA(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+hA(e["border-"+n+"-width"])}),0)}function mA(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return dA;var r=uA(e).getComputedStyle(e),s=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var s=r[n],a=e["padding-"+s];t[s]=hA(a)}return t}(r),a=s.left+s.right,i=s.top+s.bottom,o=hA(r.width),l=hA(r.height);if("border-box"===r.boxSizing&&(Math.round(o+a)!==t&&(o-=pA(r,"left","right")+a),Math.round(l+i)!==n&&(l-=pA(r,"top","bottom")+i)),!function(e){return e===uA(e).document.documentElement}(e)){var A=Math.round(o+a)-t,c=Math.round(l+i)-n;1!==Math.abs(A)&&(o-=A),1!==Math.abs(c)&&(l-=c)}return vA(s.left,s.top,o,l)}var fA="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof uA(e).SVGGraphicsElement}:function(e){return e instanceof uA(e).SVGElement&&"function"===typeof e.getBBox};function gA(e){return sA?fA(e)?function(e){var t=e.getBBox();return vA(0,0,t.width,t.height)}(e):mA(e):dA}function vA(e,t,n,r){return{x:e,y:t,width:n,height:r}}var yA=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=vA(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=gA(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),wA=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,s=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,i=Object.create(a.prototype);return cA(i,{x:t,y:n,width:r,height:s,top:n,right:t+r,bottom:s+n,left:t}),i}(t);cA(this,{target:e,contentRect:n})},bA=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new rA,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof uA(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new yA(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof uA(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new wA(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),xA="undefined"!==typeof WeakMap?new WeakMap:new rA,BA=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=AA.getInstance(),r=new bA(t,n,this);xA.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){BA.prototype[e]=function(){var t;return(t=xA.get(this))[e].apply(t,arguments)}}));const CA="undefined"!==typeof aA.ResizeObserver?aA.ResizeObserver:BA;function kA(e,t){var n=null,r=null;var s=new CA((function(e){var s=f(e,1)[0].target;if(document.documentElement.contains(s)){var a=s.getBoundingClientRect(),i=a.width,o=a.height,l=Math.floor(i),A=Math.floor(o);n===l&&r===A||Promise.resolve().then((function(){t({width:l,height:A})})),n=l,r=A}}));return e&&s.observe(e),function(){s.disconnect()}}function SA(e){return"function"!==typeof e?null:e()}function EA(e){return"object"===a(e)&&e?e:null}var jA=function(e,t){var n=e.children,r=e.disabled,s=e.target,a=e.align,i=e.onAlign,o=e.monitorWindowResize,l=e.monitorBufferTime,A=void 0===l?0:l,u=c.useRef({}),d=c.useRef(),h=c.Children.only(n),p=c.useRef({});p.current.disabled=r,p.current.target=s,p.current.align=a,p.current.onAlign=i;var m=function(e,t){var n=c.useRef(!1),r=c.useRef(null);function s(){window.clearTimeout(r.current)}return[function a(i){if(s(),n.current&&!0!==i)r.current=window.setTimeout((function(){n.current=!1,a()}),t);else{if(!1===e(i))return;n.current=!0,r.current=window.setTimeout((function(){n.current=!1}),t)}},function(){n.current=!1,s()}]}((function(){var e=p.current,t=e.disabled,n=e.target,r=e.align,s=e.onAlign,a=d.current;if(!t&&n&&a){var i,o=SA(n),l=EA(n);u.current.element=o,u.current.point=l,u.current.align=r;var A=document.activeElement;return o&&function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var s=e.getBoundingClientRect(),a=s.width,i=s.height;if(a||i)return!0}}return!1}(o)?i=nA(a,o,r):l&&(i=function(e,t,n){var r,s,a=Rl.getDocument(e),i=a.defaultView||a.parentWindow,o=Rl.getWindowScrollLeft(i),l=Rl.getWindowScrollTop(i),A=Rl.viewportWidth(i),c=Rl.viewportHeight(i),u={left:r="pageX"in t?t.pageX:o+t.clientX,top:s="pageY"in t?t.pageY:l+t.clientY,width:0,height:0},d=r>=0&&r<=o+A&&s>=0&&s<=l+c,h=[n.points[0],"cc"];return tA(e,u,$o($o({},n),{},{points:h}),d)}(a,l,r)),function(e,t){e!==document.activeElement&&ue(t,e)&&"function"===typeof e.focus&&e.focus()}(A,a),s&&i&&s(a,i),!0}return!1}),A),g=f(m,2),v=g[0],y=g[1],w=f(c.useState(),2),b=w[0],x=w[1],B=f(c.useState(),2),C=B[0],k=B[1];return Lt((function(){x(SA(s)),k(EA(s))})),c.useEffect((function(){var e,t;u.current.element===b&&((e=u.current.point)===(t=C)||e&&t&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY))&&ga(u.current.align,a)||v()})),c.useEffect((function(){return kA(d.current,v)}),[d.current]),c.useEffect((function(){return kA(b,v)}),[b]),c.useEffect((function(){r?y():v()}),[r]),c.useEffect((function(){if(o)return _o(window,"resize",v).remove}),[o]),c.useEffect((function(){return function(){y()}}),[]),c.useImperativeHandle(t,(function(){return{forceAlign:function(){return v(!0)}}})),c.isValidElement(h)&&(h=c.cloneElement(h,{ref:Ft(h.ref,d)})),h},FA=c.forwardRef(jA);FA.displayName="Align";const IA=FA;var QA=["measure","alignPre","align",null,"motion"];var MA=c.forwardRef((function(e,t){var n=e.visible,r=e.prefixCls,s=e.className,a=e.style,i=e.children,o=e.zIndex,l=e.stretch,u=e.destroyPopupOnHide,d=e.forceRender,h=e.align,p=e.point,m=e.getRootDomNode,g=e.getClassNameFromAlign,v=e.onAlign,w=e.onMouseEnter,b=e.onMouseLeave,x=e.onMouseDown,B=e.onTouchStart,C=e.onClick,k=(0,c.useRef)(),S=(0,c.useRef)(),E=f((0,c.useState)(),2),j=E[0],F=E[1],I=function(e){var t=f(c.useState({width:0,height:0}),2),n=t[0],r=t[1];return[c.useMemo((function(){var t={};if(e){var r=n.width,s=n.height;-1!==e.indexOf("height")&&s?t.height=s:-1!==e.indexOf("minHeight")&&s&&(t.minHeight=s),-1!==e.indexOf("width")&&r?t.width=r:-1!==e.indexOf("minWidth")&&r&&(t.minWidth=r)}return t}),[e,n]),function(e){var t=e.offsetWidth,n=e.offsetHeight,s=e.getBoundingClientRect(),a=s.width,i=s.height;Math.abs(t-a)<1&&Math.abs(n-i)<1&&(t=a,n=i),r({width:t,height:n})}]}(l),Q=f(I,2),M=Q[0],U=Q[1];var N=function(e,t){var n=f(Pt(null),2),r=n[0],s=n[1],a=(0,c.useRef)();function i(e){s(e,!0)}function o(){En.cancel(a.current)}return(0,c.useEffect)((function(){i("measure")}),[e]),(0,c.useEffect)((function(){"measure"===r&&t(),r&&(a.current=En(ut(At().mark((function e(){var t,n;return At().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=QA.indexOf(r),(n=QA[t+1])&&-1!==t&&i(n);case 3:case"end":return e.stop()}}),e)})))))}),[r]),(0,c.useEffect)((function(){return function(){o()}}),[]),[r,function(e){o(),a.current=En((function(){i((function(e){switch(r){case"align":return"motion";case"motion":return"stable"}return e})),null===e||void 0===e||e()}))}]}(n,(function(){l&&U(m())})),T=f(N,2),D=T[0],H=T[1],L=f((0,c.useState)(0),2),P=L[0],O=L[1],R=(0,c.useRef)();function V(){var e;null===(e=k.current)||void 0===e||e.forceAlign()}function K(e,t){var n=g(t);j!==n&&F(n),O((function(e){return e+1})),"align"===D&&(null===v||void 0===v||v(e,t))}Lt((function(){"alignPre"===D&&O(0)}),[D]),Lt((function(){"align"===D&&(P<3?V():H((function(){var e;null===(e=R.current)||void 0===e||e.call(R)})))}),[P]);var z=A({},Xo(e));function _(){return new Promise((function(e){R.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=z[e];z[e]=function(e,n){return H(),null===t||void 0===t?void 0:t(e,n)}})),c.useEffect((function(){z.motionName||"motion"!==D||H()}),[z.motionName,D]),c.useImperativeHandle(t,(function(){return{forceAlign:V,getElement:function(){return S.current}}}));var G=A(A({},M),{},{zIndex:o,opacity:"motion"!==D&&"stable"!==D&&n?0:void 0,pointerEvents:n||"stable"===D?void 0:"none"},a),W=!0;null===h||void 0===h||!h.points||"align"!==D&&"stable"!==D||(W=!1);var Y=i;return c.Children.count(i)>1&&(Y=c.createElement("div",{className:"".concat(r,"-content")},i)),c.createElement(Gn,Oe({visible:n,ref:S,leavedClassName:"".concat(r,"-hidden")},z,{onAppearPrepare:_,onEnterPrepare:_,removeOnLeave:u,forceRender:d}),(function(e,t){var n=e.className,a=e.style,i=y()(r,s,j,n);return c.createElement(IA,{target:p||m,key:"popup",ref:k,monitorWindowResize:!0,disabled:W,align:h,onAlign:K},c.createElement("div",{ref:t,className:i,onMouseEnter:w,onMouseLeave:b,onMouseDownCapture:x,onTouchStartCapture:B,onClick:C,style:A(A({},a),G)},Y))}))}));MA.displayName="PopupInner";const UA=MA;var NA=c.forwardRef((function(e,t){var n=e.prefixCls,r=e.visible,s=e.zIndex,a=e.children,i=e.mobile,o=(i=void 0===i?{}:i).popupClassName,l=i.popupStyle,u=i.popupMotion,d=void 0===u?{}:u,h=i.popupRender,p=e.onClick,m=c.useRef();c.useImperativeHandle(t,(function(){return{forceAlign:function(){},getElement:function(){return m.current}}}));var f=A({zIndex:s},l),g=a;return c.Children.count(a)>1&&(g=c.createElement("div",{className:"".concat(n,"-content")},a)),h&&(g=h(g)),c.createElement(Gn,Oe({visible:r,ref:m,removeOnLeave:!0},d),(function(e,t){var r=e.className,s=e.style,a=y()(n,o,r);return c.createElement("div",{ref:t,className:a,onClick:p,style:A(A({},s),f)},g)}))}));NA.displayName="MobilePopupInner";const TA=NA;var DA=["visible","mobile"],HA=c.forwardRef((function(e,t){var n=e.visible,r=e.mobile,s=g(e,DA),a=f((0,c.useState)(n),2),i=a[0],o=a[1],l=f((0,c.useState)(!1),2),u=l[0],d=l[1],h=A(A({},s),{},{visible:i});(0,c.useEffect)((function(){o(n),n&&r&&d(qo())}),[n,r]);var p=u?c.createElement(TA,Oe({},h,{mobile:r,ref:t})):c.createElement(UA,Oe({},h,{ref:t}));return c.createElement("div",null,c.createElement(Jo,h),p)}));HA.displayName="Popup";const LA=HA;const PA=c.createContext(null);function OA(){}function RA(){return""}function VA(e){return e?e.ownerDocument:window.document}var KA=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];const zA=function(e){var t=function(t){rt(s,t);var n=lt(s);function s(e){var t,a;return $e(this,s),o(it(t=n.call(this,e)),"popupRef",c.createRef()),o(it(t),"triggerRef",c.createRef()),o(it(t),"portalContainer",void 0),o(it(t),"attachId",void 0),o(it(t),"clickOutsideHandler",void 0),o(it(t),"touchOutsideHandler",void 0),o(it(t),"contextMenuOutsideHandler1",void 0),o(it(t),"contextMenuOutsideHandler2",void 0),o(it(t),"mouseDownTimeout",void 0),o(it(t),"focusTime",void 0),o(it(t),"preClickTime",void 0),o(it(t),"preTouchTime",void 0),o(it(t),"delayTimer",void 0),o(it(t),"hasPopupMouseDown",void 0),o(it(t),"onMouseEnter",(function(e){var n=t.props.mouseEnterDelay;t.fireEvents("onMouseEnter",e),t.delaySetPopupVisible(!0,n,n?null:e)})),o(it(t),"onMouseMove",(function(e){t.fireEvents("onMouseMove",e),t.setPoint(e)})),o(it(t),"onMouseLeave",(function(e){t.fireEvents("onMouseLeave",e),t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)})),o(it(t),"onPopupMouseEnter",(function(){t.clearDelayTimer()})),o(it(t),"onPopupMouseLeave",(function(e){var n;e.relatedTarget&&!e.relatedTarget.setTimeout&&ue(null===(n=t.popupRef.current)||void 0===n?void 0:n.getElement(),e.relatedTarget)||t.delaySetPopupVisible(!1,t.props.mouseLeaveDelay)})),o(it(t),"onFocus",(function(e){t.fireEvents("onFocus",e),t.clearDelayTimer(),t.isFocusToShow()&&(t.focusTime=Date.now(),t.delaySetPopupVisible(!0,t.props.focusDelay))})),o(it(t),"onMouseDown",(function(e){t.fireEvents("onMouseDown",e),t.preClickTime=Date.now()})),o(it(t),"onTouchStart",(function(e){t.fireEvents("onTouchStart",e),t.preTouchTime=Date.now()})),o(it(t),"onBlur",(function(e){t.fireEvents("onBlur",e),t.clearDelayTimer(),t.isBlurToHide()&&t.delaySetPopupVisible(!1,t.props.blurDelay)})),o(it(t),"onContextMenu",(function(e){e.preventDefault(),t.fireEvents("onContextMenu",e),t.setPopupVisible(!0,e)})),o(it(t),"onContextMenuClose",(function(){t.isContextMenuToShow()&&t.close()})),o(it(t),"onClick",(function(e){if(t.fireEvents("onClick",e),t.focusTime){var n;if(t.preClickTime&&t.preTouchTime?n=Math.min(t.preClickTime,t.preTouchTime):t.preClickTime?n=t.preClickTime:t.preTouchTime&&(n=t.preTouchTime),Math.abs(n-t.focusTime)<20)return;t.focusTime=0}t.preClickTime=0,t.preTouchTime=0,t.isClickToShow()&&(t.isClickToHide()||t.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var r=!t.state.popupVisible;(t.isClickToHide()&&!r||r&&t.isClickToShow())&&t.setPopupVisible(!t.state.popupVisible,e)})),o(it(t),"onPopupMouseDown",(function(){var e;(t.hasPopupMouseDown=!0,clearTimeout(t.mouseDownTimeout),t.mouseDownTimeout=window.setTimeout((function(){t.hasPopupMouseDown=!1}),0),t.context)&&(e=t.context).onPopupMouseDown.apply(e,arguments)})),o(it(t),"onDocumentClick",(function(e){if(!t.props.mask||t.props.maskClosable){var n=e.target,r=t.getRootDomNode(),s=t.getPopupDomNode();ue(r,n)&&!t.isContextMenuOnly()||ue(s,n)||t.hasPopupMouseDown||t.close()}})),o(it(t),"getRootDomNode",(function(){var e=t.props.getTriggerDOMNode;if(e)return e(t.triggerRef.current);try{var n=kt(t.triggerRef.current);if(n)return n}catch(s){}return r.findDOMNode(it(t))})),o(it(t),"getPopupClassNameFromAlign",(function(e){var n=[],r=t.props,s=r.popupPlacement,a=r.builtinPlacements,i=r.prefixCls,o=r.alignPoint,l=r.getPopupClassNameFromAlign;return s&&a&&n.push(function(e,t,n,r){for(var s=n.points,a=Object.keys(e),i=0;i<a.length;i+=1){var o=a[i];if(Yo(e[o].points,s,r))return"".concat(t,"-placement-").concat(o)}return""}(a,i,e,o)),l&&n.push(l(e)),n.join(" ")})),o(it(t),"getComponent",(function(){var e=t.props,n=e.prefixCls,r=e.destroyPopupOnHide,s=e.popupClassName,a=e.onPopupAlign,i=e.popupMotion,o=e.popupAnimation,l=e.popupTransitionName,A=e.popupStyle,u=e.mask,d=e.maskAnimation,h=e.maskTransitionName,p=e.maskMotion,m=e.zIndex,f=e.popup,g=e.stretch,v=e.alignPoint,y=e.mobile,w=e.forceRender,b=e.onPopupClick,x=t.state,B=x.popupVisible,C=x.point,k=t.getPopupAlign(),S={};return t.isMouseEnterToShow()&&(S.onMouseEnter=t.onPopupMouseEnter),t.isMouseLeaveToHide()&&(S.onMouseLeave=t.onPopupMouseLeave),S.onMouseDown=t.onPopupMouseDown,S.onTouchStart=t.onPopupMouseDown,c.createElement(LA,Oe({prefixCls:n,destroyPopupOnHide:r,visible:B,point:v&&C,className:s,align:k,onAlign:a,animation:o,getClassNameFromAlign:t.getPopupClassNameFromAlign},S,{stretch:g,getRootDomNode:t.getRootDomNode,style:A,mask:u,zIndex:m,transitionName:l,maskAnimation:d,maskTransitionName:h,maskMotion:p,ref:t.popupRef,motion:i,mobile:y,forceRender:w,onClick:b}),"function"===typeof f?f():f)})),o(it(t),"attachParent",(function(e){En.cancel(t.attachId);var n,r=t.props,s=r.getPopupContainer,a=r.getDocument,i=t.getRootDomNode();s?(i||0===s.length)&&(n=s(i)):n=a(t.getRootDomNode()).body,n?n.appendChild(e):t.attachId=En((function(){t.attachParent(e)}))})),o(it(t),"getContainer",(function(){if(!t.portalContainer){var e=(0,t.props.getDocument)(t.getRootDomNode()).createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",t.portalContainer=e}return t.attachParent(t.portalContainer),t.portalContainer})),o(it(t),"setPoint",(function(e){t.props.alignPoint&&e&&t.setState({point:{pageX:e.pageX,pageY:e.pageY}})})),o(it(t),"handlePortalUpdate",(function(){t.state.prevPopupVisible!==t.state.popupVisible&&t.props.afterPopupVisibleChange(t.state.popupVisible)})),o(it(t),"triggerContextValue",{onPopupMouseDown:t.onPopupMouseDown}),a="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,t.state={prevPopupVisible:a,popupVisible:a},KA.forEach((function(e){t["fire".concat(e)]=function(n){t.fireEvents(e,n)}})),t}return tt(s,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=_o(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=_o(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=_o(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=_o(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),En.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){return A(A({},e[t]||{}),n)}(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,s=1e3*t;if(this.clearDelayTimer(),s){var a=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,a),r.clearDelayTimer()}),s)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var t=this.state.popupVisible,n=this.props,r=n.children,s=n.forceRender,a=n.alignPoint,i=n.className,o=n.autoDestroy,l=c.Children.only(r),u={key:"trigger"};this.isContextMenuToShow()?u.onContextMenu=this.onContextMenu:u.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(u.onClick=this.onClick,u.onMouseDown=this.onMouseDown,u.onTouchStart=this.onTouchStart):(u.onClick=this.createTwoChains("onClick"),u.onMouseDown=this.createTwoChains("onMouseDown"),u.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(u.onMouseEnter=this.onMouseEnter,a&&(u.onMouseMove=this.onMouseMove)):u.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?u.onMouseLeave=this.onMouseLeave:u.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(u.onFocus=this.onFocus,u.onBlur=this.onBlur):(u.onFocus=this.createTwoChains("onFocus"),u.onBlur=this.createTwoChains("onBlur"));var d=y()(l&&l.props&&l.props.className,i);d&&(u.className=d);var h=A({},u);It(l)&&(h.ref=Ft(this.triggerRef,l.ref));var p,m=c.cloneElement(l,h);return(t||this.popupRef.current||s)&&(p=c.createElement(e,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!t&&o&&(p=null),c.createElement(PA.Provider,{value:this.triggerContextValue},m,p)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),s}(c.Component);return o(t,"contextType",PA),o(t,"defaultProps",{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:RA,getDocument:VA,onPopupVisibleChange:OA,afterPopupVisibleChange:OA,onPopupAlign:OA,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1}),t}(Wo);var _A={adjustX:1,adjustY:1},GA=[0,0],WA={left:{points:["cr","cl"],overflow:_A,offset:[-4,0],targetOffset:GA},right:{points:["cl","cr"],overflow:_A,offset:[4,0],targetOffset:GA},top:{points:["bc","tc"],overflow:_A,offset:[0,-4],targetOffset:GA},bottom:{points:["tc","bc"],overflow:_A,offset:[0,4],targetOffset:GA},topLeft:{points:["bl","tl"],overflow:_A,offset:[0,-4],targetOffset:GA},leftTop:{points:["tr","tl"],overflow:_A,offset:[-4,0],targetOffset:GA},topRight:{points:["br","tr"],overflow:_A,offset:[0,-4],targetOffset:GA},rightTop:{points:["tl","tr"],overflow:_A,offset:[4,0],targetOffset:GA},bottomRight:{points:["tr","br"],overflow:_A,offset:[0,4],targetOffset:GA},rightBottom:{points:["bl","br"],overflow:_A,offset:[4,0],targetOffset:GA},bottomLeft:{points:["tl","bl"],overflow:_A,offset:[0,4],targetOffset:GA},leftBottom:{points:["br","bl"],overflow:_A,offset:[-4,0],targetOffset:GA}};function YA(e){var t=e.showArrow,n=e.arrowContent,r=e.children,s=e.prefixCls,a=e.id,i=e.overlayInnerStyle,o=e.className,l=e.style;return c.createElement("div",{className:y()("".concat(s,"-content"),o),style:l},!1!==t&&c.createElement("div",{className:"".concat(s,"-arrow"),key:"arrow"},n),c.createElement("div",{className:"".concat(s,"-inner"),id:a,role:"tooltip",style:i},"function"===typeof r?r():r))}var qA=function(e,t){var n=e.overlayClassName,r=e.trigger,s=void 0===r?["hover"]:r,i=e.mouseEnterDelay,o=void 0===i?0:i,l=e.mouseLeaveDelay,u=void 0===l?.1:l,d=e.overlayStyle,h=e.prefixCls,p=void 0===h?"rc-tooltip":h,m=e.children,f=e.onVisibleChange,v=e.afterVisibleChange,y=e.transitionName,w=e.animation,b=e.motion,x=e.placement,B=void 0===x?"right":x,C=e.align,k=void 0===C?{}:C,S=e.destroyTooltipOnHide,E=void 0!==S&&S,j=e.defaultVisible,F=e.getTooltipContainer,I=e.overlayInnerStyle,Q=e.arrowContent,M=e.overlay,U=e.id,N=e.showArrow,T=g(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"]),D=(0,c.useRef)(null);(0,c.useImperativeHandle)(t,(function(){return D.current}));var H=A({},T);"visible"in e&&(H.popupVisible=e.visible);var L=!1,P=!1;if("boolean"===typeof E)L=E;else if(E&&"object"===a(E)){var O=E.keepParent;L=!0===O,P=!1===O}return c.createElement(zA,Oe({popupClassName:n,prefixCls:p,popup:function(){return c.createElement(YA,{showArrow:N,arrowContent:Q,key:"content",prefixCls:p,id:U,overlayInnerStyle:I},M)},action:s,builtinPlacements:WA,popupPlacement:B,ref:D,popupAlign:k,getPopupContainer:F,onPopupVisibleChange:f,afterPopupVisibleChange:v,popupTransitionName:y,popupAnimation:w,popupMotion:b,defaultPopupVisible:j,destroyPopupOnHide:L,autoDestroy:P,mouseLeaveDelay:u,popupStyle:d,mouseEnterDelay:o},H),m)};const XA=(0,c.forwardRef)(qA);var JA=Ts("success","processing","error","default","warning"),ZA=Ts("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"),$A={adjustX:1,adjustY:1},ec={adjustX:0,adjustY:0},tc=[0,0];function nc(e){return"boolean"===typeof e?e?$A:ec:Oe(Oe({},ec),e)}var rc=c.isValidElement;function sc(e){return e&&rc(e)&&e.type===c.Fragment}function ac(e,t){return function(e,t,n){return rc(e)?c.cloneElement(e,"function"===typeof n?n(e.props||{}):n):t}(e,e,t)}var ic=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},oc=new RegExp("^(".concat(ZA.join("|"),")(-inverse)?$"));function lc(e,t){var n=e.type;if((!0===n.__ANT_BUTTON||"button"===e.type)&&e.props.disabled||!0===n.__ANT_SWITCH&&(e.props.disabled||e.props.loading)||!0===n.__ANT_RADIO&&e.props.disabled){var r=function(e,t){var n={},r=Oe({},e);return t.forEach((function(t){e&&t in e&&(n[t]=e[t],delete r[t])})),{picked:n,omitted:r}}(e.props.style,["position","left","right","top","bottom","float","display","zIndex"]),s=r.picked,a=r.omitted,i=Oe(Oe({display:"inline-block"},s),{cursor:"not-allowed",width:e.props.block?"100%":void 0}),o=ac(e,{style:Oe(Oe({},a),{pointerEvents:"none"}),className:null});return c.createElement("span",{style:i,className:y()(e.props.className,"".concat(t,"-disabled-compatible-wrapper"))},o)}return e}var Ac=c.forwardRef((function(e,t){var n=c.useContext(jr),r=n.getPopupContainer,s=n.getPrefixCls,a=n.direction;var i=f(Rt(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),2),l=i[0],A=i[1],u=function(){var t=e.title,n=e.overlay;return!t&&!n&&0!==t},d=function(){var t=e.builtinPlacements,n=e.arrowPointAtCenter,r=void 0!==n&&n,s=e.autoAdjustOverflow;return t||function(e){var t=e.arrowWidth,n=void 0===t?4:t,r=e.horizontalArrowShift,s=void 0===r?16:r,a=e.verticalArrowShift,i=void 0===a?8:a,o=e.autoAdjustOverflow,l=e.arrowPointAtCenter,A={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(s+n),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(i+n)]},topRight:{points:["br","tc"],offset:[s+n,-4]},rightTop:{points:["tl","cr"],offset:[4,-(i+n)]},bottomRight:{points:["tr","bc"],offset:[s+n,4]},rightBottom:{points:["bl","cr"],offset:[4,i+n]},bottomLeft:{points:["tl","bc"],offset:[-(s+n),4]},leftBottom:{points:["br","cl"],offset:[-4,i+n]}};return Object.keys(A).forEach((function(e){A[e]=l?Oe(Oe({},A[e]),{overflow:nc(o),targetOffset:tc}):Oe(Oe({},WA[e]),{overflow:nc(o)}),A[e].ignoreShake=!0})),A}({arrowPointAtCenter:r,autoAdjustOverflow:void 0===s||s})},h=e.getPopupContainer,p=e.placement,m=void 0===p?"top":p,g=e.mouseEnterDelay,v=void 0===g?.1:g,w=e.mouseLeaveDelay,b=void 0===w?.1:w,x=ic(e,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay"]),B=e.prefixCls,C=e.openClassName,k=e.getTooltipContainer,S=e.overlayClassName,E=e.color,j=e.overlayInnerStyle,F=e.children,I=s("tooltip",B),Q=s(),M=l;"open"in e||"visible"in e||!u()||(M=!1);var U=lc(rc(F)&&!sc(F)?F:c.createElement("span",null,F),I),N=U.props,T=N.className&&"string"!==typeof N.className?N.className:y()(N.className,o({},C||"".concat(I,"-open"),!0)),D=y()(S,o(o({},"".concat(I,"-rtl"),"rtl"===a),"".concat(I,"-").concat(E),E&&oc.test(E))),H=j,L={};return E&&!oc.test(E)&&(H=Oe(Oe({},j),{background:E}),L={"--antd-arrow-background-color":E}),c.createElement(XA,Oe({},x,{placement:m,mouseEnterDelay:v,mouseLeaveDelay:b,prefixCls:I,overlayClassName:D,getTooltipContainer:h||k||r,ref:t,builtinPlacements:d(),overlay:function(){var t=e.title,n=e.overlay;return 0===t?t:n||t||""}(),visible:M,onVisibleChange:function(t){var n,r;A(!u()&&t),u()||(null===(n=e.onOpenChange)||void 0===n||n.call(e,t),null===(r=e.onVisibleChange)||void 0===r||r.call(e,t))},onPopupAlign:function(e,t){var n=d(),r=Object.keys(n).find((function(e){var r,s;return n[e].points[0]===(null===(r=t.points)||void 0===r?void 0:r[0])&&n[e].points[1]===(null===(s=t.points)||void 0===s?void 0:s[1])}));if(r){var s=e.getBoundingClientRect(),a={top:"50%",left:"50%"};/top|Bottom/.test(r)?a.top="".concat(s.height-t.offset[1],"px"):/Top|bottom/.test(r)&&(a.top="".concat(-t.offset[1],"px")),/left|Right/.test(r)?a.left="".concat(s.width-t.offset[0],"px"):/right|Left/.test(r)&&(a.left="".concat(-t.offset[0],"px")),e.style.transformOrigin="".concat(a.left," ").concat(a.top)}},overlayInnerStyle:H,arrowContent:c.createElement("span",{className:"".concat(I,"-arrow-content"),style:L}),motion:{motionName:Li(Q,"zoom-big-fast",e.transitionName),motionDeadline:1e3}}),M?ac(U,{className:T}):U)}));const cc=Ac;var uc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},dc=function(e){var t=e.title,n=e.content,r=e.prefixCls;return c.createElement(c.Fragment,null,t&&c.createElement("div",{className:"".concat(r,"-title")},zo(t)),c.createElement("div",{className:"".concat(r,"-inner-content")},zo(n)))},hc=c.forwardRef((function(e,t){var n=e.prefixCls,r=e.title,s=e.content,a=e._overlay,i=e.placement,o=void 0===i?"top":i,l=e.trigger,A=void 0===l?"hover":l,u=e.mouseEnterDelay,d=void 0===u?.1:u,h=e.mouseLeaveDelay,p=void 0===h?.1:h,m=e.overlayStyle,f=void 0===m?{}:m,g=uc(e,["prefixCls","title","content","_overlay","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),v=c.useContext(jr).getPrefixCls,y=v("popover",n),w=v(),b=c.useMemo((function(){return a||(r||s?c.createElement(dc,{prefixCls:y,title:r,content:s}):null)}),[a,r,s,y]);return c.createElement(cc,Oe({placement:o,trigger:A,mouseEnterDelay:d,mouseLeaveDelay:p,overlayStyle:f},g,{prefixCls:y,ref:t,overlay:b,transitionName:Li(w,"zoom-big",g.transitionName)}))}));const pc=hc;var mc=n(65);function fc(e,t){var n=Object.assign({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}var gc,vc=0,yc={};function wc(e){var t=vc++,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return yc[t]=En((function r(){(n-=1)<=0?(e(),delete yc[t]):yc[t]=En(r)})),t}function bc(e){return!e||null===e.offsetParent||e.hidden}wc.cancel=function(e){void 0!==e&&(En.cancel(yc[e]),delete yc[e])},wc.ids=yc;var xc=function(e){function t(){var e,n,r,s;return $e(this,t),n=this,s=arguments,r=st(r=t),(e=ot(n,at()?Reflect.construct(r,s||[],st(n).constructor):r.apply(n,s))).containerRef=c.createRef(),e.animationStart=!1,e.destroyed=!1,e.onClick=function(t,n){var r,s,a=e.props,i=a.insertExtraNode;if(!a.disabled&&t&&!bc(t)&&!t.className.includes("-leave")){e.extraNode=document.createElement("div");var o=it(e).extraNode,l=e.context.getPrefixCls;o.className="".concat(l(""),"-click-animating-node");var A=e.getAttributeName();if(t.setAttribute(A,"true"),n&&"#fff"!==n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&"rgba(255, 255, 255, 1)"!==n&&function(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&"transparent"!==n){o.style.borderColor=n;var c=(null===(r=t.getRootNode)||void 0===r?void 0:r.call(t))||t.ownerDocument,u=null!==(s=function(e){return e instanceof Document?e.body:Array.from(e.childNodes).find((function(e){return(null===e||void 0===e?void 0:e.nodeType)===Node.ELEMENT_NODE}))}(c))&&void 0!==s?s:c;gc=xe("\n      [".concat(l(""),"-click-animating-without-extra-node='true']::after, .").concat(l(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(n,";\n      }"),"antd-wave",{csp:e.csp,attachTo:u})}i&&t.appendChild(o),["transition","animation"].forEach((function(n){t.addEventListener("".concat(n,"start"),e.onTransitionStart),t.addEventListener("".concat(n,"end"),e.onTransitionEnd)}))}},e.onTransitionStart=function(t){if(!e.destroyed){var n=e.containerRef.current;t&&t.target===n&&!e.animationStart&&e.resetEffect(n)}},e.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&e.resetEffect(t.target)},e.bindAnimationEvent=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!t.className.includes("disabled")){var n=function(n){if("INPUT"!==n.target.tagName&&!bc(n.target)){e.resetEffect(t);var r=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout((function(){return e.onClick(t,r)}),0),wc.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=wc((function(){e.animationStart=!1}),10)}};return t.addEventListener("click",n,!0),{cancel:function(){t.removeEventListener("click",n,!0)}}}},e.renderWave=function(t){var n=t.csp,r=e.props.children;if(e.csp=n,!c.isValidElement(r))return r;var s=e.containerRef;return It(r)&&(s=Ft(r.ref,e.containerRef)),ac(r,{ref:s})},e}return rt(t,e),tt(t,[{key:"componentDidMount",value:function(){this.destroyed=!1;var e=this.containerRef.current;e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var e=this.context.getPrefixCls,t=this.props.insertExtraNode;return"".concat(e(""),t?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(e){var t=this;if(e&&e!==this.extraNode&&e instanceof Element){var n=this.props.insertExtraNode,r=this.getAttributeName();e.setAttribute(r,"false"),gc&&(gc.innerHTML=""),n&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),["transition","animation"].forEach((function(n){e.removeEventListener("".concat(n,"start"),t.onTransitionStart),e.removeEventListener("".concat(n,"end"),t.onTransitionEnd)}))}}},{key:"render",value:function(){return c.createElement(Fr,null,this.renderWave)}}]),t}(c.Component);xc.contextType=jr;const Bc=xc;var Cc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const kc=function(e){var t=e.prefixCls,n=e.className,r=e.checked,s=e.onChange,a=e.onClick,i=Cc(e,["prefixCls","className","checked","onChange","onClick"]),l=(0,c.useContext(jr).getPrefixCls)("tag",t),A=y()(l,o(o({},"".concat(l,"-checkable"),!0),"".concat(l,"-checkable-checked"),r),n);return c.createElement("span",Oe({},i,{className:A,onClick:function(e){null===s||void 0===s||s(!r),null===a||void 0===a||a(e)}}))};var Sc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},Ec=new RegExp("^(".concat(ZA.join("|"),")(-inverse)?$")),jc=new RegExp("^(".concat(JA.join("|"),")$")),Fc=function(e,t){var n=e.prefixCls,r=e.className,s=e.style,a=e.children,i=e.icon,l=e.color,A=e.onClose,u=e.closeIcon,d=e.closable,h=void 0!==d&&d,p=Sc(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),m=c.useContext(jr),g=m.getPrefixCls,v=m.direction,w=f(c.useState(!0),2),b=w[0],x=w[1];c.useEffect((function(){"visible"in p&&x(p.visible)}),[p.visible]);var B=function(){return!!l&&(Ec.test(l)||jc.test(l))},C=Oe({backgroundColor:l&&!B()?l:void 0},s),k=B(),S=g("tag",n),E=y()(S,o(o(o(o({},"".concat(S,"-").concat(l),k),"".concat(S,"-has-color"),l&&!k),"".concat(S,"-hidden"),!b),"".concat(S,"-rtl"),"rtl"===v),r),j=function(e){e.stopPropagation(),null===A||void 0===A||A(e),e.defaultPrevented||"visible"in p||x(!1)},F="onClick"in p||a&&"a"===a.type,I=fc(p,["visible"]),Q=i||null,M=Q?c.createElement(c.Fragment,null,Q,c.createElement("span",null,a)):a,U=c.createElement("span",Oe({},I,{ref:t,className:E,style:C}),M,h?u?c.createElement("span",{className:"".concat(S,"-close-icon"),onClick:j},u):c.createElement(Ge,{className:"".concat(S,"-close-icon"),onClick:j}):null);return F?c.createElement(Bc,null,U):U},Ic=c.forwardRef(Fc);Ic.CheckableTag=kc;const Qc=Ic;class Mc extends c.Component{render(){try{return(0,xo.jsxs)("div",{className:"statistic",children:[(0,xo.jsx)("div",{className:"statistic-prefix",children:this.props.prefix}),(0,xo.jsx)("div",{className:"statistic-label",children:this.props.label}),(0,xo.jsx)("div",{className:"statistic-value",children:this.props.value}),(0,xo.jsx)("div",{className:"statistic-suffix",children:this.props.suffix})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"Statistic",error:DB})}}}Mc.defaultProps={prefix:null,suffix:null};class Uc extends c.Component{constructor(e){super(e),this.state={showAbilityScores:!1}}toggleAbilityScores(){this.setState({showAbilityScores:!this.state.showAbilityScores})}roll(e,t,n){e.stopPropagation();let r="";switch(t){case"str":r="strength";break;case"dex":r="dexterity";break;case"con":r="constitution";break;case"int":r="intelligence";break;case"wis":r="wisdom";break;case"cha":r="charisma"}const s=this.props.combatant.abilityScores[t],a=oo.modifierValue(s);this.props.onRollDice(r,1,20,a,n)}getAbilityScore(e){const t=this.props.combatant.abilityScores[e],n=oo.modifier(t),r=(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"ability-heading",children:e}),(0,xo.jsx)("div",{className:"ability-value",children:(0,xo.jsx)("div",{children:this.state.showAbilityScores?t:n})})]});return this.props.showRollButtons?(0,xo.jsx)(pc,{content:(0,xo.jsxs)("div",{children:[(0,xo.jsx)("button",{onClick:t=>this.roll(t,e,"advantage"),children:"adv"}),(0,xo.jsx)("button",{onClick:t=>this.roll(t,e,"disadvantage"),children:"dis"})]}),trigger:"contextMenu",children:(0,xo.jsx)("div",{className:"ability-score link",onClick:t=>this.roll(t,e,""),role:"button",children:r})}):(0,xo.jsx)("div",{className:"ability-score",children:r})}render(){try{return(0,xo.jsxs)("div",{className:"ability-scores",onClick:()=>this.toggleAbilityScores(),role:"button",children:[this.getAbilityScore("str"),this.getAbilityScore("dex"),this.getAbilityScore("con"),this.getAbilityScore("int"),this.getAbilityScore("wis"),this.getAbilityScore("cha")]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"AbilityScorePanel",error:DB})}}}Uc.defaultProps={showRollButtons:!1,onRollDice:null};const Nc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};var Tc=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Nc}))};const Dc=c.forwardRef(Tc);function Hc(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(DB){return t}}function Lc(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t)});var n=new FormData;e.data&&Object.keys(e.data).forEach((function(t){var r=e.data[t];Array.isArray(r)?r.forEach((function(e){n.append("".concat(t,"[]"),e)})):n.append(t,r)})),e.file instanceof Blob?n.append(e.filename,e.file,e.file.name):n.append(e.filename,e.file),t.onerror=function(t){e.onError(t)},t.onload=function(){return t.status<200||t.status>=300?e.onError(function(e,t){var n="cannot ".concat(e.method," ").concat(e.action," ").concat(t.status,"'"),r=new Error(n);return r.status=t.status,r.method=e.method,r.url=e.action,r}(e,t),Hc(t)):e.onSuccess(Hc(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var r=e.headers||{};return null!==r["X-Requested-With"]&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r).forEach((function(e){null!==r[e]&&t.setRequestHeader(e,r[e])})),t.send(n),{abort:function(){t.abort()}}}var Pc=+new Date,Oc=0;function Rc(){return"rc-upload-".concat(Pc,"-").concat(++Oc)}const Vc=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",s=e.type||"",a=s.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim();if(/^\*(\/\*)?$/.test(e))return!0;if("."===t.charAt(0)){var n=r.toLowerCase(),i=t.toLowerCase(),o=[i];return".jpg"!==i&&".jpeg"!==i||(o=[".jpg",".jpeg"]),o.some((function(e){return n.endsWith(e)}))}return/\/\*$/.test(t)?a===t.replace(/\/.*$/,""):s===t||!!/^\w+$/.test(t)&&(Ae(!1,"Upload takes an invalidate 'accept' type '".concat(t,"'.Skip for check.")),!0)}))}return!0};const Kc=function(e,t,n){var r=function e(r,s){r&&(r.path=s||"",r.isFile?r.file((function(e){n(e)&&(r.fullPath&&!e.webkitRelativePath&&(Object.defineProperties(e,{webkitRelativePath:{writable:!0}}),e.webkitRelativePath=r.fullPath.replace(/^\//,""),Object.defineProperties(e,{webkitRelativePath:{writable:!1}})),t([e]))})):r.isDirectory&&function(e,t){var n=e.createReader(),r=[];!function e(){n.readEntries((function(n){var s=Array.prototype.slice.apply(n);r=r.concat(s),s.length?e():t(r)}))}()}(r,(function(t){t.forEach((function(t){e(t,"".concat(s).concat(r.name,"/"))}))})))};e.forEach((function(e){r(e.webkitGetAsEntry())}))};var zc=["component","prefixCls","className","disabled","id","style","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave"],_c=function(e){rt(n,e);var t=lt(n);function n(){var e;$e(this,n);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={uid:Rc()},e.reqs={},e.fileInput=void 0,e._isMounted=void 0,e.onChange=function(t){var n=e.props,r=n.accept,s=n.directory,a=Kt(t.target.files).filter((function(e){return!s||Vc(e,r)}));e.uploadFiles(a),e.reset()},e.onClick=function(t){var n=e.fileInput;if(n){var r=t.target,s=e.props.onClick;if(r&&"BUTTON"===r.tagName)n.parentNode.focus(),r.blur();n.click(),s&&s(t)}},e.onKeyDown=function(t){"Enter"===t.key&&e.onClick(t)},e.onFileDrop=function(t){var n=e.props.multiple;if(t.preventDefault(),"dragover"!==t.type)if(e.props.directory)Kc(Array.prototype.slice.call(t.dataTransfer.items),e.uploadFiles,(function(t){return Vc(t,e.props.accept)}));else{var r=Kt(t.dataTransfer.files).filter((function(t){return Vc(t,e.props.accept)}));!1===n&&(r=r.slice(0,1)),e.uploadFiles(r)}},e.uploadFiles=function(t){var n=Kt(t),r=n.map((function(t){return t.uid=Rc(),e.processFile(t,n)}));Promise.all(r).then((function(t){var n=e.props.onBatchStart;null===n||void 0===n||n(t.map((function(e){return{file:e.origin,parsedFile:e.parsedFile}}))),t.filter((function(e){return null!==e.parsedFile})).forEach((function(t){e.post(t)}))}))},e.processFile=function(){var t=ut(At().mark((function t(n,r){var s,i,o,l,A,c,u,d,h;return At().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=e.props.beforeUpload,i=n,!s){t.next=14;break}return t.prev=3,t.next=6,s(n,r);case 6:i=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),i=!1;case 12:if(!1!==i){t.next=14;break}return t.abrupt("return",{origin:n,parsedFile:null,action:null,data:null});case 14:if("function"!==typeof(o=e.props.action)){t.next=21;break}return t.next=18,o(n);case 18:l=t.sent,t.next=22;break;case 21:l=o;case 22:if("function"!==typeof(A=e.props.data)){t.next=29;break}return t.next=26,A(n);case 26:c=t.sent,t.next=30;break;case 29:c=A;case 30:return u="object"!==a(i)&&"string"!==typeof i||!i?n:i,d=u instanceof File?u:new File([u],n.name,{type:n.type}),(h=d).uid=n.uid,t.abrupt("return",{origin:n,data:c,parsedFile:h,action:l});case 35:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e,n){return t.apply(this,arguments)}}(),e.saveFileInput=function(t){e.fileInput=t},e}return tt(n,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(e){var t=this,n=e.data,r=e.origin,s=e.action,a=e.parsedFile;if(this._isMounted){var i=this.props,o=i.onStart,l=i.customRequest,A=i.name,c=i.headers,u=i.withCredentials,d=i.method,h=r.uid,p=l||Lc,m={action:s,filename:A,data:n,file:a,headers:c,withCredentials:u,method:d||"post",onProgress:function(e){var n=t.props.onProgress;null===n||void 0===n||n(e,a)},onSuccess:function(e,n){var r=t.props.onSuccess;null===r||void 0===r||r(e,a,n),delete t.reqs[h]},onError:function(e,n){var r=t.props.onError;null===r||void 0===r||r(e,n,a),delete t.reqs[h]}};o(r),this.reqs[h]=p(m)}}},{key:"reset",value:function(){this.setState({uid:Rc()})}},{key:"abort",value:function(e){var t=this.reqs;if(e){var n=e.uid?e.uid:e;t[n]&&t[n].abort&&t[n].abort(),delete t[n]}else Object.keys(t).forEach((function(e){t[e]&&t[e].abort&&t[e].abort(),delete t[e]}))}},{key:"render",value:function(){var e=this.props,t=e.component,n=e.prefixCls,r=e.className,s=e.disabled,a=e.id,i=e.style,l=e.multiple,A=e.accept,u=e.capture,d=e.children,h=e.directory,p=e.openFileDialogOnClick,m=e.onMouseEnter,f=e.onMouseLeave,v=g(e,zc),w=y()(o(o(o({},n,!0),"".concat(n,"-disabled"),s),r,r)),b=h?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},x=s?{}:{onClick:p?this.onClick:function(){},onKeyDown:p?this.onKeyDown:function(){},onMouseEnter:m,onMouseLeave:f,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:"0"};return c.createElement(t,Oe({},x,{className:w,role:"button",style:i}),c.createElement("input",Oe({},oa(v,{aria:!0,data:!0}),{id:a,disabled:s,type:"file",ref:this.saveFileInput,onClick:function(e){return e.stopPropagation()},key:this.state.uid,style:{display:"none"},accept:A},b,{multiple:l,onChange:this.onChange},null!=u?{capture:u}:{})),d)}}]),n}(c.Component);const Gc=_c;function Wc(){}var Yc=function(e){rt(n,e);var t=lt(n);function n(){var e;$e(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).uploader=void 0,e.saveUploader=function(t){e.uploader=t},e}return tt(n,[{key:"abort",value:function(e){this.uploader.abort(e)}},{key:"render",value:function(){return c.createElement(Gc,Oe({},this.props,{ref:this.saveUploader}))}}]),n}(c.Component);Yc.defaultProps={component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:Wc,onError:Wc,onSuccess:Wc,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0};const qc=Yc;const Xc={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:t}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:e}}]}},name:"file",theme:"twotone"};var Jc=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Xc}))};const Zc=c.forwardRef(Jc);const $c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"};var eu=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:$c}))};const tu=c.forwardRef(eu);const nu={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:e}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:t}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:t}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:t}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:e}}]}},name:"picture",theme:"twotone"};var ru=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:nu}))};const su=c.forwardRef(ru);var au=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},iu=c.createContext(void 0);const ou=function(e){var t=c.useContext(jr),n=t.getPrefixCls,r=t.direction,s=e.prefixCls,a=e.size,i=e.className,l=au(e,["prefixCls","size","className"]),A=n("btn-group",s),u="";switch(a){case"large":u="lg";break;case"small":u="sm"}var d=y()(A,o(o({},"".concat(A,"-").concat(u),u),"".concat(A,"-rtl"),"rtl"===r),i);return c.createElement(iu.Provider,{value:a},c.createElement("div",Oe({},l,{className:d})))};var lu=function(){return{width:0,opacity:0,transform:"scale(0)"}},Au=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}};const cu=function(e){var t=e.prefixCls,n=!!e.loading;return e.existIcon?c.createElement("span",{className:"".concat(t,"-loading-icon")},c.createElement(Sr,null)):c.createElement(Gn,{visible:n,motionName:"".concat(t,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:lu,onAppearActive:Au,onEnterStart:lu,onEnterActive:Au,onLeaveStart:Au,onLeaveActive:lu},(function(e,n){var r=e.className,s=e.style;return c.createElement("span",{className:"".concat(t,"-loading-icon"),style:s,ref:n},c.createElement(Sr,{className:r}))}))};var uu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},du=/^[\u4e00-\u9fa5]{2}$/,hu=du.test.bind(du);function pu(e){return"text"===e||"link"===e}function mu(e,t){var n=!1,r=[];return c.Children.forEach(e,(function(e){var t=a(e),s="string"===t||"number"===t;if(n&&s){var i=r.length-1,o=r[i];r[i]="".concat(o).concat(e)}else r.push(e);n=s})),c.Children.map(r,(function(e){return function(e,t){if(null!==e&&void 0!==e){var n=t?" ":"";return"string"!==typeof e&&"number"!==typeof e&&"string"===typeof e.type&&hu(e.props.children)?ac(e,{children:e.props.children.split("").join(n)}):"string"===typeof e?hu(e)?c.createElement("span",null,e.split("").join(n)):c.createElement("span",null,e):sc(e)?c.createElement("span",null,e):e}}(e,t)}))}Ts("default","primary","ghost","dashed","link","text"),Ts("default","circle","round"),Ts("submit","button","reset");var fu=function(e,t){var n,r=e.loading,s=void 0!==r&&r,a=e.prefixCls,i=e.type,l=void 0===i?"default":i,A=e.danger,u=e.shape,d=void 0===u?"default":u,h=e.size,p=e.disabled,m=e.className,g=e.children,v=e.icon,w=e.ghost,b=void 0!==w&&w,x=e.block,B=void 0!==x&&x,C=e.htmlType,k=void 0===C?"button":C,S=uu(e,["loading","prefixCls","type","danger","shape","size","disabled","className","children","icon","ghost","block","htmlType"]),E=c.useContext(ts),j=c.useContext(Zr),F=null!==p&&void 0!==p?p:j,I=c.useContext(iu),Q=f(c.useState(!!s),2),M=Q[0],U=Q[1],N=f(c.useState(!1),2),T=N[0],D=N[1],H=c.useContext(jr),L=H.getPrefixCls,P=H.autoInsertSpaceInButton,O=H.direction,R=t||c.createRef(),V=function(){return 1===c.Children.count(g)&&!v&&!pu(l)},K="boolean"===typeof s?s:(null===s||void 0===s?void 0:s.delay)||!0;c.useEffect((function(){var e=null;return"number"===typeof K?e=window.setTimeout((function(){e=null,U(K)}),K):U(K),function(){e&&(window.clearTimeout(e),e=null)}}),[K]),c.useEffect((function(){if(R&&R.current&&!1!==P){var e=R.current.textContent;V()&&hu(e)?T||D(!0):T&&D(!1)}}),[R]);var z=function(t){var n=e.onClick;M||F?t.preventDefault():null===n||void 0===n||n(t)},_=L("btn",a),G=!1!==P,W=Ri(_,O),Y=W.compactSize,q=W.compactItemClassnames,X=Y||I||h||E,J=X&&{large:"lg",small:"sm",middle:void 0}[X]||"",Z=M?"loading":v,$=fc(S,["navigate"]),ee=y()(_,(o(o(o(o(o(o(o(o(o(o(n={},"".concat(_,"-").concat(d),"default"!==d&&d),"".concat(_,"-").concat(l),l),"".concat(_,"-").concat(J),J),"".concat(_,"-icon-only"),!g&&0!==g&&!!Z),"".concat(_,"-background-ghost"),b&&!pu(l)),"".concat(_,"-loading"),M),"".concat(_,"-two-chinese-chars"),T&&G&&!M),"".concat(_,"-block"),B),"".concat(_,"-dangerous"),!!A),"".concat(_,"-rtl"),"rtl"===O),o(n,"".concat(_,"-disabled"),void 0!==$.href&&F)),q,m),te=v&&!M?v:c.createElement(cu,{existIcon:!!v,prefixCls:_,loading:!!M}),ne=g||0===g?mu(g,V()&&G):null;if(void 0!==$.href)return c.createElement("a",Oe({},$,{className:ee,onClick:z,ref:R}),te,ne);var re=c.createElement("button",Oe({},S,{type:k,className:ee,onClick:z,disabled:F,ref:R}),te,ne);return pu(l)?re:c.createElement(Bc,{disabled:!!M},re)},gu=c.forwardRef(fu);gu.Group=ou,gu.__ANT_BUTTON=!0;const vu=gu;function yu(e){return Oe(Oe({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function wu(e,t){var n=Kt(t),r=n.findIndex((function(t){return t.uid===e.uid}));return-1===r?n.push(e):n[r]=e,n}function bu(e,t){var n=void 0!==e.uid?"uid":"name";return t.filter((function(t){return t[n]===e[n]}))[0]}var xu=function(e){return 0===e.indexOf("image/")},Bu=function(e){if(e.type&&!e.thumbUrl)return xu(e.type);var t=e.thumbUrl||e.url||"",n=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("/"),t=e[e.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(t)||[""])[0]}(t);return!(!/^data:image\//.test(t)&&!/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(n))||!/^data:/.test(t)&&!n},Cu=200;function ku(e){return new Promise((function(t){if(e.type&&xu(e.type)){var n=document.createElement("canvas");n.width=Cu,n.height=Cu,n.style.cssText="position: fixed; left: 0; top: 0; width: ".concat(Cu,"px; height: ").concat(Cu,"px; z-index: 9999; display: none;"),document.body.appendChild(n);var r=n.getContext("2d"),s=new Image;if(s.onload=function(){var e=s.width,a=s.height,i=Cu,o=Cu,l=0,A=0;e>a?A=-((o=a*(Cu/e))-i)/2:l=-((i=e*(Cu/a))-o)/2,r.drawImage(s,l,A,i,o);var c=n.toDataURL();document.body.removeChild(n),window.URL.revokeObjectURL(s.src),t(c)},s.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){var a=new FileReader;a.onload=function(){a.result&&(s.src=a.result)},a.readAsDataURL(e)}else if(e.type.startsWith("image/gif")){var i=new FileReader;i.onload=function(){i.result&&t(i.result)},i.readAsDataURL(e)}else s.src=window.URL.createObjectURL(e)}else t("")}))}const Su={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};var Eu=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Su}))};const ju=c.forwardRef(Eu);const Fu={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};var Iu=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Fu}))};const Qu=c.forwardRef(Iu);const Mu={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};var Uu=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Mu}))};const Nu=c.forwardRef(Uu);var Tu={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},Du=function(){var e=(0,c.useRef)([]),t=(0,c.useRef)(null);return(0,c.useEffect)((function(){var n=Date.now(),r=!1;e.current.forEach((function(e){if(e){r=!0;var s=e.style;s.transitionDuration=".3s, .3s, .3s, .06s",t.current&&n-t.current<100&&(s.transitionDuration="0s, 0s")}})),r&&(t.current=Date.now())})),e.current};var Hu=0,Lu=ce();const Pu=function(e){var t=f(c.useState(),2),n=t[0],r=t[1];return c.useEffect((function(){r("rc_progress_".concat(function(){var e;return Lu?(e=Hu,Hu+=1):e="TEST_OR_SSR",e}()))}),[]),e||n};var Ou=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function Ru(e){return+e.replace("%","")}function Vu(e){var t=null!==e&&void 0!==e?e:[];return Array.isArray(t)?t:[t]}var Ku=100,zu=function(e,t,n,r,s,a,i,o,l,A){var c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,u=n/100*360*((360-a)/360),d=0===a?0:{bottom:0,top:180,left:90,right:-90}[i],h=(100-r)/100*t;return"round"===l&&100!==r&&(h+=A/2)>=t&&(h=t-.01),{stroke:"string"===typeof o?o:void 0,strokeDasharray:"".concat(t,"px ").concat(e),strokeDashoffset:h+c,transform:"rotate(".concat(s+u+d,"deg)"),transformOrigin:"0 0",transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}};const _u=function(e){var t=A(A({},Tu),e),n=t.id,r=t.prefixCls,s=t.steps,i=t.strokeWidth,o=t.trailWidth,l=t.gapDegree,u=void 0===l?0:l,d=t.gapPosition,h=t.trailColor,p=t.strokeLinecap,m=t.style,f=t.className,v=t.strokeColor,w=t.percent,b=g(t,Ou),x=Pu(n),B="".concat(x,"-gradient"),C=50-i/2,k=2*Math.PI*C,S=u>0?90+u/2:-90,E=k*((360-u)/360),j="object"===a(s)?s:{count:s,space:2},F=j.count,I=j.space,Q=zu(k,E,0,100,S,u,d,h,p,i),M=Vu(w),U=Vu(v),N=U.find((function(e){return e&&"object"===a(e)})),T=Du();return c.createElement("svg",Oe({className:y()("".concat(r,"-circle"),f),viewBox:"".concat(-50," ").concat(-50," ").concat(Ku," ").concat(Ku),style:m,id:n,role:"presentation"},b),N&&c.createElement("defs",null,c.createElement("linearGradient",{id:B,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},Object.keys(N).sort((function(e,t){return Ru(e)-Ru(t)})).map((function(e,t){return c.createElement("stop",{key:t,offset:e,stopColor:N[e]})})))),!F&&c.createElement("circle",{className:"".concat(r,"-circle-trail"),r:C,cx:0,cy:0,stroke:h,strokeLinecap:p,strokeWidth:o||i,style:Q}),F?function(){var e=Math.round(F*(M[0]/100)),t=100/F,n=0;return new Array(F).fill(null).map((function(s,o){var l=o<=e-1?U[0]:h,A=l&&"object"===a(l)?"url(#".concat(B,")"):void 0,p=zu(k,E,n,t,S,u,d,l,"butt",i,I);return n+=100*(E-p.strokeDashoffset+I)/E,c.createElement("circle",{key:o,className:"".concat(r,"-circle-path"),r:C,cx:0,cy:0,stroke:A,strokeWidth:i,opacity:1,style:p,ref:function(e){T[o]=e}})}))}():function(){var e=0;return M.map((function(t,n){var s=U[n]||U[U.length-1],o=s&&"object"===a(s)?"url(#".concat(B,")"):void 0,l=zu(k,E,e,t,S,u,d,s,p,i);return e+=t,c.createElement("circle",{key:n,className:"".concat(r,"-circle-path"),r:C,cx:0,cy:0,stroke:o,strokeLinecap:p,strokeWidth:i,opacity:0===t?0:1,style:l,ref:function(e){T[n]=e}})})).reverse()}())};function Gu(e){return!e||e<0?0:e>100?100:e}function Wu(e){var t=e.success,n=e.successPercent;return t&&"progress"in t&&(n=t.progress),t&&"percent"in t&&(n=t.percent),n}function Yu(e){var t=e.percent,n=Gu(Wu({success:e.success,successPercent:e.successPercent}));return[n,Gu(Gu(t)-n)]}const qu=function(e){var t=e.prefixCls,n=e.width,r=e.strokeWidth,s=e.trailColor,a=void 0===s?null:s,i=e.strokeLinecap,l=void 0===i?"round":i,A=e.gapPosition,u=e.gapDegree,d=e.type,h=e.children,p=e.success,m=n||120,f={width:m,height:m,fontSize:.15*m+6},g=r||6,v=A||"dashboard"===d&&"bottom"||void 0,w="[object Object]"===Object.prototype.toString.call(e.strokeColor),b=function(e){var t=e.success,n=void 0===t?{}:t,r=e.strokeColor;return[n.strokeColor||ee.green,r||null]}({success:p,strokeColor:e.strokeColor}),x=y()("".concat(t,"-inner"),o({},"".concat(t,"-circle-gradient"),w));return c.createElement("div",{className:x,style:f},c.createElement(_u,{percent:Yu(e),strokeWidth:g,trailWidth:g,strokeColor:b,strokeLinecap:l,trailColor:a,prefixCls:t,gapDegree:u||0===u?u:"dashboard"===d?75:void 0,gapPosition:v}),h)};var Xu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},Ju=function(e,t){var n=e.from,r=void 0===n?ee.blue:n,s=e.to,a=void 0===s?ee.blue:s,i=e.direction,o=void 0===i?"rtl"===t?"to left":"to right":i,l=Xu(e,["from","to","direction"]);if(0!==Object.keys(l).length){var A=function(e){var t=[];return Object.keys(e).forEach((function(n){var r=parseFloat(n.replace(/%/g,""));isNaN(r)||t.push({key:r,value:e[n]})})),(t=t.sort((function(e,t){return e.key-t.key}))).map((function(e){var t=e.key,n=e.value;return"".concat(n," ").concat(t,"%")})).join(", ")}(l);return{backgroundImage:"linear-gradient(".concat(o,", ").concat(A,")")}}return{backgroundImage:"linear-gradient(".concat(o,", ").concat(r,", ").concat(a,")")}};const Zu=function(e){var t=e.prefixCls,n=e.direction,r=e.percent,s=e.strokeWidth,a=e.size,i=e.strokeColor,o=e.strokeLinecap,l=void 0===o?"round":o,A=e.children,u=e.trailColor,d=void 0===u?null:u,h=e.success,p=i&&"string"!==typeof i?Ju(i,n):{background:i},m="square"===l||"butt"===l?0:void 0,f={backgroundColor:d||void 0,borderRadius:m},g=Oe({width:"".concat(Gu(r),"%"),height:s||("small"===a?6:8),borderRadius:m},p),v=Wu(e),y={width:"".concat(Gu(v),"%"),height:s||("small"===a?6:8),borderRadius:m,backgroundColor:null===h||void 0===h?void 0:h.strokeColor},w=void 0!==v?c.createElement("div",{className:"".concat(t,"-success-bg"),style:y}):null;return c.createElement(c.Fragment,null,c.createElement("div",{className:"".concat(t,"-outer")},c.createElement("div",{className:"".concat(t,"-inner"),style:f},c.createElement("div",{className:"".concat(t,"-bg"),style:g}),w)),A)};const $u=function(e){for(var t=e.size,n=e.steps,r=e.percent,s=void 0===r?0:r,a=e.strokeWidth,i=void 0===a?8:a,l=e.strokeColor,A=e.trailColor,u=void 0===A?null:A,d=e.prefixCls,h=e.children,p=Math.round(n*(s/100)),m="small"===t?2:14,f=new Array(n),g=0;g<n;g++){var v=Array.isArray(l)?l[g]:l;f[g]=c.createElement("div",{key:g,className:y()("".concat(d,"-steps-item"),o({},"".concat(d,"-steps-item-active"),g<=p-1)),style:{backgroundColor:g<=p-1?v:u,width:m,height:i}})}return c.createElement("div",{className:"".concat(d,"-steps-outer")},f,h)};var ed=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},td=(Ts("line","circle","dashboard"),Ts("normal","exception","active","success"));const nd=function(e){var t=e.prefixCls,n=e.className,r=e.steps,s=e.strokeColor,a=e.percent,i=void 0===a?0:a,l=e.size,A=void 0===l?"default":l,u=e.showInfo,d=void 0===u||u,h=e.type,p=void 0===h?"line":h,m=ed(e,["prefixCls","className","steps","strokeColor","percent","size","showInfo","type"]);var f,g=c.useContext(jr),v=g.getPrefixCls,w=g.direction,b=v("progress",t),x=function(){var t=e.status;return!td.includes(t)&&function(){var t=Wu(e);return parseInt(void 0!==t?t.toString():i.toString(),10)}()>=100?"success":t||"normal"}(),B=function(t,n){var r,s=e.format,a=Wu(e);if(!d)return null;var o="line"===p;return s||"exception"!==n&&"success"!==n?r=(s||function(e){return"".concat(e,"%")})(Gu(i),Gu(a)):"exception"===n?r=o?c.createElement(gr,null):c.createElement(Ge,null):"success"===n&&(r=o?c.createElement(pr,null):c.createElement(Nu,null)),c.createElement("span",{className:"".concat(t,"-text"),title:"string"===typeof r?r:void 0},r)}(b,x),C=Array.isArray(s)?s[0]:s,k="string"===typeof s||Array.isArray(s)?s:void 0;"line"===p?f=r?c.createElement($u,Oe({},e,{strokeColor:k,prefixCls:b,steps:r}),B):c.createElement(Zu,Oe({},e,{strokeColor:C,prefixCls:b,direction:w}),B):"circle"!==p&&"dashboard"!==p||(f=c.createElement(qu,Oe({},e,{strokeColor:C,prefixCls:b,progressStatus:x}),B));var S=y()(b,o(o(o(o(o({},"".concat(b,"-").concat(("dashboard"===p?"circle":r&&"steps")||p),!0),"".concat(b,"-status-").concat(x),!0),"".concat(b,"-show-info"),d),"".concat(b,"-").concat(A),A),"".concat(b,"-rtl"),"rtl"===w),n);return c.createElement("div",Oe({},fc(m,["status","format","trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"]),{className:S,role:"progressbar"}),f)},rd=nd;var sd=c.forwardRef((function(e,t){var n,r,s=e.prefixCls,a=e.className,i=e.style,l=e.locale,A=e.listType,u=e.file,d=e.items,h=e.progress,p=e.iconRender,m=e.actionIconRender,g=e.itemRender,v=e.isImgUrl,w=e.showPreviewIcon,b=e.showRemoveIcon,x=e.showDownloadIcon,B=e.previewIcon,C=e.removeIcon,k=e.downloadIcon,S=e.onPreview,E=e.onDownload,j=e.onClose,F=u.status,I=f(c.useState(F),2),Q=I[0],M=I[1];c.useEffect((function(){"removed"!==F&&M(F)}),[F]);var U=f(c.useState(!1),2),N=U[0],T=U[1],D=c.useRef(null);c.useEffect((function(){return D.current=setTimeout((function(){T(!0)}),300),function(){D.current&&clearTimeout(D.current)}}),[]);var H="".concat(s,"-span"),L=p(u),P=c.createElement("div",{className:"".concat(s,"-text-icon")},L);if("picture"===A||"picture-card"===A)if("uploading"===Q||!u.thumbUrl&&!u.url){var O=y()(o(o({},"".concat(s,"-list-item-thumbnail"),!0),"".concat(s,"-list-item-file"),"uploading"!==Q));P=c.createElement("div",{className:O},L)}else{var R=(null===v||void 0===v?void 0:v(u))?c.createElement("img",{src:u.thumbUrl||u.url,alt:u.name,className:"".concat(s,"-list-item-image"),crossOrigin:u.crossOrigin}):L,V=y()(o(o({},"".concat(s,"-list-item-thumbnail"),!0),"".concat(s,"-list-item-file"),v&&!v(u)));P=c.createElement("a",{className:V,onClick:function(e){return S(u,e)},href:u.url||u.thumbUrl,target:"_blank",rel:"noopener noreferrer"},R)}var K,z=y()(o(o(o({},"".concat(s,"-list-item"),!0),"".concat(s,"-list-item-").concat(Q),!0),"".concat(s,"-list-item-list-type-").concat(A),!0)),_="string"===typeof u.linkProps?JSON.parse(u.linkProps):u.linkProps,G=b?m(("function"===typeof C?C(u):C)||c.createElement(jo,null),(function(){return j(u)}),s,l.removeFile):null,W=x&&"done"===Q?m(("function"===typeof k?k(u):k)||c.createElement(ju,null),(function(){return E(u)}),s,l.downloadFile):null,Y="picture-card"!==A&&c.createElement("span",{key:"download-delete",className:y()("".concat(s,"-list-item-card-actions"),{picture:"picture"===A})},W,G),q=y()("".concat(s,"-list-item-name")),X=u.url?[c.createElement("a",Oe({key:"view",target:"_blank",rel:"noopener noreferrer",className:q,title:u.name},_,{href:u.url,onClick:function(e){return S(u,e)}}),u.name),Y]:[c.createElement("span",{key:"view",className:q,onClick:function(e){return S(u,e)},title:u.name},u.name),Y],J=w?c.createElement("a",{href:u.url||u.thumbUrl,target:"_blank",rel:"noopener noreferrer",style:u.url||u.thumbUrl?void 0:{pointerEvents:"none",opacity:.5},onClick:function(e){return S(u,e)},title:l.previewFile},"function"===typeof B?B(u):B||c.createElement(Qu,null)):null,Z="picture-card"===A&&"uploading"!==Q&&c.createElement("span",{className:"".concat(s,"-list-item-actions")},J,"done"===Q&&W,G);K=u.response&&"string"===typeof u.response?u.response:(null===(n=u.error)||void 0===n?void 0:n.statusText)||(null===(r=u.error)||void 0===r?void 0:r.message)||l.uploadError;var $=c.createElement("span",{className:H},P,X),ee=(0,c.useContext(jr).getPrefixCls)(),te=c.createElement("div",{className:z},c.createElement("div",{className:"".concat(s,"-list-item-info")},$),Z,N&&c.createElement(Gn,{motionName:"".concat(ee,"-fade"),visible:"uploading"===Q,motionDeadline:2e3},(function(e){var t=e.className,n="percent"in u?c.createElement(rd,Oe({},h,{type:"line",percent:u.percent})):null;return c.createElement("div",{className:y()("".concat(s,"-list-item-progress"),t)},n)}))),ne=y()("".concat(s,"-list-").concat(A,"-container"),a),re="error"===Q?c.createElement(cc,{title:K,getPopupContainer:function(e){return e.parentNode}},te):te;return c.createElement("div",{className:ne,style:i,ref:t},g?g(re,u,d,{download:E.bind(null,u),preview:S.bind(null,u),remove:j.bind(null,u)}):re)}));const ad=sd;var id=Oe({},Pi);delete id.onAppearEnd,delete id.onEnterEnd,delete id.onLeaveEnd;var od=function(e,t){var n=e.listType,r=void 0===n?"text":n,s=e.previewFile,a=void 0===s?ku:s,i=e.onPreview,l=e.onDownload,A=e.onRemove,u=e.locale,d=e.iconRender,h=e.isImageUrl,p=void 0===h?Bu:h,m=e.prefixCls,g=e.items,v=void 0===g?[]:g,w=e.showPreviewIcon,b=void 0===w||w,x=e.showRemoveIcon,B=void 0===x||x,C=e.showDownloadIcon,k=void 0!==C&&C,S=e.removeIcon,E=e.previewIcon,j=e.downloadIcon,F=e.progress,I=void 0===F?{strokeWidth:2,showInfo:!1}:F,Q=e.appendAction,M=e.appendActionVisible,U=void 0===M||M,N=e.itemRender,T=e.disabled,D=f(c.useReducer((function(e){return e+1}),0),2)[1],H=f(c.useState(!1),2),L=H[0],P=H[1];c.useEffect((function(){"picture"!==r&&"picture-card"!==r||(v||[]).forEach((function(e){"undefined"!==typeof document&&"undefined"!==typeof window&&window.FileReader&&window.File&&(e.originFileObj instanceof File||e.originFileObj instanceof Blob)&&void 0===e.thumbUrl&&(e.thumbUrl="",a&&a(e.originFileObj).then((function(t){e.thumbUrl=t||"",D()})))}))}),[r,v,a]),c.useEffect((function(){P(!0)}),[]);var O=function(e,t){if(i)return null===t||void 0===t||t.preventDefault(),i(e)},R=function(e){"function"===typeof l?l(e):e.url&&window.open(e.url)},V=function(e){null===A||void 0===A||A(e)},K=function(e){if(d)return d(e,r);var t="uploading"===e.status,n=p&&p(e)?c.createElement(su,null):c.createElement(Zc,null),s=t?c.createElement(Sr,null):c.createElement(tu,null);return"picture"===r?s=t?c.createElement(Sr,null):n:"picture-card"===r&&(s=t?u.uploading:n),s},z=function(e,t,n,r){var s={type:"text",size:"small",title:r,disabled:T,onClick:function(n){t(),rc(e)&&e.props.onClick&&e.props.onClick(n)},className:"".concat(n,"-list-item-card-actions-btn")};if(rc(e)){var a=ac(e,Oe(Oe({},e.props),{onClick:function(){}}));return c.createElement(vu,Oe({},s,{icon:a}))}return c.createElement(vu,Oe({},s),c.createElement("span",null,e))};c.useImperativeHandle(t,(function(){return{handlePreview:O,handleDownload:R}}));var _=c.useContext(jr),G=_.getPrefixCls,W=_.direction,Y=G("upload",m),q=y()(o(o(o({},"".concat(Y,"-list"),!0),"".concat(Y,"-list-").concat(r),!0),"".concat(Y,"-list-rtl"),"rtl"===W)),X=Kt(v.map((function(e){return{key:e.uid,file:e}}))),J="picture-card"===r?"animate-inline":"animate",Z={motionDeadline:2e3,motionName:"".concat(Y,"-").concat(J),keys:X,motionAppear:L};return"picture-card"!==r&&(Z=Oe(Oe({},id),Z)),c.createElement("div",{className:q},c.createElement(_n,Oe({},Z,{component:!1}),(function(e){var t=e.key,n=e.file,s=e.className,a=e.style;return c.createElement(ad,{key:t,locale:u,prefixCls:Y,className:s,style:a,file:n,items:v,progress:I,listType:r,isImgUrl:p,showPreviewIcon:b,showRemoveIcon:B,showDownloadIcon:k,removeIcon:S,previewIcon:E,downloadIcon:j,iconRender:K,actionIconRender:z,itemRender:N,onPreview:O,onDownload:R,onClose:V})})),Q&&c.createElement(Gn,Oe({},Z,{visible:U,forceRender:!0}),(function(e){var t=e.className,n=e.style;return ac(Q,(function(e){return{className:y()(e.className,t),style:Oe(Oe(Oe({},n),{pointerEvents:t?"none":void 0}),e.style)}}))})))};const ld=c.forwardRef(od);var Ad=function(e,t,n,r){return new(n||(n=Promise))((function(s,a){function i(e){try{l(r.next(e))}catch(DB){a(DB)}}function o(e){try{l(r.throw(e))}catch(DB){a(DB)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}l((r=r.apply(e,t||[])).next())}))},cd="__LIST_IGNORE_".concat(Date.now(),"__"),ud=function(e,t){var n=e.fileList,s=e.defaultFileList,i=e.onRemove,l=e.showUploadList,A=void 0===l||l,u=e.listType,d=void 0===u?"text":u,h=e.onPreview,p=e.onDownload,m=e.onChange,g=e.onDrop,v=e.previewFile,w=e.disabled,b=e.locale,x=e.iconRender,B=e.isImageUrl,C=e.progress,k=e.prefixCls,S=e.className,E=e.type,j=void 0===E?"select":E,F=e.children,I=e.style,Q=e.itemRender,M=e.maxCount,U=e.data,N=void 0===U?{}:U,T=e.multiple,D=void 0!==T&&T,H=e.action,L=void 0===H?"":H,P=e.accept,O=void 0===P?"":P,R=e.supportServerRender,V=void 0===R||R,K=c.useContext(Zr),z=null!==w&&void 0!==w?w:K,_=Rt(s||[],{value:n,postState:function(e){return null!==e&&void 0!==e?e:[]}}),G=f(_,2),W=G[0],Y=G[1],q=f(c.useState("drop"),2),X=q[0],J=q[1],Z=c.useRef(null);c.useMemo((function(){var e=Date.now();(n||[]).forEach((function(t,n){t.uid||Object.isFrozen(t)||(t.uid="__AUTO__".concat(e,"_").concat(n,"__"))}))}),[n]);var $=function(e,t,n){var s=Kt(t);1===M?s=s.slice(-1):M&&(s=s.slice(0,M)),(0,r.flushSync)((function(){Y(s)}));var a={file:e,fileList:s};n&&(a.event=n),(0,r.flushSync)((function(){null===m||void 0===m||m(a)}))},ee=function(e){var t=e.filter((function(e){return!e.file[cd]}));if(t.length){var n=t.map((function(e){return yu(e.file)})),r=Kt(W);n.forEach((function(e){r=wu(e,r)})),n.forEach((function(e,n){var s=e;if(t[n].parsedFile)e.status="uploading";else{var a,i=e.originFileObj;try{a=new File([i],i.name,{type:i.type})}catch(DB){(a=new Blob([i],{type:i.type})).name=i.name,a.lastModifiedDate=new Date,a.lastModified=(new Date).getTime()}a.uid=e.uid,s=a}$(s,r)}))}},te=function(e,t,n){try{"string"===typeof e&&(e=JSON.parse(e))}catch(DB){}if(bu(t,W)){var r=yu(t);r.status="done",r.percent=100,r.response=e,r.xhr=n;var s=wu(r,W);$(r,s)}},ne=function(e,t){if(bu(t,W)){var n=yu(t);n.status="uploading",n.percent=e.percent;var r=wu(n,W);$(n,r,e)}},re=function(e,t,n){if(bu(n,W)){var r=yu(n);r.error=e,r.response=t,r.status="error";var s=wu(r,W);$(r,s)}},se=function(e){var t;Promise.resolve("function"===typeof i?i(e):i).then((function(n){var r;if(!1!==n){var s=function(e,t){var n=void 0!==e.uid?"uid":"name",r=t.filter((function(t){return t[n]!==e[n]}));return r.length===t.length?null:r}(e,W);s&&(t=Oe(Oe({},e),{status:"removed"}),null===W||void 0===W||W.forEach((function(e){var n=void 0!==t.uid?"uid":"name";e[n]!==t[n]||Object.isFrozen(e)||(e.status="removed")})),null===(r=Z.current)||void 0===r||r.abort(t),$(t,s))}}))},ae=function(e){J(e.type),"drop"===e.type&&(null===g||void 0===g||g(e))};c.useImperativeHandle(t,(function(){return{onBatchStart:ee,onSuccess:te,onProgress:ne,onError:re,fileList:W,upload:Z.current}}));var ie=c.useContext(jr),oe=ie.getPrefixCls,le=ie.direction,Ae=oe("upload",k),ce=Oe(Oe({onBatchStart:ee,onError:re,onProgress:ne,onSuccess:te},e),{data:N,multiple:D,action:L,accept:O,supportServerRender:V,prefixCls:Ae,disabled:z,beforeUpload:function(t,n){return Ad(void 0,void 0,void 0,At().mark((function r(){var s,i,o,l;return At().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(s=e.beforeUpload,i=e.transformFile,o=t,!s){r.next=13;break}return r.next=5,s(t,n);case 5:if(!1!==(l=r.sent)){r.next=8;break}return r.abrupt("return",!1);case 8:if(delete t[cd],l!==cd){r.next=12;break}return Object.defineProperty(t,cd,{value:!0,configurable:!0}),r.abrupt("return",!1);case 12:"object"===a(l)&&l&&(o=l);case 13:if(!i){r.next=17;break}return r.next=16,i(o);case 16:o=r.sent;case 17:return r.abrupt("return",o);case 18:case"end":return r.stop()}}),r)})))},onChange:void 0});delete ce.className,delete ce.style,F&&!z||delete ce.id;var ue=function(e,t){return A?c.createElement(ur,{componentName:"Upload",defaultLocale:ar.Upload},(function(n){var r="boolean"===typeof A?{}:A,s=r.showRemoveIcon,a=r.showPreviewIcon,i=r.showDownloadIcon,o=r.removeIcon,l=r.previewIcon,u=r.downloadIcon;return c.createElement(ld,{prefixCls:Ae,listType:d,items:W,previewFile:v,onPreview:h,onDownload:p,onRemove:se,showRemoveIcon:!z&&s,showPreviewIcon:a,showDownloadIcon:i,removeIcon:o,previewIcon:l,downloadIcon:u,iconRender:x,locale:Oe(Oe({},n),b),isImageUrl:B,progress:C,appendAction:e,appendActionVisible:t,itemRender:Q,disabled:z})})):e};if("drag"===j){var de=y()(Ae,o(o(o(o(o({},"".concat(Ae,"-drag"),!0),"".concat(Ae,"-drag-uploading"),W.some((function(e){return"uploading"===e.status}))),"".concat(Ae,"-drag-hover"),"dragover"===X),"".concat(Ae,"-disabled"),z),"".concat(Ae,"-rtl"),"rtl"===le),S);return c.createElement("span",null,c.createElement("div",{className:de,onDrop:ae,onDragOver:ae,onDragLeave:ae,style:I},c.createElement(qc,Oe({},ce,{ref:Z,className:"".concat(Ae,"-btn")}),c.createElement("div",{className:"".concat(Ae,"-drag-container")},F))),ue())}var he,pe=y()(Ae,o(o(o(o({},"".concat(Ae,"-select"),!0),"".concat(Ae,"-select-").concat(d),!0),"".concat(Ae,"-disabled"),z),"".concat(Ae,"-rtl"),"rtl"===le)),me=(he=F?void 0:{display:"none"},c.createElement("div",{className:pe,style:he},c.createElement(qc,Oe({},ce,{ref:Z}))));return"picture-card"===d?c.createElement("span",{className:y()("".concat(Ae,"-picture-card-wrapper"),S)},ue(me,!!F)):c.createElement("span",{className:S},me,ue())};const dd=c.forwardRef(ud);var hd=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},pd=c.forwardRef((function(e,t){var n=e.style,r=e.height,s=hd(e,["style","height"]);return c.createElement(dd,Oe({ref:t},s,{type:"drag",style:Oe(Oe({},n),{height:r})}))}));const md=pd;var fd=dd;fd.Dragger=md,fd.LIST_IGNORE=cd;const gd=fd;class vd extends c.Component{readFile(e){const t=new FileReader;return t.onload=e=>{if(e.target){const t=e.target.result;this.props.setPortrait(t)}},t.readAsDataURL(e),!1}getEditor(){let e=null,t=null;return""!==this.props.source.portrait?(e=(0,xo.jsx)("img",{className:"circle",src:this.props.source.portrait,alt:"portrait"}),t=(0,xo.jsx)(Pe,{className:"clear",onClick:()=>this.props.clear()})):e=(0,xo.jsx)("div",{children:(0,xo.jsxs)(gd.Dragger,{accept:"image/*",showUploadList:!1,beforeUpload:e=>this.readFile(e),children:[(0,xo.jsx)("p",{className:"ant-upload-drag-icon",children:(0,xo.jsx)(Dc,{})}),(0,xo.jsx)("p",{className:"ant-upload-text",children:"click here, or drag a file here, to upload it"}),(0,xo.jsx)("p",{className:"ant-upload-text",children:"try to upload small images if possible"})]})}),(0,xo.jsx)("div",{className:"portrait editing",children:(0,xo.jsxs)("div",{className:"section centered",children:[e,t]})})}getDisplay(){if(""===this.props.source.portrait)return null;let e="portrait";return this.props.inline?e+=" inline":e+=" section centered",(0,xo.jsx)("div",{className:e,children:(0,xo.jsx)("img",{className:"circle",src:this.props.source.portrait,alt:"portrait"})})}render(){try{return null!==this.props.setPortrait?this.getEditor():this.getDisplay()}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"PortraitPanel",error:DB})}}}vd.defaultProps={inline:!1,setPortrait:null,clear:null};const yd={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"};var wd=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:yd}))};const bd=c.forwardRef(wd);const xd={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3zM664.8 561.6l36.1 210.3L512 672.7 323.1 772l36.1-210.3-152.8-149L417.6 382 512 190.7 606.4 382l211.2 30.7-152.8 148.9z"}}]},name:"star",theme:"outlined"};var Bd=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:xd}))};const Cd=c.forwardRef(Bd);const kd={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};var Sd=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:kd}))};const Ed=c.forwardRef(Sd);var jd=n(8412);function Fd(e){return e&&"object"===typeof e?"position"in e||"type"in e?Qd(e.position):"start"in e||"end"in e?Qd(e):"line"in e||"column"in e?Id(e):"":""}function Id(e){return Md(e&&e.line)+":"+Md(e&&e.column)}function Qd(e){return Id(e&&e.start)+"-"+Id(e&&e.end)}function Md(e){return e&&"number"===typeof e?e:1}class Ud extends Error{constructor(e,t,n){const r=[null,null];let s={start:{line:null,column:null},end:{line:null,column:null}};if(super(),"string"===typeof t&&(n=t,t=void 0),"string"===typeof n){const e=n.indexOf(":");-1===e?r[1]=n:(r[0]=n.slice(0,e),r[1]=n.slice(e+1))}t&&("type"in t||"position"in t?t.position&&(s=t.position):"start"in t||"end"in t?s=t:("line"in t||"column"in t)&&(s.start=t)),this.name=Fd(t)||"1:1",this.message="object"===typeof e?e.message:e,this.stack="","object"===typeof e&&e.stack&&(this.stack=e.stack),this.reason=this.message,this.fatal,this.line=s.start.line,this.column=s.start.column,this.position=s,this.source=r[0],this.ruleId=r[1],this.file,this.actual,this.expected,this.url,this.note}}Ud.prototype.file="",Ud.prototype.name="",Ud.prototype.reason="",Ud.prototype.message="",Ud.prototype.stack="",Ud.prototype.fatal=null,Ud.prototype.column=null,Ud.prototype.line=null,Ud.prototype.source=null,Ud.prototype.ruleId=null,Ud.prototype.position=null;const Nd={basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');Td(e);let n,r=0,s=-1,a=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;a--;)if(47===e.charCodeAt(a)){if(n){r=a+1;break}}else s<0&&(n=!0,s=a+1);return s<0?"":e.slice(r,s)}if(t===e)return"";let i=-1,o=t.length-1;for(;a--;)if(47===e.charCodeAt(a)){if(n){r=a+1;break}}else i<0&&(n=!0,i=a+1),o>-1&&(e.charCodeAt(a)===t.charCodeAt(o--)?o<0&&(s=a):(o=-1,s=i));r===s?s=i:s<0&&(s=e.length);return e.slice(r,s)},dirname:function(e){if(Td(e),0===e.length)return".";let t,n=-1,r=e.length;for(;--r;)if(47===e.charCodeAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.charCodeAt(0)?"/":".":1===n&&47===e.charCodeAt(0)?"//":e.slice(0,n)},extname:function(e){Td(e);let t,n=e.length,r=-1,s=0,a=-1,i=0;for(;n--;){const o=e.charCodeAt(n);if(47!==o)r<0&&(t=!0,r=n+1),46===o?a<0?a=n:1!==i&&(i=1):a>-1&&(i=-1);else if(t){s=n+1;break}}if(a<0||r<0||0===i||1===i&&a===r-1&&a===s+1)return"";return e.slice(a,r)},join:function(){let e,t=-1;for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];for(;++t<r.length;)Td(r[t]),r[t]&&(e=void 0===e?r[t]:e+"/"+r[t]);return void 0===e?".":function(e){Td(e);const t=47===e.charCodeAt(0);let n=function(e,t){let n,r,s="",a=0,i=-1,o=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.charCodeAt(l);else{if(47===n)break;n=47}if(47===n){if(i===l-1||1===o);else if(i!==l-1&&2===o){if(s.length<2||2!==a||46!==s.charCodeAt(s.length-1)||46!==s.charCodeAt(s.length-2))if(s.length>2){if(r=s.lastIndexOf("/"),r!==s.length-1){r<0?(s="",a=0):(s=s.slice(0,r),a=s.length-1-s.lastIndexOf("/")),i=l,o=0;continue}}else if(s.length>0){s="",a=0,i=l,o=0;continue}t&&(s=s.length>0?s+"/..":"..",a=2)}else s.length>0?s+="/"+e.slice(i+1,l):s=e.slice(i+1,l),a=l-i-1;i=l,o=0}else 46===n&&o>-1?o++:o=-1}return s}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.charCodeAt(e.length-1)&&(n+="/");return t?"/"+n:n}(e)},sep:"/"};function Td(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Dd={cwd:function(){return"/"}};function Hd(e){return null!==e&&"object"===typeof e&&e.href&&e.origin}function Ld(e){if("string"===typeof e)e=new URL(e);else if(!Hd(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.charCodeAt(n)&&50===t.charCodeAt(n+1)){const e=t.charCodeAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const Pd=["history","path","basename","stem","extname","dirname"];class Od{constructor(e){let t;t=e?"string"===typeof e||function(e){return jd(e)}(e)?{value:e}:Hd(e)?{path:e}:e:{},this.data={},this.messages=[],this.history=[],this.cwd=Dd.cwd(),this.value,this.stored,this.result,this.map;let n,r=-1;for(;++r<Pd.length;){const e=Pd[r];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)Pd.includes(n)||(this[n]=t[n])}get path(){return this.history[this.history.length-1]}set path(e){Hd(e)&&(e=Ld(e)),Vd(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return"string"===typeof this.path?Nd.dirname(this.path):void 0}set dirname(e){Kd(this.basename,"dirname"),this.path=Nd.join(e||"",this.basename)}get basename(){return"string"===typeof this.path?Nd.basename(this.path):void 0}set basename(e){Vd(e,"basename"),Rd(e,"basename"),this.path=Nd.join(this.dirname||"",e)}get extname(){return"string"===typeof this.path?Nd.extname(this.path):void 0}set extname(e){if(Rd(e,"extname"),Kd(this.dirname,"extname"),e){if(46!==e.charCodeAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Nd.join(this.dirname,this.stem+(e||""))}get stem(){return"string"===typeof this.path?Nd.basename(this.path,this.extname):void 0}set stem(e){Vd(e,"stem"),Rd(e,"stem"),this.path=Nd.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e||void 0)}message(e,t,n){const r=new Ud(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=null,r}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}}function Rd(e,t){if(e&&e.includes(Nd.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Nd.sep+"`")}function Vd(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Kd(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function zd(e){if(e)throw e}var _d=n(755);function Gd(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Wd(){const e=[],t={run:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];let s=-1;const a=n.pop();if("function"!==typeof a)throw new TypeError("Expected function as last argument, not "+a);!function t(r){const i=e[++s];let o=-1;if(r)a(r);else{for(var l=arguments.length,A=new Array(l>1?l-1:0),c=1;c<l;c++)A[c-1]=arguments[c];for(;++o<n.length;)null!==A[o]&&void 0!==A[o]||(A[o]=n[o]);n=A,i?function(e,t){let n;return s;function s(){for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];const l=e.length>s.length;let A;l&&s.push(a);try{A=e.apply(this,s)}catch(r){if(l&&n)throw r;return a(r)}l||(A&&A.then&&"function"===typeof A.then?A.then(i,a):A instanceof Error?a(A):i(A))}function a(e){if(!n){n=!0;for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];t(e,...s)}}function i(e){a(null,e)}}(i,t)(...A):a(null,...A)}}(null,...n)},use:function(n){if("function"!==typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}const Yd=function e(){const t=Wd(),n=[];let r,s={},a=-1;return i.data=function(e,t){if("string"===typeof e)return 2===arguments.length?($d("data",r),s[e]=t,i):qd.call(s,e)&&s[e]||null;if(e)return $d("data",r),s=e,i;return s},i.Parser=void 0,i.Compiler=void 0,i.freeze=function(){if(r)return i;for(;++a<n.length;){const[e,...r]=n[a];if(!1===r[0])continue;!0===r[0]&&(r[0]=void 0);const s=e.call(i,...r);"function"===typeof s&&t.use(s)}return r=!0,a=Number.POSITIVE_INFINITY,i},i.attachers=n,i.use=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),o=1;o<t;o++)a[o-1]=arguments[o];let l;if($d("use",r),null===e||void 0===e);else if("function"===typeof e)d(e,...a);else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?u(e):c(e)}l&&(s.settings=Object.assign(s.settings||{},l));return i;function A(e){if("function"===typeof e)d(e);else{if("object"!==typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;d(t,...n)}else c(e)}}function c(e){u(e.plugins),e.settings&&(l=Object.assign(l||{},e.settings))}function u(e){let t=-1;if(null===e||void 0===e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){A(e[t])}}}function d(e,t){let r,s=-1;for(;++s<n.length;)if(n[s][0]===e){r=n[s];break}r?(Gd(r[1])&&Gd(t)&&(t=_d(!0,r[1],t)),r[1]=t):n.push([...arguments])}},i.parse=function(e){i.freeze();const t=nh(e),n=i.Parser;if(Jd("parse",n),Xd(n,"parse"))return new n(String(t),t).parse();return n(String(t),t)},i.stringify=function(e,t){i.freeze();const n=nh(t),r=i.Compiler;if(Zd("stringify",r),eh(e),Xd(r,"compile"))return new r(e,n).compile();return r(e,n)},i.run=function(e,n,r){eh(e),i.freeze(),r||"function"!==typeof n||(r=n,n=void 0);if(!r)return new Promise(s);function s(s,a){function i(t,n,i){n=n||e,t?a(t):s?s(n):r(null,n,i)}t.run(e,nh(n),i)}s(null,r)},i.runSync=function(e,t){let n,r;return i.run(e,t,s),th("runSync","run",r),n;function s(e,t){zd(e),n=t,r=!0}},i.process=function(e,t){if(i.freeze(),Jd("process",i.Parser),Zd("process",i.Compiler),!t)return new Promise(n);function n(n,r){const s=nh(e);function a(e,s){e||!s?r(e):n?n(s):t(null,s)}i.run(i.parse(s),s,((e,t,n)=>{if(!e&&t&&n){const s=i.stringify(t,n);void 0===s||null===s||("string"===typeof(r=s)||jd(r)?n.value=s:n.result=s),a(e,n)}else a(e);var r}))}n(null,t)},i.processSync=function(e){let t;i.freeze(),Jd("processSync",i.Parser),Zd("processSync",i.Compiler);const n=nh(e);return i.process(n,r),th("processSync","process",t),n;function r(e){t=!0,zd(e)}},i;function i(){const t=e();let r=-1;for(;++r<n.length;)t.use(...n[r]);return t.data(_d(!0,{},s)),t}}().freeze(),qd={}.hasOwnProperty;function Xd(e,t){return"function"===typeof e&&e.prototype&&(function(e){let t;for(t in e)if(qd.call(e,t))return!0;return!1}(e.prototype)||t in e.prototype)}function Jd(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `Parser`")}function Zd(e,t){if("function"!==typeof t)throw new TypeError("Cannot `"+e+"` without `Compiler`")}function $d(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function eh(e){if(!Gd(e)||"string"!==typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function th(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function nh(e){return function(e){return Boolean(e&&"object"===typeof e&&"message"in e&&"messages"in e)}(e)?e:new Od(e)}const rh={};function sh(e,t,n){if(function(e){return Boolean(e&&"object"===typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return ah(e.children,t,n)}return Array.isArray(e)?ah(e,t,n):""}function ah(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=sh(e[s],t,n);return r.join("")}function ih(e,t,n,r){const s=e.length;let a,i=0;if(t=t<0?-t>s?0:s+t:t>s?s:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);i<r.length;)a=r.slice(i,i+1e4),a.unshift(t,0),e.splice(...a),i+=1e4,t+=1e4}function oh(e,t){return e.length>0?(ih(e,e.length,0,t),e):t}const lh={}.hasOwnProperty;function Ah(e,t){let n;for(n in t){const r=(lh.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n];let a;if(s)for(a in s){lh.call(r,a)||(r[a]=[]);const e=s[a];ch(r[a],Array.isArray(e)?e:e?[e]:[])}}}function ch(e,t){let n=-1;const r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);ih(e,0,0,r)}const uh=Bh(/[A-Za-z]/),dh=Bh(/[\dA-Za-z]/),hh=Bh(/[#-'*+\--9=?A-Z^-~]/);function ph(e){return null!==e&&(e<32||127===e)}const mh=Bh(/\d/),fh=Bh(/[\dA-Fa-f]/),gh=Bh(/[!-/:-@[-`{-~]/);function vh(e){return null!==e&&e<-2}function yh(e){return null!==e&&(e<0||32===e)}function wh(e){return-2===e||-1===e||32===e}const bh=Bh(/[!-\/:-@\[-`\{-~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/),xh=Bh(/\s/);function Bh(e){return function(t){return null!==t&&e.test(String.fromCharCode(t))}}function Ch(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let a=0;return function(r){if(wh(r))return e.enter(n),i(r);return t(r)};function i(r){return wh(r)&&a++<s?(e.consume(r),i):(e.exit(n),t(r))}}const kh={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,(function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Ch(e,t,"linePrefix")}),(function(t){return e.enter("paragraph"),r(t)}));let n;return t;function r(t){const r=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=r),n=r,s(t)}function s(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):vh(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),s)}}};const Sh={tokenize:function(e){const t=this,n=[];let r,s,a,i=0;return o;function o(r){if(i<n.length){const s=n[i];return t.containerState=s[1],e.attempt(s[0].continuation,l,A)(r)}return A(r)}function l(e){if(i++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&v();const n=t.events.length;let s,a=n;for(;a--;)if("exit"===t.events[a][0]&&"chunkFlow"===t.events[a][1].type){s=t.events[a][1].end;break}g(i);let o=n;for(;o<t.events.length;)t.events[o][1].end=Object.assign({},s),o++;return ih(t.events,a+1,0,t.events.slice(n)),t.events.length=o,A(e)}return o(e)}function A(s){if(i===n.length){if(!r)return d(s);if(r.currentConstruct&&r.currentConstruct.concrete)return p(s);t.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Eh,c,u)(s)}function c(e){return r&&v(),g(i),d(e)}function u(e){return t.parser.lazy[t.now().line]=i!==n.length,a=t.now().offset,p(e)}function d(n){return t.containerState={},e.attempt(Eh,h,p)(n)}function h(e){return i++,n.push([t.currentConstruct,t.containerState]),d(e)}function p(n){return null===n?(r&&v(),g(0),void e.consume(n)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:s,_tokenizer:r}),m(n))}function m(n){return null===n?(f(e.exit("chunkFlow"),!0),g(0),void e.consume(n)):vh(n)?(e.consume(n),f(e.exit("chunkFlow")),i=0,t.interrupt=void 0,o):(e.consume(n),m)}function f(e,n){const o=t.sliceStream(e);if(n&&o.push(null),e.previous=s,s&&(s.next=e),s=e,r.defineSkip(e.start),r.write(o),t.parser.lazy[e.start.line]){let e=r.events.length;for(;e--;)if(r.events[e][1].start.offset<a&&(!r.events[e][1].end||r.events[e][1].end.offset>a))return;const n=t.events.length;let s,o,l=n;for(;l--;)if("exit"===t.events[l][0]&&"chunkFlow"===t.events[l][1].type){if(s){o=t.events[l][1].end;break}s=!0}for(g(i),e=n;e<t.events.length;)t.events[e][1].end=Object.assign({},o),e++;ih(t.events,l+1,0,t.events.slice(n)),t.events.length=e}}function g(r){let s=n.length;for(;s-- >r;){const r=n[s];t.containerState=r[1],r[0].exit.call(t,e)}n.length=r}function v(){r.write([null]),s=void 0,r=void 0,t.containerState._closeFlow=void 0}}},Eh={tokenize:function(e,t,n){return Ch(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};const jh={tokenize:function(e,t,n){return function(t){return wh(t)?Ch(e,r,"linePrefix")(t):r(t)};function r(e){return null===e||vh(e)?t(e):n(e)}},partial:!0};function Fh(e){const t={};let n,r,s,a,i,o,l,A=-1;for(;++A<e.length;){for(;A in t;)A=t[A];if(n=e[A],A&&"chunkFlow"===n[1].type&&"listItemPrefix"===e[A-1][1].type&&(o=n[1]._tokenizer.events,s=0,s<o.length&&"lineEndingBlank"===o[s][1].type&&(s+=2),s<o.length&&"content"===o[s][1].type))for(;++s<o.length&&"content"!==o[s][1].type;)"chunkText"===o[s][1].type&&(o[s][1]._isInFirstContentOfListItem=!0,s++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,Ih(e,A)),A=t[A],l=!0);else if(n[1]._container){for(s=A,r=void 0;s--&&(a=e[s],"lineEnding"===a[1].type||"lineEndingBlank"===a[1].type);)"enter"===a[0]&&(r&&(e[r][1].type="lineEndingBlank"),a[1].type="lineEnding",r=s);r&&(n[1].end=Object.assign({},e[r][1].start),i=e.slice(r,A),i.unshift(n),ih(e,r,A-r+1,i))}}return!l}function Ih(e,t){const n=e[t][1],r=e[t][2];let s=t-1;const a=[],i=n._tokenizer||r.parser[n.contentType](n.start),o=i.events,l=[],A={};let c,u,d=-1,h=n,p=0,m=0;const f=[m];for(;h;){for(;e[++s][1]!==h;);a.push(s),h._tokenizer||(c=r.sliceStream(h),h.next||c.push(null),u&&i.defineSkip(h.start),h._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=!0),i.write(c),h._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=void 0)),u=h,h=h.next}for(h=n;++d<o.length;)"exit"===o[d][0]&&"enter"===o[d-1][0]&&o[d][1].type===o[d-1][1].type&&o[d][1].start.line!==o[d][1].end.line&&(m=d+1,f.push(m),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(i.events=[],h?(h._tokenizer=void 0,h.previous=void 0):f.pop(),d=f.length;d--;){const t=o.slice(f[d],f[d+1]),n=a.pop();l.unshift([n,n+t.length-1]),ih(e,n,2,t)}for(d=-1;++d<l.length;)A[p+l[d][0]]=p+l[d][1],p+=l[d][1]-l[d][0]-1;return A}const Qh={tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?s(t):vh(t)?e.check(Mh,a,s)(t):(e.consume(t),r)}function s(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function a(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}},resolve:function(e){return Fh(e),e}},Mh={tokenize:function(e,t,n){const r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Ch(e,s,"linePrefix")};function s(s){if(null===s||vh(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}},partial:!0};const Uh={tokenize:function(e){const t=this,n=e.attempt(jh,(function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}),e.attempt(this.parser.constructs.flowInitial,r,Ch(e,e.attempt(this.parser.constructs.flow,r,e.attempt(Qh,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}};const Nh={resolveAll:Lh()},Th=Hh("string"),Dh=Hh("text");function Hh(e){return{tokenize:function(t){const n=this,r=this.parser.constructs[e],s=t.attempt(r,a,i);return a;function a(e){return l(e)?s(e):i(e)}function i(e){if(null!==e)return t.enter("data"),t.consume(e),o;t.consume(e)}function o(e){return l(e)?(t.exit("data"),s(e)):(t.consume(e),o)}function l(e){if(null===e)return!0;const t=r[e];let s=-1;if(t)for(;++s<t.length;){const e=t[s];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}},resolveAll:Lh("text"===e?Ph:void 0)}}function Lh(e){return function(t,n){let r,s=-1;for(;++s<=t.length;)void 0===r?t[s]&&"data"===t[s][1].type&&(r=s,s++):t[s]&&"data"===t[s][1].type||(s!==r+2&&(t[r][1].end=t[s-1][1].end,t.splice(r+2,s-r-2),s=r+2),r=void 0);return e?e(t,n):t}}function Ph(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const r=e[n-1][1],s=t.sliceStream(r);let a,i=s.length,o=-1,l=0;for(;i--;){const e=s[i];if("string"===typeof e){for(o=e.length;32===e.charCodeAt(o-1);)l++,o--;if(o)break;o=-1}else if(-2===e)a=!0,l++;else if(-1!==e){i++;break}}if(l){const s={type:n===e.length||a||l<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+i,_bufferIndex:i?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},s.start),r.start.offset===r.end.offset?Object.assign(r,s):(e.splice(n,0,["enter",s,t],["exit",s,t]),n+=2)}n++}return e}function Oh(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const a=e[s].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}function Rh(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const s={},a=[];let i=[],o=[],l=!0;const A={consume:function(e){vh(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,w()):-1!==e&&(r.column++,r.offset++);r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===i[r._index].length&&(r._bufferIndex=-1,r._index++));c.previous=e,l=!0},enter:function(e,t){const n=t||{};return n.type=e,n.start=p(),c.events.push(["enter",n,c]),o.push(n),n},exit:function(e){const t=o.pop();return t.end=p(),c.events.push(["exit",t,c]),t},attempt:v((function(e,t){y(e,t.from)})),check:v(g),interrupt:v(g,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:h,sliceSerialize:function(e,t){return function(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const a=e[n];let i;if("string"===typeof a)i=a;else switch(a){case-5:i="\r";break;case-4:i="\n";break;case-3:i="\r\n";break;case-2:i=t?" ":"\t";break;case-1:if(!t&&s)continue;i=" ";break;default:i=String.fromCharCode(a)}s=-2===a,r.push(i)}return r.join("")}(h(e),t)},now:p,defineSkip:function(e){s[e.line]=e.column,w()},write:function(e){if(i=oh(i,e),m(),null!==i[i.length-1])return[];return y(t,0),c.events=Oh(a,c.events,c),c.events}};let u,d=t.tokenize.call(c,A);return t.resolveAll&&a.push(t),c;function h(e){return function(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,a=t.end._bufferIndex;let i;if(n===s)i=[e[n].slice(r,a)];else{if(i=e.slice(n,s),r>-1){const e=i[0];"string"===typeof e?i[0]=e.slice(r):i.shift()}a>0&&i.push(e[s].slice(0,a))}return i}(i,e)}function p(){const{line:e,column:t,offset:n,_index:s,_bufferIndex:a}=r;return{line:e,column:t,offset:n,_index:s,_bufferIndex:a}}function m(){let e;for(;r._index<i.length;){const t=i[r._index];if("string"===typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)f(t.charCodeAt(r._bufferIndex));else f(t)}}function f(e){l=void 0,u=e,d=d(e)}function g(e,t){t.restore()}function v(e,t){return function(n,s,a){let i,u,d,h;return Array.isArray(n)?m(n):"tokenize"in n?m([n]):function(e){return t;function t(t){const n=null!==t&&e[t],r=null!==t&&e.null;return m([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]])(t)}}(n);function m(e){return i=e,u=0,0===e.length?a:f(e[u])}function f(e){return function(n){h=function(){const e=p(),t=c.previous,n=c.currentConstruct,s=c.events.length,a=Array.from(o);return{restore:i,from:s};function i(){r=e,c.previous=t,c.currentConstruct=n,c.events.length=s,o=a,w()}}(),d=e,e.partial||(c.currentConstruct=e);if(e.name&&c.parser.constructs.disable.null.includes(e.name))return v(n);return e.tokenize.call(t?Object.assign(Object.create(c),t):c,A,g,v)(n)}}function g(t){return l=!0,e(d,h),s}function v(e){return l=!0,h.restore(),++u<i.length?f(i[u]):a}}}function y(e,t){e.resolveAll&&!a.includes(e)&&a.push(e),e.resolve&&ih(c.events,t,c.events.length-t,e.resolve(c.events.slice(t),c)),e.resolveTo&&(c.events=e.resolveTo(c.events,c))}function w(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}const Vh={name:"thematicBreak",tokenize:function(e,t,n){let r,s=0;return function(t){return e.enter("thematicBreak"),function(e){return r=e,a(e)}(t)};function a(a){return a===r?(e.enter("thematicBreakSequence"),i(a)):s>=3&&(null===a||vh(a))?(e.exit("thematicBreak"),t(a)):n(a)}function i(t){return t===r?(e.consume(t),s++,i):(e.exit("thematicBreakSequence"),wh(t)?Ch(e,a,"whitespace")(t):a(t))}}};const Kh={name:"list",tokenize:function(e,t,n){const r=this,s=r.events[r.events.length-1];let a=s&&"linePrefix"===s[1].type?s[2].sliceSerialize(s[1],!0).length:0,i=0;return function(t){const s=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===s?!r.containerState.marker||t===r.containerState.marker:mh(t)){if(r.containerState.type||(r.containerState.type=s,e.enter(s,{_container:!0})),"listUnordered"===s)return e.enter("listItemPrefix"),42===t||45===t?e.check(Vh,n,l)(t):l(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),o(t)}return n(t)};function o(t){return mh(t)&&++i<10?(e.consume(t),o):(!r.interrupt||i<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),l(t)):n(t)}function l(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(jh,r.interrupt?n:A,e.attempt(zh,u,c))}function A(e){return r.containerState.initialBlankLine=!0,a++,u(e)}function c(t){return wh(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),u):n(t)}function u(n){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}},continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(jh,s,a);function s(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ch(e,t,"listItemIndent",r.containerState.size+1)(n)}function a(n){return r.containerState.furtherBlankLines||!wh(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,i(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(_h,t,i)(n))}function i(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ch(e,e.attempt(Kh,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}},exit:function(e){e.exit(this.containerState.type)}},zh={tokenize:function(e,t,n){const r=this;return Ch(e,(function(e){const s=r.events[r.events.length-1];return!wh(e)&&s&&"listItemPrefixWhitespace"===s[1].type?t(e):n(e)}),"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},_h={tokenize:function(e,t,n){const r=this;return Ch(e,(function(e){const s=r.events[r.events.length-1];return s&&"listItemIndent"===s[1].type&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(e):n(e)}),"listItemIndent",r.containerState.size+1)},partial:!0};const Gh={name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(t){if(62===t){const n=r.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),s}return n(t)};function s(n){return wh(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}},continuation:{tokenize:function(e,t,n){const r=this;return function(t){if(wh(t))return Ch(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t);return s(t)};function s(r){return e.attempt(Gh,t,n)(r)}}},exit:function(e){e.exit("blockQuote")}};function Wh(e,t,n,r,s,a,i,o,l){const A=l||Number.POSITIVE_INFINITY;let c=0;return function(t){if(60===t)return e.enter(r),e.enter(s),e.enter(a),e.consume(t),e.exit(a),u;if(null===t||32===t||41===t||ph(t))return n(t);return e.enter(r),e.enter(i),e.enter(o),e.enter("chunkString",{contentType:"string"}),p(t)};function u(n){return 62===n?(e.enter(a),e.consume(n),e.exit(a),e.exit(s),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),d(n))}function d(t){return 62===t?(e.exit("chunkString"),e.exit(o),u(t)):null===t||60===t||vh(t)?n(t):(e.consume(t),92===t?h:d)}function h(t){return 60===t||62===t||92===t?(e.consume(t),d):d(t)}function p(s){return c||null!==s&&41!==s&&!yh(s)?c<A&&40===s?(e.consume(s),c++,p):41===s?(e.consume(s),c--,p):null===s||32===s||40===s||ph(s)?n(s):(e.consume(s),92===s?m:p):(e.exit("chunkString"),e.exit(o),e.exit(i),e.exit(r),t(s))}function m(t){return 40===t||41===t||92===t?(e.consume(t),p):p(t)}}function Yh(e,t,n,r,s,a){const i=this;let o,l=0;return function(t){return e.enter(r),e.enter(s),e.consume(t),e.exit(s),e.enter(a),A};function A(u){return l>999||null===u||91===u||93===u&&!o||94===u&&!l&&"_hiddenFootnoteSupport"in i.parser.constructs?n(u):93===u?(e.exit(a),e.enter(s),e.consume(u),e.exit(s),e.exit(r),t):vh(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),A):(e.enter("chunkString",{contentType:"string"}),c(u))}function c(t){return null===t||91===t||93===t||vh(t)||l++>999?(e.exit("chunkString"),A(t)):(e.consume(t),o||(o=!wh(t)),92===t?u:c)}function u(t){return 91===t||92===t||93===t?(e.consume(t),l++,c):c(t)}}function qh(e,t,n,r,s,a){let i;return function(t){if(34===t||39===t||40===t)return e.enter(r),e.enter(s),e.consume(t),e.exit(s),i=40===t?41:t,o;return n(t)};function o(n){return n===i?(e.enter(s),e.consume(n),e.exit(s),e.exit(r),t):(e.enter(a),l(n))}function l(t){return t===i?(e.exit(a),o(i)):null===t?n(t):vh(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),Ch(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),A(t))}function A(t){return t===i||null===t||vh(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?c:A)}function c(t){return t===i||92===t?(e.consume(t),A):A(t)}}function Xh(e,t){let n;return function r(s){if(vh(s))return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r;if(wh(s))return Ch(e,r,n?"linePrefix":"lineSuffix")(s);return t(s)}}function Jh(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Zh={name:"definition",tokenize:function(e,t,n){const r=this;let s;return function(t){return e.enter("definition"),function(t){return Yh.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function a(t){return s=Jh(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),i):n(t)}function i(t){return yh(t)?Xh(e,o)(t):o(t)}function o(t){return Wh(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function l(t){return e.attempt($h,A,A)(t)}function A(t){return wh(t)?Ch(e,c,"whitespace")(t):c(t)}function c(a){return null===a||vh(a)?(e.exit("definition"),r.parser.defined.push(s),t(a)):n(a)}}},$h={tokenize:function(e,t,n){return function(t){return yh(t)?Xh(e,r)(t):n(t)};function r(t){return qh(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function s(t){return wh(t)?Ch(e,a,"whitespace")(t):a(t)}function a(e){return null===e||vh(e)?t(e):n(e)}},partial:!0};const ep={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("codeIndented"),Ch(e,s,"linePrefix",5)(t)};function s(e){const t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?a(e):n(e)}function a(t){return null===t?o(t):vh(t)?e.attempt(tp,a,o)(t):(e.enter("codeFlowValue"),i(t))}function i(t){return null===t||vh(t)?(e.exit("codeFlowValue"),a(t)):(e.consume(t),i)}function o(n){return e.exit("codeIndented"),t(n)}}},tp={tokenize:function(e,t,n){const r=this;return s;function s(t){return r.parser.lazy[r.now().line]?n(t):vh(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s):Ch(e,a,"linePrefix",5)(t)}function a(e){const a=r.events[r.events.length-1];return a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(e):vh(e)?s(e):n(e)}},partial:!0};const np={name:"headingAtx",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),s(t)}(t)};function s(t){return 35===t&&r++<6?(e.consume(t),s):null===t||yh(t)?(e.exit("atxHeadingSequence"),a(t)):n(t)}function a(n){return 35===n?(e.enter("atxHeadingSequence"),i(n)):null===n||vh(n)?(e.exit("atxHeading"),t(n)):wh(n)?Ch(e,a,"whitespace")(n):(e.enter("atxHeadingText"),o(n))}function i(t){return 35===t?(e.consume(t),i):(e.exit("atxHeadingSequence"),a(t))}function o(t){return null===t||35===t||yh(t)?(e.exit("atxHeadingText"),a(t)):(e.consume(t),o)}},resolve:function(e,t){let n,r,s=e.length-2,a=3;"whitespace"===e[a][1].type&&(a+=2);s-2>a&&"whitespace"===e[s][1].type&&(s-=2);"atxHeadingSequence"===e[s][1].type&&(a===s-1||s-4>a&&"whitespace"===e[s-2][1].type)&&(s-=a+1===s?2:4);s>a&&(n={type:"atxHeadingText",start:e[a][1].start,end:e[s][1].end},r={type:"chunkText",start:e[a][1].start,end:e[s][1].end,contentType:"text"},ih(e,a,s-a+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]]));return e}};const rp={name:"setextUnderline",tokenize:function(e,t,n){const r=this;let s;return function(t){let i,o=r.events.length;for(;o--;)if("lineEnding"!==r.events[o][1].type&&"linePrefix"!==r.events[o][1].type&&"content"!==r.events[o][1].type){i="paragraph"===r.events[o][1].type;break}if(!r.parser.lazy[r.now().line]&&(r.interrupt||i))return e.enter("setextHeadingLine"),s=t,function(t){return e.enter("setextHeadingLineSequence"),a(t)}(t);return n(t)};function a(t){return t===s?(e.consume(t),a):(e.exit("setextHeadingLineSequence"),wh(t)?Ch(e,i,"lineSuffix")(t):i(t))}function i(r){return null===r||vh(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}},resolveTo:function(e,t){let n,r,s,a=e.length;for(;a--;)if("enter"===e[a][0]){if("content"===e[a][1].type){n=a;break}"paragraph"===e[a][1].type&&(r=a)}else"content"===e[a][1].type&&e.splice(a,1),s||"definition"!==e[a][1].type||(s=a);const i={type:"setextHeading",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)};e[r][1].type="setextHeadingText",s?(e.splice(r,0,["enter",i,t]),e.splice(s+1,0,["exit",e[n][1],t]),e[n][1].end=Object.assign({},e[s][1].end)):e[n][1]=i;return e.push(["exit",i,t]),e}};const sp=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ap=["pre","script","style","textarea"],ip={name:"htmlFlow",tokenize:function(e,t,n){const r=this;let s,a,i,o,l;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),A}(t)};function A(o){return 33===o?(e.consume(o),c):47===o?(e.consume(o),a=!0,h):63===o?(e.consume(o),s=3,r.interrupt?t:N):uh(o)?(e.consume(o),i=String.fromCharCode(o),p):n(o)}function c(a){return 45===a?(e.consume(a),s=2,u):91===a?(e.consume(a),s=5,o=0,d):uh(a)?(e.consume(a),s=4,r.interrupt?t:N):n(a)}function u(s){return 45===s?(e.consume(s),r.interrupt?t:N):n(s)}function d(s){const a="CDATA[";return s===a.charCodeAt(o++)?(e.consume(s),6===o?r.interrupt?t:S:d):n(s)}function h(t){return uh(t)?(e.consume(t),i=String.fromCharCode(t),p):n(t)}function p(o){if(null===o||47===o||62===o||yh(o)){const l=47===o,A=i.toLowerCase();return l||a||!ap.includes(A)?sp.includes(i.toLowerCase())?(s=6,l?(e.consume(o),m):r.interrupt?t(o):S(o)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(o):a?f(o):g(o)):(s=1,r.interrupt?t(o):S(o))}return 45===o||dh(o)?(e.consume(o),i+=String.fromCharCode(o),p):n(o)}function m(s){return 62===s?(e.consume(s),r.interrupt?t:S):n(s)}function f(t){return wh(t)?(e.consume(t),f):C(t)}function g(t){return 47===t?(e.consume(t),C):58===t||95===t||uh(t)?(e.consume(t),v):wh(t)?(e.consume(t),g):C(t)}function v(t){return 45===t||46===t||58===t||95===t||dh(t)?(e.consume(t),v):y(t)}function y(t){return 61===t?(e.consume(t),w):wh(t)?(e.consume(t),y):g(t)}function w(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),l=t,b):wh(t)?(e.consume(t),w):x(t)}function b(t){return t===l?(e.consume(t),l=null,B):null===t||vh(t)?n(t):(e.consume(t),b)}function x(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||yh(t)?y(t):(e.consume(t),x)}function B(e){return 47===e||62===e||wh(e)?g(e):n(e)}function C(t){return 62===t?(e.consume(t),k):n(t)}function k(t){return null===t||vh(t)?S(t):wh(t)?(e.consume(t),k):n(t)}function S(t){return 45===t&&2===s?(e.consume(t),I):60===t&&1===s?(e.consume(t),Q):62===t&&4===s?(e.consume(t),T):63===t&&3===s?(e.consume(t),N):93===t&&5===s?(e.consume(t),U):!vh(t)||6!==s&&7!==s?null===t||vh(t)?(e.exit("htmlFlowData"),E(t)):(e.consume(t),S):(e.exit("htmlFlowData"),e.check(op,D,E)(t))}function E(t){return e.check(lp,j,D)(t)}function j(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),F}function F(t){return null===t||vh(t)?E(t):(e.enter("htmlFlowData"),S(t))}function I(t){return 45===t?(e.consume(t),N):S(t)}function Q(t){return 47===t?(e.consume(t),i="",M):S(t)}function M(t){if(62===t){const n=i.toLowerCase();return ap.includes(n)?(e.consume(t),T):S(t)}return uh(t)&&i.length<8?(e.consume(t),i+=String.fromCharCode(t),M):S(t)}function U(t){return 93===t?(e.consume(t),N):S(t)}function N(t){return 62===t?(e.consume(t),T):45===t&&2===s?(e.consume(t),N):S(t)}function T(t){return null===t||vh(t)?(e.exit("htmlFlowData"),D(t)):(e.consume(t),T)}function D(n){return e.exit("htmlFlow"),t(n)}},resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},concrete:!0},op={tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(jh,t,n)}},partial:!0},lp={tokenize:function(e,t,n){const r=this;return function(t){if(vh(t))return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s;return n(t)};function s(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0};const Ap={tokenize:function(e,t,n){const r=this;return function(t){if(null===t)return n(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),s};function s(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0},cp={name:"codeFenced",tokenize:function(e,t,n){const r=this,s={tokenize:function(e,t,n){let s=0;return i;function i(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l}function l(t){return e.enter("codeFencedFence"),wh(t)?Ch(e,A,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):A(t)}function A(t){return t===a?(e.enter("codeFencedFenceSequence"),c(t)):n(t)}function c(t){return t===a?(s++,e.consume(t),c):s>=o?(e.exit("codeFencedFenceSequence"),wh(t)?Ch(e,u,"whitespace")(t):u(t)):n(t)}function u(r){return null===r||vh(r)?(e.exit("codeFencedFence"),t(r)):n(r)}},partial:!0};let a,i=0,o=0;return function(t){return function(t){const n=r.events[r.events.length-1];return i=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,a=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(t)}(t)};function l(t){return t===a?(o++,e.consume(t),l):o<3?n(t):(e.exit("codeFencedFenceSequence"),wh(t)?Ch(e,A,"whitespace")(t):A(t))}function A(n){return null===n||vh(n)?(e.exit("codeFencedFence"),r.interrupt?t(n):e.check(Ap,h,v)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),c(n))}function c(t){return null===t||vh(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),A(t)):wh(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ch(e,u,"whitespace")(t)):96===t&&t===a?n(t):(e.consume(t),c)}function u(t){return null===t||vh(t)?A(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),d(t))}function d(t){return null===t||vh(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),A(t)):96===t&&t===a?n(t):(e.consume(t),d)}function h(t){return e.attempt(s,v,p)(t)}function p(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),m}function m(t){return i>0&&wh(t)?Ch(e,f,"linePrefix",i+1)(t):f(t)}function f(t){return null===t||vh(t)?e.check(Ap,h,v)(t):(e.enter("codeFlowValue"),g(t))}function g(t){return null===t||vh(t)?(e.exit("codeFlowValue"),f(t)):(e.consume(t),g)}function v(n){return e.exit("codeFenced"),t(n)}},concrete:!0};const up=document.createElement("i");function dp(e){const t="&"+e+";";up.innerHTML=t;const n=up.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}const hp={name:"characterReference",tokenize:function(e,t,n){const r=this;let s,a,i=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),o};function o(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),s=31,a=dh,A(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=fh,A):(e.enter("characterReferenceValue"),s=7,a=mh,A(t))}function A(o){if(59===o&&i){const s=e.exit("characterReferenceValue");return a!==dh||dp(r.sliceSerialize(s))?(e.enter("characterReferenceMarker"),e.consume(o),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(o)}return a(o)&&i++<s?(e.consume(o),A):n(o)}}};const pp={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return gh(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}};const mp={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Ch(e,t,"linePrefix")}}};const fp={name:"labelEnd",tokenize:function(e,t,n){const r=this;let s,a,i=r.events.length;for(;i--;)if(("labelImage"===r.events[i][1].type||"labelLink"===r.events[i][1].type)&&!r.events[i][1]._balanced){s=r.events[i][1];break}return function(t){if(!s)return n(t);if(s._inactive)return c(t);return a=r.parser.defined.includes(Jh(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),o};function o(t){return 40===t?e.attempt(gp,A,a?A:c)(t):91===t?e.attempt(vp,A,a?l:c)(t):a?A(t):c(t)}function l(t){return e.attempt(yp,A,c)(t)}function A(e){return t(e)}function c(e){return s._balanced=!0,n(e)}},resolveTo:function(e,t){let n,r,s,a,i=e.length,o=0;for(;i--;)if(n=e[i][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[i][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(s){if("enter"===e[i][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=i,"labelLink"!==n.type)){o=2;break}}else"labelEnd"===n.type&&(s=i);const l={type:"labelLink"===e[r][1].type?"link":"image",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)},A={type:"label",start:Object.assign({},e[r][1].start),end:Object.assign({},e[s][1].end)},c={type:"labelText",start:Object.assign({},e[r+o+2][1].end),end:Object.assign({},e[s-2][1].start)};return a=[["enter",l,t],["enter",A,t]],a=oh(a,e.slice(r+1,r+o+3)),a=oh(a,[["enter",c,t]]),a=oh(a,Oh(t.parser.constructs.insideSpan.null,e.slice(r+o+4,s-3),t)),a=oh(a,[["exit",c,t],e[s-2],e[s-1],["exit",A,t]]),a=oh(a,e.slice(s+1)),a=oh(a,[["exit",l,t]]),ih(e,r,e.length,a),e},resolveAll:function(e){let t=-1;for(;++t<e.length;){const n=e[t][1];"labelImage"!==n.type&&"labelLink"!==n.type&&"labelEnd"!==n.type||(e.splice(t+1,"labelImage"===n.type?4:2),n.type="data",t++)}return e}},gp={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),r};function r(t){return yh(t)?Xh(e,s)(t):s(t)}function s(t){return 41===t?A(t):Wh(e,a,i,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function a(t){return yh(t)?Xh(e,o)(t):A(t)}function i(e){return n(e)}function o(t){return 34===t||39===t||40===t?qh(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):A(t)}function l(t){return yh(t)?Xh(e,A)(t):A(t)}function A(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},vp={tokenize:function(e,t,n){const r=this;return function(t){return Yh.call(r,e,s,a,"reference","referenceMarker","referenceString")(t)};function s(e){return r.parser.defined.includes(Jh(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function a(e){return n(e)}}},yp={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};const wp={name:"labelStartImage",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),s};function s(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),a):n(t)}function a(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:fp.resolveAll};function bp(e){return null===e||yh(e)||xh(e)?1:bh(e)?2:void 0}const xp={name:"attention",tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=bp(r);let a;return function(t){return a=t,e.enter("attentionSequence"),i(t)};function i(o){if(o===a)return e.consume(o),i;const l=e.exit("attentionSequence"),A=bp(o),c=!A||2===A&&s||n.includes(o),u=!s||2===s&&A||n.includes(r);return l._open=Boolean(42===a?c:c&&(s||!u)),l._close=Boolean(42===a?u:u&&(A||!c)),t(o)}},resolveAll:function(e,t){let n,r,s,a,i,o,l,A,c=-1;for(;++c<e.length;)if("enter"===e[c][0]&&"attentionSequence"===e[c][1].type&&e[c][1]._close)for(n=c;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[c][1]).charCodeAt(0)){if((e[n][1]._close||e[c][1]._open)&&(e[c][1].end.offset-e[c][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[c][1].end.offset-e[c][1].start.offset)%3))continue;o=e[n][1].end.offset-e[n][1].start.offset>1&&e[c][1].end.offset-e[c][1].start.offset>1?2:1;const u=Object.assign({},e[n][1].end),d=Object.assign({},e[c][1].start);Bp(u,-o),Bp(d,o),a={type:o>1?"strongSequence":"emphasisSequence",start:u,end:Object.assign({},e[n][1].end)},i={type:o>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[c][1].start),end:d},s={type:o>1?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[c][1].start)},r={type:o>1?"strong":"emphasis",start:Object.assign({},a.start),end:Object.assign({},i.end)},e[n][1].end=Object.assign({},a.start),e[c][1].start=Object.assign({},i.end),l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=oh(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=oh(l,[["enter",r,t],["enter",a,t],["exit",a,t],["enter",s,t]]),l=oh(l,Oh(t.parser.constructs.insideSpan.null,e.slice(n+1,c),t)),l=oh(l,[["exit",s,t],["enter",i,t],["exit",i,t],["exit",r,t]]),e[c][1].end.offset-e[c][1].start.offset?(A=2,l=oh(l,[["enter",e[c][1],t],["exit",e[c][1],t]])):A=0,ih(e,n-1,c-n+3,l),c=n+l.length-A-2;break}c=-1;for(;++c<e.length;)"attentionSequence"===e[c][1].type&&(e[c][1].type="data");return e}};function Bp(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Cp={name:"autolink",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s};function s(t){return uh(t)?(e.consume(t),a):l(t)}function a(e){return 43===e||45===e||46===e||dh(e)?(r=1,i(e)):l(e)}function i(t){return 58===t?(e.consume(t),r=0,o):(43===t||45===t||46===t||dh(t))&&r++<32?(e.consume(t),i):(r=0,l(t))}function o(r){return 62===r?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):null===r||32===r||60===r||ph(r)?n(r):(e.consume(r),o)}function l(t){return 64===t?(e.consume(t),A):hh(t)?(e.consume(t),l):n(t)}function A(e){return dh(e)?c(e):n(e)}function c(n){return 46===n?(e.consume(n),r=0,A):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):u(n)}function u(t){if((45===t||dh(t))&&r++<63){const n=45===t?u:c;return e.consume(t),n}return n(t)}}};const kp={name:"htmlText",tokenize:function(e,t,n){const r=this;let s,a,i;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),o};function o(t){return 33===t?(e.consume(t),l):47===t?(e.consume(t),w):63===t?(e.consume(t),v):uh(t)?(e.consume(t),B):n(t)}function l(t){return 45===t?(e.consume(t),A):91===t?(e.consume(t),a=0,h):uh(t)?(e.consume(t),g):n(t)}function A(t){return 45===t?(e.consume(t),d):n(t)}function c(t){return null===t?n(t):45===t?(e.consume(t),u):vh(t)?(i=c,M(t)):(e.consume(t),c)}function u(t){return 45===t?(e.consume(t),d):c(t)}function d(e){return 62===e?Q(e):45===e?u(e):c(e)}function h(t){const r="CDATA[";return t===r.charCodeAt(a++)?(e.consume(t),6===a?p:h):n(t)}function p(t){return null===t?n(t):93===t?(e.consume(t),m):vh(t)?(i=p,M(t)):(e.consume(t),p)}function m(t){return 93===t?(e.consume(t),f):p(t)}function f(t){return 62===t?Q(t):93===t?(e.consume(t),f):p(t)}function g(t){return null===t||62===t?Q(t):vh(t)?(i=g,M(t)):(e.consume(t),g)}function v(t){return null===t?n(t):63===t?(e.consume(t),y):vh(t)?(i=v,M(t)):(e.consume(t),v)}function y(e){return 62===e?Q(e):v(e)}function w(t){return uh(t)?(e.consume(t),b):n(t)}function b(t){return 45===t||dh(t)?(e.consume(t),b):x(t)}function x(t){return vh(t)?(i=x,M(t)):wh(t)?(e.consume(t),x):Q(t)}function B(t){return 45===t||dh(t)?(e.consume(t),B):47===t||62===t||yh(t)?C(t):n(t)}function C(t){return 47===t?(e.consume(t),Q):58===t||95===t||uh(t)?(e.consume(t),k):vh(t)?(i=C,M(t)):wh(t)?(e.consume(t),C):Q(t)}function k(t){return 45===t||46===t||58===t||95===t||dh(t)?(e.consume(t),k):S(t)}function S(t){return 61===t?(e.consume(t),E):vh(t)?(i=S,M(t)):wh(t)?(e.consume(t),S):C(t)}function E(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),s=t,j):vh(t)?(i=E,M(t)):wh(t)?(e.consume(t),E):(e.consume(t),F)}function j(t){return t===s?(e.consume(t),s=void 0,I):null===t?n(t):vh(t)?(i=j,M(t)):(e.consume(t),j)}function F(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||yh(t)?C(t):(e.consume(t),F)}function I(e){return 47===e||62===e||yh(e)?C(e):n(e)}function Q(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}function M(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),U}function U(t){return wh(t)?Ch(e,N,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):N(t)}function N(t){return e.enter("htmlTextData"),i(t)}}};const Sp={name:"labelStartLink",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),s};function s(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:fp.resolveAll};const Ep={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),r};function r(r){return vh(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}};const jp={name:"codeText",tokenize:function(e,t,n){let r,s,a=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),i(t)};function i(t){return 96===t?(e.consume(t),a++,i):(e.exit("codeTextSequence"),o(t))}function o(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),o):96===t?(s=e.enter("codeTextSequence"),r=0,A(t)):vh(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o):(e.enter("codeTextData"),l(t))}function l(t){return null===t||32===t||96===t||vh(t)?(e.exit("codeTextData"),o(t)):(e.consume(t),l)}function A(n){return 96===n?(e.consume(n),r++,A):r===a?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(s.type="codeTextData",l(n))}},resolve:function(e){let t,n,r=e.length-4,s=3;if(("lineEnding"===e[s][1].type||"space"===e[s][1].type)&&("lineEnding"===e[r][1].type||"space"===e[r][1].type))for(t=s;++t<r;)if("codeTextData"===e[t][1].type){e[s][1].type="codeTextPadding",e[r][1].type="codeTextPadding",s+=2,r-=2;break}t=s-1,r++;for(;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):t!==r&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type}};const Fp={42:Kh,43:Kh,45:Kh,48:Kh,49:Kh,50:Kh,51:Kh,52:Kh,53:Kh,54:Kh,55:Kh,56:Kh,57:Kh,62:Gh},Ip={91:Zh},Qp={[-2]:ep,[-1]:ep,32:ep},Mp={35:np,42:Vh,45:[rp,Vh],60:ip,61:rp,95:Vh,96:cp,126:cp},Up={38:hp,92:pp},Np={[-5]:mp,[-4]:mp,[-3]:mp,33:wp,38:hp,42:xp,60:[Cp,kp],91:Sp,92:[Ep,pp],93:fp,95:xp,96:jp},Tp={null:[xp,Nh]},Dp={null:[42,95]},Hp={null:[]};function Lp(t){const n=function(e){const t={};let n=-1;for(;++n<e.length;)Ah(t,e[n]);return t}([e,...(t||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:s(kh),document:s(Sh),flow:s(Uh),string:s(Th),text:s(Dh)};return r;function s(e){return function(t){return Rh(r,e,t)}}}const Pp=/[\0\t\n\r]/g;function Op(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535===(65535&n)||65534===(65535&n)||n>1114111?"\ufffd":String.fromCharCode(n)}const Rp=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Vp(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return Op(n.slice(t?2:1),t?16:10)}return dp(n)||e}const Kp={}.hasOwnProperty,zp=function(e,t,n){return"string"!==typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(ne),autolinkProtocol:E,autolinkEmail:E,atxHeading:o(Z),blockQuote:o(W),characterEscape:E,characterReference:E,codeFenced:o(Y),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(Y,l),codeText:o(q,l),codeTextData:E,data:E,codeFlowValue:E,definition:o(X),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(J),hardBreakEscape:o($),hardBreakTrailing:o($),htmlFlow:o(ee,l),htmlFlowData:E,htmlText:o(ee,l),htmlTextData:E,image:o(te),label:l,link:o(ne),listItem:o(se),listItemValue:p,listOrdered:o(re,h),listUnordered:o(re),paragraph:o(ae),reference:R,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(Z),strong:o(ie),thematicBreak:o(le)},exit:{atxHeading:c(),atxHeadingSequence:B,autolink:c(),autolinkEmail:G,autolinkProtocol:_,blockQuote:c(),characterEscapeValue:j,characterReferenceMarkerHexadecimal:K,characterReferenceMarkerNumeric:K,characterReferenceValue:z,codeFenced:c(v),codeFencedFence:g,codeFencedFenceInfo:m,codeFencedFenceMeta:f,codeFlowValue:j,codeIndented:c(y),codeText:c(U),codeTextData:j,data:j,definition:c(),definitionDestinationString:x,definitionLabelString:w,definitionTitleString:b,emphasis:c(),hardBreakEscape:c(I),hardBreakTrailing:c(I),htmlFlow:c(Q),htmlFlowData:j,htmlText:c(M),htmlTextData:j,image:c(T),label:H,labelText:D,lineEnding:F,link:c(N),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:V,resourceDestinationString:L,resourceTitleString:P,resource:O,setextHeading:c(S),setextHeadingLineSequence:k,setextHeadingText:C,strong:c(),thematicBreak:c()}};Gp(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(e){let n={type:"root",children:[]};const r={stack:[n],tokenStack:[],config:t,enter:A,exit:u,buffer:l,resume:d,setData:a,getData:i},o=[];let c=-1;for(;++c<e.length;)if("listOrdered"===e[c][1].type||"listUnordered"===e[c][1].type)if("enter"===e[c][0])o.push(c);else{c=s(e,o.pop(),c)}for(c=-1;++c<e.length;){const n=t[e[c][0]];Kp.call(n,e[c][1].type)&&n[e[c][1].type].call(Object.assign({sliceSerialize:e[c][2].sliceSerialize},r),e[c][1])}if(r.tokenStack.length>0){const e=r.tokenStack[r.tokenStack.length-1];(e[1]||Yp).call(r,void 0,e[0])}for(n.position={start:_p(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:_p(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},c=-1;++c<t.transforms.length;)n=t.transforms[c](n)||n;return n}function s(e,t,n){let r,s,a,i,o=t-1,l=-1,A=!1;for(;++o<=n;){const t=e[o];if("listUnordered"===t[1].type||"listOrdered"===t[1].type||"blockQuote"===t[1].type?("enter"===t[0]?l++:l--,i=void 0):"lineEndingBlank"===t[1].type?"enter"===t[0]&&(!r||i||l||a||(a=o),i=void 0):"linePrefix"===t[1].type||"listItemValue"===t[1].type||"listItemMarker"===t[1].type||"listItemPrefix"===t[1].type||"listItemPrefixWhitespace"===t[1].type||(i=void 0),!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(r){let i=o;for(s=void 0;i--;){const t=e[i];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;s&&(e[s][1].type="lineEndingBlank",A=!0),t[1].type="lineEnding",s=i}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}a&&(!s||a<s)&&(r._spread=!0),r.end=Object.assign({},s?e[s][1].start:t[1].end),e.splice(s||o,0,["exit",r,t[2]]),o++,n++}"listItemPrefix"===t[1].type&&(r={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0},e.splice(o,0,["enter",r,t[2]]),o++,n++,a=void 0,i=!0)}}return e[t][1]._spread=A,n}function a(e,t){n[e]=t}function i(e){return n[e]}function o(e,t){return n;function n(n){A.call(this,e(n),n),t&&t.call(this,n)}}function l(){this.stack.push({type:"fragment",children:[]})}function A(e,t,n){return this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n]),e.position={start:_p(t.start)},e}function c(e){return t;function t(t){e&&e.call(this,t),u.call(this,t)}}function u(e,t){const n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+Fd({start:e.start,end:e.end})+"): it\u2019s not open");if(r[0].type!==e.type)if(t)t.call(this,e,r[0]);else{(r[1]||Yp).call(this,e,r[0])}return n.position.end=_p(e.end),n}function d(){return function(e,t){const n=t||rh;return sh(e,"boolean"!==typeof n.includeImageAlt||n.includeImageAlt,"boolean"!==typeof n.includeHtml||n.includeHtml)}(this.stack.pop())}function h(){a("expectingFirstListItemValue",!0)}function p(e){if(i("expectingFirstListItemValue")){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),a("expectingFirstListItemValue")}}function m(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function f(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function g(){i("flowCodeInside")||(this.buffer(),a("flowCodeInside",!0))}function v(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),a("flowCodeInside")}function y(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function w(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Jh(this.sliceSerialize(e)).toLowerCase()}function b(){const e=this.resume();this.stack[this.stack.length-1].title=e}function x(){const e=this.resume();this.stack[this.stack.length-1].url=e}function B(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function C(){a("setextHeadingSlurpLineEnding",!0)}function k(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).charCodeAt(0)?1:2}function S(){a("setextHeadingSlurpLineEnding")}function E(e){const t=this.stack[this.stack.length-1];let n=t.children[t.children.length-1];n&&"text"===n.type||(n=oe(),n.position={start:_p(e.start)},t.children.push(n)),this.stack.push(n)}function j(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=_p(e.end)}function F(e){const n=this.stack[this.stack.length-1];if(i("atHardBreak")){return n.children[n.children.length-1].position.end=_p(e.end),void a("atHardBreak")}!i("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(n.type)&&(E.call(this,e),j.call(this,e))}function I(){a("atHardBreak",!0)}function Q(){const e=this.resume();this.stack[this.stack.length-1].value=e}function M(){const e=this.resume();this.stack[this.stack.length-1].value=e}function U(){const e=this.resume();this.stack[this.stack.length-1].value=e}function N(){const e=this.stack[this.stack.length-1];if(i("inReference")){const t=i("referenceType")||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;a("referenceType")}function T(){const e=this.stack[this.stack.length-1];if(i("inReference")){const t=i("referenceType")||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;a("referenceType")}function D(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(Rp,Vp)}(t),n.identifier=Jh(t).toLowerCase()}function H(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(a("inReference",!0),"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function L(){const e=this.resume();this.stack[this.stack.length-1].url=e}function P(){const e=this.resume();this.stack[this.stack.length-1].title=e}function O(){a("inReference")}function R(){a("referenceType","collapsed")}function V(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Jh(this.sliceSerialize(e)).toLowerCase(),a("referenceType","full")}function K(e){a("characterReferenceType",e.type)}function z(e){const t=this.sliceSerialize(e),n=i("characterReferenceType");let r;if(n)r=Op(t,"characterReferenceMarkerNumeric"===n?10:16),a("characterReferenceType");else{r=dp(t)}const s=this.stack.pop();s.value+=r,s.position.end=_p(e.end)}function _(e){j.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function G(e){j.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function W(){return{type:"blockquote",children:[]}}function Y(){return{type:"code",lang:null,meta:null,value:""}}function q(){return{type:"inlineCode",value:""}}function X(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function J(){return{type:"emphasis",children:[]}}function Z(){return{type:"heading",depth:void 0,children:[]}}function $(){return{type:"break"}}function ee(){return{type:"html",value:""}}function te(){return{type:"image",title:null,url:"",alt:null}}function ne(){return{type:"link",title:null,url:"",children:[]}}function re(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function se(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function ae(){return{type:"paragraph",children:[]}}function ie(){return{type:"strong",children:[]}}function oe(){return{type:"text",value:""}}function le(){return{type:"thematicBreak"}}}(n)(function(e){for(;!Fh(e););return e}(Lp(n).document().write(function(){let e,t=1,n="",r=!0;return function(s,a,i){const o=[];let l,A,c,u,d;for(s=n+s.toString(a),c=0,n="",r&&(65279===s.charCodeAt(0)&&c++,r=void 0);c<s.length;){if(Pp.lastIndex=c,l=Pp.exec(s),u=l&&void 0!==l.index?l.index:s.length,d=s.charCodeAt(u),!l){n=s.slice(c);break}if(10===d&&c===u&&e)o.push(-3),e=void 0;else switch(e&&(o.push(-5),e=void 0),c<u&&(o.push(s.slice(c,u)),t+=u-c),d){case 0:o.push(65533),t++;break;case 9:for(A=4*Math.ceil(t/4),o.push(-2);t++<A;)o.push(-1);break;case 10:o.push(-4),t=1;break;default:e=!0,t=1}c=u+1}return i&&(e&&o.push(-5),n&&o.push(n),o.push(null)),o}}()(e,t,!0))))};function _p(e){return{line:e.line,column:e.column,offset:e.offset}}function Gp(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Gp(e,r):Wp(e,r)}}function Wp(e,t){let n;for(n in t)if(Kp.call(t,n))if("canContainEols"===n){const r=t[n];r&&e[n].push(...r)}else if("transforms"===n){const r=t[n];r&&e[n].push(...r)}else if("enter"===n||"exit"===n){const r=t[n];r&&Object.assign(e[n],r)}}function Yp(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Fd({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Fd({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Fd({start:t.start,end:t.end})+") is still open")}function qp(e){Object.assign(this,{Parser:t=>{const n=this.data("settings");return zp(t,Object.assign({},n,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}const Xp=function(e,t,n){const r={type:String(e)};return void 0!==n&&null!==n||"string"!==typeof t&&!Array.isArray(t)?Object.assign(r,t):n=t,Array.isArray(n)?r.children=n:void 0!==n&&null!==n&&(r.value=String(n)),r},Jp=function(e){if(void 0===e||null===e)return $p;if("string"===typeof e)return function(e){return Zp(t);function t(t){return t&&t.type===e}}(e);if("object"===typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Jp(e[n]);return Zp(r);function r(){let e=-1;for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];for(;++e<t.length;)if(t[e].call(this,...r))return!0;return!1}}(e):function(e){return Zp(t);function t(t){let n;for(n in e)if(t[n]!==e[n])return!1;return!0}}(e);if("function"===typeof e)return Zp(e);throw new Error("Expected function, string, or object as test")};function Zp(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return Boolean(t&&"object"===typeof t&&"type"in t&&Boolean(e.call(this,t,...r)))}}function $p(){return!0}const em=!0,tm=!1,nm=function(e,t,n,r){"function"===typeof t&&"function"!==typeof n&&(r=n,n=t,t=null);const s=Jp(t),a=r?-1:1;!function e(i,o,l){const A=i&&"object"===typeof i?i:{};if("string"===typeof A.type){const e="string"===typeof A.tagName?A.tagName:"string"===typeof A.name?A.name:void 0;Object.defineProperty(c,"name",{value:"node ("+i.type+(e?"<"+e+">":"")+")"})}return c;function c(){let A,c,u,d=[];if((!t||s(i,o,l[l.length-1]||null))&&(d=function(e){if(Array.isArray(e))return e;if("number"===typeof e)return[em,e];return[e]}(n(i,l)),d[0]===tm))return d;if(i.children&&"skip"!==d[0])for(c=(r?i.children.length:-1)+a,u=l.concat(i);c>-1&&c<i.children.length;){if(A=e(i.children[c],c,u)(),A[0]===tm)return A;c="number"===typeof A[1]?A[1]:c+a}return d}}(e,void 0,[])()};const rm=function(e,t,n,r){"function"===typeof t&&"function"!==typeof n&&(r=n,n=t,t=null),nm(e,t,(function(e,t){const r=t[t.length-1];return n(e,r?r.children.indexOf(e):null,r)}),r)},sm=im("start"),am=im("end");function im(e){return function(t){const n=t&&t.position&&t.position[e]||{};return{line:n.line||null,column:n.column||null,offset:n.offset>-1?n.offset:null}}}const om={}.hasOwnProperty;function lm(e){return String(e||"").toUpperCase()}const Am={}.hasOwnProperty;function cm(e,t){const n=t.data||{};return"value"in t&&!(Am.call(n,"hName")||Am.call(n,"hProperties")||Am.call(n,"hChildren"))?e.augment(t,Xp("text",t.value)):e(t,"div",hm(e,t))}function um(e,t,n){const r=t&&t.type;let s;if(!r)throw new Error("Expected node, got `"+t+"`");return s=Am.call(e.handlers,r)?e.handlers[r]:e.passThrough&&e.passThrough.includes(r)?dm:e.unknownHandler,("function"===typeof s?s:cm)(e,t,n)}function dm(e,t){return"children"in t?{...t,children:hm(e,t)}:t}function hm(e,t){const n=[];if("children"in t){const r=t.children;let s=-1;for(;++s<r.length;){const a=um(e,r[s],t);if(a){if(s&&"break"===r[s-1].type&&(Array.isArray(a)||"text"!==a.type||(a.value=a.value.replace(/^\s+/,"")),!Array.isArray(a)&&"element"===a.type)){const e=a.children[0];e&&"text"===e.type&&(e.value=e.value.replace(/^\s+/,""))}Array.isArray(a)?n.push(...a):n.push(a)}}}return n}function pm(e,t){return e(t,"hr")}function mm(e,t){const n=[];let r=-1;for(t&&n.push(Xp("text","\n"));++r<e.length;)r&&n.push(Xp("text","\n")),n.push(e[r]);return t&&e.length>0&&n.push(Xp("text","\n")),n}function fm(e,t){const n={},r=t.ordered?"ol":"ul",s=hm(e,t);let a=-1;for("number"===typeof t.start&&1!==t.start&&(n.start=t.start);++a<s.length;){const e=s[a];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}return e(t,r,n,mm(s,!0))}function gm(e,t){const n=e.footnoteOrder,r=String(t.identifier),s=n.indexOf(r),a=String(-1===s?n.push(r):s+1);return e(t,"a",{href:"#fn"+a,className:["footnote-ref"],id:"fnref"+a,role:"doc-noteref"},[e(t.position,"sup",[Xp("text",a)])])}var vm=n(5181);function ym(e,t){const n=t.referenceType;let r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return Xp("text","!["+t.alt+r);const s=hm(e,t),a=s[0];a&&"text"===a.type?a.value="["+a.value:s.unshift(Xp("text","["));const i=s[s.length-1];return i&&"text"===i.type?i.value+=r:s.push(Xp("text",r)),s}function wm(e){const t=e.spread;return void 0===t||null===t?e.children.length>1:t}const bm={blockquote:function(e,t){return e(t,"blockquote",mm(hm(e,t),!0))},break:function(e,t){return[e(t,"br"),Xp("text","\n")]},code:function(e,t){const n=t.value?t.value+"\n":"",r=t.lang&&t.lang.match(/^[^ \t]+(?=[ \t]|$)/),s={};r&&(s.className=["language-"+r]);const a=e(t,"code",s,[Xp("text",n)]);return t.meta&&(a.data={meta:t.meta}),e(t.position,"pre",[a])},delete:function(e,t){return e(t,"del",hm(e,t))},emphasis:function(e,t){return e(t,"em",hm(e,t))},footnoteReference:gm,footnote:function(e,t){const n=e.footnoteById,r=e.footnoteOrder;let s=1;for(;s in n;)s++;const a=String(s);return r.push(a),n[a]={type:"footnoteDefinition",identifier:a,children:[{type:"paragraph",children:t.children}],position:t.position},gm(e,{type:"footnoteReference",identifier:a,position:t.position})},heading:function(e,t){return e(t,"h"+t.depth,hm(e,t))},html:function(e,t){return e.dangerous?e.augment(t,Xp("raw",t.value)):null},imageReference:function(e,t){const n=e.definition(t.identifier);if(!n)return ym(e,t);const r={src:vm(n.url||""),alt:t.alt};return null!==n.title&&void 0!==n.title&&(r.title=n.title),e(t,"img",r)},image:function(e,t){const n={src:vm(t.url),alt:t.alt};return null!==t.title&&void 0!==t.title&&(n.title=t.title),e(t,"img",n)},inlineCode:function(e,t){return e(t,"code",[Xp("text",t.value.replace(/\r?\n|\r/g," "))])},linkReference:function(e,t){const n=e.definition(t.identifier);if(!n)return ym(e,t);const r={href:vm(n.url||"")};return null!==n.title&&void 0!==n.title&&(r.title=n.title),e(t,"a",r,hm(e,t))},link:function(e,t){const n={href:vm(t.url)};return null!==t.title&&void 0!==t.title&&(n.title=t.title),e(t,"a",n,hm(e,t))},listItem:function(e,t,n){const r=hm(e,t),s=n?function(e){let t=e.spread;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=wm(n[r]);return Boolean(t)}(n):wm(t),a={},i=[];if("boolean"===typeof t.checked){let n;r[0]&&"element"===r[0].type&&"p"===r[0].tagName?n=r[0]:(n=e(null,"p",[]),r.unshift(n)),n.children.length>0&&n.children.unshift(Xp("text"," ")),n.children.unshift(e(null,"input",{type:"checkbox",checked:t.checked,disabled:!0})),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const e=r[o];(s||0!==o||"element"!==e.type||"p"!==e.tagName)&&i.push(Xp("text","\n")),"element"!==e.type||"p"!==e.tagName||s?i.push(e):i.push(...e.children)}const l=r[r.length-1];return!l||!s&&"tagName"in l&&"p"===l.tagName||i.push(Xp("text","\n")),e(t,"li",a,i)},list:fm,paragraph:function(e,t){return e(t,"p",hm(e,t))},root:function(e,t){return e.augment(t,Xp("root",mm(hm(e,t))))},strong:function(e,t){return e(t,"strong",hm(e,t))},table:function(e,t){const n=t.children;let r=-1;const s=t.align||[],a=[];for(;++r<n.length;){const i=n[r].children,o=0===r?"th":"td";let l=t.align?s.length:i.length;const A=[];for(;l--;){const t=i[l];A[l]=e(t,o,{align:s[l]},t?hm(e,t):[])}a[r]=e(n[r],"tr",mm(A,!0))}return e(t,"table",mm([e(a[0].position,"thead",mm([a[0]],!0))].concat(a[1]?e({start:sm(a[1]),end:am(a[a.length-1])},"tbody",mm(a.slice(1),!0)):[]),!0))},text:function(e,t){return e.augment(t,Xp("text",String(t.value).replace(/[ \t]*(\r?\n|\r)[ \t]*/g,"$1")))},thematicBreak:pm,toml:xm,yaml:xm,definition:xm,footnoteDefinition:xm};function xm(){return null}const Bm={}.hasOwnProperty;function Cm(e,t){const n=t||{},r=n.allowDangerousHtml||!1,s={};return i.dangerous=r,i.definition=function(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return rm(e,"definition",(e=>{const n=lm(e.identifier);n&&!om.call(t,n)&&(t[n]=e)})),function(e){const n=lm(e);return n&&om.call(t,n)?t[n]:null}}(e),i.footnoteById=s,i.footnoteOrder=[],i.augment=a,i.handlers={...bm,...n.handlers},i.unknownHandler=n.unknownHandler,i.passThrough=n.passThrough,rm(e,"footnoteDefinition",(e=>{const t=String(e.identifier).toUpperCase();Bm.call(s,t)||(s[t]=e)})),i;function a(e,t){if(e&&"data"in e&&e.data){const n=e.data;n.hName&&("element"!==t.type&&(t={type:"element",tagName:"",properties:{},children:[]}),t.tagName=n.hName),"element"===t.type&&n.hProperties&&(t.properties={...t.properties,...n.hProperties}),"children"in t&&t.children&&n.hChildren&&(t.children=n.hChildren)}if(e){const n="type"in e?e:{position:e};(function(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column})(n)||(t.position={start:sm(n),end:am(n)})}return t}function i(e,t,n,r){return Array.isArray(n)&&(r=n,n={}),a(e,{type:"element",tagName:t,properties:n||{},children:r||[]})}}function km(e,t){const n=Cm(e,t),r=um(n,e,null),s=function(e){const t=e.footnoteById,n=e.footnoteOrder;let r=-1;const s=[];for(;++r<n.length;){const e=t[n[r].toUpperCase()];if(!e)continue;const a=String(r+1),i=[...e.children],o={type:"link",url:"#fnref"+a,data:{hProperties:{className:["footnote-back"],role:"doc-backlink"}},children:[{type:"text",value:"\u21a9"}]},l=i[i.length-1];l&&"paragraph"===l.type?l.children.push(o):i.push(o),s.push({type:"listItem",data:{hProperties:{id:"fn"+a,role:"doc-endnote"}},children:i,position:e.position})}return 0===s.length?null:e(null,"section",{className:["footnotes"],role:"doc-endnotes"},mm([pm(e),fm(e,{type:"list",ordered:!0,children:s})],!0))}(n);return s&&r.children.push(Xp("text","\n"),s),Array.isArray(r)?{type:"root",children:r}:r}const Sm=function(e,t){return e&&"run"in e?function(e,t){return(n,r,s)=>{e.run(km(n,t),r,(e=>{s(e)}))}}(e,t):function(e){return t=>km(t,e)}(e)};var Em=n(1942);class jm{constructor(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}}function Fm(e,t){const n={},r={};let s=-1;for(;++s<e.length;)Object.assign(n,e[s].property),Object.assign(r,e[s].normal);return new jm(n,r,t)}function Im(e){return e.toLowerCase()}jm.prototype.property={},jm.prototype.normal={},jm.prototype.space=null;class Qm{constructor(e,t){this.property=e,this.attribute=t}}Qm.prototype.space=null,Qm.prototype.boolean=!1,Qm.prototype.booleanish=!1,Qm.prototype.overloadedBoolean=!1,Qm.prototype.number=!1,Qm.prototype.commaSeparated=!1,Qm.prototype.spaceSeparated=!1,Qm.prototype.commaOrSpaceSeparated=!1,Qm.prototype.mustUseProperty=!1,Qm.prototype.defined=!1;let Mm=0;const Um=Om(),Nm=Om(),Tm=Om(),Dm=Om(),Hm=Om(),Lm=Om(),Pm=Om();function Om(){return 2**++Mm}const Rm=Object.keys(t);class Vm extends Qm{constructor(e,n,r,s){let a=-1;if(super(e,n),Km(this,"space",s),"number"===typeof r)for(;++a<Rm.length;){const e=Rm[a];Km(this,Rm[a],(r&t[e])===t[e])}}}function Km(e,t,n){n&&(e[t]=n)}Vm.prototype.defined=!0;const zm={}.hasOwnProperty;function _m(e){const t={},n={};let r;for(r in e.properties)if(zm.call(e.properties,r)){const s=e.properties[r],a=new Vm(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[Im(r)]=r,n[Im(a.attribute)]=r}return new jm(t,n,e.space)}const Gm=_m({space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Wm=_m({space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Ym(e,t){return t in e?e[t]:t}function qm(e,t){return Ym(e,t.toLowerCase())}const Xm=_m({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:qm,properties:{xmlns:null,xmlnsXLink:null}}),Jm=_m({transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:Nm,ariaAutoComplete:null,ariaBusy:Nm,ariaChecked:Nm,ariaColCount:Dm,ariaColIndex:Dm,ariaColSpan:Dm,ariaControls:Hm,ariaCurrent:null,ariaDescribedBy:Hm,ariaDetails:null,ariaDisabled:Nm,ariaDropEffect:Hm,ariaErrorMessage:null,ariaExpanded:Nm,ariaFlowTo:Hm,ariaGrabbed:Nm,ariaHasPopup:null,ariaHidden:Nm,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Hm,ariaLevel:Dm,ariaLive:null,ariaModal:Nm,ariaMultiLine:Nm,ariaMultiSelectable:Nm,ariaOrientation:null,ariaOwns:Hm,ariaPlaceholder:null,ariaPosInSet:Dm,ariaPressed:Nm,ariaReadOnly:Nm,ariaRelevant:null,ariaRequired:Nm,ariaRoleDescription:Hm,ariaRowCount:Dm,ariaRowIndex:Dm,ariaRowSpan:Dm,ariaSelected:Nm,ariaSetSize:Dm,ariaSort:null,ariaValueMax:Dm,ariaValueMin:Dm,ariaValueNow:Dm,ariaValueText:null,role:null}}),Zm=_m({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:qm,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Lm,acceptCharset:Hm,accessKey:Hm,action:null,allow:null,allowFullScreen:Um,allowPaymentRequest:Um,allowUserMedia:Um,alt:null,as:null,async:Um,autoCapitalize:null,autoComplete:Hm,autoFocus:Um,autoPlay:Um,blocking:Hm,capture:null,charSet:null,checked:Um,cite:null,className:Hm,cols:Dm,colSpan:null,content:null,contentEditable:Nm,controls:Um,controlsList:Hm,coords:Dm|Lm,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Um,defer:Um,dir:null,dirName:null,disabled:Um,download:Tm,draggable:Nm,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Um,formTarget:null,headers:Hm,height:Dm,hidden:Um,high:Dm,href:null,hrefLang:null,htmlFor:Hm,httpEquiv:Hm,id:null,imageSizes:null,imageSrcSet:null,inert:Um,inputMode:null,integrity:null,is:null,isMap:Um,itemId:null,itemProp:Hm,itemRef:Hm,itemScope:Um,itemType:Hm,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Um,low:Dm,manifest:null,max:null,maxLength:Dm,media:null,method:null,min:null,minLength:Dm,multiple:Um,muted:Um,name:null,nonce:null,noModule:Um,noValidate:Um,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Um,optimum:Dm,pattern:null,ping:Hm,placeholder:null,playsInline:Um,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Um,referrerPolicy:null,rel:Hm,required:Um,reversed:Um,rows:Dm,rowSpan:Dm,sandbox:Hm,scope:null,scoped:Um,seamless:Um,selected:Um,shadowRootClonable:Um,shadowRootDelegatesFocus:Um,shadowRootMode:null,shape:null,size:Dm,sizes:null,slot:null,span:Dm,spellCheck:Nm,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Dm,step:null,style:null,tabIndex:Dm,target:null,title:null,translate:null,type:null,typeMustMatch:Um,useMap:null,value:Nm,width:Dm,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Hm,axis:null,background:null,bgColor:null,border:Dm,borderColor:null,bottomMargin:Dm,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Um,declare:Um,event:null,face:null,frame:null,frameBorder:null,hSpace:Dm,leftMargin:Dm,link:null,longDesc:null,lowSrc:null,marginHeight:Dm,marginWidth:Dm,noResize:Um,noHref:Um,noShade:Um,noWrap:Um,object:null,profile:null,prompt:null,rev:null,rightMargin:Dm,rules:null,scheme:null,scrolling:Nm,standby:null,summary:null,text:null,topMargin:Dm,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Dm,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Um,disableRemotePlayback:Um,prefix:null,property:null,results:Dm,security:null,unselectable:null}}),$m=_m({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Ym,properties:{about:Pm,accentHeight:Dm,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Dm,amplitude:Dm,arabicForm:null,ascent:Dm,attributeName:null,attributeType:null,azimuth:Dm,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Dm,by:null,calcMode:null,capHeight:Dm,className:Hm,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Dm,diffuseConstant:Dm,direction:null,display:null,dur:null,divisor:Dm,dominantBaseline:null,download:Um,dx:null,dy:null,edgeMode:null,editable:null,elevation:Dm,enableBackground:null,end:null,event:null,exponent:Dm,externalResourcesRequired:null,fill:null,fillOpacity:Dm,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Lm,g2:Lm,glyphName:Lm,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Dm,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Dm,horizOriginX:Dm,horizOriginY:Dm,id:null,ideographic:Dm,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Dm,k:Dm,k1:Dm,k2:Dm,k3:Dm,k4:Dm,kernelMatrix:Pm,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Dm,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Dm,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Dm,overlineThickness:Dm,paintOrder:null,panose1:null,path:null,pathLength:Dm,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Hm,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Dm,pointsAtY:Dm,pointsAtZ:Dm,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Pm,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Pm,rev:Pm,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Pm,requiredFeatures:Pm,requiredFonts:Pm,requiredFormats:Pm,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Dm,specularExponent:Dm,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Dm,strikethroughThickness:Dm,string:null,stroke:null,strokeDashArray:Pm,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Dm,strokeOpacity:Dm,strokeWidth:null,style:null,surfaceScale:Dm,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Pm,tabIndex:Dm,tableValues:null,target:null,targetX:Dm,targetY:Dm,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Pm,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Dm,underlineThickness:Dm,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Dm,values:null,vAlphabetic:Dm,vMathematical:Dm,vectorEffect:null,vHanging:Dm,vIdeographic:Dm,version:null,vertAdvY:Dm,vertOriginX:Dm,vertOriginY:Dm,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Dm,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),ef=Fm([Wm,Gm,Xm,Jm,Zm],"html"),tf=Fm([Wm,Gm,Xm,Jm,$m],"svg");function nf(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{rm(t,"element",((t,n,r)=>{const s=r;let a;if(e.allowedElements?a=!e.allowedElements.includes(t.tagName):e.disallowedElements&&(a=e.disallowedElements.includes(t.tagName)),!a&&e.allowElement&&"number"===typeof n&&(a=!e.allowElement(t,n,s)),a&&"number"===typeof n)return e.unwrapDisallowed&&t.children?s.children.splice(n,1,...t.children):s.children.splice(n,1),n}))}}const rf=["http","https","mailto","tel"];var sf=n(7961);function af(e){const t=e&&"object"===typeof e&&"text"===e.type?e.value||"":e;return"string"===typeof t&&""===t.replace(/[ \t\n\f\r]/g,"")}const of=/^data[-\w.:]+$/i,lf=/-[a-z]/g,Af=/[A-Z]/g;function cf(e){return"-"+e.toLowerCase()}function uf(e){return e.charAt(1).toUpperCase()}const df={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"};var hf=n(126);const pf={}.hasOwnProperty,mf=new Set(["table","thead","tbody","tfoot","tr"]);function ff(e,t){const n=[];let r,s=-1;for(;++s<t.children.length;)r=t.children[s],"element"===r.type?n.push(gf(e,r,s,t)):"text"===r.type?"element"===t.type&&mf.has(t.tagName)&&af(r)||n.push(r.value):"raw"!==r.type||e.options.skipHtml||n.push(r.value);return n}function gf(e,t,n,r){const s=e.options,a=e.schema,i=t.tagName,o={};let l,A=a;if("html"===a.space&&"svg"===i&&(A=tf,e.schema=A),t.properties)for(l in t.properties)pf.call(t.properties,l)&&yf(o,l,t.properties[l],e);"ol"!==i&&"ul"!==i||e.listDepth++;const u=ff(e,t);"ol"!==i&&"ul"!==i||e.listDepth--,e.schema=a;const d=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},h=s.components&&pf.call(s.components,i)?s.components[i]:i,p="string"===typeof h||h===c.Fragment;if(!sf.isValidElementType(h))throw new TypeError("Component for name `".concat(i,"` not defined or is not renderable"));if(o.key=[i,d.start.line,d.start.column,n].join("-"),"a"===i&&s.linkTarget&&(o.target="function"===typeof s.linkTarget?s.linkTarget(String(o.href||""),t.children,"string"===typeof o.title?o.title:null):s.linkTarget),"a"===i&&s.transformLinkUri&&(o.href=s.transformLinkUri(String(o.href||""),t.children,"string"===typeof o.title?o.title:null)),p||"code"!==i||"element"!==r.type||"pre"===r.tagName||(o.inline=!0),p||"h1"!==i&&"h2"!==i&&"h3"!==i&&"h4"!==i&&"h5"!==i&&"h6"!==i||(o.level=Number.parseInt(i.charAt(1),10)),"img"===i&&s.transformImageUri&&(o.src=s.transformImageUri(String(o.src||""),String(o.alt||""),"string"===typeof o.title?o.title:null)),!p&&"li"===i&&"element"===r.type){const e=function(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if("element"===n.type&&"input"===n.tagName)return n}return null}(t);o.checked=e&&e.properties?Boolean(e.properties.checked):null,o.index=vf(r,t),o.ordered="ol"===r.tagName}var m;return p||"ol"!==i&&"ul"!==i||(o.ordered="ol"===i,o.depth=e.listDepth),"td"!==i&&"th"!==i||(o.align&&(o.style||(o.style={}),o.style.textAlign=o.align,delete o.align),p||(o.isHeader="th"===i)),p||"tr"!==i||"element"!==r.type||(o.isHeader=Boolean("thead"===r.tagName)),s.sourcePos&&(o["data-sourcepos"]=[(m=d).start.line,":",m.start.column,"-",m.end.line,":",m.end.column].map((e=>String(e))).join("")),!p&&s.rawSourcePos&&(o.sourcePosition=t.position),!p&&s.includeElementIndex&&(o.index=vf(r,t),o.siblingCount=vf(r)),p||(o.node=t),u.length>0?c.createElement(h,o,u):c.createElement(h,o)}function vf(e,t){let n=-1,r=0;for(;++n<e.children.length&&e.children[n]!==t;)"element"===e.children[n].type&&r++;return r}function yf(e,t,n,r){const s=function(e,t){const n=Im(t);let r=t,s=Qm;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&of.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(lf,uf);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!lf.test(e)){let n=e.replace(Af,cf);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}s=Vm}return new s(r,t)}(r.schema,t);let a=n;null!==a&&void 0!==a&&a===a&&(Array.isArray(a)&&(a=s.commaSeparated?function(e,t){const n=t||{};return(""===e[e.length-1]?[...e,""]:e).join((n.padRight?" ":"")+","+(!1===n.padLeft?"":" ")).trim()}(a):a.join(" ").trim()),"style"===s.property&&"string"===typeof a&&(a=function(e){const t={};try{hf(e,n)}catch{}return t;function n(e,n){const r="-ms-"===e.slice(0,4)?"ms-".concat(e.slice(4)):e;t[r.replace(/-([a-z])/g,wf)]=n}}(a)),s.space&&s.property?e[pf.call(df,s.property)?df[s.property]:s.property]=a:s.attribute&&(e[s.attribute]=a))}function wf(e,t){return t.toUpperCase()}const bf={}.hasOwnProperty,xf={renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function Bf(e){for(const a in xf)if(bf.call(xf,a)&&bf.call(e,a)){const e=xf[a];console.warn("[react-markdown] Warning: please ".concat(e.to?"use `".concat(e.to,"` instead of"):"remove"," `").concat(a,"` (see <").concat("https://github.com/remarkjs/react-markdown/blob/main/changelog.md","#").concat(e.id,"> for more info)")),delete xf[a]}const t=Yd().use(qp).use(e.remarkPlugins||e.plugins||[]).use(Sm,{allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(nf,e),n=new Od;"string"===typeof e.children?n.value=e.children:void 0!==e.children&&null!==e.children&&console.warn("[react-markdown] Warning: please pass a string as `children` (not: `".concat(e.children,"`)"));const r=t.runSync(t.parse(n),n);if("root"!==r.type)throw new TypeError("Expected a `root` node");let s=c.createElement(c.Fragment,{},ff({options:e,schema:ef,listDepth:0},r));return e.className&&(s=c.createElement("div",{className:e.className},s)),s}Bf.defaultProps={transformLinkUri:function(e){const t=(e||"").trim(),n=t.charAt(0);if("#"===n||"/"===n)return t;const r=t.indexOf(":");if(-1===r)return t;let s=-1;for(;++s<rf.length;){const e=rf[s];if(r===e.length&&t.slice(0,e.length).toLowerCase()===e)return t}return s=t.indexOf("?"),-1!==s&&r>s?t:(s=t.indexOf("#"),-1!==s&&r>s?t:"javascript:void(0)")}},Bf.propTypes={children:Em.string,className:Em.string,allowElement:Em.func,allowedElements:Em.arrayOf(Em.string),disallowedElements:Em.arrayOf(Em.string),unwrapDisallowed:Em.bool,remarkPlugins:Em.arrayOf(Em.oneOfType([Em.object,Em.func,Em.arrayOf(Em.oneOfType([Em.object,Em.func]))])),rehypePlugins:Em.arrayOf(Em.oneOfType([Em.object,Em.func,Em.arrayOf(Em.oneOfType([Em.object,Em.func]))])),sourcePos:Em.bool,rawSourcePos:Em.bool,skipHtml:Em.bool,includeElementIndex:Em.bool,transformLinkUri:Em.oneOfType([Em.func,Em.bool]),linkTarget:Em.oneOfType([Em.func,Em.string]),transformImageUri:Em.func,components:Em.object};const Cf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"};var kf=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Cf}))};const Sf=c.forwardRef(kf);class Ef extends c.Component{constructor(e){super(e),this.state={visible:!1}}onConfirm(){this.setState({visible:!1},(()=>this.props.onConfirm()))}render(){try{let e=null;const t=this.props.disabled?"confirm-button disabled":"confirm-button";return e="string"===typeof this.props.children?(0,xo.jsx)("button",{className:t,children:this.props.children}):(0,xo.jsx)("div",{className:t,children:this.props.children}),(0,xo.jsx)(pc,{content:(0,xo.jsxs)("div",{children:[(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)(Sf,{style:{color:"red"}}),(0,xo.jsx)("span",{style:{marginLeft:"10px"},children:this.props.prompt})]}),this.props.info,(0,xo.jsx)("hr",{}),(0,xo.jsx)("button",{onClick:()=>this.onConfirm(),children:"confirm"})]}),trigger:"click",overlayClassName:"confirm-tooltip",open:this.state.visible,onOpenChange:e=>this.setState({visible:e}),children:e})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"ConfirmButton",error:DB})}}}Ef.defaultProps={prompt:"are you sure you want to do this?",info:null,disabled:!1};const jf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};var Ff=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:jf}))};const If=c.forwardRef(Ff);class Qf extends c.Component{constructor(e){super(e),this.state={open:!1,filterText:""}}toggleOpen(e){e.stopPropagation(),this.setState({open:!this.state.open})}setFilterText(e){this.setState({filterText:e})}select(e){this.setState({open:!1}),this.props.onSelect(e)}clear(e){e.stopPropagation(),this.props.onClear()}render(){try{if(0===this.props.options.length)return null;let e=this.props.disabled?"dropdown disabled":"dropdown";const t=[];let n;this.props.selectedID&&(n=this.props.options.find((e=>e.id===this.props.selectedID)));const r=n&&this.props.onClear;if(t.push((0,xo.jsxs)("div",{className:"dropdown-top",title:n?n.text:this.props.placeholder,children:[(0,xo.jsx)("div",{className:"item-text",children:n?n.text:this.props.placeholder}),r?(0,xo.jsx)(Pe,{onClick:e=>this.clear(e)}):(0,xo.jsx)(If,{className:"ellipsis"})]},"selection")),this.state.open){e+=" open";let n=null;this.props.options.length>15&&(n=(0,xo.jsx)("div",{className:"dropdown-filter",onClick:e=>e.stopPropagation(),role:"button",children:(0,xo.jsx)(Bo,{text:this.state.filterText,placeholder:"search this list...",onChange:e=>this.setFilterText(e)})}));const r=this.props.options.map((e=>{if(null===e.text)return(0,xo.jsx)("hr",{},e.id);return ao.match(this.state.filterText,e.text)?(0,xo.jsx)(Mf,{option:e,selected:e.id===this.props.selectedID,select:e=>this.select(e)},e.id):null})).filter((e=>!!e));t.push((0,xo.jsxs)("div",{className:"dropdown-options",children:[n,r]},"options"))}return(0,xo.jsx)("div",{className:e,onClick:e=>this.toggleOpen(e),role:"button",children:t})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"Dropdown",error:DB})}}}Qf.defaultProps={selectedID:null,placeholder:"select...",disabled:!1,onClear:null};class Mf extends c.Component{click(e){e.stopPropagation(),this.props.option.disabled||this.props.select(this.props.option.id)}render(){try{let e="dropdown-option";return this.props.selected&&(e+=" selected"),this.props.option.disabled&&(e+=" disabled"),(0,xo.jsx)("div",{className:e,onClick:e=>this.click(e),role:"button",children:this.props.option.text})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"DropdownOption",error:DB})}}}class Uf extends c.Component{render(){try{return this.props.children?(0,xo.jsxs)("div",{className:"note",children:[(0,xo.jsx)("div",{className:"top-left-roundel"}),(0,xo.jsx)("div",{className:"top-right-roundel"}),(0,xo.jsx)("div",{className:"bottom-left-roundel"}),(0,xo.jsx)("div",{className:"bottom-right-roundel"}),this.props.children]}):null}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"Note",error:DB})}}}const Nf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M697.8 481.4c33.6-35 54.2-82.3 54.2-134.3v-10.2C752 229.3 663.9 142 555.3 142H259.4c-15.1 0-27.4 12.3-27.4 27.4v679.1c0 16.3 13.2 29.5 29.5 29.5h318.7c117 0 211.8-94.2 211.8-210.5v-11c0-73-37.4-137.3-94.2-175.1zM328 238h224.7c57.1 0 103.3 44.4 103.3 99.3v9.5c0 54.8-46.3 99.3-103.3 99.3H328V238zm366.6 429.4c0 62.9-51.7 113.9-115.5 113.9H328V542.7h251.1c63.8 0 115.5 51 115.5 113.9v10.8z"}}]},name:"bold",theme:"outlined"};var Tf=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Nf}))};const Df=c.forwardRef(Tf);const Hf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M798 160H366c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h181.2l-156 544H229c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h432c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8H474.4l156-544H798c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"italic",theme:"outlined"};var Lf=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Hf}))};const Pf=c.forwardRef(Lf);const Of={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"}}]},name:"link",theme:"outlined"};var Rf=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Of}))};const Vf=c.forwardRef(Rf);const Kf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M516 673c0 4.4 3.4 8 7.5 8h185c4.1 0 7.5-3.6 7.5-8v-48c0-4.4-3.4-8-7.5-8h-185c-4.1 0-7.5 3.6-7.5 8v48zm-194.9 6.1l192-161c3.8-3.2 3.8-9.1 0-12.3l-192-160.9A7.95 7.95 0 00308 351v62.7c0 2.4 1 4.6 2.9 6.1L420.7 512l-109.8 92.2a8.1 8.1 0 00-2.9 6.1V673c0 6.8 7.9 10.5 13.1 6.1zM880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"code",theme:"outlined"};var zf=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Kf}))};const _f=c.forwardRef(zf);const Gf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"unordered-list",theme:"outlined"};var Wf=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Gf}))};const Yf=c.forwardRef(Wf);const qf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M920 760H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-568H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM216 712H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h72.4v20.5h-35.7c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h35.7V838H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4V716c0-2.2-1.8-4-4-4zM100 188h38v120c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4V152c0-4.4-3.6-8-8-8h-78c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4zm116 240H100c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4h68.4l-70.3 77.7a8.3 8.3 0 00-2.1 5.4V592c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4v-36c0-2.2-1.8-4-4-4h-68.4l70.3-77.7a8.3 8.3 0 002.1-5.4V432c0-2.2-1.8-4-4-4z"}}]},name:"ordered-list",theme:"outlined"};var Xf=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:qf}))};const Jf=c.forwardRef(Xf);var Zf=n(3087);class $f extends c.Component{constructor(e){super(e),this.state={detailsTab:"write"}}getIcon(e){switch(e){case"bold":return(0,xo.jsx)(Df,{});case"italic":return(0,xo.jsx)(Pf,{});case"link":return(0,xo.jsx)(Vf,{});case"quote":return(0,xo.jsx)(Oo,{rotate:90});case"code":return(0,xo.jsx)(_f,{});case"unordered-list":return(0,xo.jsx)(Yf,{});case"ordered-list":return(0,xo.jsx)(Jf,{})}return null}render(){try{return(0,xo.jsx)(Zf.default,{value:this.props.text,onChange:e=>this.props.onChange(e),selectedTab:this.state.detailsTab,onTabChange:e=>this.setState({detailsTab:e}),toolbarCommands:[["bold","italic"],["link","quote","code"],["unordered-list","ordered-list"]],getIcon:e=>this.getIcon(e),generateMarkdownPreview:e=>Promise.resolve((0,xo.jsx)(Bf,{children:e}))})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"MarkdownEditor",error:DB})}}}class eg extends c.Component{render(){try{if(this.props.display)try{return(0,xo.jsx)("div",{children:this.props.children})}catch{return null}return null}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"Conditional",error:DB})}}}class tg extends c.Component{createSection(e,t){const n=e[t];if(0===n.length)return null;let r=null;if("legendary"===this.props.mode||"lair"===this.props.mode)switch(t){case"legendary":case"mythic":{let e=null,n=null;if(this.props.combatant.legendaryActions>0&&(e=(0,xo.jsxs)("div",{children:[(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("b",{children:this.props.combatant.legendaryActions})," legendary actions per round"]}),(0,xo.jsx)("hr",{})]}),"legendary"===this.props.mode)){let e=0;this.props.combatant.traits.filter((e=>("legendary"===e.type||"mythic"===e.type)&&e.uses>0)).forEach((t=>{let n=1;if(t.usage){const e=t.usage.toLowerCase().match(/\D*(\d*)\D*/);e&&(n=parseInt(e[1],10))}e+=n})),e=Math.min(e,this.props.combatant.legendaryActions);const t=Math.max(this.props.combatant.legendaryActions-e,0),r=[];for(let n=0;n!==e;++n)r.push((0,xo.jsx)(bd,{},"used "+n));for(let n=0;n!==t;++n)r.push((0,xo.jsx)(Cd,{},"unused "+n));n=(0,xo.jsxs)("div",{children:[(0,xo.jsx)("hr",{}),(0,xo.jsx)("div",{className:"section centered legendary-usage",children:r})]})}"legendary"===t&&(r=(0,xo.jsxs)(Uf,{children:[e,(0,xo.jsx)("div",{className:"section",children:"one legendary action can be used at the end of each other combatant's turn; spent actions are refreshed at the start of the monster's turn"}),n]})),"mythic"===t&&(r=(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"while the monster's mythic trait is active, the following can be used as legendary actions"})}))}break;case"lair":r=(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"one lair action can be taken each round on initiative 20"})})}else"legendary"===t&&(r=(0,xo.jsx)(Uf,{children:(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("b",{children:this.props.combatant.legendaryActions})," legendary actions per round"]})})),"mythic"===t&&(r=(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"while the monster's mythic trait is active, the following can be used as legendary actions"})}));return(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"section subheading",children:oo.traitType(t,!0)}),r,n]})}render(){try{const e={};return po.forEach((t=>{e[t]=this.props.combatant.traits.filter((e=>e.type===t)).map((e=>(0,xo.jsx)(ng,{trait:e,mode:this.props.mode,showRollButtons:this.props.showRollButtons,copyTrait:e=>this.props.copyTrait(e),useTrait:e=>this.props.useTrait(e),rechargeTrait:e=>this.props.rechargeTrait(e),onRollDice:(e,t,n,r,s)=>this.props.onRollDice(e,t,n,r,s)},e.id)))})),0===this.props.combatant.traits.length?(0,xo.jsx)("div",{children:(0,xo.jsx)("i",{children:"no traits or actions"})}):"combat"===this.props.mode?(0,xo.jsxs)("div",{children:[this.createSection(e,"trait"),this.createSection(e,"action"),this.createSection(e,"bonus"),this.createSection(e,"reaction")]}):"legendary"===this.props.mode?(0,xo.jsxs)("div",{children:[this.createSection(e,"legendary"),this.createSection(e,"mythic")]}):"lair"===this.props.mode?(0,xo.jsx)("div",{children:this.createSection(e,"lair")}):(0,xo.jsxs)("div",{children:[this.createSection(e,"trait"),this.createSection(e,"action"),this.createSection(e,"bonus"),this.createSection(e,"reaction"),this.createSection(e,"legendary"),this.createSection(e,"mythic"),this.createSection(e,"lair")]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"TraitsPanel",error:DB})}}}tg.defaultProps={mode:"view",showRollButtons:!1,copyTrait:null,useTrait:null,rechargeTrait:null,onRollDice:null};class ng extends c.Component{render(){try{let e=0,t=this.props.trait.name||"unnamed "+oo.traitType(this.props.trait.type,!1);if(this.props.trait.usage){let n="";this.props.trait.usage.toLowerCase().startsWith("recharge")&&(e=1,this.props.trait.uses>0&&(n="; used"));const r=this.props.trait.usage.toLowerCase().match(/(\d+)\s*\/\s*day/);r&&(e=parseInt(r[1],10),this.props.trait.uses>0&&(n="; used "+this.props.trait.uses)),t+=" *("+this.props.trait.usage+n+")*"}"legendary"!==this.props.trait.type&&"mythic"!==this.props.trait.type||(e=1,this.props.trait.uses>0&&(t+=" *(used)*"));const n="**"+t+"** "+this.props.trait.text;switch(this.props.mode){case"view":return(0,xo.jsx)("div",{className:"section trait",children:(0,xo.jsx)(Bf,{children:n})},this.props.trait.id);case"template":return(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsxs)("div",{className:"content",children:[(0,xo.jsx)(Bf,{children:n}),(0,xo.jsxs)("div",{className:"section",children:["from ",this.props.source?this.props.source.name||"unnamed monster":""]})]}),(0,xo.jsxs)("div",{className:"icons",children:[(0,xo.jsx)(Oo,{rotate:270,title:"import",onClick:()=>this.props.copyTrait(this.props.trait)}),(0,xo.jsx)(eg,{display:this.props.showMultiple,children:(0,xo.jsx)(Ed,{title:"see all",onClick:()=>this.props.viewMultiple(this.props.trait)})})]})]},this.props.trait.id);case"combat":case"legendary":case"lair":{let t="";const r=[];e>0&&(this.props.trait.uses>=e?(t="strikethrough",r.push((0,xo.jsx)("button",{className:"link",onClick:()=>this.props.rechargeTrait(this.props.trait),children:"recharge"},"use"))):r.push((0,xo.jsx)("button",{className:"link",onClick:()=>this.props.useTrait(this.props.trait),children:"use"},"use"))),this.props.showRollButtons&&(mo.getToHitExpressions(this.props.trait).forEach((e=>{r.push((0,xo.jsx)(pc,{content:(0,xo.jsxs)("div",{children:[(0,xo.jsx)("button",{onClick:()=>this.props.onRollDice(this.props.trait.name,1,20,e.bonus,"advantage"),children:"adv"}),(0,xo.jsx)("button",{onClick:()=>this.props.onRollDice(this.props.trait.name,1,20,e.bonus,"disadvantage"),children:"dis"})]}),trigger:"contextMenu",children:(0,xo.jsx)("button",{className:"link",onClick:()=>this.props.onRollDice(this.props.trait.name,1,20,e.bonus,""),children:e.expression})},e.expression))})),mo.getDiceExpressions(this.props.trait).forEach((e=>{r.push((0,xo.jsx)("button",{className:"link",onClick:()=>this.props.onRollDice(this.props.trait.name,e.count,e.sides,e.bonus,""),children:e.expression},e.expression))})));let s=null;return r.length>0&&(s=(0,xo.jsx)("div",{className:"trait-buttons",children:r})),(0,xo.jsxs)("div",{className:"section trait",children:[(0,xo.jsx)("div",{className:t,children:(0,xo.jsx)(Bf,{children:n})}),s]},this.props.trait.id)}}}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"TraitPanel",error:DB})}}}ng.defaultProps={mode:"view",showRollButtons:!1,showMultiple:!1,source:null,copyTrait:null,useTrait:null,rechargeTrait:null,viewMultiple:null,onRollDice:null};class rg extends c.Component{render(){try{return(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("div",{className:"subheading",children:"feature name"}),(0,xo.jsx)(Bo,{text:this.props.trait.name,onChange:e=>this.props.changeValue(this.props.trait,"name",e)}),(0,xo.jsx)("div",{className:"subheading",children:"usage"}),(0,xo.jsx)(Bo,{text:this.props.trait.usage,onChange:e=>this.props.changeValue(this.props.trait,"usage",e)}),(0,xo.jsx)("div",{className:"subheading",children:"details"}),(0,xo.jsx)($f,{text:this.props.trait.text,onChange:e=>this.props.changeValue(this.props.trait,"text",e)}),(0,xo.jsx)("hr",{}),(0,xo.jsx)(Qf,{placeholder:"move to...",options:po.map((e=>({id:e,text:oo.traitType(e,!0),disabled:this.props.trait.type===e}))),onSelect:e=>this.props.changeValue(this.props.trait,"type",e)}),(0,xo.jsx)("hr",{}),(0,xo.jsx)("button",{onClick:()=>this.props.copyTrait(this.props.trait),children:"create a copy of this feature"}),(0,xo.jsx)(Ef,{onConfirm:()=>this.props.deleteTrait(this.props.trait),children:"delete this feature"})]},this.props.trait.id)}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"TraitEditorPanel",error:DB})}}}class sg extends c.Component{getCR(){return oo.challenge(this.props.monster.challenge)+" ("+(oo.experience(this.props.monster.challenge)+" xp")+"; "+("proficiency bonus +"+oo.proficiency(this.props.monster.challenge))+")"}getAC(){let e=this.props.monster.ac.toString();return this.props.monster.acInfo&&(e+=" ("+this.props.monster.acInfo+")"),e}getHP(){return mo.getTypicalHP(this.props.monster)+" ("+mo.getTypicalHPString(this.props.monster)+")"}statSection(e,t){if(!t)return null;let n=!0,r=null;if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]){let e=t;const s=[];Array.from(t.matchAll(/([^,;:/]*)\s+([+-]?)\s*(\d+)/g)).forEach((t=>{const n=t[0],r=t[2]||"+",a=parseInt(t[3],10)*("+"===r?1:-1);s.push((0,xo.jsx)(pc,{content:(0,xo.jsxs)("div",{children:[(0,xo.jsx)("button",{onClick:()=>this.props.onRollDice(n,1,20,a,"advantage"),children:"adv"}),(0,xo.jsx)("button",{onClick:()=>this.props.onRollDice(n,1,20,a,"disadvantage"),children:"dis"})]}),trigger:"contextMenu",children:(0,xo.jsx)("button",{className:"link",onClick:()=>this.props.onRollDice(n,1,20,a,""),children:n})},n)),e=e.replace(n,"")})),n=!!e.match(/[a-zA-Z]/),r=(0,xo.jsx)("div",{className:"roll-buttons",children:s})}return(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("b",{children:e})," ",n?t:null,r]})}getTags(){const e=[];let t=this.props.monster.size;const n=this.props.monster;n&&(t=n.displaySize||t);let r=(t+" "+this.props.monster.category).toLowerCase();return this.props.monster.tag&&(r+=" ("+this.props.monster.tag.toLowerCase()+")"),e.push((0,xo.jsx)(Qc,{children:r},"tag-main")),this.props.monster.alignment&&e.push((0,xo.jsx)(Qc,{children:this.props.monster.alignment.toLowerCase()},"tag-align")),e}getStats(){let e=null;const t=this.props.monster;if(null!==t.hpCurrent&&void 0!==t.hpCurrent){var n,r;const s=null!==(n=t.hpCurrent)&&void 0!==n?n:0,a=null!==(r=t.hpTemp)&&void 0!==r?r:0;let i=s.toString();a>0&&(i+="+"+a),e=(0,xo.jsxs)("div",{children:[(0,xo.jsx)("hr",{}),(0,xo.jsxs)(Os,{children:[(0,xo.jsx)(zs,{span:12,children:(0,xo.jsx)(Mc,{label:"armor class",value:this.props.monster.ac})}),(0,xo.jsx)(zs,{span:12,children:(0,xo.jsx)(Mc,{label:"hit points",value:i})})]})]})}return(0,xo.jsxs)("div",{className:"stats",children:[(0,xo.jsx)(vd,{source:this.props.monster}),(0,xo.jsx)("div",{className:"section centered",children:this.getTags()}),e,(0,xo.jsx)("hr",{}),(0,xo.jsx)("div",{className:"section",children:(0,xo.jsx)(Uc,{combatant:this.props.monster,showRollButtons:this.props.showRollButtons,onRollDice:(e,t,n,r,s)=>this.props.onRollDice(e,t,n,r,s)})}),this.statSection("ac",this.getAC()),this.statSection("hp",this.getHP()),this.statSection("saving throws",this.props.monster.savingThrows,this.props.showRollButtons),this.statSection("skills",this.props.monster.skills,this.props.showRollButtons),this.statSection("speed",this.props.monster.speed),this.statSection("senses",this.props.monster.senses),this.statSection("damage resistances",this.props.monster.damage.resist),this.statSection("damage vulnerabilities",this.props.monster.damage.vulnerable),this.statSection("damage immunities",this.props.monster.damage.immune),this.statSection("condition immunities",this.props.monster.conditionImmunities),this.statSection("languages",this.props.monster.languages),this.statSection("challenge rating",this.getCR()),(0,xo.jsx)("hr",{}),(0,xo.jsx)(tg,{combatant:this.props.monster,mode:this.props.combat?"combat":"view",showRollButtons:this.props.showRollButtons,useTrait:e=>this.props.useTrait(e),rechargeTrait:e=>this.props.rechargeTrait(e),onRollDice:(e,t,n,r,s)=>this.props.onRollDice(e,t,n,r,s)})]})}render(){try{const e=(this.props.monster?this.props.monster.displayName:null)||this.props.monster.name||"unnamed monster";return(0,xo.jsxs)("div",{className:"card monster",children:[(0,xo.jsx)("div",{className:"heading",children:(0,xo.jsx)("div",{className:"title",title:e,children:e})}),(0,xo.jsx)("div",{className:"card-content",children:this.getStats()})]},this.props.monster.id)}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"MonsterStatblockCard",error:DB})}}}sg.defaultProps={combat:!1,showRollButtons:!1,useTrait:null,rechargeTrait:null,onRollDice:null};class ag extends c.Component{getCR(){return oo.challenge(this.props.monster.challenge)+" ("+(oo.experience(this.props.monster.challenge)+" xp")+"; "+("proficiency bonus +"+oo.proficiency(this.props.monster.challenge))+")"}getAC(){let e=this.props.monster.ac.toString();return this.props.monster.acInfo&&(e+=" ("+this.props.monster.acInfo+")"),e}getHP(){return mo.getTypicalHP(this.props.monster)+" ("+mo.getTypicalHPString(this.props.monster)+")"}statSection(e,t){return t?(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("b",{children:e})," ",t]}):null}getTags(){const e=[];let t=(this.props.monster.size+" "+this.props.monster.category).toLowerCase();return this.props.monster.tag&&(t+=" ("+this.props.monster.tag.toLowerCase()+")"),e.push((0,xo.jsx)(Qc,{children:t},"tag-main")),this.props.monster.alignment&&e.push((0,xo.jsx)(Qc,{children:this.props.monster.alignment.toLowerCase()},"tag-align")),e}getStats(){switch(this.props.section){case"overview":return(0,xo.jsxs)("div",{children:[(0,xo.jsx)(vd,{source:this.props.monster}),(0,xo.jsx)("div",{className:"section centered",children:this.getTags()}),(0,xo.jsx)("hr",{}),this.statSection("speed",this.props.monster.speed),this.statSection("senses",this.props.monster.senses),this.statSection("languages",this.props.monster.languages),this.statSection("challenge rating",this.getCR())]});case"abilities":return(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"section",children:(0,xo.jsx)(Uc,{combatant:this.props.monster})}),this.statSection("saving throws",this.props.monster.savingThrows),this.statSection("skills",this.props.monster.skills)]});case"combat":return(0,xo.jsxs)("div",{children:[this.statSection("ac",this.getAC()),this.statSection("hp",this.getHP()),this.statSection("damage resistances",this.props.monster.damage.resist),this.statSection("damage vulnerabilities",this.props.monster.damage.vulnerable),this.statSection("damage immunities",this.props.monster.damage.immune),this.statSection("condition immunities",this.props.monster.conditionImmunities)]});case"features":return(0,xo.jsx)(tg,{combatant:this.props.monster,mode:"template",copyTrait:e=>this.props.copyTrait(e)})}}render(){const e=this.props.monster.name||"unnamed monster";try{return(0,xo.jsxs)("div",{className:"card monster",children:[(0,xo.jsx)("div",{className:"heading",children:(0,xo.jsx)("div",{className:"title",title:e,children:e})}),(0,xo.jsx)("div",{className:"card-content",children:this.getStats()})]},this.props.monster.id)}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"MonsterTemplateCard",error:DB})}}}class ig extends c.Component{click(e){e.stopPropagation(),this.props.onChecked(!this.props.checked)}render(){try{let e="checkbox";this.props.checked&&(e+=" checked"),this.props.disabled&&(e+=" disabled");const t=(0,xo.jsx)("div",{className:"toggle-container",children:(0,xo.jsx)("div",{className:"toggle"})});return(0,xo.jsxs)("div",{className:e,onClick:e=>this.click(e),role:"button",children:[(0,xo.jsx)("div",{className:"checkbox-label",children:this.props.label}),t]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"Checkbox",error:DB})}}}ig.defaultProps={disabled:!1};const og={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M690 405h-46.9c-10.2 0-19.9 4.9-25.9 13.2L512 563.6 406.8 418.2c-6-8.3-15.6-13.2-25.9-13.2H334c-6.5 0-10.3 7.4-6.5 12.7l178 246c3.2 4.4 9.7 4.4 12.9 0l178-246c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"down-circle",theme:"outlined"};var lg=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:og}))};const Ag=c.forwardRef(lg);const cg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};var ug=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:cg}))};const dg=c.forwardRef(ug);var hg=n(403),pg=n.n(hg),mg=c.forwardRef((function(e,t){var n,r=e.prefixCls,s=e.forceRender,a=e.className,i=e.style,l=e.children,A=e.isActive,u=e.role,d=f(c.useState(A||s),2),h=d[0],p=d[1];return c.useEffect((function(){(s||A)&&p(!0)}),[s,A]),h?c.createElement("div",{ref:t,className:y()("".concat(r,"-content"),(n={},o(n,"".concat(r,"-content-active"),A),o(n,"".concat(r,"-content-inactive"),!A),n),a),style:i,role:u},c.createElement("div",{className:"".concat(r,"-content-box")},l)):null}));mg.displayName="PanelContent";const fg=mg;var gg=["className","id","style","prefixCls","headerClass","children","isActive","destroyInactivePanel","accordion","forceRender","openMotion","extra","collapsible"],vg=function(e){rt(n,e);var t=lt(n);function n(){var e;$e(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).onItemClick=function(){var t=e.props,n=t.onItemClick,r=t.panelKey;"function"===typeof n&&n(r)},e.handleKeyPress=function(t){"Enter"!==t.key&&13!==t.keyCode&&13!==t.which||e.onItemClick()},e.renderIcon=function(){var t=e.props,n=t.showArrow,r=t.expandIcon,s=t.prefixCls,a=t.collapsible;if(!n)return null;var i="function"===typeof r?r(e.props):c.createElement("i",{className:"arrow"});return i&&c.createElement("div",{className:"".concat(s,"-expand-icon"),onClick:"header"===a||"icon"===a?e.onItemClick:null},i)},e.renderTitle=function(){var t=e.props,n=t.header,r=t.prefixCls,s=t.collapsible;return c.createElement("span",{className:"".concat(r,"-header-text"),onClick:"header"===s?e.onItemClick:null},n)},e}return tt(n,[{key:"shouldComponentUpdate",value:function(e){return!pg()(this.props,e)}},{key:"render",value:function(){var e,t,n=this.props,r=n.className,s=n.id,a=n.style,i=n.prefixCls,l=n.headerClass,A=n.children,u=n.isActive,d=n.destroyInactivePanel,h=n.accordion,p=n.forceRender,m=n.openMotion,f=n.extra,v=n.collapsible,w=g(n,gg),b="disabled"===v,x="header"===v,B="icon"===v,C=y()((o(e={},"".concat(i,"-item"),!0),o(e,"".concat(i,"-item-active"),u),o(e,"".concat(i,"-item-disabled"),b),e),r),k={className:y()("".concat(i,"-header"),(o(t={},l,l),o(t,"".concat(i,"-header-collapsible-only"),x),o(t,"".concat(i,"-icon-collapsible-only"),B),t)),"aria-expanded":u,"aria-disabled":b,onKeyPress:this.handleKeyPress};x||B||(k.onClick=this.onItemClick,k.role=h?"tab":"button",k.tabIndex=b?-1:0);var S=null!==f&&void 0!==f&&"boolean"!==typeof f;return delete w.header,delete w.panelKey,delete w.onItemClick,delete w.showArrow,delete w.expandIcon,c.createElement("div",Oe({},w,{className:C,style:a,id:s}),c.createElement("div",k,this.renderIcon(),this.renderTitle(),S&&c.createElement("div",{className:"".concat(i,"-extra")},f)),c.createElement(Gn,Oe({visible:u,leavedClassName:"".concat(i,"-content-hidden")},m,{forceRender:p,removeOnLeave:d}),(function(e,t){var n=e.className,r=e.style;return c.createElement(fg,{ref:t,prefixCls:i,className:n,style:r,isActive:u,forceRender:p,role:h?"tabpanel":null},A)})))}}]),n}(c.Component);vg.defaultProps={showArrow:!0,isActive:!1,onItemClick:function(){},headerClass:"",forceRender:!1};const yg=vg;function wg(e){var t=e;if(!Array.isArray(t)){var n=a(t);t="number"===n||"string"===n?[t]:[]}return t.map((function(e){return String(e)}))}var bg=function(e){rt(n,e);var t=lt(n);function n(e){var r;$e(this,n),(r=t.call(this,e)).onClickItem=function(e){var t=r.state.activeKey;if(r.props.accordion)t=t[0]===e?[]:[e];else{var n=(t=Kt(t)).indexOf(e);n>-1?t.splice(n,1):t.push(e)}r.setActiveKey(t)},r.getNewChild=function(e,t){if(!e)return null;var n=r.state.activeKey,s=r.props,a=s.prefixCls,i=s.openMotion,o=s.accordion,l=s.destroyInactivePanel,A=s.expandIcon,u=s.collapsible,d=e.key||String(t),h=e.props,p=h.header,m=h.headerClass,f=h.destroyInactivePanel,g=h.collapsible,v=null!==g&&void 0!==g?g:u,y={key:d,panelKey:d,header:p,headerClass:m,isActive:o?n[0]===d:n.indexOf(d)>-1,prefixCls:a,destroyInactivePanel:null!==f&&void 0!==f?f:l,openMotion:i,accordion:o,children:e.props.children,onItemClick:"disabled"===v?null:r.onClickItem,expandIcon:A,collapsible:v};return"string"===typeof e.type?e:(Object.keys(y).forEach((function(e){"undefined"===typeof y[e]&&delete y[e]})),c.cloneElement(e,y))},r.getItems=function(){return fa(r.props.children).map(r.getNewChild)},r.setActiveKey=function(e){"activeKey"in r.props||r.setState({activeKey:e}),r.props.onChange(r.props.accordion?e[0]:e)};var s=e.activeKey,a=e.defaultActiveKey;return"activeKey"in e&&(a=s),r.state={activeKey:wg(a)},r}return tt(n,[{key:"shouldComponentUpdate",value:function(e,t){return!pg()(this.props,e)||!pg()(this.state,t)}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,r=t.className,s=t.style,a=t.accordion,i=y()((o(e={},n,!0),o(e,r,!!r),e));return c.createElement("div",{className:i,style:s,role:a?"tablist":null},this.getItems())}}],[{key:"getDerivedStateFromProps",value:function(e){var t={};return"activeKey"in e&&(t.activeKey=wg(e.activeKey)),t}}]),n}(c.Component);bg.defaultProps={prefixCls:"rc-collapse",onChange:function(){},accordion:!1,destroyInactivePanel:!1},bg.Panel=yg;const xg=bg;bg.Panel;var Bg=function(e){var t=c.useContext(jr),n=t.getPrefixCls,r=t.direction,s=e.prefixCls,a=e.className,i=void 0===a?"":a,l=e.bordered,A=void 0===l||l,u=e.ghost,d=e.expandIconPosition,h=void 0===d?"start":d,p=n("collapse",s),m=c.useMemo((function(){return"left"===h?"start":"right"===h?"end":h}),[h]),f=y()("".concat(p,"-icon-position-").concat(m),o(o(o({},"".concat(p,"-borderless"),!A),"".concat(p,"-rtl"),"rtl"===r),"".concat(p,"-ghost"),!!u),i),g=Oe(Oe({},Pi),{motionAppear:!1,leavedClassName:"".concat(p,"-content-hidden")});return c.createElement(xg,Oe({openMotion:g},e,{expandIcon:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.expandIcon,r=n?n(t):c.createElement(dg,{rotate:t.isActive?90:void 0});return ac(r,(function(){return{className:y()(r.props.className,"".concat(p,"-arrow"))}}))},prefixCls:p,className:f}),fa(e.children).map((function(e,t){var n;if(null===(n=e.props)||void 0===n?void 0:n.disabled){var r=e.key||String(t),s=e.props,a=s.disabled,i=s.collapsible;return ac(e,Oe(Oe({},fc(e.props,["disabled"])),{key:r,collapsible:null!==i&&void 0!==i?i:a?"disabled":void 0}))}return e})))};Bg.Panel=function(e){var t=c.useContext(jr).getPrefixCls,n=e.prefixCls,r=e.className,s=void 0===r?"":r,a=e.showArrow,i=void 0===a||a,l=t("collapse",n),A=y()(o({},"".concat(l,"-no-arrow"),!i),s);return c.createElement(xg.Panel,Oe({},e,{prefixCls:l,className:A}))};const Cg=Bg;class kg extends c.Component{render(){try{if(!this.props.children)return null;let e="expander";return this.props.className&&(e+=" "+this.props.className),this.props.disabled&&(e+=" disabled"),(0,xo.jsx)(Cg,{className:e,defaultActiveKey:[],expandIcon:e=>(0,xo.jsx)(Ag,{rotate:e.isActive?-180:0}),expandIconPosition:"end",children:(0,xo.jsx)(Cg.Panel,{header:(0,xo.jsx)("div",{className:"collapse-header-text",children:this.props.text}),children:this.props.children},"one")})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"Expander",error:DB})}}}kg.defaultProps={className:null,disabled:!1};class Sg extends c.Component{onClick(){this.props.onClick&&this.props.onClick()}render(){try{if(!this.props.children)return null;let e="group-panel";return this.props.className&&(e+=" "+this.props.className),this.props.transparent&&(e+=" transparent"),this.props.onClick?(0,xo.jsx)("div",{className:e+" clickable",onClick:()=>this.onClick(),role:"button",children:this.props.children}):(0,xo.jsx)("div",{className:e,children:this.props.children})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"Group",error:DB})}}}Sg.defaultProps={className:null,transparent:!1,onClick:null};const Eg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"};var jg=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Eg}))};const Fg=c.forwardRef(jg);const Ig={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};var Qg=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Ig}))};const Mg=c.forwardRef(Qg);class Ug extends c.Component{click(e,t){e.stopPropagation(),this.props.onNudgeValue(t)}touchEnd(e,t){e.preventDefault(),e.stopPropagation(),this.props.onNudgeValue(t)}render(){try{let e="spin-button",t="info-value",n="spin-button";this.props.downEnabled||(e+=" disabled"),0===this.props.value&&(t+=" disabled"),this.props.upEnabled||(n+=" disabled");const r=[],s=[];return(this.props.factors||[1]).forEach((t=>{r.push((0,xo.jsx)("div",{className:1===t?e:e+" multiple",onTouchEnd:e=>this.touchEnd(e,-1*t),onClick:e=>this.click(e,-1*t),role:"button",children:1===t?(0,xo.jsx)(Fg,{}):(0,xo.jsx)("div",{children:t})},"minus"+t)),s.push((0,xo.jsx)("div",{className:1===t?n:n+" multiple",onTouchEnd:e=>this.touchEnd(e,1*t),onClick:e=>this.click(e,1*t),role:"button",children:1===t?(0,xo.jsx)(Mg,{}):(0,xo.jsx)("div",{children:t})},"plus"+t))})),r.reverse(),(0,xo.jsxs)("div",{className:this.props.disabled?"number-spin disabled":"number-spin",children:[r,(0,xo.jsxs)("div",{className:"info",children:[(0,xo.jsx)("div",{className:"info-label",children:this.props.label}),(0,xo.jsx)("div",{className:t,children:this.props.value})]}),s]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"NumberSpin",error:DB})}}}Ug.defaultProps={label:null,upEnabled:!0,downEnabled:!0,disabled:!1,factors:null};class Ng extends c.Component{render(){try{var e;if(0===this.props.options.length)return null;const t=null!==(e=this.props.itemsPerRow)&&void 0!==e?e:this.props.options.length,n=this.props.options.map((e=>(0,xo.jsx)(Tg,{option:e,width:100/t,selected:e.id===this.props.selectedID,onSelect:e=>this.props.onSelect(e)},e.id)));return(0,xo.jsx)("div",{className:this.props.disabled?"selector disabled":"selector",children:n})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"Selector",error:DB})}}}Ng.defaultProps={itemsPerRow:null,disabled:!1};class Tg extends c.Component{click(e){e.stopPropagation(),this.props.option.disabled||this.props.onSelect(this.props.option.id)}render(){try{let e="option";return this.props.selected&&(e+=" selected"),this.props.option.disabled&&(e+=" disabled"),(0,xo.jsx)("div",{className:e,style:{flex:"0 0 "+this.props.width+"%"},title:this.props.option.text,onClick:e=>this.click(e),role:"button",children:this.props.option.text},this.props.option.id)}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"SelectorOption",error:DB})}}}class Dg extends c.Component{render(){try{return 0===this.props.options.length?null:(0,xo.jsx)("div",{className:this.props.disabled?"tabs disabled":"tabs",children:this.props.options.map((e=>(0,xo.jsx)(Hg,{option:e,selected:e.id===this.props.selectedID,onSelect:e=>this.props.onSelect(e)},e.id)))})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"Tabs",error:DB})}}}Dg.defaultProps={disabled:!1};class Hg extends c.Component{click(e){e.stopPropagation(),this.props.option.disabled||this.props.onSelect(this.props.option.id)}render(){try{let e="tab";return this.props.selected&&(e+=" selected"),this.props.option.disabled&&(e+=" disabled"),(0,xo.jsx)("div",{className:e,title:this.props.option.text,onClick:e=>this.click(e),role:"button",children:this.props.option.text},this.props.option.id)}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"Tab",error:DB})}}}const Lg=c.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0});function Pg(e,t,n){return(e-t)/(n-t)}function Og(e,t,n,r){var s=Pg(t,n,r),a={};switch(e){case"rtl":a.right="".concat(100*s,"%"),a.transform="translateX(50%)";break;case"btt":a.bottom="".concat(100*s,"%"),a.transform="translateY(50%)";break;case"ttb":a.top="".concat(100*s,"%"),a.transform="translateY(-50%)";break;default:a.left="".concat(100*s,"%"),a.transform="translateX(-50%)"}return a}function Rg(e,t){return Array.isArray(e)?e[t]:e}var Vg=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange"],Kg=c.forwardRef((function(e,t){var n,r,s=e.prefixCls,a=e.value,i=e.valueIndex,l=e.onStartMove,u=e.style,d=e.render,h=e.dragging,p=e.onOffsetChange,m=g(e,Vg),f=c.useContext(Lg),v=f.min,w=f.max,b=f.direction,x=f.disabled,B=f.range,C=f.tabIndex,k=f.ariaLabelForHandle,S=f.ariaLabelledByForHandle,E=f.ariaValueTextFormatterForHandle,j="".concat(s,"-handle"),F=function(e){x||l(e,i)},I=Og(b,a,v,w),Q=c.createElement("div",Oe({ref:t,className:y()(j,(n={},o(n,"".concat(j,"-").concat(i+1),B),o(n,"".concat(j,"-dragging"),h),n)),style:A(A({},I),u),onMouseDown:F,onTouchStart:F,onKeyDown:function(e){if(!x){var t=null;switch(e.which||e.keyCode){case na.LEFT:t="ltr"===b||"btt"===b?-1:1;break;case na.RIGHT:t="ltr"===b||"btt"===b?1:-1;break;case na.UP:t="ttb"!==b?1:-1;break;case na.DOWN:t="ttb"!==b?-1:1;break;case na.HOME:t="min";break;case na.END:t="max";break;case na.PAGE_UP:t=2;break;case na.PAGE_DOWN:t=-2}null!==t&&(e.preventDefault(),p(t,i))}},tabIndex:x?null:Rg(C,i),role:"slider","aria-valuemin":v,"aria-valuemax":w,"aria-valuenow":a,"aria-disabled":x,"aria-label":Rg(k,i),"aria-labelledby":Rg(S,i),"aria-valuetext":null===(r=Rg(E,i))||void 0===r?void 0:r(a)},m));return d&&(Q=d(Q,{index:i,prefixCls:s,value:a,dragging:h})),Q}));const zg=Kg;var _g=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"],Gg=c.forwardRef((function(e,t){var n=e.prefixCls,r=e.style,s=e.onStartMove,a=e.onOffsetChange,i=e.values,o=e.handleRender,l=e.draggingIndex,A=g(e,_g),u=c.useRef({});return c.useImperativeHandle(t,(function(){return{focus:function(e){var t;null===(t=u.current[e])||void 0===t||t.focus()}}})),c.createElement(c.Fragment,null,i.map((function(e,t){return c.createElement(zg,Oe({ref:function(e){e?u.current[t]=e:delete u.current[t]},dragging:l===t,prefixCls:n,style:Rg(r,t),key:t,value:e,valueIndex:t,onStartMove:s,onOffsetChange:a,render:o},A))})))}));const Wg=Gg;function Yg(e){var t="touches"in e?e.touches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function qg(e){var t=e.prefixCls,n=e.style,r=e.start,s=e.end,a=e.index,i=e.onStartMove,o=c.useContext(Lg),l=o.direction,u=o.min,d=o.max,h=o.disabled,p=o.range,m="".concat(t,"-track"),f=Pg(r,u,d),g=Pg(s,u,d),v=function(e){!h&&i&&i(e,-1)},w={};switch(l){case"rtl":w.right="".concat(100*f,"%"),w.width="".concat(100*g-100*f,"%");break;case"btt":w.bottom="".concat(100*f,"%"),w.height="".concat(100*g-100*f,"%");break;case"ttb":w.top="".concat(100*f,"%"),w.height="".concat(100*g-100*f,"%");break;default:w.left="".concat(100*f,"%"),w.width="".concat(100*g-100*f,"%")}return c.createElement("div",{className:y()(m,p&&"".concat(m,"-").concat(a+1)),style:A(A({},w),n),onMouseDown:v,onTouchStart:v})}function Xg(e){var t=e.prefixCls,n=e.style,r=e.values,s=e.startPoint,a=e.onStartMove,i=c.useContext(Lg),o=i.included,l=i.range,A=i.min,u=c.useMemo((function(){if(!l){if(0===r.length)return[];var e=null!==s&&void 0!==s?s:A,t=r[0];return[{start:Math.min(e,t),end:Math.max(e,t)}]}for(var n=[],a=0;a<r.length-1;a+=1)n.push({start:r[a],end:r[a+1]});return n}),[r,l,s,A]);return o?u.map((function(e,r){var s=e.start,i=e.end;return c.createElement(qg,{index:r,prefixCls:t,style:Rg(n,r),start:s,end:i,key:r,onStartMove:a})})):null}function Jg(e){var t=e.prefixCls,n=e.style,r=e.children,s=e.value,a=e.onClick,i=c.useContext(Lg),l=i.min,u=i.max,d=i.direction,h=i.includedStart,p=i.includedEnd,m=i.included,f="".concat(t,"-text"),g=Og(d,s,l,u);return c.createElement("span",{className:y()(f,o({},"".concat(f,"-active"),m&&h<=s&&s<=p)),style:A(A({},g),n),onMouseDown:function(e){e.stopPropagation()},onClick:function(){a(s)}},r)}function Zg(e){var t=e.prefixCls,n=e.marks,r=e.onClick,s="".concat(t,"-mark");return n.length?c.createElement("div",{className:s},n.map((function(e){var t=e.value,n=e.style,a=e.label;return c.createElement(Jg,{key:t,prefixCls:s,style:n,value:t,onClick:r},a)}))):null}function $g(e){var t=e.prefixCls,n=e.value,r=e.style,s=e.activeStyle,a=c.useContext(Lg),i=a.min,l=a.max,u=a.direction,d=a.included,h=a.includedStart,p=a.includedEnd,m="".concat(t,"-dot"),f=d&&h<=n&&n<=p,g=A(A({},Og(u,n,i,l)),"function"===typeof r?r(n):r);return f&&(g=A(A({},g),"function"===typeof s?s(n):s)),c.createElement("span",{className:y()(m,o({},"".concat(m,"-active"),f)),style:g})}function ev(e){var t=e.prefixCls,n=e.marks,r=e.dots,s=e.style,a=e.activeStyle,i=c.useContext(Lg),o=i.min,l=i.max,A=i.step,u=c.useMemo((function(){var e=new Set;if(n.forEach((function(t){e.add(t.value)})),r&&null!==A)for(var t=o;t<=l;)e.add(t),t+=A;return Array.from(e)}),[o,l,A,r,n]);return c.createElement("div",{className:"".concat(t,"-step")},u.map((function(e){return c.createElement($g,{prefixCls:t,key:e,value:e,style:s,activeStyle:a})})))}var tv=c.forwardRef((function(e,t){var n,r=e.prefixCls,s=void 0===r?"rc-slider":r,i=e.className,l=e.style,A=e.disabled,u=void 0!==A&&A,d=e.autoFocus,h=e.onFocus,p=e.onBlur,m=e.min,g=void 0===m?0:m,v=e.max,w=void 0===v?100:v,b=e.step,x=void 0===b?1:b,B=e.value,C=e.defaultValue,k=e.range,S=e.count,E=e.onChange,j=e.onBeforeChange,F=e.onAfterChange,I=e.allowCross,Q=void 0===I||I,M=e.pushable,U=void 0!==M&&M,N=e.draggableTrack,T=e.reverse,D=e.vertical,H=e.included,L=void 0===H||H,P=e.startPoint,O=e.trackStyle,R=e.handleStyle,V=e.railStyle,K=e.dotStyle,z=e.activeDotStyle,_=e.marks,G=e.dots,W=e.handleRender,Y=e.tabIndex,q=void 0===Y?0:Y,X=e.ariaLabelForHandle,J=e.ariaLabelledByForHandle,Z=e.ariaValueTextFormatterForHandle,$=c.useRef(),ee=c.useRef(),te=c.useMemo((function(){return D?T?"ttb":"btt":T?"rtl":"ltr"}),[T,D]),ne=c.useMemo((function(){return isFinite(g)?g:0}),[g]),re=c.useMemo((function(){return isFinite(w)?w:100}),[w]),se=c.useMemo((function(){return null!==x&&x<=0?1:x}),[x]),ae=c.useMemo((function(){return!0===U?se:U>=0&&U}),[U,se]),ie=c.useMemo((function(){return Object.keys(_||{}).map((function(e){var t=_[e],n={value:Number(e)};return t&&"object"===a(t)&&!c.isValidElement(t)&&("label"in t||"style"in t)?(n.style=t.style,n.label=t.label):n.label=t,n})).filter((function(e){var t=e.label;return t||"number"===typeof t})).sort((function(e,t){return e.value-t.value}))}),[_]),oe=function(e,t,n,r,s,a){var i=c.useCallback((function(n){var r=isFinite(n)?n:e;return r=Math.min(t,n),Math.max(e,r)}),[e,t]),o=c.useCallback((function(r){if(null!==n){var s=e+Math.round((i(r)-e)/n)*n,a=function(e){return(String(e).split(".")[1]||"").length},o=Math.max(a(n),a(t),a(e)),l=Number(s.toFixed(o));return e<=l&&l<=t?l:null}return null}),[n,e,t,i]),l=c.useCallback((function(s){var a=i(s),l=r.map((function(e){return e.value}));null!==n&&l.push(o(s)),l.push(e,t);var A=l[0],c=t-e;return l.forEach((function(e){var t=Math.abs(a-e);t<=c&&(A=e,c=t)})),A}),[e,t,r,n,i,o]),A=function s(a,i,l){var A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit";if("number"===typeof i){var c,u=a[l],d=u+i,h=[];r.forEach((function(e){h.push(e.value)})),h.push(e,t),h.push(o(u));var p=i>0?1:-1;"unit"===A?h.push(o(u+p*n)):h.push(o(d)),h=h.filter((function(e){return null!==e})).filter((function(e){return i<0?e<=u:e>=u})),"unit"===A&&(h=h.filter((function(e){return e!==u})));var m="unit"===A?u:d;c=h[0];var f=Math.abs(c-m);if(h.forEach((function(e){var t=Math.abs(e-m);t<f&&(c=e,f=t)})),void 0===c)return i<0?e:t;if("dist"===A)return c;if(Math.abs(i)>1){var g=Kt(a);return g[l]=c,s(g,i-p,l,A)}return c}return"min"===i?e:"max"===i?t:void 0},u=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",s=e[n],a=A(e,t,n,r);return{value:a,changed:a!==s}},d=function(e){return null===a&&0===e||"number"===typeof a&&e<a};return[l,function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unit",i=e.map(l),o=i[n],c=A(i,t,n,r);if(i[n]=c,!1===s){var h=a||0;n>0&&i[n-1]!==o&&(i[n]=Math.max(i[n],i[n-1]+h)),n<i.length-1&&i[n+1]!==o&&(i[n]=Math.min(i[n],i[n+1]-h))}else if("number"===typeof a||null===a){for(var p=n+1;p<i.length;p+=1)for(var m=!0;d(i[p]-i[p-1])&&m;){var f=u(i,1,p);i[p]=f.value,m=f.changed}for(var g=n;g>0;g-=1)for(var v=!0;d(i[g]-i[g-1])&&v;){var y=u(i,-1,g-1);i[g-1]=y.value,v=y.changed}for(var w=i.length-1;w>0;w-=1)for(var b=!0;d(i[w]-i[w-1])&&b;){var x=u(i,-1,w-1);i[w-1]=x.value,b=x.changed}for(var B=0;B<i.length-1;B+=1)for(var C=!0;d(i[B+1]-i[B])&&C;){var k=u(i,1,B+1);i[B+1]=k.value,C=k.changed}}return{value:i[n],values:i}}]}(ne,re,se,ie,Q,ae),le=f(oe,2),Ae=le[0],ce=le[1],ue=f(Rt(C,{value:B}),2),de=ue[0],he=ue[1],pe=c.useMemo((function(){var e=null===de||void 0===de?[]:Array.isArray(de)?de:[de],t=f(e,1)[0],n=null===de?[]:[void 0===t?ne:t];if(k){if(n=Kt(e),S||void 0===de){var r=S>=0?S+1:2;for(n=n.slice(0,r);n.length<r;){var s;n.push(null!==(s=n[n.length-1])&&void 0!==s?s:ne)}}n.sort((function(e,t){return e-t}))}return n.forEach((function(e,t){n[t]=Ae(e)})),n}),[de,k,ne,S,Ae]),me=c.useRef(pe);me.current=pe;var fe=function(e){return k?e:e[0]},ge=function(e){var t=Kt(e).sort((function(e,t){return e-t}));E&&!pg()(t,me.current)&&E(fe(t)),he(t)},ve=function(e){if(!u){var t=0,n=re-ne;pe.forEach((function(r,s){var a=Math.abs(e-r);a<=n&&(n=a,t=s)}));var r=Kt(pe);r[t]=e,k&&!pe.length&&void 0===S&&r.push(e),null===j||void 0===j||j(fe(r)),ge(r),null===F||void 0===F||F(fe(r))}},ye=f(c.useState(null),2),we=ye[0],be=ye[1];c.useEffect((function(){if(null!==we){var e=pe.indexOf(we);e>=0&&$.current.focus(e)}be(null)}),[we]);var xe=c.useMemo((function(){return(!N||null!==se)&&N}),[N,se]),Be=function(e,t,n,r,s,a,i,o,l){var A=f(c.useState(null),2),u=A[0],d=A[1],h=f(c.useState(-1),2),p=h[0],m=h[1],g=f(c.useState(n),2),v=g[0],y=g[1],w=f(c.useState(n),2),b=w[0],x=w[1],B=c.useRef(null),C=c.useRef(null);c.useEffect((function(){-1===p&&y(n)}),[n,p]),c.useEffect((function(){return function(){document.removeEventListener("mousemove",B.current),document.removeEventListener("mouseup",C.current),document.removeEventListener("touchmove",B.current),document.removeEventListener("touchend",C.current)}}),[]);var k=function(e,t){v.some((function(t,n){return t!==e[n]}))&&(void 0!==t&&d(t),y(e),i(e))},S=function(e,t){if(-1===e){var n=b[0],i=b[b.length-1],o=r-n,A=s-i,c=t*(s-r);c=Math.max(c,o),c=Math.min(c,A);var u=a(n+c);c=u-n;var d=b.map((function(e){return e+c}));k(d)}else{var h=(s-r)*t,p=Kt(v);p[e]=b[e];var m=l(p,h,e,"dist");k(m.values,m.value)}},E=c.useRef(S);E.current=S;var j=c.useMemo((function(){var e=Kt(n).sort((function(e,t){return e-t})),t=Kt(v).sort((function(e,t){return e-t}));return e.every((function(e,n){return e===t[n]}))?v:n}),[n,v]);return[p,u,j,function(r,s){r.stopPropagation();var a=n[s];m(s),d(a),x(n);var i=Yg(r),l=i.pageX,A=i.pageY,c=function(n){n.preventDefault();var r,a=Yg(n),i=a.pageX,o=a.pageY,c=i-l,u=o-A,d=e.current.getBoundingClientRect(),h=d.width,p=d.height;switch(t){case"btt":r=-u/p;break;case"ttb":r=u/p;break;case"rtl":r=-c/h;break;default:r=c/h}E.current(s,r)},u=function e(t){t.preventDefault(),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",c),document.removeEventListener("touchend",e),document.removeEventListener("touchmove",c),B.current=null,C.current=null,m(-1),o()};document.addEventListener("mouseup",u),document.addEventListener("mousemove",c),document.addEventListener("touchend",u),document.addEventListener("touchmove",c),B.current=c,C.current=u}]}(ee,te,pe,ne,re,Ae,ge,(function(){null===F||void 0===F||F(fe(me.current))}),ce),Ce=f(Be,4),ke=Ce[0],Se=Ce[1],Ee=Ce[2],je=Ce[3],Fe=function(e,t){je(e,t),null===j||void 0===j||j(fe(me.current))},Ie=-1!==ke;c.useEffect((function(){if(!Ie){var e=pe.lastIndexOf(Se);$.current.focus(e)}}),[Ie]);var Qe=c.useMemo((function(){return Kt(Ee).sort((function(e,t){return e-t}))}),[Ee]),Me=f(c.useMemo((function(){return k?[Qe[0],Qe[Qe.length-1]]:[ne,Qe[0]]}),[Qe,k,ne]),2),Ue=Me[0],Ne=Me[1];c.useImperativeHandle(t,(function(){return{focus:function(){$.current.focus(0)},blur:function(){var e=document.activeElement;ee.current.contains(e)&&(null===e||void 0===e||e.blur())}}})),c.useEffect((function(){d&&$.current.focus(0)}),[]);var Te=c.useMemo((function(){return{min:ne,max:re,direction:te,disabled:u,step:se,included:L,includedStart:Ue,includedEnd:Ne,range:k,tabIndex:q,ariaLabelForHandle:X,ariaLabelledByForHandle:J,ariaValueTextFormatterForHandle:Z}}),[ne,re,te,u,se,L,Ue,Ne,k,q,X,J,Z]);return c.createElement(Lg.Provider,{value:Te},c.createElement("div",{ref:ee,className:y()(s,i,(n={},o(n,"".concat(s,"-disabled"),u),o(n,"".concat(s,"-vertical"),D),o(n,"".concat(s,"-horizontal"),!D),o(n,"".concat(s,"-with-marks"),ie.length),n)),style:l,onMouseDown:function(e){e.preventDefault();var t,n=ee.current.getBoundingClientRect(),r=n.width,s=n.height,a=n.left,i=n.top,o=n.bottom,l=n.right,A=e.clientX,c=e.clientY;switch(te){case"btt":t=(o-c)/s;break;case"ttb":t=(c-i)/s;break;case"rtl":t=(l-A)/r;break;default:t=(A-a)/r}ve(Ae(ne+t*(re-ne)))}},c.createElement("div",{className:"".concat(s,"-rail"),style:V}),c.createElement(Xg,{prefixCls:s,style:O,values:Qe,startPoint:P,onStartMove:xe?Fe:null}),c.createElement(ev,{prefixCls:s,marks:ie,dots:G,style:K,activeStyle:z}),c.createElement(Wg,{ref:$,prefixCls:s,style:R,values:Ee,draggingIndex:ke,onStartMove:Fe,onOffsetChange:function(e,t){if(!u){var n=ce(pe,e,t);null===j||void 0===j||j(fe(pe)),ge(n.values),null===F||void 0===F||F(fe(n.values)),be(n.value)}},onFocus:h,onBlur:p,handleRender:W}),c.createElement(Zg,{prefixCls:s,marks:ie,onClick:ve})))}));const nv=tv;const rv=c.forwardRef((function(e,t){var n=e.open,r=(0,c.useRef)(null),s=(0,c.useRef)(null);function a(){En.cancel(s.current),s.current=null}return c.useEffect((function(){return n?s.current=En((function(){var e;null===(e=r.current)||void 0===e||e.forcePopupAlign(),s.current=null})):a(),a}),[n,e.title]),c.createElement(cc,Oe({ref:Ft(r,t)},e))}));var sv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},av=c.forwardRef((function(e,t){var n=c.useContext(jr),r=n.getPrefixCls,s=n.direction,i=n.getPopupContainer,l=f(c.useState({}),2),A=l[0],u=l[1],d=function(e,t){u((function(n){return Oe(Oe({},n),o({},e,t))}))},h=function(e,t){return e||(t?"rtl"===s?"left":"right":"top")},p=e.prefixCls,m=e.range,g=e.className,v=sv(e,["prefixCls","range","className"]),w=r("slider",p),b=y()(g,o({},"".concat(w,"-rtl"),"rtl"===s));"rtl"!==s||v.vertical||(v.reverse=!v.reverse);var x=f(c.useMemo((function(){return m?"object"===a(m)?[!0,m.draggableTrack]:[!0,!1]:[!1]}),[m]),2),B=x[0],C=x[1];return c.createElement(nv,Oe({},v,{step:v.step,range:B,draggableTrack:C,className:b,ref:t,prefixCls:w,handleRender:function(t,n){var s,a=n.index,o=n.dragging,l=r(),u=e.tooltip,p=void 0===u?{}:u,m=e.vertical,f=Oe({formatter:null!==(s=e.tipFormatter)&&void 0!==s?s:function(e){return"number"===typeof e?e.toString():""},open:e.tooltipVisible,placement:e.tooltipPlacement,getPopupContainer:e.getTooltipPopupContainer},p),g=f.open,v=f.placement,y=f.getPopupContainer,b=f.prefixCls,x=f.formatter,B=!!x&&(A[a]||o),C=g||void 0===g&&B,k=Oe(Oe({},t.props),{onMouseEnter:function(){return d(a,!0)},onMouseLeave:function(){return d(a,!1)}}),S=r("tooltip",b);return c.createElement(rv,{prefixCls:S,title:x?x(n.value):"",open:C,placement:h(v,m),transitionName:"".concat(l,"-zoom-down"),key:a,overlayClassName:"".concat(w,"-tooltip"),getPopupContainer:y||i},c.cloneElement(t,k))}}))}));const iv=av;class ov extends c.Component{render(){try{const e=ro.arrayToItems(["all types"].concat(uo)),t=e.find((e=>"aberration"===e.id));t&&(t.text="aberr.");const n=e.find((e=>"celestial"===e.id));n&&(n.text="celest.");const r=e.find((e=>"construct"===e.id));r&&(r.text="const.");const s=e.find((e=>"elemental"===e.id));s&&(s.text="elem.");const a=e.find((e=>"humanoid"===e.id));a&&(a.text="human.");const i=e.find((e=>"monstrosity"===e.id));i&&(i.text="monst.");let o=null;this.props.showName&&(o=(0,xo.jsx)(Bo,{text:this.props.filter.name,placeholder:"filter by name",noMargins:!0,onChange:e=>this.props.changeValue("name",e)},"search"));let l=null;return this.props.showRoles&&(l=(0,xo.jsx)(Ng,{options:ro.arrayToItems(["all roles"].concat(ho)),selectedID:this.props.filter.role,itemsPerRow:2,onSelect:e=>this.props.changeValue("role",e)})),(0,xo.jsxs)("div",{children:[o,(0,xo.jsxs)(kg,{text:this.props.prefix+" "+io.getFilterDescription(this.props.filter),children:[(0,xo.jsx)(iv,{range:!0,min:0,max:30,value:[this.props.filter.challengeMin,this.props.filter.challengeMax],onChange:e=>this.props.changeValue("challenge",e)}),(0,xo.jsx)(Qf,{options:ro.arrayToItems(["all sizes"].concat(co)),placeholder:"filter by size...",selectedID:this.props.filter.size,onSelect:e=>this.props.changeValue("size",e)}),(0,xo.jsx)(Ng,{options:e,selectedID:this.props.filter.category,itemsPerRow:3,onSelect:e=>this.props.changeValue("category",e)}),l,(0,xo.jsx)("hr",{}),(0,xo.jsx)("div",{className:"section",children:(0,xo.jsx)("button",{onClick:()=>this.props.resetFilter(),children:"clear filter"})})]})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"FilterPanel",error:DB})}}}ov.defaultProps={prefix:"showing",showName:!0,showRoles:!0};class lv extends c.Component{constructor(e){super(e),this.state={monster:e.monster,page:"overview",selectedTraitID:null,sidebarView:"statblock",helpSection:"type",similarFilter:{size:!0,type:!0,subtype:!1,role:!1,alignment:!1,challenge:!0},addingToScratchpad:!1,scratchpadAddMode:"similar",scratchpadFilter:so.createMonsterFilter(),scratchpadList:[],inspectedMonster:null,browseFeatureType:null,browseFeatureText:"",browseFeatureID:null}}setPage(e){const t=this.getHelpOptionsForPage(e);this.setState({page:e,helpSection:t[0]})}recalculateRole(){const e=this.state.monster;e.role=mo.getRole(e)}addTrait(e){const t=mo.addTrait(this.state.monster,e);this.recalculateRole(),this.setState({monster:this.state.monster,selectedTraitID:t.id})}moveTrait(e,t){const n=this.state.monster.traits.indexOf(e),r=this.state.monster.traits.indexOf(t);mo.moveTrait(this.state.monster,n,r),this.recalculateRole(),this.setState({monster:this.state.monster,page:"features"})}copyTrait(e,t){const n=mo.copyTrait(e,this.state.monster,t);this.recalculateRole(),this.setState({monster:this.state.monster,page:"features",selectedTraitID:n.id})}changeTrait(e,t,n){e[t]=n,this.recalculateRole(),this.setState({monster:this.state.monster,page:"features"})}deleteTrait(e){mo.removeTrait(this.state.monster,e),this.recalculateRole(),this.setState({monster:this.state.monster,page:"features",selectedTraitID:null})}applyTheme(e){const t=mo.applyTheme(this.state.monster,e);mo.copyFields(this.state.monster,t),this.setState({monster:this.state.monster})}changeValue(e,t){mo.changeValue(this.state.monster,e,t),this.recalculateRole(),this.setState({monster:this.state.monster})}nudgeValue(e,t){mo.nudgeValue(this.state.monster,e,t),this.recalculateRole(),this.setState({monster:this.state.monster})}setHelpSection(e){this.setState({helpSection:e})}toggleMatch(e){const t=this.state.similarFilter;t[e]=!t[e],this.setState({similarFilter:t})}addToScratchpad(e){const t=this.state.scratchpadList;t.push(e),ro.sort(t),this.setState({scratchpadList:t})}removeFromScratchpad(e){const t=this.state.scratchpadList.indexOf(e);this.state.scratchpadList.splice(t,1),this.setState({scratchpadList:this.state.scratchpadList})}addAllToScratchpad(e){const t=this.state.scratchpadList;e.forEach((e=>t.push(e))),ro.sort(t),this.setState({scratchpadList:t})}clearScratchpad(){this.setState({scratchpadList:[]})}spliceMonsters(){mo.spliceMonsters(this.state.monster,this.state.scratchpadList),this.recalculateRole(),this.setState({monster:this.state.monster})}getHelpOptionsForPage(e){switch(e){case"overview":return["type","subtype","align","challenge","size","speed","lang"];case"abilities":return["str","dex","con","int","wis","cha","saves","skills","senses"];case"combat":return["armor class","hit dice","resist","vulnerable","immune","conditions"];case"features":return["features"]}return[]}getSimilarMonsters(){const e=[];return this.props.library.forEach((t=>{t.monsters.forEach((t=>{let n=!0;this.state.monster.id===t.id&&(n=!1),this.state.similarFilter.size&&this.state.monster.size!==t.size&&(n=!1),this.state.similarFilter.type&&this.state.monster.category!==t.category&&(n=!1),this.state.similarFilter.subtype&&this.state.monster.tag!==t.tag&&(n=!1),this.state.similarFilter.role&&this.state.monster.role!==t.role&&(n=!1),this.state.similarFilter.alignment&&this.state.monster.alignment!==t.alignment&&(n=!1),this.state.similarFilter.challenge&&this.state.monster.challenge!==t.challenge&&(n=!1),n&&e.push(t)}))})),e}setRandomValue(e){mo.setRandomValue(this.state.monster,e,this.state.scratchpadList),this.recalculateRole(),this.setState({monster:this.state.monster})}addRandomTrait(e){mo.addRandomTrait(this.state.monster,e,this.state.scratchpadList),this.recalculateRole(),this.setState({monster:this.state.monster})}changeFilterValue(e,t){const n=this.state.scratchpadFilter;"challenge"===e?(n.challengeMin=t[0],n.challengeMax=t[1]):n[e]=t,this.setState({scratchpadFilter:n})}resetFilter(){this.setState({scratchpadFilter:so.createMonsterFilter()})}matchMonster(e){return io.matchMonster(e,this.state.scratchpadFilter)}getHelpSection(){switch(this.state.helpSection){case"type":return this.getValueSection("category","text",this.state.monster.category);case"subtype":return this.getValueSection("tag","text",this.state.monster.tag);case"align":return this.getValueSection("alignment","text",this.state.monster.alignment);case"challenge":return this.getValueSection("challenge","number",this.state.monster.challenge);case"size":return this.getValueSection("size","text",this.state.monster.size);case"speed":return this.getValueSection("speed","text",this.state.monster.speed);case"lang":return this.getValueSection("languages","text",this.state.monster.languages);case"str":return this.getValueSection("abilityScores.str","number",this.state.monster.abilityScores.str);case"dex":return this.getValueSection("abilityScores.dex","number",this.state.monster.abilityScores.dex);case"con":return this.getValueSection("abilityScores.con","number",this.state.monster.abilityScores.con);case"int":return this.getValueSection("abilityScores.int","number",this.state.monster.abilityScores.int);case"wis":return this.getValueSection("abilityScores.wis","number",this.state.monster.abilityScores.wis);case"cha":return this.getValueSection("abilityScores.cha","number",this.state.monster.abilityScores.cha);case"saves":return this.getValueSection("savingThrows","text",this.state.monster.savingThrows);case"skills":return this.getValueSection("skills","text",this.state.monster.skills);case"senses":return this.getValueSection("senses","text",this.state.monster.senses);case"armor class":return this.getValueSection("ac","number",this.state.monster.ac);case"hit dice":return this.getValueSection("hitDice","number",this.state.monster.hitDice);case"resist":return this.getValueSection("damage.resist","text",this.state.monster.damage.resist);case"vulnerable":return this.getValueSection("damage.vulnerable","text",this.state.monster.damage.vulnerable);case"immune":return this.getValueSection("damage.immune","text",this.state.monster.damage.immune);case"conditions":return this.getValueSection("conditionImmunities","text",this.state.monster.conditionImmunities);case"features":return this.getFeaturesSection();default:return null}}getValueSection(e,t,n){const r=this.state.scratchpadList.map((n=>{const r=e.split(".");let s=n,a=null;return r.forEach((e=>{e===r[r.length-1]?a=s[e]:s=s[e]})),"text"===t&&""===a&&(a=null),a})).filter((e=>null!==e)),s=[];if("number"===t){let e=null,t=null;if(r.forEach((n=>{(null===e||n<e)&&(e=n),(null===t||n>t)&&(t=n)})),null!==e&&null!==t)for(let n=e;n<=t;++n)s.push({value:n,count:0})}switch(r.forEach((e=>{const t=s.find((t=>t.value===e));t?t.count+=1:s.push({value:e,count:1})})),t){case"number":ro.sort(s,[{field:"value",dir:"asc"}]);break;case"text":ro.sort(s,[{field:"count",dir:"desc"},{field:"value",dir:"asc"}])}if("text"===t){0!==this.state.scratchpadList.length-r.length&&s.push({value:"",count:this.state.scratchpadList.length-r.length})}const a=s.map(((t,r)=>{let s="value-list";t.value===n&&(s+=" current-value");const a=100*t.count/this.state.scratchpadList.length;return(0,xo.jsxs)(Os,{className:s,gutter:10,align:"middle",children:[(0,xo.jsx)(zs,{span:8,className:"text-container",children:t.value||"(none specified)"}),(0,xo.jsx)(zs,{span:8,className:"bar-container",children:(0,xo.jsx)("div",{className:"bar",style:{width:a+"%"}})}),(0,xo.jsx)(zs,{span:8,children:(0,xo.jsx)("button",{onClick:()=>this.changeValue(e,t.value),children:"use this value"})})]},r)}));return(0,xo.jsx)("div",{children:a})}getFeaturesSection(){const e=[];return e.push((0,xo.jsxs)(Os,{className:"value-list",gutter:10,align:"middle",children:[(0,xo.jsx)(zs,{span:8,className:"text-container",children:(0,xo.jsx)("b",{children:"type"})}),(0,xo.jsx)(zs,{span:4,className:"text-container number",children:(0,xo.jsx)("b",{children:"avg"})}),(0,xo.jsx)(zs,{span:4,className:"text-container number",children:(0,xo.jsx)("b",{children:"min - max"})})]},"header")),po.forEach((t=>{let n=null,r=null,s=0;this.state.scratchpadList.forEach((e=>{const a=e.traits.filter((e=>e.type===t)).length;(null===n||a<n)&&(n=a),(null===r||a>r)&&(r=a),s+=a}));const a=Math.round(s/this.state.scratchpadList.length);e.push((0,xo.jsxs)(Os,{className:"value-list",gutter:10,align:"middle",children:[(0,xo.jsx)(zs,{span:8,className:0===s?"text-container disabled":"text-container",children:oo.traitType(t,!0)}),(0,xo.jsx)(zs,{span:4,className:0===s?"text-container number disabled":"text-container number",children:a}),(0,xo.jsxs)(zs,{span:4,className:0===s?"text-container number disabled":"text-container number",children:[n," - ",r]}),(0,xo.jsx)(zs,{span:8,children:(0,xo.jsx)("button",{className:0===s?"disabled":"",onClick:()=>this.addRandomTrait(t),children:"add random"})})]},t))})),(0,xo.jsx)("div",{children:e})}getScratchpad(){let e=null;if(this.state.scratchpadList.length>0){const t=ro.sort(this.state.scratchpadList).map((e=>(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:(0,xo.jsx)(ag,{monster:e,section:this.state.page,copyTrait:t=>this.copyTrait(t,e)})}),(0,xo.jsxs)("div",{className:"icons vertical",children:[(0,xo.jsx)(Ze,{title:"show statblock",onClick:()=>this.setState({inspectedMonster:e})}),(0,xo.jsx)(jo,{title:"remove monster",onClick:()=>this.removeFromScratchpad(e)})]})]},e.id)));let n=null;this.getHelpOptionsForPage(this.state.page).length>1&&(n=(0,xo.jsxs)("div",{children:[(0,xo.jsxs)(Uf,{children:[(0,xo.jsx)("div",{className:"section",children:"select one of the following fields to see its values from your scratchpad monsters"}),(0,xo.jsxs)("div",{className:"section",children:["you can also press the ",(0,xo.jsx)(Qo,{})," button beside a field to select a random value for that field"]})]}),(0,xo.jsx)(Ng,{options:ro.arrayToItems(this.getHelpOptionsForPage(this.state.page)),selectedID:this.state.helpSection,onSelect:e=>this.setHelpSection(e)})]})),e=(0,xo.jsxs)("div",{children:[(0,xo.jsxs)(kg,{text:"scratchpad monsters",children:[(0,xo.jsxs)(Os,{gutter:10,children:[(0,xo.jsx)(zs,{span:12,children:(0,xo.jsx)("button",{onClick:()=>this.setState({addingToScratchpad:!0}),children:"add monsters to list"})}),(0,xo.jsx)(zs,{span:12,children:(0,xo.jsx)("button",{className:0===this.state.scratchpadList.length?"disabled":"",onClick:()=>this.clearScratchpad(),children:"clear list"})})]}),t]}),(0,xo.jsxs)("div",{className:"monster-help",children:[n,this.getHelpSection()]})]})}else e=(0,xo.jsx)("button",{onClick:()=>this.setState({addingToScratchpad:!0}),children:"add monsters to your scratchpad"});return(0,xo.jsxs)("div",{children:[(0,xo.jsxs)(Uf,{children:[(0,xo.jsxs)("div",{className:"section",children:["this is your ",(0,xo.jsx)("b",{children:"scratchpad"}),"; you can add monsters to it to see their combined statistics"]}),(0,xo.jsx)("div",{className:"section",children:"you might find this useful if, for example, you want your monster to have similar abilities to other monsters"}),(0,xo.jsx)(eg,{display:this.state.scratchpadList.length>=2,children:(0,xo.jsxs)("div",{className:"section",children:["you can also ",(0,xo.jsx)("button",{className:"link",onClick:()=>this.spliceMonsters(),children:"splice these monsters together"})," to create a unique hyrid monster"]})})]}),e]})}getContent(){switch(this.state.page){case"overview":return(0,xo.jsx)(Av,{monster:this.state.monster,allowRandomize:this.state.scratchpadList.length>0,changeValue:(e,t)=>this.changeValue(e,t),nudgeValue:(e,t)=>this.nudgeValue(e,t),randomValue:e=>this.setRandomValue(e)});case"abilities":return(0,xo.jsx)(cv,{monster:this.state.monster,allowRandomize:this.state.scratchpadList.length>0,changeValue:(e,t)=>this.changeValue(e,t),nudgeValue:(e,t)=>this.nudgeValue(e,t),randomValue:e=>this.setRandomValue(e)});case"combat":return(0,xo.jsx)(uv,{monster:this.state.monster,allowRandomize:this.state.scratchpadList.length>0,changeValue:(e,t)=>this.changeValue(e,t),nudgeValue:(e,t)=>this.nudgeValue(e,t),randomValue:e=>this.setRandomValue(e)});case"features":return(0,xo.jsx)(dv,{monster:this.state.monster,selectedTraitID:this.state.selectedTraitID,addTrait:e=>this.addTrait(e),browse:e=>this.setState({browseFeatureType:e}),copyTrait:e=>this.copyTrait(e,null),moveTrait:(e,t)=>this.moveTrait(e,t),deleteTrait:e=>this.deleteTrait(e),selectTrait:e=>this.setState({selectedTraitID:e.id}),changeValue:(e,t,n)=>this.changeTrait(e,t,n)})}return null}getSidebar(){switch(this.state.sidebarView){case"statblock":return(0,xo.jsxs)("div",{children:[(0,xo.jsx)(sg,{monster:this.state.monster}),(0,xo.jsx)("hr",{}),(0,xo.jsx)("button",{onClick:()=>yo.takeScreenshot("statblock"),children:"export statblock image"})]});case"guidelines":return(0,xo.jsx)(mv,{monster:this.state.monster});case"scratchpad":return this.getScratchpad()}return null}getDrawer(){const e={visible:!1,title:"drawer",content:null,footer:null,onClose:()=>null};if(e.footer=(0,xo.jsx)("button",{onClick:()=>e.onClose(),children:"close"}),this.state.inspectedMonster&&(e.visible=!0,e.title="monster",e.content=(0,xo.jsxs)("div",{className:"scrollable padded",children:[(0,xo.jsx)(sg,{monster:this.state.inspectedMonster}),(0,xo.jsx)("hr",{}),(0,xo.jsx)("button",{onClick:()=>yo.takeScreenshot("statblock"),children:"export statblock image"}),(0,xo.jsx)("button",{onClick:()=>this.applyTheme(this.state.inspectedMonster),children:"apply this monster as a theme"})]}),e.onClose=()=>{this.setState({inspectedMonster:null})}),this.state.browseFeatureType){var t;const n={};let r=[];this.props.library.forEach((e=>{e.monsters.forEach((e=>{e.traits.filter((e=>e.type===this.state.browseFeatureType)).filter((e=>ao.matchTrait(this.state.browseFeatureText,e))).forEach((t=>{n[t.id]=e;let s=r.find((e=>e.name===t.name));s||(s={id:t.id,name:t.name,traits:[]},r.push(s)),s.traits.push(t)}))}))})),r=ro.sort(r),e.visible=!0,e.title="import a "+oo.traitType(this.state.browseFeatureType,!1),e.content=(0,xo.jsxs)("div",{className:"scrollable padded",children:[(0,xo.jsxs)(eg,{display:null===this.state.browseFeatureID,children:[(0,xo.jsx)(Bo,{text:this.state.browseFeatureText,placeholder:"search...",onChange:e=>this.setState({browseFeatureText:e})}),(0,xo.jsx)("hr",{}),r.map((e=>(0,xo.jsx)(Sg,{children:(0,xo.jsx)(ng,{trait:e.traits[0],mode:"template",source:n[e.traits[0].id],showMultiple:e.traits.length>1,copyTrait:e=>{const t=n[e.id];this.copyTrait(e,t)},viewMultiple:()=>this.setState({browseFeatureID:e.id})})},e.id)))]}),(0,xo.jsxs)(eg,{display:null!==this.state.browseFeatureID,children:[(0,xo.jsxs)("button",{onClick:()=>this.setState({browseFeatureID:null}),children:[(0,xo.jsx)(No,{style:{fontSize:"10px"}})," back to the list"]}),(0,xo.jsx)("hr",{}),null===(t=r.find((e=>e.id===this.state.browseFeatureID)))||void 0===t?void 0:t.traits.map((e=>(0,xo.jsx)(Sg,{children:(0,xo.jsx)(ng,{trait:e,mode:"template",source:n[e.id],copyTrait:e=>{const t=n[e.id];this.copyTrait(e,t)}})},e.id)))]})]}),e.onClose=()=>{this.setState({browseFeatureType:null})}}if(this.state.addingToScratchpad){const t=[{id:"similar",text:"similar monsters"},{id:"all",text:"all monsters"}];let n=null;switch(this.state.scratchpadAddMode){case"similar":n=(0,xo.jsxs)(kg,{text:"similarity criteria",children:[(0,xo.jsx)(ig,{label:"size "+this.state.monster.size,checked:this.state.similarFilter.size,onChecked:()=>this.toggleMatch("size")}),(0,xo.jsx)(ig,{label:"type "+this.state.monster.category,checked:this.state.similarFilter.type,onChecked:()=>this.toggleMatch("type")}),(0,xo.jsx)(ig,{label:this.state.monster.tag?"subtype "+this.state.monster.tag:"subtype",checked:this.state.similarFilter.subtype,disabled:!this.state.monster.tag,onChecked:()=>this.toggleMatch("subtype")}),(0,xo.jsx)(ig,{label:this.state.monster.role?"role "+this.state.monster.role:"role",checked:this.state.similarFilter.role,disabled:!this.state.monster.role,onChecked:()=>this.toggleMatch("role")}),(0,xo.jsx)(ig,{label:this.state.monster.alignment?"alignment "+this.state.monster.alignment:"alignment",checked:this.state.similarFilter.alignment,disabled:!this.state.monster.alignment,onChecked:()=>this.toggleMatch("alignment")}),(0,xo.jsx)(ig,{label:"challenge rating "+oo.challenge(this.state.monster.challenge),checked:this.state.similarFilter.challenge,onChecked:()=>this.toggleMatch("challenge")})]});break;case"all":n=(0,xo.jsx)(ov,{filter:this.state.scratchpadFilter,changeValue:(e,t)=>this.changeFilterValue(e,t),resetFilter:()=>this.resetFilter()})}let r=[];switch(this.state.scratchpadAddMode){case"similar":r=this.getSimilarMonsters();break;case"all":this.props.library.forEach((e=>{e.monsters.forEach((e=>{!r.includes(e)&&this.matchMonster(e)&&r.push(e)}))}))}let s=null;r=r.filter((e=>!this.state.scratchpadList.find((t=>t.id===e.id)))),0===r.length&&(s=(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"there are no monsters in your library which match the above criteria (or they are all in your scratchpad already)"})})),e.visible=!0,e.title="add to scratchpad",e.content=(0,xo.jsxs)("div",{className:"scrollable padded",children:[(0,xo.jsx)(Dg,{options:t,selectedID:this.state.scratchpadAddMode,onSelect:e=>this.setState({scratchpadAddMode:e})}),n,(0,xo.jsx)("button",{className:0===r.length?"disabled":"",onClick:()=>this.addAllToScratchpad(r),children:"add all to scratchpad"}),(0,xo.jsx)("hr",{}),ro.sort(r).map((e=>(0,xo.jsx)(Sg,{children:(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:(0,xo.jsx)("div",{children:e.name||"unnamed monster"})}),(0,xo.jsx)("div",{className:"icons",children:(0,xo.jsx)(Ho,{title:"add monster",onClick:()=>this.addToScratchpad(e)})})]})},e.id))),s]}),e.onClose=()=>{this.setState({addingToScratchpad:!1})}}return e}render(){try{const e=this.getDrawer();return(0,xo.jsxs)(Os,{className:"full-height",children:[(0,xo.jsxs)(zs,{span:12,className:"scrollable",children:[(0,xo.jsx)(Dg,{options:ro.arrayToItems(["overview","abilities","combat","features"]),selectedID:this.state.page,onSelect:e=>this.setPage(e)}),this.getContent()]}),(0,xo.jsxs)(zs,{span:12,className:"scrollable sidebar sidebar-right",children:[(0,xo.jsx)(Dg,{options:ro.arrayToItems(["statblock","guidelines","scratchpad"]),selectedID:this.state.sidebarView,onSelect:e=>this.setState({sidebarView:e})}),this.getSidebar()]}),(0,xo.jsxs)(_i,{className:this.props.options.theme,closable:!1,maskClosable:!0,width:"30%",open:e.visible,onClose:()=>e.onClose(),children:[(0,xo.jsx)("div",{className:"drawer-header",children:(0,xo.jsx)("div",{className:"app-title",children:e.title})}),(0,xo.jsx)("div",{className:"drawer-content",children:e.content}),(0,xo.jsx)("div",{className:"drawer-footer",children:e.footer})]})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"MonsterEditorModal",error:DB})}}}class Av extends c.Component{randomName(){const e=lo.capitalise(lo.generateName());this.props.changeValue("name",e)}render(){try{return(0,xo.jsxs)(Os,{gutter:10,children:[(0,xo.jsxs)(zs,{span:24,children:[(0,xo.jsx)("div",{className:"subheading",children:"name"}),(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:(0,xo.jsx)(Bo,{text:this.props.monster.name,onChange:e=>this.props.changeValue("name",e)})}),(0,xo.jsx)("div",{className:"icons",children:(0,xo.jsx)(Qo,{onClick:()=>this.randomName(),title:"generate a random name"})})]}),(0,xo.jsx)("div",{className:"subheading",children:"type"}),(0,xo.jsx)(hv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("category"),children:(0,xo.jsx)(Ng,{options:ro.arrayToItems(uo),selectedID:this.props.monster.category,itemsPerRow:5,onSelect:e=>this.props.changeValue("category",e)})})]}),(0,xo.jsxs)(zs,{span:12,children:[(0,xo.jsx)("div",{className:"subheading",children:"subtype"}),(0,xo.jsx)(hv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("tag"),children:(0,xo.jsx)(Bo,{text:this.props.monster.tag,placeholder:"none",onChange:e=>this.props.changeValue("tag",e)})}),(0,xo.jsx)("div",{className:"subheading",children:"size"}),(0,xo.jsx)(hv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("size"),children:(0,xo.jsx)(Ug,{value:this.props.monster.size,downEnabled:"tiny"!==this.props.monster.size,upEnabled:"gargantuan"!==this.props.monster.size,onNudgeValue:e=>this.props.nudgeValue("size",e)})}),(0,xo.jsx)("div",{className:"subheading",children:"alignment"}),(0,xo.jsx)(hv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("alignment"),children:(0,xo.jsx)(Bo,{text:this.props.monster.alignment,onChange:e=>this.props.changeValue("alignment",e)})}),(0,xo.jsx)("div",{className:"subheading",children:"challenge rating"}),(0,xo.jsx)(hv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("challenge"),children:(0,xo.jsx)(Ug,{value:oo.challenge(this.props.monster.challenge),downEnabled:this.props.monster.challenge>0,onNudgeValue:e=>this.props.nudgeValue("challenge",e)})})]}),(0,xo.jsxs)(zs,{span:12,children:[(0,xo.jsxs)("div",{className:"subheading",children:["speed \xa0",(0,xo.jsx)(pc,{content:(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"section",children:"this can include special movement modes, which are:"}),(0,xo.jsxs)("ul",{children:[(0,xo.jsx)("li",{children:"burrow speed"}),(0,xo.jsx)("li",{children:"climb speed"}),(0,xo.jsx)("li",{children:"fly speed (which might include the ability to hover)"}),(0,xo.jsx)("li",{children:"swim speed"})]})]}),children:(0,xo.jsx)(Ze,{})})]}),(0,xo.jsx)(hv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("speed"),children:(0,xo.jsx)(Bo,{text:this.props.monster.speed,onChange:e=>this.props.changeValue("speed",e)})}),(0,xo.jsx)("div",{className:"subheading",children:"languages"}),(0,xo.jsx)(hv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("languages"),children:(0,xo.jsx)(Bo,{text:this.props.monster.languages,onChange:e=>this.props.changeValue("languages",e)})}),(0,xo.jsx)("div",{className:"subheading",children:"portrait"}),(0,xo.jsx)(vd,{source:this.props.monster,setPortrait:e=>this.props.changeValue("portrait",e),clear:()=>this.props.changeValue("portrait","")})]})]},"overview")}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"OverviewTab",error:DB})}}}class cv extends c.Component{render(){try{const e=oo.challenge(this.props.monster.challenge),t=oo.proficiency(this.props.monster.challenge);return(0,xo.jsxs)(Os,{gutter:10,children:[(0,xo.jsxs)(zs,{span:12,children:[(0,xo.jsx)("div",{className:"subheading",children:"strength"}),(0,xo.jsx)(hv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("abilityScores.str"),children:(0,xo.jsx)(Ug,{value:this.props.monster.abilityScores.str+" ("+oo.modifier(this.props.monster.abilityScores.str)+")",downEnabled:this.props.monster.abilityScores.str>0,onNudgeValue:e=>this.props.nudgeValue("abilityScores.str",e)})}),(0,xo.jsx)("div",{className:"subheading",children:"dexterity"}),(0,xo.jsx)(hv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("abilityScores.dex"),children:(0,xo.jsx)(Ug,{value:this.props.monster.abilityScores.dex+" ("+oo.modifier(this.props.monster.abilityScores.dex)+")",downEnabled:this.props.monster.abilityScores.dex>0,onNudgeValue:e=>this.props.nudgeValue("abilityScores.dex",e)})}),(0,xo.jsx)("div",{className:"subheading",children:"constitution"}),(0,xo.jsx)(hv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("abilityScores.con"),children:(0,xo.jsx)(Ug,{value:this.props.monster.abilityScores.con+" ("+oo.modifier(this.props.monster.abilityScores.con)+")",downEnabled:this.props.monster.abilityScores.con>0,onNudgeValue:e=>this.props.nudgeValue("abilityScores.con",e)})}),(0,xo.jsx)("div",{className:"subheading",children:"intelligence"}),(0,xo.jsx)(hv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("abilityScores.int"),children:(0,xo.jsx)(Ug,{value:this.props.monster.abilityScores.int+" ("+oo.modifier(this.props.monster.abilityScores.int)+")",downEnabled:this.props.monster.abilityScores.int>0,onNudgeValue:e=>this.props.nudgeValue("abilityScores.int",e)})}),(0,xo.jsx)("div",{className:"subheading",children:"wisdom"}),(0,xo.jsx)(hv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("abilityScores.wis"),children:(0,xo.jsx)(Ug,{value:this.props.monster.abilityScores.wis+" ("+oo.modifier(this.props.monster.abilityScores.wis)+")",downEnabled:this.props.monster.abilityScores.wis>0,onNudgeValue:e=>this.props.nudgeValue("abilityScores.wis",e)})}),(0,xo.jsx)("div",{className:"subheading",children:"charisma"}),(0,xo.jsx)(hv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("abilityScores.cha"),children:(0,xo.jsx)(Ug,{value:this.props.monster.abilityScores.cha+" ("+oo.modifier(this.props.monster.abilityScores.cha)+")",downEnabled:this.props.monster.abilityScores.cha>0,onNudgeValue:e=>this.props.nudgeValue("abilityScores.cha",e)})})]}),(0,xo.jsxs)(zs,{span:12,children:[(0,xo.jsx)(Uf,{children:(0,xo.jsxs)("div",{className:"section",children:["for skills and saving throws, remember that the proficiency bonus for a ",(0,xo.jsxs)("b",{children:["cr ",e]})," monster is ",(0,xo.jsxs)("b",{children:["+",t]})]})}),(0,xo.jsx)("div",{className:"subheading",children:"saving throws"}),(0,xo.jsx)(hv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("savingThrows"),children:(0,xo.jsx)(Bo,{text:this.props.monster.savingThrows,onChange:e=>this.props.changeValue("savingThrows",e)})}),(0,xo.jsx)("div",{className:"subheading",children:"skills"}),(0,xo.jsx)(hv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("skills"),children:(0,xo.jsx)(Bo,{text:this.props.monster.skills,onChange:e=>this.props.changeValue("skills",e)})}),(0,xo.jsxs)("div",{className:"subheading",children:["senses \xa0",(0,xo.jsx)(pc,{content:(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"section",children:"this should include the monster's passive perception and the range of any special senses, which are:"}),(0,xo.jsxs)("ul",{children:[(0,xo.jsx)("li",{children:"blindsight"}),(0,xo.jsx)("li",{children:"darkvision"}),(0,xo.jsx)("li",{children:"tremorsense"}),(0,xo.jsx)("li",{children:"truesight"})]})]}),children:(0,xo.jsx)(Ze,{})})]}),(0,xo.jsx)(hv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("senses"),children:(0,xo.jsx)(Bo,{text:this.props.monster.senses,onChange:e=>this.props.changeValue("senses",e)})})]})]},"abilities")}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"AbilitiesTab",error:DB})}}}class uv extends c.Component{render(){try{return(0,xo.jsxs)(Os,{gutter:10,children:[(0,xo.jsxs)(zs,{span:12,children:[(0,xo.jsx)("div",{className:"subheading",children:"armor class"}),(0,xo.jsx)(hv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("ac"),children:(0,xo.jsx)(Ug,{value:this.props.monster.ac,downEnabled:this.props.monster.ac>0,onNudgeValue:e=>this.props.nudgeValue("ac",e)})}),(0,xo.jsx)("div",{className:"subheading",children:"armor type"}),(0,xo.jsx)(hv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("acInfo"),children:(0,xo.jsx)(Bo,{text:this.props.monster.acInfo,onChange:e=>this.props.changeValue("acInfo",e)})}),(0,xo.jsx)("div",{className:"subheading",children:"hit dice"}),(0,xo.jsx)(hv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("hitDice"),children:(0,xo.jsx)(Ug,{value:this.props.monster.hitDice+"d"+oo.hitDieType(this.props.monster.size),downEnabled:this.props.monster.hitDice>1,onNudgeValue:e=>this.props.nudgeValue("hitDice",e)})}),(0,xo.jsxs)(Uf,{children:[(0,xo.jsx)("div",{className:"section",children:"to calculate hit points, the die type is based on the monster's size, and the die roll is modified by the monster's constitution modifier"}),(0,xo.jsx)("hr",{}),(0,xo.jsx)("div",{className:"hp-value",children:mo.getTypicalHP(this.props.monster)+" hp ("+mo.getTypicalHPString(this.props.monster)+")"})]})]}),(0,xo.jsxs)(zs,{span:12,children:[(0,xo.jsx)("div",{className:"subheading",children:"damage resistances"}),(0,xo.jsx)(hv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("damage.resist"),children:(0,xo.jsx)(Bo,{text:this.props.monster.damage.resist,onChange:e=>this.props.changeValue("damage.resist",e)})}),(0,xo.jsx)("div",{className:"subheading",children:"damage vulnerabilities"}),(0,xo.jsx)(hv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("damage.vulnerable"),children:(0,xo.jsx)(Bo,{text:this.props.monster.damage.vulnerable,onChange:e=>this.props.changeValue("damage.vulnerable",e)})}),(0,xo.jsx)("div",{className:"subheading",children:"damage immunities"}),(0,xo.jsx)(hv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("damage.immune"),children:(0,xo.jsx)(Bo,{text:this.props.monster.damage.immune,onChange:e=>this.props.changeValue("damage.immune",e)})}),(0,xo.jsx)("div",{className:"subheading",children:"condition immunities"}),(0,xo.jsx)(hv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("conditionImmunities"),children:(0,xo.jsx)(Bo,{text:this.props.monster.conditionImmunities,onChange:e=>this.props.changeValue("conditionImmunities",e)})}),(0,xo.jsx)("div",{className:"subheading",children:"legendary actions"}),(0,xo.jsx)(hv,{allowRandomize:this.props.allowRandomize,onRandomize:()=>this.props.randomValue("legendaryActions"),children:(0,xo.jsx)(Ug,{value:this.props.monster.legendaryActions,downEnabled:this.props.monster.legendaryActions>0,onNudgeValue:e=>this.props.nudgeValue("legendaryActions",e)})})]})]},"combat")}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"CombatTab",error:DB})}}}class dv extends c.Component{createSection(e,t){const n=e[t];return(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"trait-header-bar",children:(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:(0,xo.jsx)("div",{className:"subheading",children:oo.traitType(t,!0)})}),(0,xo.jsxs)("div",{className:"icons",children:[(0,xo.jsx)(Ho,{title:"new "+oo.traitType(t,!1),onClick:()=>this.props.addTrait(t)}),(0,xo.jsx)(Oo,{rotate:270,title:"import",onClick:()=>this.props.browse(t)})]})]})}),(0,xo.jsx)(mc.List,{values:n,lockVertically:!0,onChange:e=>{let{oldIndex:t,newIndex:r}=e;return this.props.moveTrait(n[t],n[r])},renderList:e=>{let{children:t,props:n}=e;return(0,xo.jsx)("div",{...n,children:t})},renderItem:e=>{let{value:t,props:n,isDragged:r}=e;return(0,xo.jsx)("div",{...n,className:r?"dragged":"",children:(0,xo.jsx)(pv,{trait:t,isSelected:t.id===this.props.selectedTraitID,select:e=>this.props.selectTrait(e),delete:e=>this.props.deleteTrait(e)},t.id)})}})]})}render(){try{const e=[],t={};po.forEach((n=>{e.push({id:n,text:oo.traitType(n,!1)}),t[n]=this.props.monster.traits.filter((e=>e.type===n))}));const n=this.props.monster.traits.find((e=>e.id===this.props.selectedTraitID));let r=null;return r=n?(0,xo.jsx)(rg,{trait:n,copyTrait:e=>this.props.copyTrait(e),deleteTrait:e=>this.props.deleteTrait(e),changeValue:(e,t,n)=>this.props.changeValue(e,t,n)}):(0,xo.jsx)(Uf,{children:"select one of the features from the column to the left to edit its details here"}),(0,xo.jsxs)(Os,{gutter:10,children:[(0,xo.jsxs)(zs,{span:8,children:[this.createSection(t,"trait"),this.createSection(t,"action"),this.createSection(t,"bonus"),this.createSection(t,"reaction"),this.createSection(t,"legendary"),this.createSection(t,"mythic"),this.createSection(t,"lair")]}),(0,xo.jsx)(zs,{span:16,children:r})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"FeaturesTab",error:DB})}}}class hv extends c.Component{render(){try{return this.props.allowRandomize?(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:this.props.children}),(0,xo.jsx)("div",{className:"icons",children:(0,xo.jsx)(Qo,{title:"use a value from your scratchpad",onClick:()=>this.props.onRandomize()})})]}):this.props.children}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"FieldPanel",error:DB})}}}class pv extends c.Component{render(){try{return(0,xo.jsx)(Sg,{className:this.props.isSelected?"trait-bar selected":"trait-bar",onClick:()=>this.props.select(this.props.trait),children:(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:this.props.trait.name||"unnamed "+oo.traitType(this.props.trait.type,!1)}),(0,xo.jsxs)("div",{className:"icons",children:[(0,xo.jsx)(Ko,{className:"grabber",title:"drag to reorder","data-movable-handle":!0}),(0,xo.jsx)(Ef,{onConfirm:()=>this.props.delete(this.props.trait),children:(0,xo.jsx)(jo,{title:"delete"})})]})]})})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"TraitBarPanel",error:DB})}}}class mv extends c.Component{render(){try{const e=oo.challengeDetails();let t=1;this.props.monster.damage.immune?t=this.props.monster.challenge<11?2:this.props.monster.challenge<17?1.5:1.25:this.props.monster.damage.resist&&(t=this.props.monster.challenge<5?2:this.props.monster.challenge<11?1.5:this.props.monster.challenge<17?1.25:1);const n=mo.getTypicalHP(this.props.monster)*t;let r=[],s=[];this.props.monster.traits.forEach((e=>{s=s.concat(mo.getToHitExpressions(e).map((e=>e.bonus))),r=r.concat(mo.getSaveExpressions(e).map((e=>e.dc)))}));const a=Math.min(...s),i=Math.max(...s),o=Math.min(...r),l=Math.max(...r);return(0,xo.jsxs)("div",{children:[(0,xo.jsxs)(Uf,{children:[(0,xo.jsx)("div",{className:"section",children:"this table shows typical values for certain stats (ac, hp, etc) for a given challenge rating"}),(0,xo.jsx)("div",{className:"section",children:"to gauge a monster's cr, take the average of its defensive cr (from ac and hp) and offensive cr (from attack bonus, save dc, and damage per round)"})]}),(0,xo.jsxs)("div",{className:"table alternating",children:[(0,xo.jsxs)(Os,{className:"table-row table-row-header",children:[(0,xo.jsx)(zs,{span:4,className:"table-cell",children:"cr"}),(0,xo.jsx)(zs,{span:4,className:"table-cell",children:"ac"}),(0,xo.jsx)(zs,{span:4,className:"table-cell",children:"effective hp"}),(0,xo.jsx)(zs,{span:4,className:"table-cell",children:"attack bonus"}),(0,xo.jsx)(zs,{span:4,className:"table-cell",children:"save dc"}),(0,xo.jsx)(zs,{span:4,className:"table-cell",children:"dmg / rnd"})]}),e.map((e=>{const t=e.cr===this.props.monster.challenge,r=e.ac===this.props.monster.ac,s=e.hpMin<=n&&e.hpMax>=n,A=a<=e.attack&&i>=e.attack,c=o<=e.save&&l>=e.save;return(0,xo.jsxs)(Os,{className:"table-row",children:[(0,xo.jsx)(zs,{span:4,className:t?"table-cell table-cell-highlight":"table-cell",children:oo.challenge(e.cr)}),(0,xo.jsx)(zs,{span:4,className:r?"table-cell table-cell-highlight":"table-cell",children:e.ac}),(0,xo.jsxs)(zs,{span:4,className:s?"table-cell table-cell-highlight":"table-cell",children:[e.hpMin," - ",e.hpMax]}),(0,xo.jsxs)(zs,{span:4,className:A?"table-cell table-cell-highlight":"table-cell",children:["+",e.attack]}),(0,xo.jsx)(zs,{span:4,className:c?"table-cell table-cell-highlight":"table-cell",children:e.save}),(0,xo.jsxs)(zs,{span:4,className:"table-cell",children:[e.dmgMin," - ",e.dmgMax]})]},e.cr)}))]})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"GuidelinesPanel",error:DB})}}}class fv extends c.Component{constructor(e){super(e),this.state={pc:e.pc}}addCompanion(){const e=so.createCompanion();this.state.pc.companions.push(e),this.setState({pc:this.state.pc})}removeCompanion(e){const t=this.state.pc;t.companions=this.state.pc.companions.filter((t=>t.id!==e)),this.setState({pc:t})}changeValue(e,t,n){e[t]=n,this.setState({pc:this.state.pc})}nudgeValue(e,t,n){const r=e[t];let s;if("size"===t)s=oo.nudgeSize(r,n);else s=(r||0)+n;this.changeValue(e,t,s)}render(){try{const e=[];this.props.library.forEach((t=>{t.monsters.forEach((t=>{e.push({id:t.id,text:t.name})}))})),ro.sort(e,[{field:"text",dir:"asc"}]);const t=this.state.pc.companions.map((t=>(0,xo.jsxs)(Sg,{children:[(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:(0,xo.jsx)(Bo,{text:t.name,placeholder:"companion name",onChange:e=>this.changeValue(t,"name",e)})}),(0,xo.jsx)("div",{className:"icons",children:(0,xo.jsx)(Ef,{onConfirm:()=>this.removeCompanion(t.id),children:(0,xo.jsx)(jo,{title:"delete companion"})})})]}),(0,xo.jsx)(Qf,{options:e,placeholder:"select a stat block",selectedID:t.monsterID||void 0,onSelect:e=>this.changeValue(t,"monsterID",e),onClear:()=>this.changeValue(t,"monsterID",null)})]},t.id)));return 0===t.length&&t.push((0,xo.jsx)("div",{className:"section",children:(0,xo.jsx)("i",{children:"no companions (pets, retainers, mounts, etc)"})},"empty")),(0,xo.jsxs)(Os,{className:"full-height",children:[(0,xo.jsxs)(zs,{span:12,className:"scrollable padded",children:[(0,xo.jsx)("div",{className:"subheading",children:"character name"}),(0,xo.jsx)(Bo,{text:this.state.pc.name,onChange:e=>this.changeValue(this.state.pc,"name",e)}),(0,xo.jsx)("div",{className:"subheading",children:"player name"}),(0,xo.jsx)(Bo,{text:this.state.pc.player,onChange:e=>this.changeValue(this.state.pc,"player",e)}),(0,xo.jsx)("div",{className:"subheading",children:"size"}),(0,xo.jsx)(Ug,{value:this.state.pc.size,downEnabled:"tiny"!==this.state.pc.size,upEnabled:"gargantuan"!==this.state.pc.size,onNudgeValue:e=>this.nudgeValue(this.state.pc,"size",e)}),(0,xo.jsx)("div",{className:"subheading",children:"race"}),(0,xo.jsx)(Bo,{text:this.state.pc.race,onChange:e=>this.changeValue(this.state.pc,"race",e)}),(0,xo.jsx)("div",{className:"subheading",children:"class"}),(0,xo.jsx)(Bo,{text:this.state.pc.classes,onChange:e=>this.changeValue(this.state.pc,"classes",e)}),(0,xo.jsx)("div",{className:"subheading",children:"level"}),(0,xo.jsx)(Ug,{value:this.state.pc.level,downEnabled:this.state.pc.level>1,upEnabled:this.state.pc.level<20,onNudgeValue:e=>this.nudgeValue(this.state.pc,"level",e)}),(0,xo.jsx)("div",{className:"subheading",children:"passive skills"}),(0,xo.jsx)(Ug,{value:this.state.pc.passiveInsight,label:"insight",downEnabled:this.state.pc.passiveInsight>0,onNudgeValue:e=>this.nudgeValue(this.state.pc,"passiveInsight",e)}),(0,xo.jsx)(Ug,{value:this.state.pc.passiveInvestigation,label:"investigation",downEnabled:this.state.pc.passiveInvestigation>0,onNudgeValue:e=>this.nudgeValue(this.state.pc,"passiveInvestigation",e)}),(0,xo.jsx)(Ug,{value:this.state.pc.passivePerception,label:"perception",downEnabled:this.state.pc.passivePerception>0,onNudgeValue:e=>this.nudgeValue(this.state.pc,"passivePerception",e)})]}),(0,xo.jsxs)(zs,{span:12,className:"scrollable padded",children:[(0,xo.jsx)("div",{className:"subheading",children:"darkvision"}),(0,xo.jsx)(Ug,{value:this.state.pc.darkvision+" ft",downEnabled:this.state.pc.darkvision>0,onNudgeValue:e=>this.nudgeValue(this.state.pc,"darkvision",10*e)}),(0,xo.jsx)("div",{className:"subheading",children:"languages"}),(0,xo.jsx)(Bo,{text:this.state.pc.languages,onChange:e=>this.changeValue(this.state.pc,"languages",e)}),(0,xo.jsx)("div",{className:"subheading",children:"d&d beyond link"}),(0,xo.jsx)(Bo,{text:this.state.pc.url,placeholder:"https://ddb.ac/characters/...",onChange:e=>this.changeValue(this.state.pc,"url",e)}),(0,xo.jsx)("div",{className:"subheading",children:"portrait"}),(0,xo.jsx)(vd,{source:this.state.pc,setPortrait:e=>this.changeValue(this.state.pc,"portrait",e),clear:()=>this.changeValue(this.state.pc,"portrait","")}),(0,xo.jsx)("div",{className:"subheading",children:"companions"}),t,(0,xo.jsx)("button",{onClick:()=>this.addCompanion(),children:"add a new companion"})]})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"PCEditorModal",error:DB})}}}const gv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M342 88H120c-17.7 0-32 14.3-32 32v224c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V168h174c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zm578 576h-48c-8.8 0-16 7.2-16 16v176H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h222c17.7 0 32-14.3 32-32V680c0-8.8-7.2-16-16-16zM342 856H168V680c0-8.8-7.2-16-16-16h-48c-8.8 0-16 7.2-16 16v224c0 17.7 14.3 32 32 32h222c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zM904 88H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h174v176c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V120c0-17.7-14.3-32-32-32z"}}]},name:"expand",theme:"outlined"};var vv=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:gv}))};const yv=c.forwardRef(vv);const wv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};var bv=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:wv}))};const xv=c.forwardRef(bv);const Bv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M632 888H392c-4.4 0-8 3.6-8 8v32c0 17.7 14.3 32 32 32h192c17.7 0 32-14.3 32-32v-32c0-4.4-3.6-8-8-8zM512 64c-181.1 0-328 146.9-328 328 0 121.4 66 227.4 164 284.1V792c0 17.7 14.3 32 32 32h264c17.7 0 32-14.3 32-32V676.1c98-56.7 164-162.7 164-284.1 0-181.1-146.9-328-328-328zm127.9 549.8L604 634.6V752H420V634.6l-35.9-20.8C305.4 568.3 256 484.5 256 392c0-141.4 114.6-256 256-256s256 114.6 256 256c0 92.5-49.4 176.3-128.1 221.8z"}}]},name:"bulb",theme:"outlined"};var Cv=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Bv}))};const kv=c.forwardRef(Cv);const Sv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 289.1a362.49 362.49 0 00-79.9-115.7 370.83 370.83 0 00-118.2-77.8C610.7 76.6 562.1 67 512 67c-50.1 0-98.7 9.6-144.5 28.5-44.3 18.3-84 44.5-118.2 77.8A363.6 363.6 0 00169.4 289c-19.5 45-29.4 92.8-29.4 142 0 70.6 16.9 140.9 50.1 208.7 26.7 54.5 64 107.6 111 158.1 80.3 86.2 164.5 138.9 188.4 153a43.9 43.9 0 0022.4 6.1c7.8 0 15.5-2 22.4-6.1 23.9-14.1 108.1-66.8 188.4-153 47-50.4 84.3-103.6 111-158.1C867.1 572 884 501.8 884 431.1c0-49.2-9.9-97-29.4-142zM512 880.2c-65.9-41.9-300-207.8-300-449.1 0-77.9 31.1-151.1 87.6-206.3C356.3 169.5 431.7 139 512 139s155.7 30.5 212.4 85.9C780.9 280 812 353.2 812 431.1c0 241.3-234.1 407.2-300 449.1zm0-617.2c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 551c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 439c0-29.9 11.7-58 32.8-79.2C454 338.6 482.1 327 512 327c29.9 0 58 11.6 79.2 32.8C612.4 381 624 409.1 624 439c0 29.9-11.6 58-32.8 79.2z"}}]},name:"environment",theme:"outlined"};var Ev=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Sv}))};const jv=c.forwardRef(Ev);const Fv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M811.4 418.7C765.6 297.9 648.9 212 512.2 212S258.8 297.8 213 418.6C127.3 441.1 64 519.1 64 612c0 110.5 89.5 200 199.9 200h496.2C870.5 812 960 722.5 960 612c0-92.7-63.1-170.7-148.6-193.3zm36.3 281a123.07 123.07 0 01-87.6 36.3H263.9c-33.1 0-64.2-12.9-87.6-36.3A123.3 123.3 0 01140 612c0-28 9.1-54.3 26.2-76.3a125.7 125.7 0 0166.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10c54.3 14.5 92.1 63.8 92.1 120 0 33.1-12.9 64.3-36.3 87.7z"}}]},name:"cloud",theme:"outlined"};var Iv=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Fv}))};const Qv=c.forwardRef(Iv);const Mv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M840 836H184c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h656c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm0-724H184c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h656c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM610.8 378c6 0 9.4-7 5.7-11.7L515.7 238.7a7.14 7.14 0 00-11.3 0L403.6 366.3a7.23 7.23 0 005.7 11.7H476v268h-62.8c-6 0-9.4 7-5.7 11.7l100.8 127.5c2.9 3.7 8.5 3.7 11.3 0l100.8-127.5c3.7-4.7.4-11.7-5.7-11.7H548V378h62.8z"}}]},name:"column-height",theme:"outlined"};var Uv=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Mv}))};const Nv=c.forwardRef(Uv);const Tv={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z",fill:e}},{tag:"path",attrs:{d:"M184 840h656V184H184v656zm143.5-228.7l178-246c3.2-4.4 9.7-4.4 12.9 0l178 246c3.9 5.3.1 12.7-6.4 12.7h-46.9c-10.2 0-19.9-4.9-25.9-13.2L512 465.4 406.8 610.8c-6 8.3-15.6 13.2-25.9 13.2H334c-6.5 0-10.3-7.4-6.5-12.7z",fill:t}},{tag:"path",attrs:{d:"M334 624h46.9c10.3 0 19.9-4.9 25.9-13.2L512 465.4l105.2 145.4c6 8.3 15.7 13.2 25.9 13.2H690c6.5 0 10.3-7.4 6.4-12.7l-178-246a7.95 7.95 0 00-12.9 0l-178 246c-3.8 5.3 0 12.7 6.5 12.7z",fill:e}}]}},name:"up-square",theme:"twotone"};var Dv=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Tv}))};const Hv=c.forwardRef(Dv);const Lv={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z",fill:e}},{tag:"path",attrs:{d:"M184 840h656V184H184v656zm150-440h46.9c10.3 0 19.9 4.9 25.9 13.2L512 558.6l105.2-145.4c6-8.3 15.7-13.2 25.9-13.2H690c6.5 0 10.3 7.4 6.4 12.7l-178 246a7.95 7.95 0 01-12.9 0l-178-246c-3.8-5.3 0-12.7 6.5-12.7z",fill:t}},{tag:"path",attrs:{d:"M505.5 658.7c3.2 4.4 9.7 4.4 12.9 0l178-246c3.9-5.3.1-12.7-6.4-12.7h-46.9c-10.2 0-19.9 4.9-25.9 13.2L512 558.6 406.8 413.2c-6-8.3-15.6-13.2-25.9-13.2H334c-6.5 0-10.3 7.4-6.5 12.7l178 246z",fill:e}}]}},name:"down-square",theme:"twotone"};var Pv=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Lv}))};const Ov=c.forwardRef(Pv);const Rv={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512.5 190.4l-94.4 191.3-211.2 30.7 152.8 149-36.1 210.3 188.9-99.3 188.9 99.2-36.1-210.3 152.8-148.9-211.2-30.7z",fill:t}},{tag:"path",attrs:{d:"M908.6 352.8l-253.9-36.9L541.2 85.8c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L370.3 315.9l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1L239 839.4a31.95 31.95 0 0046.4 33.7l227.1-119.4 227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3zM665.3 561.3l36.1 210.3-188.9-99.2-188.9 99.3 36.1-210.3-152.8-149 211.2-30.7 94.4-191.3 94.4 191.3 211.2 30.7-152.8 148.9z",fill:e}}]}},name:"star",theme:"twotone"};var Vv=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Rv}))};const Kv=c.forwardRef(Vv);class zv extends c.Component{render(){try{if(0===this.props.items.length)return null;const e=this.props.items.map((e=>(0,xo.jsx)(_v,{item:e,selected:this.props.selectedItemID===e.id,onSelect:e=>this.props.onSelect(e)},e.id)));return(0,xo.jsx)("div",{className:"radio-group",children:e})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"RadioGroup",error:DB})}}}zv.defaultProps={selectedItemID:null};class _v extends c.Component{click(e){e.stopPropagation(),this.props.onSelect(this.props.item.id)}render(){try{let e="radio-item",t=null;return this.props.selected&&(e+=" selected",this.props.item.details&&(t=(0,xo.jsx)("div",{className:"radio-item-details",children:this.props.item.details}))),this.props.item.disabled&&(e+=" disabled"),(0,xo.jsxs)("div",{className:e,onClick:e=>this.click(e),role:"button",children:[(0,xo.jsxs)("div",{className:"radio-item-top",children:[(0,xo.jsx)("div",{className:"radio-item-text",children:this.props.item.text}),(0,xo.jsx)("div",{className:"radio-item-info",children:this.props.item.info})]}),t]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"RadioGroupItem",error:DB})}}}const Gv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"};var Wv=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Gv}))};const Yv=c.forwardRef(Wv);const qv={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};var Xv=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:qv}))};const Jv=c.forwardRef(Xv);class Zv extends c.Component{render(){try{const e=[];return this.props.combatants.forEach((t=>{t.conditions.forEach((n=>{e.push((0,xo.jsx)($v,{condition:n,combatant:t,combatants:this.props.allCombatants,showCombatantName:this.props.combatants.length>1,nudgeConditionValue:(e,t,n)=>this.props.nudgeConditionValue(e,t,n),editCondition:e=>this.props.editCondition(t,e),deleteCondition:e=>this.props.deleteCondition(t,e)},n.id))}))})),(0,xo.jsxs)("div",{className:"section",children:[e,(0,xo.jsx)("button",{onClick:()=>this.props.addCondition(),children:"add a condition"})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"ConditionsPanel",error:DB})}}}class $v extends c.Component{render(){try{let e=this.props.condition.name||"condition";"custom"===e&&(e=this.props.condition.text||"custom condition"),"exhaustion"===this.props.condition.name&&(e+=" ("+this.props.condition.level+")"),this.props.showCombatantName&&(e=this.props.combatant.displayName+": "+e);const t=[];if("exhaustion"===this.props.condition.name&&t.push((0,xo.jsx)("div",{className:"section",children:(0,xo.jsx)(Ug,{value:this.props.condition.level,label:"level",downEnabled:this.props.condition.level>1,upEnabled:this.props.condition.level<6,onNudgeValue:e=>this.props.nudgeConditionValue(this.props.condition,"level",e)})},"level")),"custom"!==this.props.condition.name){const e=oo.conditionText(this.props.condition);for(let n=0;n!==e.length;++n)t.push((0,xo.jsx)("div",{className:"section",children:e[n]},n))}return(0,xo.jsx)(Sg,{children:(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsxs)("div",{className:"content",children:[(0,xo.jsx)("div",{className:"subheading",children:e}),(0,xo.jsx)(eg,{display:null!==this.props.condition.duration,children:(0,xo.jsx)("div",{className:"section",children:(0,xo.jsx)("i",{children:oo.conditionDurationText(this.props.condition,this.props.combatants)})})}),t]}),(0,xo.jsxs)("div",{className:"icons vertical",children:[(0,xo.jsx)(Jv,{title:"edit",onClick:()=>this.props.editCondition(this.props.condition)}),(0,xo.jsx)(jo,{title:"remove",onClick:()=>this.props.deleteCondition(this.props.condition)})]})]})})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"ConditionPanel",error:DB})}}}const ey={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"}}]},name:"undo",theme:"outlined"};var ty=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:ey}))};const ny=c.forwardRef(ty);const ry={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"};var sy=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:ry}))};const ay=c.forwardRef(sy);const iy={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"};var oy=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:iy}))};const ly=c.forwardRef(oy);const Ay={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"};var cy=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Ay}))};const uy=c.forwardRef(cy);class dy extends c.Component{constructor(e){super(e),this.state={step:1}}click(e,t){e.stopPropagation(),this.props.onMove(t,this.state.step)}undo(e){e.stopPropagation(),this.props.undo&&this.props.undo.enabled&&this.props.undo.onUndo()}toggleStep(e){e.stopPropagation(),this.setState({step:1===this.state.step?.5:1})}render(){try{let e="radial";this.props.disabled&&(e+=" disabled");let t=null;if(this.props.showToggle){const e=1!==this.state.step?"\xbd":"";t=(0,xo.jsx)("div",{className:"radial-toggle",role:"button",onClick:e=>this.toggleStep(e),children:e})}let n=null;if(this.props.undo){let e="undo";this.props.undo.enabled||(e+=" disabled"),n=(0,xo.jsx)(zs,{flex:"1",children:(0,xo.jsxs)("div",{className:e,children:[(0,xo.jsx)(ny,{title:"undo",onClick:e=>this.undo(e)}),this.props.undo.text]})})}let r=null;if(this.props.altitude){let e="altitude";this.props.altitude.enabled||(e+=" disabled"),r=(0,xo.jsx)(zs,{flex:"1",children:(0,xo.jsxs)("div",{className:e,children:[(0,xo.jsx)(ay,{title:"move up",onClick:e=>this.click(e,"UP")}),this.props.altitude.text,(0,xo.jsx)(ly,{title:"move down",onClick:e=>this.click(e,"DOWN")})]})})}return(0,xo.jsx)("div",{className:e,children:(0,xo.jsxs)(Os,{align:"middle",children:[n,(0,xo.jsx)(zs,{flex:"2",children:(0,xo.jsx)("div",{className:"dial",children:(0,xo.jsxs)("div",{className:"cells",children:[(0,xo.jsx)("div",{className:"radial-cell",children:(0,xo.jsx)("div",{className:"radial-arrow radial-arrow-diag",onClick:e=>this.click(e,"NW"),role:"button",children:(0,xo.jsx)(uy,{rotate:-45})})}),(0,xo.jsx)("div",{className:"radial-cell",children:(0,xo.jsx)("div",{className:"radial-arrow",onClick:e=>this.click(e,"N"),role:"button",children:(0,xo.jsx)(uy,{})})}),(0,xo.jsx)("div",{className:"radial-cell",children:(0,xo.jsx)("div",{className:"radial-arrow radial-arrow-diag",onClick:e=>this.click(e,"NE"),role:"button",children:(0,xo.jsx)(uy,{rotate:45})})}),(0,xo.jsx)("div",{className:"radial-cell",children:(0,xo.jsx)("div",{className:"radial-arrow",onClick:e=>this.click(e,"W"),role:"button",children:(0,xo.jsx)(uy,{rotate:-90})})}),(0,xo.jsx)("div",{className:"radial-cell",children:t}),(0,xo.jsx)("div",{className:"radial-cell",children:(0,xo.jsx)("div",{className:"radial-arrow",onClick:e=>this.click(e,"E"),role:"button",children:(0,xo.jsx)(uy,{rotate:90})})}),(0,xo.jsx)("div",{className:"radial-cell",children:(0,xo.jsx)("div",{className:"radial-arrow radial-arrow-diag",onClick:e=>this.click(e,"SW"),role:"button",children:(0,xo.jsx)(uy,{rotate:-135})})}),(0,xo.jsx)("div",{className:"radial-cell",children:(0,xo.jsx)("div",{className:"radial-arrow",onClick:e=>this.click(e,"S"),role:"button",children:(0,xo.jsx)(uy,{rotate:180})})}),(0,xo.jsx)("div",{className:"radial-cell",children:(0,xo.jsx)("div",{className:"radial-arrow radial-arrow-diag",onClick:e=>this.click(e,"SE"),role:"button",children:(0,xo.jsx)(uy,{rotate:135})})})]})})}),r]})})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"MovementPanel",error:DB})}}}dy.defaultProps={showToggle:!1,undo:null,altitude:null,disabled:!1};class hy extends c.Component{constructor(e){super(e),this.state={view:e.defaultTab,damageMode:"damage",value:0,damageMultipliers:{}}}nudgeValue(e){this.setState({value:Math.max(this.state.value+e,0)})}setView(e){this.setState({view:e})}setDamageMultiplier(e,t){const n=this.state.damageMultipliers;n[e]=t,this.setState({damageMultipliers:n})}heal(){if(null===this.props.changeHP)return;const e=this.state.value;this.setState({value:0},(()=>{const t=[];this.props.combatants.forEach((n=>{var r,s,a;const i=null!==(r=n.hpMax)&&void 0!==r?r:0;let o=(null!==(s=n.hpCurrent)&&void 0!==s?s:0)+e;o=Math.min(o,i),t.push({id:n.id,hp:o,temp:null!==(a=n.hpTemp)&&void 0!==a?a:0,damage:0})})),this.props.changeHP(t)}))}damage(){if(null===this.props.changeHP)return;const e=this.state.value;this.setState({value:0},(()=>{const t=[];this.props.combatants.forEach((n=>{var r,s,a;const i=null!==(r=this.state.damageMultipliers[n.id])&&void 0!==r?r:1;let o=null!==(s=n.hpCurrent)&&void 0!==s?s:0,l=null!==(a=n.hpTemp)&&void 0!==a?a:0;const A=Math.floor(e*i);let c=A;const u=Math.min(c,l);c-=u,l-=u,o-=c,o=Math.max(o,0),t.push({id:n.id,hp:o,temp:l,damage:A})})),this.props.changeHP(t)}))}addTempHP(){if(null===this.props.changeHP)return;const e=this.state.value;this.setState({value:0},(()=>{const t=[];this.props.combatants.forEach((n=>{var r,s;t.push({id:n.id,hp:null!==(r=n.hpCurrent)&&void 0!==r?r:0,temp:Math.max(e,null!==(s=n.hpTemp)&&void 0!==s?s:0),damage:0})})),this.props.changeHP(t)}))}getDamageMultiplier(e){var t;let n="normal";const r=null!==(t=this.state.damageMultipliers[e])&&void 0!==t?t:1;return r<1&&(n="half"),r>1&&(n="double"),(0,xo.jsx)(Ng,{options:ro.arrayToItems(["half","normal","double"]),selectedID:n,onSelect:t=>{let n=1;"half"===t&&(n=.5),"double"===t&&(n=2),this.setDamageMultiplier(e,n)}})}getMainSection(){const e=[],t=[],n=[];if(this.props.nextTurn&&this.props.combatants.every((e=>e.current))&&e.push((0,xo.jsx)("button",{onClick:()=>this.props.nextTurn(),children:"end turn"},"endTurn")),this.props.combatants.every((e=>e.active))){if(this.props.makeCurrent&&this.props.makeDefeated)if(this.props.combatants.every((e=>e.current)))e.push((0,xo.jsx)("button",{onClick:()=>this.props.makeDefeated(this.props.combatants),children:"mark as defeated and end turn"},"makeDefeated"));else{if(1===this.props.combatants.length){!!this.props.allCombatants.find((e=>e.mountID===this.props.combatants[0].id))||e.push((0,xo.jsx)("button",{onClick:()=>this.props.makeCurrent(this.props.combatants[0]),children:"start turn"},"makeCurrent"))}e.push((0,xo.jsx)("button",{onClick:()=>this.props.makeDefeated(this.props.combatants),children:"mark as defeated"},"makeDefeated"))}if(this.props.combatants.every((e=>"pc"!==e.type))){this.props.allCombatants.filter((e=>"pc"===e.type)).forEach((e=>{const n="engaged:"+e.displayName;t.push((0,xo.jsx)(Qc.CheckableTag,{checked:this.props.combatants.every((e=>e.tags.includes(n))),onChange:()=>this.props.toggleTag(this.props.combatants,n),children:e.displayName},e.id))}))}}if(1===this.props.combatants.length&&"bright light"!==this.props.lighting){const e=this.props.combatants[0];0===e.darkvision&&null===e.lightSource&&n.push((0,xo.jsx)(Uf,{children:(0,xo.jsxs)("div",{className:"section",children:[e.displayName," is in ",this.props.lighting,", and has no darkvision or light source"]})},"light"))}this.props.makeActive&&this.props.combatants.every((e=>e.defeated))&&e.push((0,xo.jsx)("button",{onClick:()=>this.props.makeActive(this.props.combatants),children:"mark as active"},"makeActive"));let r=null;e.length>0&&(r=(0,xo.jsxs)("div",{children:[e,(0,xo.jsx)("hr",{})]}));let s=null;return t.length>0&&(s=(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("b",{children:"engaged with: "}),t]})),(0,xo.jsxs)("div",{children:[n,r,(0,xo.jsx)(py,{combatants:this.props.combatants,editable:!0,toggleTag:(e,t)=>this.props.toggleTag(e,t),toggleCondition:(e,t)=>this.props.toggleCondition(e,t),toggleHidden:e=>this.props.toggleHidden(e)}),s]})}getHPSection(){if(!this.props.combatants.every((e=>"monster"===e.type)))return null;const e=this.props.combatants.map((e=>{const t=e;let n=null,r=null,s=null,a=null;return t.damage.resist&&(n=(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("b",{children:"resistances"})," ",t.damage.resist," ",this.props.combatants.length>1?(0,xo.jsxs)("i",{children:[" - ",e.displayName]}):null]})),t.damage.vulnerable&&(r=(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("b",{children:"vulnerabilities"})," ",t.damage.vulnerable," ",this.props.combatants.length>1?(0,xo.jsxs)("i",{children:[" - ",e.displayName]}):null]})),t.damage.immune&&(s=(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("b",{children:"immunities"})," ",t.damage.immune," ",this.props.combatants.length>1?(0,xo.jsxs)("i",{children:[" - ",e.displayName]}):null]})),t.tags.includes("conc")&&(a=(0,xo.jsxs)("div",{className:"section",children:[t.displayName," is ",(0,xo.jsx)("b",{children:"concentrating"}),", and will need to make a check if they take damage"]})),n||r||s||a?(0,xo.jsxs)(Uf,{children:[n,r,s,a]},e.id):null}));let t=null;if(1===this.props.combatants.length){const e=this.props.combatants[0].id;let r=this.state.value;if("damage"===this.state.damageMode&&this.state.value>0){var n;const t=null!==(n=this.state.damageMultipliers[e])&&void 0!==n?n:1;t<1&&(r=(0,xo.jsxs)("div",{children:[this.state.value," hp ",(0,xo.jsx)(Yv,{className:"inline-text"})," ",Math.floor(this.state.value/2)," hp"]})),t>1&&(r=(0,xo.jsxs)("div",{children:[this.state.value," hp ",(0,xo.jsx)(Yv,{className:"inline-text"})," ",2*this.state.value," hp"]}))}t=(0,xo.jsxs)("div",{children:[(0,xo.jsx)(Ng,{options:ro.arrayToItems(["damage","healing","temp hp"]),selectedID:this.state.damageMode,onSelect:e=>this.setState({damageMode:e})}),(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsxs)("div",{className:"content",children:[(0,xo.jsx)(Ug,{label:this.state.damageMode,value:r,factors:[1,10],downEnabled:this.state.value>0,onNudgeValue:e=>this.nudgeValue(e)}),(0,xo.jsx)(eg,{display:"damage"===this.state.damageMode,children:this.getDamageMultiplier(e)})]}),(0,xo.jsxs)("div",{className:"icons",children:[(0,xo.jsx)(eg,{display:"damage"===this.state.damageMode,children:(0,xo.jsx)(Ke,{className:0===this.state.value?"disabled":"",title:"apply damage",onClick:()=>this.damage()})}),(0,xo.jsx)(eg,{display:"healing"===this.state.damageMode,children:(0,xo.jsx)(Ke,{className:0===this.state.value?"disabled":"",title:"apply healing",onClick:()=>this.heal()})}),(0,xo.jsx)(eg,{display:"temp hp"===this.state.damageMode,children:(0,xo.jsx)(Ke,{className:0===this.state.value?"disabled":"",title:"apply temp hp",onClick:()=>this.addTempHP()})})]})]})]})}else{const e=this.props.combatants.map((e=>1===this.props.combatants.length?(0,xo.jsx)("div",{children:this.getDamageMultiplier(e.id)},e.id):(0,xo.jsxs)(Os,{align:"middle",justify:"center",children:[(0,xo.jsx)(zs,{span:8,children:(0,xo.jsx)("div",{children:e.displayName})}),(0,xo.jsx)(zs,{span:16,children:this.getDamageMultiplier(e.id)})]},e.id)));t=(0,xo.jsxs)("div",{children:[(0,xo.jsx)(Ug,{value:this.state.value,label:"damage",factors:[1,10],downEnabled:this.state.value>0,onNudgeValue:e=>this.nudgeValue(e)}),e,(0,xo.jsx)("button",{className:0===this.state.value?"disabled":"",onClick:()=>this.damage(),children:"apply damage"}),(0,xo.jsx)("hr",{}),(0,xo.jsx)(kg,{text:"healing",children:(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:(0,xo.jsx)(Ug,{value:this.state.value,label:"healing",factors:[1,10],downEnabled:this.state.value>0,onNudgeValue:e=>this.nudgeValue(e)})}),(0,xo.jsx)("div",{className:"icons",children:(0,xo.jsx)(Ke,{className:0===this.state.value?"disabled":"",title:"apply healing",onClick:()=>this.heal()})})]})})]})}let r=null;const s=this.props.combatants.filter((e=>null!=e.hpCurrent&&e.hpCurrent<=0));if(s.length>0){const e=1===s.length&&s[0].current?"mark as defeated and end turn":"mark as defeated";let t=null;this.props.combatants.length>1&&(t=(0,xo.jsx)("ul",{children:s.map((e=>(0,xo.jsx)("li",{children:e.displayName},e.id)))})),r=(0,xo.jsxs)("button",{onClick:()=>this.props.makeDefeated(s),children:[e,t]})}return(0,xo.jsxs)("div",{children:[e,t,r]})}getConditionSection(){const e=this.props.combatants.map((e=>{if("monster"!==e.type)return null;const t=e;return t.conditionImmunities?(0,xo.jsx)(Uf,{children:(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("b",{children:"immunities"})," ",t.conditionImmunities," ",this.props.combatants.length>1?(0,xo.jsxs)("i",{children:[" - ",e.displayName]}):null]})},e.id):null})),t=(0,xo.jsx)(Zv,{combatants:this.props.combatants,allCombatants:this.props.allCombatants,addCondition:()=>this.props.addCondition(this.props.combatants),editCondition:(e,t)=>this.props.editCondition(e,t),deleteCondition:(e,t)=>this.props.deleteCondition(e,t),nudgeConditionValue:(e,t,n)=>this.props.nudgeValue(e,t,n)});return(0,xo.jsxs)("div",{children:[e,t]})}getMapSection(){if(!this.props.map)return null;const e=this.props.combatants.every((e=>this.props.map&&this.props.map.items.find((t=>t.id===e.id))));if(e){let e=null,t=null,n=null,r=null;if(1===this.props.combatants.length){const s=this.props.combatants[0],a=this.props.map.items.find((e=>e.id===s.id));if(a){if(s.path){const t=wo.getDistance(a,s.path,this.props.options.diagonals);e={enabled:s.path.length>0,text:(0,xo.jsxs)("div",{className:"section centered",children:[(0,xo.jsx)("b",{children:5*t})," ft"]}),onUndo:()=>this.props.undoStep(s)}}t={enabled:!0,text:(0,xo.jsxs)("div",{className:"section centered",children:[(0,xo.jsx)("b",{children:5*a.z})," ft"]})}}let i=null;s.aura.radius>0&&(i=(0,xo.jsxs)("div",{children:[(0,xo.jsx)(Ng,{options:ro.arrayToItems(["square","rounded","circle"]),selectedID:s.aura.style,onSelect:e=>this.props.changeValue(s.aura,"style",e)}),(0,xo.jsx)("input",{type:"color",value:s.aura.color,onChange:e=>this.props.changeValue(s.aura,"color",e.target.value)}),(0,xo.jsx)("button",{onClick:()=>this.props.changeValue(s.aura,"radius",0),children:"remove aura"})]})),n=(0,xo.jsxs)(kg,{text:"aura",children:[(0,xo.jsx)(Ug,{value:s.aura.radius+" ft.",label:"radius",downEnabled:s.aura.radius>0,onNudgeValue:e=>this.props.nudgeValue(s.aura,"radius",5*e)}),i]}),r=(0,xo.jsx)("button",{onClick:()=>this.props.mapAdd(s),children:"place on a different square"})}return(0,xo.jsxs)("div",{children:[(0,xo.jsx)(dy,{showToggle:!0,undo:e,altitude:t,onMove:(e,t)=>this.props.mapMove(this.props.combatants,e,t)}),(0,xo.jsx)("hr",{}),n,r,(0,xo.jsx)("button",{onClick:()=>this.props.mapRemove(this.props.combatants),children:"remove from the map"})]})}return 1===this.props.combatants.length?(0,xo.jsx)("button",{onClick:()=>this.props.mapAdd(this.props.combatants[0]),children:"add to the map"},"mapAdd"):null}getAdvancedSection(){let e=null;this.props.removeCombatants&&this.props.combatants.every((e=>!e.current))&&(e=(0,xo.jsx)(Ef,{onConfirm:()=>{this.props.removeCombatants&&this.props.removeCombatants(this.props.combatants)},children:"remove from encounter"}));let t=null,n=null,r=null,s=null,a=null,i=null,o=null,l=null,A=null;if(1===this.props.combatants.length){const e=this.props.combatants[0];if(t=(0,xo.jsx)(kg,{text:"name",children:(0,xo.jsx)(Bo,{text:e.displayName,onChange:t=>this.props.changeValue(e,"displayName",t)})}),"monster"===e.type){var c,u,d,h,p,m;const t=e;n=(0,xo.jsxs)(kg,{text:"hit points",children:[(0,xo.jsx)(Ug,{value:null!==(c=t.hpCurrent)&&void 0!==c?c:0,label:"hp",factors:[1,10],downEnabled:(null!==(u=t.hpCurrent)&&void 0!==u?u:0)>0,upEnabled:(null!==(d=t.hpCurrent)&&void 0!==d?d:0)<(null!==(h=t.hpMax)&&void 0!==h?h:0),onNudgeValue:e=>this.props.nudgeValue(t,"hpCurrent",e)}),(0,xo.jsx)(Ug,{value:null!==(p=t.hpTemp)&&void 0!==p?p:0,label:"temp hp",factors:[1,10],downEnabled:(null!==(m=t.hpTemp)&&void 0!==m?m:0)>0,onNudgeValue:e=>this.props.nudgeValue(t,"hpTemp",e)})]})}var f;if(r=(0,xo.jsx)(kg,{text:"size",children:(0,xo.jsx)(Ug,{value:e.displaySize,label:"size",downEnabled:"tiny"!==e.displaySize,upEnabled:"gargantuan"!==e.displaySize,onNudgeValue:t=>this.props.nudgeValue(e,"displaySize",t)})}),!e.pending)s=(0,xo.jsx)(kg,{text:"initiative score",children:(0,xo.jsx)(Ug,{value:null!==(f=e.initiative)&&void 0!==f?f:0,label:"initiative",onNudgeValue:t=>this.props.nudgeValue(e,"initiative",t)})});a=(0,xo.jsx)(kg,{text:"faction",children:(0,xo.jsx)(Ng,{options:ro.arrayToItems(["foe","neutral","ally"]),selectedID:e.faction,onSelect:t=>this.props.changeValue(e,"faction",t)})}),i=(0,xo.jsx)(kg,{text:"vision",children:(0,xo.jsx)(Ug,{value:e.darkvision+" ft",label:"darkvision",downEnabled:e.darkvision>0,onNudgeValue:t=>this.props.nudgeValue(e,"darkvision",10*t)})}),o=(0,xo.jsxs)(kg,{text:"light source",children:[(0,xo.jsx)(Ng,{options:ro.arrayToItems(["none","candle","torch","lantern","custom"]),selectedID:e.lightSource?e.lightSource.name:"none",onSelect:t=>{switch(t){case"none":this.props.changeValue(e,"lightSource",null);break;case"candle":this.props.changeValue(e,"lightSource",{name:"candle",bright:5,dim:10});break;case"torch":this.props.changeValue(e,"lightSource",{name:"torch",bright:20,dim:40});break;case"lantern":this.props.changeValue(e,"lightSource",{name:"lantern",bright:30,dim:60});break;case"custom":{const t=e.lightSource?e.lightSource.bright:0,n=e.lightSource?e.lightSource.dim:0;this.props.changeValue(e,"lightSource",{name:"custom",bright:t,dim:n})}}}}),(0,xo.jsxs)(eg,{display:null!==e.lightSource&&"custom"===e.lightSource.name,children:[(0,xo.jsx)(Ug,{label:"bright light radius",value:(e.lightSource?e.lightSource.bright:0)+" ft",downEnabled:null!==e.lightSource&&e.lightSource.bright>0,upEnabled:null!==e.lightSource&&e.lightSource.bright<e.lightSource.dim,onNudgeValue:t=>this.props.nudgeValue(e.lightSource,"bright",5*t)}),(0,xo.jsx)(Ug,{label:"dim light radius",value:(e.lightSource?e.lightSource.dim:0)+" ft",downEnabled:null!==e.lightSource&&e.lightSource.dim>e.lightSource.bright,onNudgeValue:t=>this.props.nudgeValue(e.lightSource,"dim",5*t)})]})]});if(!this.props.allCombatants.find((t=>t.mountID===e.id))){const t=this.props.allCombatants.filter((t=>t.id!==e.id)).filter((e=>!!e.mountID)).map((e=>e.mountID)),n=this.props.allCombatants.filter((t=>t.id!==e.id)).filter((e=>"placeholder"!==e.type)).filter((e=>!e.mountID)).filter((e=>!t.includes(e.id))).map((e=>({id:e.id,text:e.displayName})));ro.sort(n,[{field:"text",dir:"asc"}]);let r=null;r=n.length>0?(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"subheading",children:"mounted on:"}),(0,xo.jsx)(Qf,{options:n,selectedID:e.mountID,onSelect:t=>this.props.changeValue(e,"mountID",t),onClear:()=>this.props.changeValue(e,"mountID",null)})]}):(0,xo.jsx)(Uf,{children:"no mounts available"});let s=null;e.mountID&&(s=(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"subheading",children:"mount is:"}),(0,xo.jsx)(Ng,{options:ro.arrayToItems(["controlled","independent"]),selectedID:e.mountType,onSelect:t=>this.props.changeValue(e,"mountType",t)})]})),l=(0,xo.jsxs)(kg,{text:"mounted combat",children:[r,s]})}A=(0,xo.jsxs)("div",{children:[(0,xo.jsx)("hr",{}),(0,xo.jsx)($f,{text:e.note,onChange:t=>this.props.changeValue(e,"note",t)})]})}const g=[];return this.props.combatants.filter((e=>"pc"===e.type)).forEach((e=>{e.companions.filter((e=>!this.props.allCombatants.find((t=>t.id===e.id)))).forEach((e=>{g.push((0,xo.jsxs)("button",{onClick:()=>this.props.addCompanion(e),children:["add ",e.name]},e.id))}))})),(0,xo.jsxs)("div",{children:[e,t,n,r,s,a,i,o,l,g,A]})}render(){try{const e=["main","hp","cond","map","adv"],t=this.props.allCombatants.filter((e=>!!e.mountID&&"controlled"===e.mountType)).map((e=>e.mountID||""));if(this.props.map&&!this.props.combatants.some((e=>t.includes(e.id)))||e.splice(3,1),this.props.combatants.every((e=>"monster"===e.type))||e.splice(1,1),!this.props.showTabs)return(0,xo.jsxs)("div",{children:[e.includes("main")?this.getMainSection():null,e.includes("hp")?(0,xo.jsxs)("div",{children:[(0,xo.jsx)("hr",{}),this.getHPSection()]}):null,e.includes("cond")?(0,xo.jsxs)("div",{children:[(0,xo.jsx)("hr",{}),this.getConditionSection()]}):null,e.includes("map")?(0,xo.jsxs)("div",{children:[(0,xo.jsx)("hr",{}),this.getMapSection()]}):null,e.includes("adv")?(0,xo.jsxs)("div",{children:[(0,xo.jsx)("hr",{}),(0,xo.jsx)(kg,{text:"advanced controls",children:this.getAdvancedSection()})]}):null]});let n=this.state.view;e.includes(n)||(n=e[0]);let r=null;switch(n){case"main":r=this.getMainSection();break;case"hp":r=this.getHPSection();break;case"cond":r=this.getConditionSection();break;case"map":r=this.getMapSection();break;case"adv":r=this.getAdvancedSection()}return(0,xo.jsxs)("div",{className:"combat-controls",children:[(0,xo.jsx)(Dg,{options:ro.arrayToItems(e),selectedID:n,onSelect:e=>this.setView(e)}),r]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"CombatControlsPanel",error:DB})}}}hy.defaultProps={showTabs:!0,defaultTab:"main",makeCurrent:null,makeActive:null,makeDefeated:null,nextTurn:null,changeHP:null,removeCombatants:null};class py extends c.Component{createTag(e,t,n){return this.props.editable?(0,xo.jsx)(Qc.CheckableTag,{checked:t,onChange:()=>n(),children:e}):t?(0,xo.jsx)(Qc,{children:e}):null}render(){try{return(0,xo.jsxs)("div",{className:"section",children:[this.createTag("bane",this.props.combatants.every((e=>e.tags.includes("bane"))),(()=>this.props.toggleTag(this.props.combatants,"bane"))),this.createTag("bless",this.props.combatants.every((e=>e.tags.includes("bless"))),(()=>this.props.toggleTag(this.props.combatants,"bless"))),this.createTag("concentrating",this.props.combatants.every((e=>e.tags.includes("conc"))),(()=>this.props.toggleTag(this.props.combatants,"conc"))),this.createTag("hidden",!this.props.combatants.every((e=>e.showOnMap)),(()=>this.props.toggleHidden(this.props.combatants))),this.createTag("prone",this.props.combatants.every((e=>e.conditions.some((e=>"prone"===e.name)))),(()=>this.props.toggleCondition(this.props.combatants,"prone"))),this.createTag("unconscious",this.props.combatants.every((e=>e.conditions.some((e=>"unconscious"===e.name)))),(()=>this.props.toggleCondition(this.props.combatants,"unconscious")))]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"CombatantTags",error:DB})}}}class my extends c.Component{constructor(e){super(e),this.cache=[];let t=50;switch(e.mode){case"thumbnail":t=15;break;case"setup":t=25}this.state={size:t,selectionStartSquare:null,selectionEndSquare:null,wallStartVertex:null,wallEndVertex:null}}gridSquareMouseDown(e,t){this.setState({selectionStartSquare:{x:e,y:t},selectionEndSquare:null})}gridSquareEntered(e,t){this.state.selectionStartSquare?this.setState({selectionEndSquare:{x:e,y:t}}):this.props.gridSquareEntered&&this.props.gridSquareEntered(e,t)}gridSquareMouseUp(e,t){if(this.state.selectionStartSquare){const n=this.state.selectionStartSquare.x,r=this.state.selectionStartSquare.y;this.setState({selectionStartSquare:null,selectionEndSquare:null},(()=>{if(n===e&&r===t)this.props.gridSquareClicked&&this.props.gridSquareClicked(e,t);else if(this.props.gridRectangleSelected){const s=Math.min(n,e),a=Math.min(r,t),i=Math.max(n,e),o=Math.max(r,t);this.props.gridRectangleSelected(s,a,i,o)}}))}}isGridSquareSelected(e,t){if(this.state.selectionStartSquare&&this.state.selectionEndSquare){const n=Math.min(this.state.selectionStartSquare.x,this.state.selectionEndSquare.x),r=Math.min(this.state.selectionStartSquare.y,this.state.selectionEndSquare.y),s=Math.max(this.state.selectionStartSquare.x,this.state.selectionEndSquare.x),a=Math.max(this.state.selectionStartSquare.y,this.state.selectionEndSquare.y);return e>=n&&e<=s&&t>=r&&t<=a}return!1}vertexMouseDown(e,t){this.setState({wallStartVertex:{x:e,y:t},wallEndVertex:null})}vertexEntered(e,t){this.state.wallStartVertex&&this.setState({wallEndVertex:{x:e,y:t}})}vertexMouseUp(e,t){if(this.state.wallStartVertex){const n=this.state.wallStartVertex.x,r=this.state.wallStartVertex.y;this.setState({wallStartVertex:null,wallEndVertex:null},(()=>{if(n===e&&r===t);else if(this.props.verticesSelected){const s=Math.min(n,e),a=Math.min(r,t),i=Math.max(n,e),o=Math.max(r,t);this.props.verticesSelected(s,a,i,o)}}))}}isVertexSelected(e,t){if(this.state.wallStartVertex&&e===this.state.wallStartVertex.x&&t===this.state.wallStartVertex.y)return!0;if(this.state.wallStartVertex&&this.state.wallEndVertex){if(this.state.wallStartVertex.x===this.state.wallEndVertex.x&&e===this.state.wallStartVertex.x){const e=Math.min(this.state.wallStartVertex.y,this.state.wallEndVertex.y),n=Math.max(this.state.wallStartVertex.y,this.state.wallEndVertex.y);return t>=e&&t<=n}if(this.state.wallStartVertex.y===this.state.wallEndVertex.y&&t===this.state.wallStartVertex.y){const t=Math.min(this.state.wallStartVertex.x,this.state.wallEndVertex.x),n=Math.max(this.state.wallStartVertex.x,this.state.wallEndVertex.x);return e>=t&&e<=n}}return!1}getMapDimensions(){let e=this.props.selectedAreaID?wo.getViewport(this.props.map,this.props.selectedAreaID):null;if(!e){const t=this.props.map.items.filter((e=>"edit"!==this.props.mode||"tile"===e.type));t.forEach((t=>{e?(e.minX=Math.min(e.minX,t.x),e.maxX=Math.max(e.maxX,t.x+t.width-1),e.minY=Math.min(e.minY,t.y),e.maxY=Math.max(e.maxY,t.y+t.height-1)):e={minX:t.x,maxX:t.x+t.width-1,minY:t.y,maxY:t.y+t.height-1}})),this.props.map.areas.forEach((t=>{e&&(e.minX=Math.min(e.minX,t.x),e.maxX=Math.max(e.maxX,t.x+t.width-1),e.minY=Math.min(e.minY,t.y),e.maxY=Math.max(e.maxY,t.y+t.height-1))})),this.props.combatants.filter((e=>e.aura.radius>0)).forEach((t=>{const n=this.props.map.items.find((e=>e.id===t.id));if(n){const r=t.aura.radius/5;let s=1;const a=t;a&&(s=Math.max(oo.miniSize(a.size),1));const i=n.x-r,o=n.x+(s-1)+r,l=n.y-r,A=n.y+(s-1)+r;e&&(e.minX=Math.min(e.minX,i),e.maxX=Math.max(e.maxX,o),e.minY=Math.min(e.minY,l),e.maxY=Math.max(e.maxY,A))}}))}if(!e){if("thumbnail"===this.props.mode)return null;e={minX:0,maxX:0,minY:0,maxY:0}}if("thumbnail"===this.props.mode||"interactive-player"===this.props.mode){const t=wo.getWalls(this.props.map,(e=>e.blocksLineOfSight)),n=this.props.combatants.filter((e=>"pc"===e.type&&this.props.selectedItemIDs.includes(e.id))),r=[];for(let s=e.minX;s<=e.maxX;++s)for(let a=e.minY;a<=e.maxY;++a){let e=!1;this.props.fog.find((e=>e.x===s&&e.y===a))||("interactive-player"===this.props.mode?n.forEach((n=>{const r=this.props.map.items.find((e=>e.id===n.id));if(r){const i=Math.max(wo.getTokenSize(n,this.props.combatants),1);this.canSee(t,{x:r.x+i/2,y:r.y+i/2},{x:s+.5,y:a+.5})&&(e=!0)}})):e=!0),e&&r.push({x:s,y:a})}if(!(r.length>0))return null;{const t=r.map((e=>e.x)),n=r.map((e=>e.y));e={minX:Math.min(...t),maxX:Math.max(...t),minY:Math.min(...n),maxY:Math.max(...n)}}}return e.minX-=this.props.paddingSquares,e.maxX+=this.props.paddingSquares,e.minY-=this.props.paddingSquares,e.maxY+=this.props.paddingSquares,e}getStyle(e,t,n,r,s,a){let i=0,o=0;n<1&&"wall"!==s&&(i=(1-n)/2),r<1&&"wall"!==s&&(o=(1-r)/2);let l="0";switch(s){case"rounded":l=this.state.size+"px";break;case"circle":case"vertex":l="50%"}const A=this.state.size/12,c=e+i-a.minX,u=t+o-a.minY;let d=this.state.size*c,h=this.state.size*u;"vertex"===s&&(d-=Math.max(5,A),h-=Math.max(5,A)),"wall"===s&&(d-=A,h-=A);let p=this.state.size*n,m=this.state.size*r;return"vertex"===s&&(p=Math.max(10,2*A),m=Math.max(10,2*A)),"wall"===s&&(p+=2*A,m+=2*A),{left:d+"px",top:h+"px",width:p+"px",height:m+"px",borderRadius:l,backgroundSize:this.state.size+"px"}}getActiveToken(){const e=this.props.combatants.find((e=>e.current));if(e){const t=this.props.map.items.find((t=>t.id===e.id));if(t)return{token:t,combatant:e,combatants:this.props.combatants}}return null}canSee(e,t,n){const r=JSON.stringify(t),s=JSON.stringify(n),a=this.cache.find((e=>e.a===r&&e.b===s||e.a===s&&e.b===r));if(a)return a.visible;const i=wo.canSee(e,t,n);return this.cache.push({a:r,b:s,visible:i}),i}getControls(){if("thumbnail"!==this.props.mode){const e=[];if(("setup"===this.props.mode||"interactive-dm"===this.props.mode)&&this.props.map.areas.length>0){const t=[{id:"",text:"whole map"}];this.props.map.areas.forEach((e=>{t.push({id:e.id,text:e.name||"unnamed area"})})),e.push((0,xo.jsx)(pc,{content:(0,xo.jsx)(zv,{items:t,selectedItemID:this.props.selectedAreaID,onSelect:e=>this.props.areaSelected(e)}),placement:"bottom",overlayClassName:"map-control-tooltip",children:(0,xo.jsx)(yv,{title:"areas"})},"areas"))}e.push((0,xo.jsx)(pc,{content:(0,xo.jsx)(Ug,{value:"zoom",downEnabled:this.state.size>3,onNudgeValue:e=>this.setState({size:Math.max(this.state.size+3*e,3)})}),placement:"bottom",overlayClassName:"map-control-tooltip",children:(0,xo.jsx)(xv,{title:"zoom"})},"zoom"));("edit"===this.props.mode||"interactive-dm"===this.props.mode)&&e.push((0,xo.jsx)(pc,{content:(0,xo.jsxs)("div",{children:[(0,xo.jsx)(Ug,{value:this.props.lighting,downEnabled:"darkness"!==this.props.lighting,upEnabled:"bright light"!==this.props.lighting,onNudgeValue:e=>this.props.changeLighting(oo.nudgeLighting(this.props.lighting,e))}),(0,xo.jsx)("button",{onClick:()=>this.props.toggleFeature("lightSource"),children:this.props.features.lightSource?"click on the map to add a light source, or click here to cancel":"add a light source"})]}),placement:"bottom",overlayClassName:"map-control-tooltip",children:(0,xo.jsx)(kv,{title:"lighting"})},"light"));"interactive-dm"===this.props.mode&&e.push((0,xo.jsx)(pc,{content:(0,xo.jsxs)("div",{children:[(0,xo.jsx)(ig,{label:"highlight map square",checked:this.props.features.highlight,onChecked:()=>this.props.toggleFeature("highlight")}),(0,xo.jsx)(eg,{display:this.props.features.highlight,children:(0,xo.jsxs)(Uf,{children:[(0,xo.jsx)("div",{className:"section",children:"use your mouse to indicate a square on the map"}),(0,xo.jsx)("div",{className:"section",children:"that square will be highlighted on the shared map as well"})]})})]}),placement:"bottom",overlayClassName:"map-control-tooltip",children:(0,xo.jsx)(jv,{title:"highlight map square",className:this.props.features.highlight?"selected":""})},"highlight"));return("setup"===this.props.mode||"interactive-dm"===this.props.mode)&&e.push((0,xo.jsx)(pc,{content:(0,xo.jsxs)("div",{children:[(0,xo.jsx)(ig,{label:"edit fog of war",checked:this.props.features.editFog,onChecked:()=>this.props.toggleFeature("editFog")}),(0,xo.jsxs)(eg,{display:this.props.features.editFog,children:[(0,xo.jsxs)(Uf,{children:[(0,xo.jsx)("div",{className:"section",children:"fog of war conceals areas from your players"}),(0,xo.jsx)("div",{className:"section",children:"click on map squares to turn fog of war on and off"}),(0,xo.jsx)("div",{className:"section",children:"you can also click and drag to select an area"})]}),(0,xo.jsx)("button",{onClick:()=>this.props.fillFog(),children:"fill fog of war"}),(0,xo.jsx)("button",{onClick:()=>this.props.clearFog(),className:0===this.props.fog.length?"disabled":"",children:"clear fog of war"})]})]}),placement:"bottom",overlayClassName:"map-control-tooltip",children:(0,xo.jsx)(Qv,{title:"fog of war",className:this.props.features.editFog?"selected":""})},"fog")),(0,xo.jsx)("div",{className:"map-menu",children:e})}return null}getTiles(e){return this.props.map.items.filter((e=>"tile"===e.type)).map((t=>(0,xo.jsx)(vy,{tile:t,style:this.getStyle(t.x,t.y,t.width,t.height,t.style,e),selectable:"edit"===this.props.mode,selected:this.props.selectedItemIDs.includes(t.id),select:(e,t)=>"edit"===this.props.mode?this.props.itemSelected(e,t):null},t.id)))}getWalls(e){return this.props.map.walls.map((t=>{const n=Math.min(t.pointA.x,t.pointB.x),r=Math.min(t.pointA.y,t.pointB.y),s=Math.abs(t.pointA.x-t.pointB.x),a=Math.abs(t.pointA.y-t.pointB.y);return(0,xo.jsx)(wy,{wall:t,mode:this.props.mode,style:this.getStyle(n,r,s,a,"wall",e),selectable:"edit"===this.props.mode,openable:("edit"===this.props.mode||"interactive-dm"===this.props.mode)&&"wall"!==t.display,selected:this.props.selectedItemIDs.includes(t.id),select:(e,t)=>this.props.wallSelected(e,t),changeValue:(e,t,n)=>this.props.changeValue(e,t,n)},t.id)}))}getAreas(e){if("edit"===this.props.mode||"interactive-dm"===this.props.mode||"interactive-plot"===this.props.mode){let t=this.props.map.areas.slice();return"edit"!==this.props.mode&&"interactive-dm"!==this.props.mode||(t=t.filter((e=>this.props.selectedItemIDs.includes(e.id)))),t.map((t=>{const n=this.props.areaClassNames.find((e=>e.id===t.id));return(0,xo.jsx)(fy,{className:n?n.className:null,style:this.getStyle(t.x,t.y,t.width,t.height,"square",e),selected:this.props.selectedItemIDs.includes(t.id),onClick:()=>this.props.areaClicked(t)},t.id)}))}return null}getAreaNames(e){return this.props.showAreaNames?this.props.map.areas.map((t=>(0,xo.jsx)("div",{className:"map-area-name",style:this.getStyle(t.x,t.y,t.width,t.height,null,e),children:t.name},t.id+" name"))):null}getOverlays(e){return"edit"!==this.props.mode&&"thumbnail"!==this.props.mode?this.props.map.items.filter((e=>"overlay"===e.type)).map((t=>{const n=this.getStyle(t.x,t.y,t.width,t.height,t.style,e);return n.backgroundColor=t.color+t.opacity.toString(16),(0,xo.jsx)(xy,{overlay:t,style:n,selected:this.props.selectedItemIDs.includes(t.id),select:(e,t)=>this.props.itemSelected(e,t)},t.id)})):null}getAuras(e){return"edit"!==this.props.mode&&"thumbnail"!==this.props.mode?this.props.combatants.filter((e=>e.aura.radius>0)).filter((e=>e.showOnMap||"interactive-player"!==this.props.mode)).map((t=>{const n=this.props.map.items.find((e=>e.id===t.id));if(n){const r=t.aura.radius/5,s=2*r+Math.min(wo.getTokenSize(t,this.props.combatants),1),a=this.getStyle(n.x-r,n.y-r,s,s,t.aura.style,e);return a.backgroundColor=t.aura.color,(0,xo.jsx)("div",{className:"aura",style:a},t.id+" aura")}return null})):null}getSteps(e){if("interactive-dm"===this.props.mode||"interactive-player"===this.props.mode){const t=[];return this.props.map.items.forEach((n=>{const r=this.props.combatants.find((e=>e.id===n.id));if(r&&r.path&&r.path.filter((e=>!!e)).length>0&&"interactive-player"!==this.props.mode&&!r.showOnMap)try{const n=wo.getTokenSize(r,this.props.combatants);r.path.filter((e=>!!e)).forEach((r=>{t.push((0,xo.jsx)(gy,{x:r.x,y:r.y,style:this.getStyle(r.x,r.y,n,n,"circle",e),mode:"step"},r.id))}))}catch(DB){console.error("drawing steps"),console.error("path is "+r.path),console.error(DB)}})),t}return null}getDistances(e){if("interactive-dm"===this.props.mode||"interactive-player"===this.props.mode){const t=[];return this.props.map.items.forEach((n=>{const r=this.props.combatants.find((e=>e.id===n.id));if(r&&r.path){const s=r.path.filter((e=>!!e));if(s.length>0)try{const a=wo.getTokenSize(r,this.props.combatants),i=wo.getDistance(n,s,this.props.options?this.props.options.diagonals:""),o=s[0],l=this.getStyle(o.x,o.y,a,a,"circle",e);l.fontSize=a*this.state.size/5+"px",t.push((0,xo.jsx)(gy,{x:o.x,y:o.y,style:l,mode:"step",content:5*i+" ft"},r.id+"-distance"))}catch(DB){console.error("drawing distances"),console.error("path is "+s),console.error(DB)}}})),t}return null}getTokens(e){if("edit"!==this.props.mode&&"interactive-plot"!==this.props.mode){const t=[],n=this.getActiveToken(),r=this.props.combatants.map((e=>e.mountID||"")).filter((e=>""!==e));return this.props.map.items.filter((e=>"monster"===e.type||"pc"===e.type||"companion"===e.type||"token"===e.type)).filter((e=>!r.includes(e.id))).sort(((e,t)=>{const n=this.props.combatants.find((t=>t.id===e.id)),r=this.props.combatants.find((e=>e.id===t.id)),s=n?wo.getTokenSize(n,this.props.combatants):oo.miniSize(e.size);return(r?wo.getTokenSize(r,this.props.combatants):oo.miniSize(t.size))-s})).forEach((r=>{let s=oo.miniSize(r.size),a=!1;const i=this.props.combatants.find((e=>e.id===r.id));i&&(s=wo.getTokenSize(i,this.props.combatants),a="pc"===i.type);const o=this.getStyle(r.x,r.y,s,s,"circle",e);o.fontSize=s*this.state.size/4+"px",t.push((0,xo.jsx)(By,{token:r,combatant:i||null,combatants:this.props.combatants,user:"interactive-player"===this.props.mode?"player":"dm",activeToken:n,style:o,width:s*this.state.size,simple:"thumbnail"===this.props.mode,showGauge:"interactive-dm"===this.props.mode,showHidden:"interactive-dm"===this.props.mode||a,selectable:"interactive-dm"===this.props.mode,selected:this.props.selectedItemIDs.includes(r.id),select:(e,t)=>this.props.itemSelected(e,t),remove:e=>this.props.itemRemove(e),conditionRemove:(e,t)=>this.props.conditionRemove(e,t),toggleTag:(e,t)=>this.props.toggleTag(e,t),toggleCondition:(e,t)=>this.props.toggleCondition(e,t),toggleHidden:e=>this.props.toggleHidden(e)},r.id))})),t}return null}getLighting(e){const t=[],n=wo.getWalls(this.props.map,(e=>e.blocksLineOfSight)),r=[];"interactive-dm"===this.props.mode&&(this.props.combatants.filter((e=>e.current)).forEach((e=>r.push(e))),this.props.combatants.filter((e=>this.props.selectedItemIDs.includes(e.id))).forEach((e=>r.push(e)))),"interactive-player"===this.props.mode&&this.props.combatants.filter((e=>"pc"===e.type&&this.props.selectedItemIDs.includes(e.id))).forEach((e=>r.push(e)));const s=[];this.props.map.lightSources.forEach((e=>{s.push({x:e.x,y:e.y,z:e.z,width:1,height:1,depth:1,bright:e.bright,dim:e.dim})})),this.props.combatants.filter((e=>null!==e.lightSource)).forEach((e=>{const t=Math.max(wo.getTokenSize(e,this.props.combatants),1),n=this.props.map.items.find((t=>t.id===e.id));n&&s.push({x:n.x,y:n.y,z:n.z,width:t,height:t,depth:t,bright:e.lightSource?e.lightSource.bright:0,dim:e.lightSource?e.lightSource.dim:0})}));for(let i=e.minX;i<=e.maxX;++i)for(let a=e.minY;a<=e.maxY;++a){let e=this.props.lighting,o=!0;this.props.fog.find((e=>e.x===i&&e.y===a))?e="darkness":(o=0===r.length||r.some((e=>{const t=this.props.map.items.find((t=>t.id===e.id));if(t){const r=Math.max(wo.getTokenSize(e,this.props.combatants),1);return this.canSee(n,{x:t.x+r/2,y:t.y+r/2},{x:i+.5,y:a+.5})}return!1})),o||(e="darkness"),o&&"bright light"!==e&&s.forEach((t=>{const r=wo.calculateDistance(t,i,a,0);if(t.dim>0&&t.dim>=r){this.canSee(n,{x:t.x+t.width/2,y:t.y+t.height/2},{x:i+.5,y:a+.5})&&("darkness"===e&&(e="dim light"),t.bright>0&&t.bright>=r&&(e="bright light"))}})),o&&"bright light"!==e&&r.filter((e=>e.darkvision>0)).forEach((t=>{const n=this.props.map.items.find((e=>e.id===t.id));if(n){const r=Math.max(wo.getTokenSize(t,this.props.combatants),1),s={x:n.x,y:n.y,z:n.z,width:r,height:r,depth:r},o=wo.calculateDistance(s,i,a,0);t.darkvision>=o&&("dim light"===e?e="bright light":"darkness"===e&&(e="dim light"))}}))),"bright light"!==e&&t.push({x:i,y:a,level:e.replaceAll(" ","-")})}const a=[];return["dim-light","darkness"].forEach((n=>{let r=[];for(let s=e.minX;s<=e.maxX;++s)for(let a=e.minY;a<=e.maxY;++a)t.find((e=>e.x===s&&e.y===a&&e.level===n))&&r.push({x:s,y:a});for(;r.length>0;){const t={x1:r[0].x,y1:r[0].y,x2:r[0].x,y2:r[0].y};for(;;){let e=!1,n=!0;for(let a=t.x1;a<=t.x2+1;++a)for(let e=t.y1;e<=t.y2;++e)r.find((t=>t.x===a&&t.y===e))||(n=!1);n&&(t.x2+=1,e=!0);let s=!0;for(let a=t.x1;a<=t.x2;++a)for(let e=t.y1;e<=t.y2+1;++e)r.find((t=>t.x===a&&t.y===e))||(s=!1);if(s&&(t.y2+=1,e=!0),!e)break}r=r.filter((e=>e.x<t.x1||e.x>t.x2||e.y<t.y1||e.y>t.y2)),a.push((0,xo.jsx)(gy,{x:t.x1,y:t.y1,style:this.getStyle(t.x1,t.y1,t.x2-t.x1+1,t.y2-t.y1+1,"square",e),mode:n},"light "+t.x1+","+t.y1))}})),a}getLightSources(e){return"edit"===this.props.mode||"interactive-dm"===this.props.mode?this.props.map.lightSources.map((t=>(0,xo.jsx)(by,{lightSource:t,style:this.getStyle(t.x,t.y,1,1,"square",e),changeLightSource:(e,t,n,r)=>this.props.changeLightSource(e,t,n,r),removeLightSource:e=>this.props.removeLightSource(e)},t.id))):null}getGrid(e){if(this.props.showGrid){const t=[];let n=null;this.props.features.highlight||this.props.features.editFog||(n=this.getActiveToken());for(let r=e.minY;r!==e.maxY+1;++r)for(let s=e.minX;s!==e.maxX+1;++s)t.push((0,xo.jsx)(gy,{x:s,y:r,style:this.getStyle(s,r,1,1,"square",e),selected:this.isGridSquareSelected(s,r),showDistanceTo:n,onMouseDown:(e,t)=>this.gridSquareMouseDown(e,t),onMouseUp:(e,t)=>this.gridSquareMouseUp(e,t),onMouseEnter:(e,t)=>this.gridSquareEntered(e,t)},"grid "+s+","+r));return t}return null}getWallVertices(e){if(this.props.showWallVertices){const t=[];for(let n=e.minY+1;n!==e.maxY+1;++n)for(let r=e.minX+1;r!==e.maxX+1;++r)t.push((0,xo.jsx)(yy,{x:r,y:n,style:this.getStyle(r,n,1,1,"vertex",e),selected:this.isVertexSelected(r,n),onMouseDown:(e,t)=>this.vertexMouseDown(e,t),onMouseUp:(e,t)=>this.vertexMouseUp(e,t),onMouseEnter:(e,t)=>this.vertexEntered(e,t)},"vertex "+r+","+n));return t}return null}getFocus(e){return this.props.focussedSquare?(0,xo.jsx)("div",{className:"grid-focus",style:this.getStyle(this.props.focussedSquare.x-1,this.props.focussedSquare.y-1,3,3,"circle",e)}):null}render(){try{this.cache=[];const e=this.getMapDimensions();if(!e){let e="blank map";return(this.props.map.items.length>0||this.props.map.walls.length>0)&&(e="nothing is visible"),(0,xo.jsx)("div",{className:"section centered",children:e})}const t=1+e.maxX-e.minX,n=1+e.maxY-e.minY,r=this.state.size*t+2;let s=this.state.size*n+2;return"thumbnail"!==this.props.mode&&(s+=42),(0,xo.jsxs)("div",{className:"map-panel "+this.props.mode,style:{width:r+"px",height:s+"px"},onClick:()=>this.props.itemSelected?this.props.itemSelected(null,!1):null,role:"button",children:[this.getControls(),(0,xo.jsxs)("div",{id:this.props.map.id,className:"grid",children:[this.getTiles(e),this.getWalls(e),this.getAreas(e),this.getAreaNames(e),this.getOverlays(e),this.getAuras(e),this.getSteps(e),this.getDistances(e),this.getTokens(e),this.getLighting(e),this.getLightSources(e),this.getGrid(e),this.getWallVertices(e),this.getFocus(e)]})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"MapPanel",error:DB})}}}my.defaultProps={mode:"thumbnail",features:{highlight:!1,editFog:!1,lightSource:!1},options:null,paddingSquares:0,combatants:[],showGrid:!1,showWallVertices:!1,showAreaNames:!1,areaClassNames:[],selectedItemIDs:[],selectedAreaID:null,fog:[],lighting:"bright light",focussedSquare:null,itemSelected:null,wallSelected:null,itemRemove:null,conditionRemove:null,toggleTag:null,toggleCondition:null,toggleHidden:null,areaSelected:null,gridSquareEntered:null,gridSquareClicked:null,gridRectangleUpdated:null,gridRectangleSelected:null,verticesSelected:null,areaClicked:()=>null,changeLighting:null,changeLightSource:null,removeLightSource:null,toggleFeature:null,fillFog:null,clearFog:null,changeValue:null};class fy extends c.Component{render(){try{let e="map-area";return this.props.className&&(e+=" "+this.props.className),this.props.selected&&(e+=" selected"),(0,xo.jsx)("div",{className:e,style:this.props.style,onClick:e=>{e.stopPropagation(),this.props.onClick()},role:"button"})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"Area",error:DB})}}}class gy extends c.Component{mouseDown(e){e.stopPropagation(),this.props.onMouseDown&&this.props.onMouseDown(this.props.x,this.props.y)}mouseUp(e){e.stopPropagation(),this.props.onMouseUp&&this.props.onMouseUp(this.props.x,this.props.y)}mouseEnter(e){e.stopPropagation(),this.props.onMouseEnter&&this.props.onMouseEnter(this.props.x,this.props.y)}render(){try{let e=null;this.props.content&&(e=(0,xo.jsx)("div",{className:"content",style:{fontSize:this.props.style.fontSize},children:this.props.content}));const t=(0,xo.jsx)("div",{className:"grid-square "+this.props.mode+(this.props.selected?" selected":""),style:this.props.style,onMouseDown:e=>this.mouseDown(e),onMouseUp:e=>this.mouseUp(e),onMouseEnter:e=>this.mouseEnter(e),role:"button",children:e});if(this.props.showDistanceTo){const e={x:this.props.x,y:this.props.y,z:this.props.showDistanceTo.token.z,width:1,height:1,depth:1},n=5*wo.getDistanceBetweenItems(e,this.props.showDistanceTo.token);return(0,xo.jsx)(pc,{content:(0,xo.jsxs)("div",{className:"section",children:[n," ft away from ",this.props.showDistanceTo.combatant?io.getCombatantName(this.props.showDistanceTo.combatant,this.props.showDistanceTo.combatants):"you"]}),placement:"bottom",overlayClassName:"map-hover-tooltip",children:t})}return t}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"GridSquare",error:DB})}}}gy.defaultProps={mode:"cell",selected:!1,showDistanceTo:null,content:null,onMouseDown:null,onMouseUp:null,onMouseEnter:null};class vy extends c.Component{onClick(e){this.props.selectable&&(e.stopPropagation(),this.props.select(this.props.tile.id,e.ctrlKey))}render(){try{let e="map-tile "+this.props.tile.terrain;this.props.selected&&(e+=" selected");let t=null;if("custom"===this.props.tile.terrain){const e=yo.getImage(this.props.tile.customBackground);e&&(t=(0,xo.jsx)("img",{className:"custom-image",alt:"map tile",src:e.data}))}"link"===this.props.tile.terrain&&(t=(0,xo.jsx)("img",{className:"custom-image",alt:"map tile",src:this.props.tile.customLink}));let n=null;if(this.props.tile.content&&"stairway"===this.props.tile.content.type)switch(this.props.tile.content.style){case"stairs":switch(this.props.tile.content.orientation){case"horizontal":n=(0,xo.jsxs)("svg",{className:"tile-content",children:[(0,xo.jsx)("line",{className:"thin-line",x1:"0",y1:"12.5%",x2:"100%",y2:"12.5%"}),(0,xo.jsx)("line",{className:"thin-line",x1:"0",y1:"25%",x2:"100%",y2:"25%"}),(0,xo.jsx)("line",{className:"thin-line",x1:"0",y1:"37.5%",x2:"100%",y2:"37.5%"}),(0,xo.jsx)("line",{className:"thin-line",x1:"0",y1:"50%",x2:"100%",y2:"50%"}),(0,xo.jsx)("line",{className:"thin-line",x1:"0",y1:"62.5%",x2:"100%",y2:"62.5%"}),(0,xo.jsx)("line",{className:"thin-line",x1:"0",y1:"75%",x2:"100%",y2:"75%"}),(0,xo.jsx)("line",{className:"thin-line",x1:"0",y1:"87.5%",x2:"100%",y2:"87.5%"})]});break;case"vertical":n=(0,xo.jsxs)("svg",{className:"tile-content",children:[(0,xo.jsx)("line",{className:"thin-line",x1:"12.5%",y1:"0",x2:"12.5%",y2:"100%"}),(0,xo.jsx)("line",{className:"thin-line",x1:"25%",y1:"0",x2:"25%",y2:"100%"}),(0,xo.jsx)("line",{className:"thin-line",x1:"37.5%",y1:"0",x2:"37.5%",y2:"100%"}),(0,xo.jsx)("line",{className:"thin-line",x1:"50%",y1:"0",x2:"50%",y2:"100%"}),(0,xo.jsx)("line",{className:"thin-line",x1:"62.5%",y1:"0",x2:"62.5%",y2:"100%"}),(0,xo.jsx)("line",{className:"thin-line",x1:"75%",y1:"0",x2:"75%",y2:"100%"}),(0,xo.jsx)("line",{className:"thin-line",x1:"87.5%",y1:"0",x2:"87.5%",y2:"100%"})]})}break;case"spiral":n=(0,xo.jsxs)("svg",{className:"tile-content",children:[(0,xo.jsx)("ellipse",{className:"outline",cx:"50%",cy:"50%",rx:"40%",ry:"40%"}),(0,xo.jsx)("ellipse",{className:"filled",cx:"50%",cy:"50%",rx:"10%",ry:"10%"}),(0,xo.jsx)("line",{className:"thin-line",x1:"50%",y1:"10%",x2:"50%",y2:"90%"}),(0,xo.jsx)("line",{className:"thin-line",x1:"10%",y1:"50%",x2:"90%",y2:"50%"}),(0,xo.jsx)("line",{className:"thin-line",x1:"20%",y1:"20%",x2:"80%",y2:"80%"}),(0,xo.jsx)("line",{className:"thin-line",x1:"20%",y1:"80%",x2:"80%",y2:"20%"})]});break;case"ladder":switch(this.props.tile.content.orientation){case"horizontal":n=(0,xo.jsxs)("svg",{className:"tile-content",children:[(0,xo.jsx)("circle",{className:"filled",cx:"20%",cy:"50%",r:"7%"}),(0,xo.jsx)("line",{className:"thin-line",x1:"20%",y1:"50%",x2:"80%",y2:"50%"}),(0,xo.jsx)("circle",{className:"filled",cx:"80%",cy:"50%",r:"7%"})]});break;case"vertical":n=(0,xo.jsxs)("svg",{className:"tile-content",children:[(0,xo.jsx)("circle",{className:"filled",cx:"50%",cy:"20%",r:"7%"}),(0,xo.jsx)("line",{className:"thin-line",x1:"50%",y1:"20%",x2:"50%",y2:"80%"}),(0,xo.jsx)("circle",{className:"filled",cx:"50%",cy:"80%",r:"7%"})]})}}return(0,xo.jsxs)("div",{className:e,style:this.props.style,onClick:e=>this.onClick(e),role:"button",children:[t,n]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"Tile",error:DB})}}}class yy extends c.Component{mouseDown(e){e.stopPropagation(),this.props.onMouseDown&&this.props.onMouseDown(this.props.x,this.props.y)}mouseUp(e){e.stopPropagation(),this.props.onMouseUp&&this.props.onMouseUp(this.props.x,this.props.y)}mouseEnter(e){e.stopPropagation(),this.props.onMouseEnter&&this.props.onMouseEnter(this.props.x,this.props.y)}render(){try{let e="wall-vertex";return this.props.selected&&(e+=" selected"),(0,xo.jsx)("div",{className:e,style:this.props.style,onMouseDown:e=>this.mouseDown(e),onMouseUp:e=>this.mouseUp(e),onMouseEnter:e=>this.mouseEnter(e),role:"button"})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"WallVertex",error:DB})}}}class wy extends c.Component{constructor(e){super(e),this.state={hovered:!1,clicked:!1}}handleHoverChange(e){this.setState({hovered:e,clicked:!1})}handleClickChange(e){this.setState({hovered:!1,clicked:e})}onClick(e){this.props.selectable&&(e.stopPropagation(),this.props.select(this.props.wall.id,e.ctrlKey))}getPopoverContent(e){const t=(this.props.wall.isConcealed?"concealed ":"")+this.props.wall.display+" "+(this.props.wall.blocksMovement?"(closed)":"(open)");return e?(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"section centered",children:(0,xo.jsx)("b",{children:t})}),(0,xo.jsx)("hr",{}),(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)(Ng,{options:ro.arrayToItems(["open","closed"]),selectedID:this.props.wall.blocksMovement?"closed":"open",onSelect:e=>this.props.changeValue(this.props.wall,"blocksMovement","closed"===e)}),(0,xo.jsx)(ig,{label:"blocks line-of-sight",checked:this.props.wall.blocksLineOfSight,onChecked:e=>this.props.changeValue(this.props.wall,"blocksLineOfSight",e)}),(0,xo.jsx)(ig,{label:"concealed",checked:this.props.wall.isConcealed,onChecked:e=>this.props.changeValue(this.props.wall,"isConcealed",e)})]})]}):(0,xo.jsx)("div",{children:(0,xo.jsx)("div",{className:"section centered",children:(0,xo.jsx)("b",{children:t})})})}render(){try{let e="map-wall";"wall"!==this.props.wall.display&&(e+=" doorway"),this.props.openable&&(e+=" openable"),this.props.selected&&(e+=" selected");let t=this.props.wall.display;this.props.wall.isConcealed&&"interactive-player"===this.props.mode&&(t="wall");let n=null;switch(t){case"wall":n=(0,xo.jsx)("div",{className:"wall"});break;case"door":n=(0,xo.jsx)("svg",{className:"wall-content",children:(0,xo.jsx)("rect",{className:"outline",x:"0%",y:"0%",width:"100%",height:"100%"})});break;case"double-door":switch(wo.getWallOrientation(this.props.wall)){case"horizontal":n=(0,xo.jsxs)("svg",{className:"wall-content",children:[(0,xo.jsx)("rect",{className:"outline",x:"0%",y:"0%",width:"100%",height:"100%"}),(0,xo.jsx)("line",{className:"thin-line",x1:"50%",y1:"0%",x2:"50%",y2:"100%"})]});break;case"vertical":n=(0,xo.jsxs)("svg",{className:"wall-content",children:[(0,xo.jsx)("rect",{className:"outline",x:"0%",y:"0%",width:"100%",height:"100%"}),(0,xo.jsx)("line",{className:"thin-line",x1:"0%",y1:"50%",x2:"100%",y2:"50%"})]})}break;case"bars":switch(wo.getWallOrientation(this.props.wall)){case"horizontal":n=(0,xo.jsxs)("svg",{className:"wall-content",children:[(0,xo.jsx)("circle",{className:"filled",cx:"20%",cy:"50%",r:"5%"}),(0,xo.jsx)("circle",{className:"filled",cx:"35%",cy:"50%",r:"5%"}),(0,xo.jsx)("circle",{className:"filled",cx:"50%",cy:"50%",r:"5%"}),(0,xo.jsx)("circle",{className:"filled",cx:"65%",cy:"50%",r:"5%"}),(0,xo.jsx)("circle",{className:"filled",cx:"80%",cy:"50%",r:"5%"})]});break;case"vertical":n=(0,xo.jsxs)("svg",{className:"wall-content",children:[(0,xo.jsx)("circle",{className:"filled",cx:"50%",cy:"20%",r:"5%"}),(0,xo.jsx)("circle",{className:"filled",cx:"50%",cy:"35%",r:"5%"}),(0,xo.jsx)("circle",{className:"filled",cx:"50%",cy:"50%",r:"5%"}),(0,xo.jsx)("circle",{className:"filled",cx:"50%",cy:"65%",r:"5%"}),(0,xo.jsx)("circle",{className:"filled",cx:"50%",cy:"80%",r:"5%"})]})}}let r=null;return this.props.openable&&"wall"!==t&&(r=(0,xo.jsx)(pc,{content:this.getPopoverContent(!1),placement:"bottom",overlayClassName:"map-hover-tooltip",open:this.state.hovered,onOpenChange:e=>this.handleHoverChange(e),children:(0,xo.jsx)(pc,{content:this.getPopoverContent(!0),trigger:"contextMenu",placement:"bottom",overlayClassName:"map-click-tooltip",open:this.state.clicked,onOpenChange:e=>this.handleClickChange(e),children:(0,xo.jsx)(Nv,{className:"wall-icon",rotate:"horizontal"===wo.getWallOrientation(this.props.wall)?0:90})})})),(0,xo.jsxs)("div",{className:e,style:this.props.style,onClick:e=>this.onClick(e),role:"button",children:[n,r]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"Wall",error:DB})}}}class by extends c.Component{constructor(e){super(e),this.state={hovered:!1,clicked:!1}}handleHoverChange(e){this.setState({hovered:e,clicked:!1})}handleClickChange(e){this.setState({hovered:!1,clicked:e})}getPopoverContent(e){const t="custom"===this.props.lightSource.name?"custom light source":this.props.lightSource.name;return e?(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"section centered",children:(0,xo.jsx)("b",{children:t})}),(0,xo.jsx)("hr",{}),(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)(Ng,{options:ro.arrayToItems(["candle","torch","lantern","custom"]),selectedID:this.props.lightSource.name,onSelect:e=>{switch(e){case"candle":this.props.changeLightSource(this.props.lightSource,"candle",5,10);break;case"torch":this.props.changeLightSource(this.props.lightSource,"torch",20,40);break;case"lantern":this.props.changeLightSource(this.props.lightSource,"lantern",30,60);break;case"custom":this.props.changeLightSource(this.props.lightSource,"custom",this.props.lightSource.bright,this.props.lightSource.dim)}}}),(0,xo.jsxs)(eg,{display:"custom"===this.props.lightSource.name,children:[(0,xo.jsx)(Ug,{label:"bright light radius",value:this.props.lightSource.bright+" ft",downEnabled:this.props.lightSource.bright>0,upEnabled:this.props.lightSource.bright<this.props.lightSource.dim,onNudgeValue:e=>this.props.changeLightSource(this.props.lightSource,this.props.lightSource.name,this.props.lightSource.bright+5*e,this.props.lightSource.dim)}),(0,xo.jsx)(Ug,{label:"dim light radius",value:this.props.lightSource.dim+" ft",downEnabled:this.props.lightSource.dim>this.props.lightSource.bright,onNudgeValue:e=>this.props.changeLightSource(this.props.lightSource,this.props.lightSource.name,this.props.lightSource.bright,this.props.lightSource.dim+5*e)})]}),(0,xo.jsx)("button",{onClick:()=>this.props.removeLightSource(this.props.lightSource),children:"remove from map"})]})]}):(0,xo.jsx)("div",{children:(0,xo.jsx)("div",{className:"section centered",children:(0,xo.jsx)("b",{children:t})})})}render(){try{let e=null;return e=(0,xo.jsx)(pc,{content:this.getPopoverContent(!1),placement:"bottom",overlayClassName:"map-hover-tooltip",open:this.state.hovered,onOpenChange:e=>this.handleHoverChange(e),children:(0,xo.jsx)(pc,{content:this.getPopoverContent(!0),trigger:"contextMenu",placement:"bottom",overlayClassName:"map-click-tooltip",open:this.state.clicked,onOpenChange:e=>this.handleClickChange(e),children:(0,xo.jsx)(kv,{className:"light-source-icon"})})}),(0,xo.jsx)("div",{className:"map-light-source",style:this.props.style,role:"button",children:e})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"LightSource",error:DB})}}}class xy extends c.Component{select(e){e.stopPropagation(),this.props.select(this.props.overlay.id,e.ctrlKey)}render(){try{let e="overlay";return this.props.selected&&(e+=" selected"),(0,xo.jsx)("div",{className:e,style:this.props.style,onClick:e=>this.select(e),role:"button"})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"MapOverlay",error:DB})}}}class By extends c.Component{constructor(e){super(e),this.state={hovered:!1,clicked:!1}}handleHoverChange(e){this.setState({hovered:e,clicked:!1})}handleClickChange(e){this.setState({hovered:!1,clicked:e})}select(e){this.props.selectable&&(e.stopPropagation(),this.props.select(this.props.token.id,e.ctrlKey))}getPopoverContent(e){let t="token",n=null;const r=[];if(this.props.activeToken&&this.props.activeToken.token.id!==this.props.token.id){const e=this.props.combatant?wo.getTokenSize(this.props.combatant,this.props.combatants):0,t=this.props.activeToken.combatant?wo.getTokenSize(this.props.activeToken.combatant,this.props.combatants):0,n={x:this.props.token.x,y:this.props.token.y,z:this.props.token.z,width:this.props.combatant?e:this.props.token.width,height:this.props.combatant?e:this.props.token.height,depth:this.props.combatant?e:this.props.token.depth},s={x:this.props.activeToken.token.x,y:this.props.activeToken.token.y,z:this.props.activeToken.token.z,width:this.props.activeToken.combatant?t:this.props.activeToken.token.width,height:this.props.activeToken.combatant?t:this.props.activeToken.token.height,depth:this.props.activeToken.combatant?t:this.props.activeToken.token.depth},a=5*wo.getDistanceBetweenItems(n,s);r.push((0,xo.jsxs)("div",{className:"section",children:[a," ft away from ",this.props.activeToken.combatant?io.getCombatantName(this.props.activeToken.combatant,this.props.combatants):"you"]},"distance"))}if(this.props.combatant){if(t=io.getCombatantName(this.props.combatant,this.props.combatants),n=(0,xo.jsx)(py,{combatants:[this.props.combatant],editable:e,toggleTag:(e,t)=>this.props.toggleTag(e,t),toggleCondition:(e,t)=>this.props.toggleCondition(e,t),toggleHidden:e=>this.props.toggleHidden(e)}),"monster"===this.props.combatant.type){const e=io.getCombatantState(this.props.combatant);"unhurt"!==e&&r.push((0,xo.jsx)("div",{className:"section",children:e},"injury"))}if(0!==this.props.token.z&&r.push((0,xo.jsxs)("div",{className:"section",children:["altitude: ",Math.abs(5*this.props.token.z)," ft ",this.props.token.z>0?"up":"down"]},"altitude")),e)this.props.combatant.conditions.filter((e=>"prone"!==e.name&&"unconscious"!==e.name)).forEach((e=>{r.push((0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:(0,xo.jsx)(Sg,{children:e.name})}),(0,xo.jsx)("div",{className:"icons",children:(0,xo.jsx)(jo,{onClick:()=>this.props.conditionRemove(this.props.combatant,e)})})]},e.id))}));else{const e=this.props.combatant.conditions.map((e=>e.name)).filter((e=>"prone"!==e&&"unconscious"!==e&&"custom"!==e)).join(", ");""!==e&&r.push((0,xo.jsx)("div",{className:"section",children:e},"conditions"));const t=this.props.combatant.conditions.find((e=>"custom"===e.name));t&&oo.conditionText(t).forEach(((e,n)=>{r.push((0,xo.jsx)("div",{className:"section",children:e},t.id+"-"+n))}))}this.props.combatant.note&&r.push((0,xo.jsx)("div",{className:"section",children:(0,xo.jsx)(Bf,{children:this.props.combatant.note})},"note"))}return e&&r.push((0,xo.jsx)("button",{onClick:()=>this.props.remove(this.props.token.id),children:"remove from the map"},"remove")),(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"section centered",children:(0,xo.jsx)("b",{children:t})},"name"),n,r.length>0?(0,xo.jsx)("hr",{}):null,r]})}render(){try{let e="token",t="token";if(this.props.selected&&(t+=" selected"),this.props.simple&&(t+=" not-interactive"),this.props.combatant&&(e=io.getCombatantName(this.props.combatant,this.props.combatants),t+=" "+this.props.combatant.faction,this.props.combatant.current&&(t+=" current"),!this.props.combatant.showOnMap)){if(!this.props.showHidden)return null;t+=" hidden"}let n=null,r=null,s=null,a=null;if(this.props.combatant&&!this.props.simple){const t=this.props.combatant;if(t&&t.portrait)n=(0,xo.jsx)("img",{className:"portrait",src:t.portrait,alt:e});else{const e=(this.props.combatant.displayName||"combatant").toUpperCase().replace(/[^A-Z0-9 ]/,"").split(" ").map((e=>e[0])).join("");n=(0,xo.jsx)("div",{className:"initials",children:e})}if("monster"===this.props.combatant.type&&this.props.showGauge){const e=this.props.combatant.hpCurrent||0,t=this.props.combatant.hpMax||0;if(e<t){let n="darkorange";e>=t?n="green":e<=t/2&&(n="crimson"),r=(0,xo.jsx)(rd,{type:"circle",status:"normal",strokeColor:n,showInfo:!1,percent:100*e/t,width:this.props.width-3})}}this.props.token.z>0&&(s=(0,xo.jsx)("div",{className:"badge",children:(0,xo.jsx)(Hv,{twoToneColor:"#3c78dc"})})),this.props.token.z<0&&(s=(0,xo.jsx)("div",{className:"badge",children:(0,xo.jsx)(Ov,{twoToneColor:"#3c78dc"})}));let i=0;this.props.combatant.conditions&&(i+=this.props.combatant.conditions.length),this.props.combatant.tags&&(i+=this.props.combatant.tags.filter((e=>!e.startsWith("engaged"))).length),i>0&&(a=(0,xo.jsx)("div",{className:"conditions",children:(0,xo.jsx)(Kv,{twoToneColor:"#3c78dc"})}))}const i=(0,xo.jsxs)("div",{className:t,style:this.props.style,onClick:e=>this.select(e),role:"button",children:[n,r,s,a]});return this.props.selectable?(0,xo.jsx)(pc,{content:this.getPopoverContent(!1),placement:"bottom",overlayClassName:"map-hover-tooltip",open:this.state.hovered,onOpenChange:e=>this.handleHoverChange(e),children:(0,xo.jsx)(pc,{content:this.getPopoverContent(!0),trigger:"contextMenu",placement:"bottom",overlayClassName:"map-click-tooltip",open:this.state.clicked,onOpenChange:e=>this.handleClickChange(e),children:i})}):(0,xo.jsx)(pc,{content:this.getPopoverContent(!1),placement:"bottom",overlayClassName:"map-hover-tooltip",children:i})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"MapToken",error:DB})}}}class Cy extends c.Component{constructor(e){super(e),this.state={mode:"link",map:e.map,imageLink:null,imageID:null,size:0,square:0,imageDimensions:{width:0,height:0},mapDimensions:{width:10,height:10}}}readFile(e){const t=new FileReader;return t.onload=t=>{if(t.target){const n=t.target.result;this.state.imageID&&window.localStorage.removeItem("image-"+this.state.imageID);try{const t={id:ro.guid(),name:e.name,data:n},r=JSON.stringify(t);window.localStorage.setItem("image-"+t.id,r);const s=new Image;s.onload=()=>{const e=Math.round(Math.min(s.width,s.height)/10);this.setState({imageID:t.id,size:n.length,square:e,imageDimensions:{width:s.width,height:s.height},mapDimensions:{width:Math.round(s.width/e),height:Math.round(s.height/e)}},(()=>{this.updateMap(t.name)}))},s.src=n}catch{Ss.open({message:"can't upload this image",description:"not enough storage space for this image ("+ro.toData(n.length)+"); try reducing the resolution or removing unused images",closeIcon:(0,xo.jsx)(Pe,{}),duration:5})}}},t.readAsDataURL(e),!1}nudgeSquare(e){const t=Math.max(0,this.state.square+e);this.setState({square:t,mapDimensions:{width:Math.round(this.state.imageDimensions.width/t),height:Math.round(this.state.imageDimensions.height/t)}},(()=>{this.updateMap(null)}))}nudgeWidth(e){const t=Math.max(0,this.state.mapDimensions.width+e);this.setState({mapDimensions:{width:t,height:this.state.mapDimensions.height}},(()=>{this.updateMap(null)}))}nudgeHeight(e){const t=Math.max(0,this.state.mapDimensions.height+e);this.setState({mapDimensions:{width:this.state.mapDimensions.width,height:t}},(()=>{this.updateMap(null)}))}updateMap(e){const t=this.state.map;if(e&&(t.name=e),this.state.imageLink){const e=so.createMapItem();e.type="tile",e.terrain="link",e.customLink=this.state.imageLink,e.width=this.state.mapDimensions.width,e.height=this.state.mapDimensions.height,t.items=[e]}else if(this.state.imageID){const e=so.createMapItem();e.type="tile",e.terrain="custom",e.customBackground=this.state.imageID,e.width=this.state.mapDimensions.width,e.height=this.state.mapDimensions.height,t.items=[e]}else t.items=[];this.setState({map:t})}render(){var e;try{let t=null;switch(this.state.mode){case"link":t=(0,xo.jsxs)("div",{children:[(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"enter the address, name, and dimensions of the image you want to use"})}),(0,xo.jsx)("div",{className:"subheading",children:"address"}),(0,xo.jsx)(Bo,{text:null!==(e=this.state.imageLink)&&void 0!==e?e:"",placeholder:"https://...",onChange:e=>this.setState({imageLink:e},(()=>this.updateMap(this.state.map.name)))}),(0,xo.jsx)("div",{className:"subheading",children:"map name"}),(0,xo.jsx)(Bo,{text:this.state.map.name,placeholder:"map name",onChange:e=>this.updateMap(e)}),(0,xo.jsx)("div",{className:"subheading",children:"map dimensions"}),(0,xo.jsx)(Ug,{value:this.state.mapDimensions.width+" sq",label:"width",downEnabled:this.state.mapDimensions.width>1,onNudgeValue:e=>this.nudgeWidth(e)}),(0,xo.jsx)(Ug,{value:this.state.mapDimensions.height+" sq",label:"height",downEnabled:this.state.mapDimensions.height>1,onNudgeValue:e=>this.nudgeHeight(e)})]});break;case"upload":t=this.state.imageID?(0,xo.jsxs)("div",{children:[(0,xo.jsxs)(Uf,{children:[(0,xo.jsxs)("div",{className:"section",children:["this image is ",ro.toData(this.state.size)]}),(0,xo.jsx)("div",{className:"section",children:"set the name and dimensions of this map image"}),(0,xo.jsx)("div",{className:"section",children:"changing the size of a map square, in pixels, will change the map's dimensions"}),(0,xo.jsx)("div",{className:"section",children:"you can then fine-tune the exact width and height of the map"})]}),(0,xo.jsx)("div",{className:"subheading",children:"map name"}),(0,xo.jsx)(Bo,{text:this.state.map.name,placeholder:"map name",onChange:e=>this.updateMap(e)}),(0,xo.jsx)("div",{className:"subheading",children:"map square size"}),(0,xo.jsx)(Ug,{value:this.state.square+" px",label:"square size",factors:[1,10],downEnabled:this.state.square>1,onNudgeValue:e=>this.nudgeSquare(e)}),(0,xo.jsx)("div",{className:"subheading",children:"map dimensions"}),(0,xo.jsx)(Ug,{value:this.state.mapDimensions.width+" sq",label:"width",downEnabled:this.state.mapDimensions.width>1,onNudgeValue:e=>this.nudgeWidth(e)}),(0,xo.jsx)(Ug,{value:this.state.mapDimensions.height+" sq",label:"height",downEnabled:this.state.mapDimensions.height>1,onNudgeValue:e=>this.nudgeHeight(e)})]}):(0,xo.jsxs)("div",{children:[(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"select the file you want to upload"})}),(0,xo.jsxs)(gd.Dragger,{accept:"image/*",showUploadList:!1,beforeUpload:e=>this.readFile(e),children:[(0,xo.jsx)("p",{className:"ant-upload-drag-icon",children:(0,xo.jsx)(Dc,{})}),(0,xo.jsx)("p",{className:"ant-upload-text",children:"click here, or drag a file here, to upload it"}),(0,xo.jsx)("p",{className:"ant-upload-text",children:"try to upload small images if possible"})]})]})}return(0,xo.jsxs)(Os,{className:"full-height",children:[(0,xo.jsxs)(zs,{span:8,className:"scrollable",children:[(0,xo.jsx)(Dg,{options:ro.arrayToItems(["link","upload"]),selectedID:this.state.mode,onSelect:e=>this.setState({mode:e})}),t]}),(0,xo.jsx)(zs,{span:16,className:"scrollable both-ways",children:(0,xo.jsx)(my,{map:this.state.map,mode:"edit",showGrid:!0,gridSquareClicked:()=>null})})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"MapImportModal",error:DB})}}}class ky extends c.Component{constructor(e){super(e),this.state={source:"",monster:e.monster}}setSource(e){this.setState({source:e})}analyse(){mo.import(this.state.source,this.state.monster),this.setState({monster:this.state.monster})}render(){try{return(0,xo.jsxs)(Os,{className:"full-height",children:[(0,xo.jsxs)(zs,{span:12,className:"scrollable",children:[(0,xo.jsxs)(Uf,{children:[(0,xo.jsx)("div",{className:"section",children:"go to the following link to find the monster you want to import"}),(0,xo.jsx)("div",{className:"section",children:(0,xo.jsx)("a",{href:"https://www.dndbeyond.com/monsters",target:"_blank",rel:"noopener noreferrer",children:"https://www.dndbeyond.com/monsters"})}),(0,xo.jsxs)("div",{className:"section",children:["then right-click on the page and select ",(0,xo.jsx)("b",{children:"view page source"})]}),(0,xo.jsx)("div",{className:"section",children:"copy the entire page source into the clipboard, paste it into the box below, and press the analyse button"})]}),(0,xo.jsx)(Bo,{text:this.state.source,placeholder:"paste page source here",multiLine:!0,onChange:e=>this.setSource(e)}),(0,xo.jsx)("button",{onClick:()=>this.analyse(),children:"analyse"})]}),(0,xo.jsx)(zs,{span:12,className:"scrollable",style:{padding:"5px"},children:(0,xo.jsx)(sg,{monster:this.state.monster})})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"MonsterImportModal",error:DB})}}}class Sy{static importParty(e,t){t.name="",t.pcs=[];const n=(new DOMParser).parseFromString(e,"text/html");try{t.name=n.getElementsByClassName("page-title")[0].innerText.trim()}catch(r){console.error(r)}try{const e=n.getElementsByClassName("ddb-campaigns-detail-body-listing ddb-campaigns-detail-body-listing-active")[0].getElementsByClassName("ddb-campaigns-character-card");for(let n=0;n!==e.length;++n){const r=e[n];t.pcs.push(Sy.getCharacter(r,!0))}}catch(r){console.error(r)}try{const e=n.getElementsByClassName("ddb-campaigns-detail-body-listing ddb-campaigns-detail-body-listing-inactive")[0].getElementsByClassName("ddb-campaigns-character-card");for(let n=0;n!==e.length;++n){const r=e[n];t.pcs.push(Sy.getCharacter(r,!1))}}catch(r){console.error(r)}}static getCharacter(e,t){const n=so.createPC();n.name=e.getElementsByClassName("ddb-campaigns-character-card-header-upper-character-info-primary")[0].innerText.trim(),n.player=e.getElementsByClassName("ddb-campaigns-character-card-header-upper-character-info-secondary")[1].innerText.trim().substring(8),n.active=t;const r=e.getElementsByClassName("ddb-campaigns-character-card-header-upper-character-info-secondary")[0].innerText.trim().split("|");n.level=Number.parseInt(r[0].substring(4).trim(),10),n.race=r[1].trim(),n.classes=r[2].trim();const s=e.getElementsByClassName("ddb-campaigns-character-card-header-upper-details-link")[0];return n.url="https://www.dndbeyond.com"+s.getAttribute("href"),n}static importPC(e,t){try{const n=JSON.parse(e);t.name=n.character.name,t.size=n.character.race.size,t.race=n.character.race.fullName;let r=0,s="";n.character.classes.forEach((e=>{r+=e.level,""!==s&&(s+=" / "),s+=e.definition.name,e.subclassDefinition&&(s+=" ("+e.subclassDefinition.name+")")})),t.classes=s,t.level=r;const a=[].concat(n.character.modifiers.race).concat(n.character.modifiers.class).concat(n.character.modifiers.background).concat(n.character.modifiers.item).concat(n.character.modifiers.feat).concat(n.character.modifiers.condition),i=a.filter((e=>"language"===e.type)).map((e=>e.friendlySubtypeName));t.languages=i.join(", ");const o=oo.proficiency(r);let l=n.character.stats[3].value,A=n.character.stats[4].value;a.filter((e=>"bonus"===e.type&&"intelligence-score"===e.subType)).forEach((e=>l+=e.value)),a.filter((e=>"bonus"===e.type&&"wisdom-score"===e.subType)).forEach((e=>A+=e.value));let c=0,u=0,d=0;const h=a.filter((e=>"insight"===e.subType||"wisdom-ability-checks"===e.subType)).map((e=>e.type));h.includes("expertise")?c=2:h.includes("proficiency")?c=1:h.includes("half-proficiency-round-up")&&(c=.5);const p=a.filter((e=>"investigation"===e.subType||"intelligence-ability-checks"===e.subType)).map((e=>e.type));p.includes("expertise")?u=2:p.includes("proficiency")?u=1:h.includes("half-proficiency-round-up")&&(u=.5);const m=a.filter((e=>"perception"===e.subType||"wisdom-ability-checks"===e.subType)).map((e=>e.type));m.includes("expertise")?d=2:m.includes("proficiency")?d=1:h.includes("half-proficiency-round-up")&&(d=.5),t.passiveInsight=10+oo.modifierValue(A)+Math.floor(o*c),t.passiveInvestigation=10+oo.modifierValue(l)+Math.floor(o*u),t.passivePerception=10+oo.modifierValue(A)+Math.floor(o*d),t.companions=[],n.character.creatures.forEach((e=>{const n=so.createCompanion();n.name=e.name,t.companions.push(n)}))}catch(DB){console.error(DB)}}}class Ey extends c.Component{render(){try{let e=null;if(this.props.pc.companions.length>0){const t=this.props.pc.companions.map((e=>(0,xo.jsx)(Sg,{children:e.name},e.id)));e=(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"section subheading",children:"companions"}),t]})}const t=(this.props.pc?this.props.pc.displayName:null)||this.props.pc.name||"unnamed pc";return(0,xo.jsxs)("div",{className:"card pc",children:[(0,xo.jsx)("div",{className:"heading",children:(0,xo.jsx)("div",{className:"title",title:t,children:t})}),(0,xo.jsx)("div",{className:"card-content",children:(0,xo.jsxs)("div",{className:"stats",children:[(0,xo.jsx)(vd,{source:this.props.pc}),(0,xo.jsxs)("div",{className:"section centered lowercase",children:[(0,xo.jsx)(Qc,{children:this.props.pc.race||"unknown race"}),(0,xo.jsx)(Qc,{children:this.props.pc.classes||"unknown class"}),(0,xo.jsx)(Qc,{children:"level "+this.props.pc.level})]}),(0,xo.jsx)(eg,{display:!!this.props.pc.url,children:(0,xo.jsx)("div",{className:"section centered",children:(0,xo.jsx)("a",{href:this.props.pc.url,target:"_blank",rel:"noopener noreferrer",children:"d&d beyond sheet"})})}),(0,xo.jsx)("hr",{}),(0,xo.jsx)("div",{className:"section subheading",children:"size"}),(0,xo.jsx)("div",{className:"section",children:this.props.pc.size}),(0,xo.jsx)("div",{className:"section subheading",children:"languages"}),(0,xo.jsx)("div",{className:"section",children:this.props.pc.languages||"none listed"}),(0,xo.jsx)("div",{className:"section subheading",children:"darkvision"}),(0,xo.jsx)("div",{className:"section",children:this.props.pc.darkvision>0?this.props.pc.darkvision+" ft":"none"}),(0,xo.jsx)("hr",{}),(0,xo.jsxs)(Os,{children:[(0,xo.jsx)(zs,{span:8,children:(0,xo.jsx)(Mc,{prefix:"passive",label:"insight",value:this.props.pc.passiveInsight})}),(0,xo.jsx)(zs,{span:8,children:(0,xo.jsx)(Mc,{prefix:"passive",label:"investigation",value:this.props.pc.passiveInvestigation})}),(0,xo.jsx)(zs,{span:8,children:(0,xo.jsx)(Mc,{prefix:"passive",label:"perception",value:this.props.pc.passivePerception})})]}),e]})})]},this.props.pc.id)}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"PCStatblockCard",error:DB})}}}class jy extends c.Component{constructor(e){super(e),this.state={showContent:!0}}toggleContentVisible(){this.setState({showContent:!this.state.showContent})}render(){try{const e=this.props.content.filter((e=>!!e));if(0===e.length)return null;let t=null;if(this.props.heading){let e=null;this.props.showToggle&&(e=(0,xo.jsx)(Ag,{className:this.state.showContent?"rotate":"",onClick:()=>this.toggleContentVisible()})),t=(0,xo.jsxs)("div",{className:"heading fixed-top",children:[(0,xo.jsx)("div",{className:"title",children:this.props.heading}),e]})}let n=null;if(this.state.showContent){let t=6;switch(this.props.columns){case 1:t=24;break;case 2:t=12;break;case 3:t=8}n=(0,xo.jsx)(Os,{align:"top",gutter:10,children:e.map((n=>(0,xo.jsx)(zs,{span:t,children:n},e.indexOf(n))))})}return(0,xo.jsxs)("div",{className:"grid-panel",children:[t,n]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"GridPanel",error:DB})}}}jy.defaultProps={columns:0,heading:null,showToggle:!1};class Fy extends c.Component{constructor(e){super(e),this.state={source:"",party:e.party}}setSource(e){this.setState({source:e})}analyse(){Sy.importParty(this.state.source,this.state.party),this.setState({party:this.state.party})}render(){try{return(0,xo.jsxs)(Os,{className:"full-height",children:[(0,xo.jsxs)(zs,{span:12,className:"scrollable",children:[(0,xo.jsxs)(Uf,{children:[(0,xo.jsx)("div",{className:"section",children:"go to the following link to find the party you want to import"}),(0,xo.jsx)("div",{className:"section",children:(0,xo.jsx)("a",{href:"https://www.dndbeyond.com/my-campaigns",target:"_blank",rel:"noopener noreferrer",children:"https://www.dndbeyond.com/my-campaigns"})}),(0,xo.jsxs)("div",{className:"section",children:["then right-click on the page and select ",(0,xo.jsx)("b",{children:"view page source"})]}),(0,xo.jsx)("div",{className:"section",children:"copy the entire page source into the clipboard, paste it into the box below, and press the analyse button"})]}),(0,xo.jsx)(Bo,{text:this.state.source,placeholder:"paste page source here",multiLine:!0,onChange:e=>this.setSource(e)}),(0,xo.jsx)("button",{onClick:()=>this.analyse(),children:"analyse"})]}),(0,xo.jsx)(zs,{span:12,className:"scrollable",children:(0,xo.jsx)(jy,{heading:this.props.party.name,columns:1,content:this.props.party.pcs.map((e=>(0,xo.jsx)(Ey,{pc:e},e.id)))})})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"PartyImportModal",error:DB})}}}class Iy extends c.Component{constructor(e){super(e),this.state={source:"",pc:e.pc}}setSource(e){this.setState({source:e})}analyse(){Sy.importPC(this.state.source,this.state.pc),this.setState({pc:this.state.pc})}render(){try{return(0,xo.jsxs)(Os,{className:"full-height",children:[(0,xo.jsxs)(zs,{span:12,className:"scrollable",children:[(0,xo.jsxs)(Uf,{children:[(0,xo.jsx)("div",{className:"section",children:"go to the following link to find the pc you want to import"}),(0,xo.jsx)("div",{className:"section",children:(0,xo.jsx)("a",{href:"https://www.dndbeyond.com/",target:"_blank",rel:"noopener noreferrer",children:"https://www.dndbeyond.com/"})}),(0,xo.jsxs)("div",{className:"section",children:["then right-click on the page and select ",(0,xo.jsx)("b",{children:"view page source"})]}),(0,xo.jsx)("div",{className:"section",children:"copy the entire page source into the clipboard, paste it into the box below, and press the analyse button"})]}),(0,xo.jsx)(Bo,{text:this.state.source,placeholder:"paste page source here",multiLine:!0,onChange:e=>this.setSource(e)}),(0,xo.jsx)("button",{onClick:()=>this.analyse(),children:"analyse"})]}),(0,xo.jsx)(zs,{span:12,className:"scrollable",children:(0,xo.jsx)(Ey,{pc:this.state.pc})})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"PCImportModal",error:DB})}}}class Qy extends c.Component{monsterClicked(e,t){this.props.onMonsterClicked&&t&&(e.stopPropagation(),this.props.onMonsterClicked(t))}getSlot(e){let t="unknown monster";const n=io.slotToMonster(e,(e=>this.props.getMonster(e)));return n&&(t=n.name||"unnamed monster"),null!==this.props.onMonsterClicked?(0,xo.jsxs)("div",{className:"content-then-info encounter-slot clickable",onClick:e=>this.monsterClicked(e,n),role:"button",children:[(0,xo.jsx)("div",{className:"content",children:(0,xo.jsx)("div",{className:"section",children:t})}),(0,xo.jsxs)("div",{className:"info",children:["x",e.count]})]},e.id):(0,xo.jsxs)("div",{className:"content-then-info encounter-slot",children:[(0,xo.jsx)("div",{className:"content",children:(0,xo.jsx)("div",{className:"section",children:t})}),(0,xo.jsxs)("div",{className:"info",children:["x",e.count]})]},e.id)}render(){try{return(0,xo.jsxs)("div",{className:"encounter-info-panel",children:[this.props.encounter.slots.map((e=>this.getSlot(e))),this.props.encounter.waves.map((e=>(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"section subheading",children:e.name||"unnamed wave"}),e.slots.map((e=>this.getSlot(e)))]},e.id)))]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"EncounterInfoPanel",error:DB})}}}Qy.defaultProps={onMonsterClicked:null};class My extends c.Component{getEncounters(){const e=[];return this.props.encounters.forEach((t=>{let n=null;if(this.props.party){const e=io.getEncounterDifficulty(t,null,this.props.party,(e=>this.props.getMonster(e)));n="diff-"+Math.min(4,e.adjusted)}e.push((0,xo.jsxs)(Sg,{className:n,onClick:()=>this.props.onSelect(t),children:[(0,xo.jsx)("div",{className:"section subheading",children:t.name||"unnamed encounter"}),(0,xo.jsx)(Qy,{encounter:t,getMonster:e=>this.props.getMonster(e)})]},t.id))})),e}render(){try{return(0,xo.jsxs)("div",{className:"scrollable",children:[(0,xo.jsx)("div",{className:"section heading",children:"which encounter do you want to use?"}),this.getEncounters()]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"EncounterSelectionModal",error:DB})}}}class Uy extends c.Component{constructor(e){super(e),this.state={images:yo.allImages(),filter:""}}setFilter(e){this.setState({filter:e})}readFile(e){const t=new FileReader;return t.onload=t=>{if(t.target)try{const n=t.target.result;yo.saveImage(ro.guid(),e.name,n),this.setState({images:yo.allImages()})}catch{Ss.open({message:"can't upload this image",description:"not enough storage space; try reducing the resolution or removing unused images",closeIcon:(0,xo.jsx)(Pe,{}),duration:5})}},t.readAsDataURL(e),!1}render(){try{const e=this.state.images.filter((e=>ao.match(this.state.filter,e.name))).map((e=>(0,xo.jsxs)(Sg,{onClick:()=>this.props.select?this.props.select(e.id):null,children:[(0,xo.jsx)("div",{className:"subheading",children:e.name}),(0,xo.jsx)("img",{className:"section nonselectable-image",src:e.data,alt:e.name})]},e.id)));return 0===e.length&&e.push((0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"no images"})},"empty")),this.state.images.length>0&&e.unshift((0,xo.jsx)(Bo,{text:this.state.filter,placeholder:"search for an image",onChange:e=>this.setFilter(e)},"search")),(0,xo.jsxs)("div",{className:"scrollable",children:[(0,xo.jsx)("div",{children:(0,xo.jsxs)(gd.Dragger,{accept:"image/*",showUploadList:!1,beforeUpload:e=>this.readFile(e),children:[(0,xo.jsx)("p",{className:"ant-upload-drag-icon",children:(0,xo.jsx)(Dc,{})}),(0,xo.jsx)("p",{className:"ant-upload-text",children:"click here, or drag a file here, to upload it"}),(0,xo.jsx)("p",{className:"ant-upload-text",children:"try to upload small images if possible"})]})}),e]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"ImageSelectionModal",error:DB})}}}class Ny extends c.Component{getMaps(){const e=[];return this.props.maps.forEach((t=>{e.push((0,xo.jsxs)(Sg,{onClick:()=>this.props.onSelect(t),children:[(0,xo.jsx)("div",{className:"section subheading",children:t.name||"unnamed map"}),(0,xo.jsx)(my,{map:t,showAreaNames:!0})]},t.id))})),e}render(){try{return(0,xo.jsxs)("div",{className:"scrollable",children:[(0,xo.jsx)("div",{className:"section heading",children:"which map do you want to use?"}),this.getMaps()]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"MapSelectionModal",error:DB})}}}class Ty extends c.Component{constructor(e){super(e);const t=so.createMonsterFilter();e.originalMonster&&(t.category=e.originalMonster.category,t.challengeMin=e.originalMonster.challenge,t.challengeMax=e.originalMonster.challenge),this.state={filter:t}}changeFilterValue(e,t){const n=this.state.filter;"challenge"===e?(n.challengeMin=t[0],n.challengeMax=t[1]):n[e]=t,this.setState({filter:n})}resetFilter(){this.setState({filter:so.createMonsterFilter()})}render(){try{const e=[],t=!!this.props.slot&&this.props.slot.roles.length>0;this.props.library.forEach((n=>{n.monsters.forEach((n=>{const r=io.matchMonster(n,this.state.filter),s=!t||this.props.slot.roles.includes(n.role);r&&s&&e.push(n)}))})),e.sort(((e,t)=>e.name<t.name?-1:e.name>t.name?1:0));let n=(0,xo.jsx)(zv,{items:e.map((e=>({id:e.id,text:e.name||"unnamed monster",info:"cr "+oo.challenge(e.challenge)}))),selectedItemID:this.props.monster?this.props.monster.id:null,onSelect:t=>{var n;return this.props.setMonster(null!==(n=e.find((e=>e.id===t)))&&void 0!==n?n:null)}});if(0===e.length){const e=io.getFilterDescription(this.state.filter);n=(0,xo.jsxs)(Uf,{children:["there are no monsters that meet the criteria ",(0,xo.jsx)("i",{children:e})]},"empty")}let r=(0,xo.jsx)(Uf,{children:"select a monster from the list at the left to see its statblock here"});return this.props.monster&&(r=(0,xo.jsx)(sg,{monster:this.props.monster})),(0,xo.jsxs)(Os,{className:"full-height",children:[(0,xo.jsxs)(zs,{span:8,className:"scrollable",children:[(0,xo.jsx)("div",{className:"section",children:(0,xo.jsx)(ov,{filter:this.state.filter,showRoles:!t,changeValue:(e,t)=>this.changeFilterValue(e,t),resetFilter:()=>this.resetFilter()})}),(0,xo.jsx)("hr",{}),n]}),(0,xo.jsx)(zs,{span:16,className:"scrollable",children:r})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"MonsterSelectionModal",error:DB})}}}class Dy extends c.Component{constructor(e){super(e),this.state={mode:"theme"}}setMode(e){this.setState({mode:e})}render(){try{let e=JSON.parse(JSON.stringify(this.props.monster));if(this.props.selectedThemeID){const t=this.props.themes.find((e=>e.id===this.props.selectedThemeID));t&&(e=mo.applyTheme(e,t))}0!==this.props.deltaCR&&(e=mo.adjustCR(e,this.props.deltaCR));const t=this.props.themes.map((e=>({id:e.id,text:e.name||"unnamed theme",info:"cr "+oo.challenge(e.challenge)})));return t.unshift({id:"",text:"no theme",info:""}),(0,xo.jsxs)(Os,{className:"full-height",children:[(0,xo.jsxs)(zs,{span:8,className:"scrollable",children:[(0,xo.jsx)(Dg,{options:ro.arrayToItems(["theme","cr"]),selectedID:this.state.mode,onSelect:e=>this.setMode(e)}),(0,xo.jsxs)(eg,{display:"theme"===this.state.mode,children:[(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"you can quickly modify this monster by selecting one of the following themes"})}),(0,xo.jsx)(zv,{items:t,selectedItemID:this.props.selectedThemeID,onSelect:e=>this.props.selectTheme(e)})]}),(0,xo.jsxs)(eg,{display:"cr"===this.state.mode,children:[(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"you can adjust the challenge rating of this monster to make it more or less deadly"})}),(0,xo.jsx)(Ug,{label:"challenge rating adjustment",value:(this.props.deltaCR>0?"+":"")+this.props.deltaCR,downEnabled:e.challenge>0,upEnabled:e.challenge<30,onNudgeValue:e=>this.props.setDeltaCR(this.props.deltaCR+e)})]})]}),(0,xo.jsx)(zs,{span:16,className:"scrollable",children:(0,xo.jsx)(sg,{monster:e})})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"ThemeSelectionModal",error:DB})}}}class Hy extends c.Component{constructor(e){super(e),this.state={addingToMapID:null,editFog:!1}}setAddingToMapID(e){this.setState({addingToMapID:e,editFog:!1})}toggleEditFog(){this.setState({addingToMapID:null,editFog:!this.state.editFog})}gridSquareClicked(e,t){this.state.addingToMapID&&(this.props.slotInfo.forEach((n=>{n.members.filter((e=>e.id===this.state.addingToMapID)).forEach((n=>{n.location={x:e,y:t,z:0}}))})),this.setState({addingToMapID:null},(()=>{this.props.setSlotInfo(this.props.slotInfo)}))),this.state.editFog&&this.gridRectangleSelected(e,t,e,t)}gridRectangleSelected(e,t,n,r){if(this.state.editFog){const s=this.props.fog;for(let a=e;a<=n;++a)for(let e=t;e<=r;++e){const t=s.findIndex((t=>t.x===a&&t.y===e));-1===t?s.push({x:a,y:e}):s.splice(t,1)}this.props.setFog(s)}}fillFog(){const e=[],t=wo.mapDimensions(this.props.map.items);if(t){for(let n=t.minX;n<=t.maxX;++n)for(let r=t.minY;r<=t.maxY;++r)e.push({x:n,y:r});this.props.setFog(e)}}clearFog(){this.props.setFog([])}removeAll(){this.props.slotInfo.forEach((e=>{e.members.forEach((e=>{e.location=null}))})),this.props.setSlotInfo(this.props.slotInfo)}generateMap(e){const t=so.createMap();wo.generate(e,t),this.props.setMap(t)}render(){if(null===this.props.map){let e=null;if(this.props.maps.length>0){const t=this.props.maps.map((e=>({id:e.id,text:e.name||"unnamed map"})));e=(0,xo.jsx)(Qf,{options:t,placeholder:"select a map",onSelect:e=>{const t=this.props.maps.find((t=>t.id===e))||null,n=JSON.parse(JSON.stringify(t));this.props.setMap(n)}})}return(0,xo.jsxs)("div",{className:"scrollable",children:[(0,xo.jsxs)(Uf,{children:[(0,xo.jsx)("div",{className:"section",children:"no map is currently selected"}),(0,xo.jsx)("div",{className:"section",children:"this is fine - you don't have to use a map to run an encounter"})]}),e,(0,xo.jsx)("button",{onClick:()=>this.generateMap(5),children:"generate a random delve"})]})}const e=[],t=[],n=[];this.props.slotInfo.forEach((r=>{r.members.forEach((s=>{if(null===s.location)e.push((0,xo.jsx)(Sg,{children:(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:s.name}),(0,xo.jsx)("div",{className:"icons",children:(0,xo.jsx)(jv,{title:"add to map",onClick:()=>this.setAddingToMapID(s.id)})})]})},s.id));else{const e=this.props.getMonster(r.monsterID);if(e){const r=io.convertMonsterToCombatant(e,0,0,s.name,"foe");t.push(r);const a=so.createMapItem();a.id=r.id,a.type="monster";const i=oo.miniSize(e.size);a.height=i,a.width=i,a.depth=i,a.x=s.location.x,a.y=s.location.y,a.z=s.location.z,n.push(a)}}}))}));const r=JSON.parse(JSON.stringify(this.props.map));return r.items=r.items.concat(n),(0,xo.jsxs)("div",{className:"scrollable both-ways",children:[(0,xo.jsx)(my,{map:r,mode:"setup",features:{highlight:!1,editFog:this.state.editFog,lightSource:!1},showGrid:null!==this.state.addingToMapID||this.state.editFog,combatants:t,selectedAreaID:this.props.areaID,fog:this.props.fog,lighting:this.props.lighting,areaSelected:e=>this.props.setAreaID(e),gridSquareClicked:(e,t)=>this.gridSquareClicked(e,t),gridRectangleSelected:(e,t,n,r)=>this.gridRectangleSelected(e,t,n,r),changeLighting:e=>this.props.setLighting(e),toggleFeature:e=>{if("editFog"===e)this.toggleEditFog()},fillFog:()=>this.fillFog(),clearFog:()=>this.clearFog()}),(0,xo.jsx)("hr",{}),(0,xo.jsxs)(eg,{display:e.length>0,children:[(0,xo.jsx)(Uf,{children:(0,xo.jsxs)("div",{className:"section",children:["you can add these monsters to the map by clicking on the ",(0,xo.jsx)(jv,{})," button and then clicking on a map square"]})}),e]}),(0,xo.jsx)(eg,{display:0===e.length,children:(0,xo.jsx)("button",{onClick:()=>this.removeAll(),children:"remove all from map"})})]})}}const Ly={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"};var Py=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Ly}))};const Oy=c.forwardRef(Py);class Ry extends c.Component{constructor(e){super(e);let t=e.party;t||1===e.parties.length&&(t=e.parties[0]),this.state={selectedPartyID:t?t.id:null,selectedWaveID:null,customPartySize:5,customPartyLevel:1}}selectParty(e){this.setState({selectedPartyID:e})}setWave(e){this.setState({selectedWaveID:e})}render(){try{const t=io.getMonsterCount(this.props.encounter,this.state.selectedWaveID),n=io.getEncounterXP(this.props.encounter,this.state.selectedWaveID,(e=>this.props.getMonster(e))),r=io.getAdjustedEncounterXP(this.props.encounter,this.state.selectedWaveID,(e=>this.props.getMonster(e)));let s=null;if(this.props.encounter.waves.length>0){const e=[{id:this.props.encounter.id,text:"encounter"}];this.props.encounter.waves.forEach((t=>{e.push({id:t.id,text:t.name||"unnamed wave"})})),s=(0,xo.jsxs)("div",{children:[(0,xo.jsx)("hr",{}),(0,xo.jsx)(Qf,{placeholder:"encounter plus all waves",options:e,selectedID:this.state.selectedWaveID,onSelect:e=>this.setWave(e),onClear:()=>this.setWave(null)})]})}const a=(0,xo.jsxs)("div",{children:[s,(0,xo.jsx)("hr",{}),(0,xo.jsx)("div",{className:"section",children:(0,xo.jsxs)(Os,{children:[(0,xo.jsx)(zs,{span:16,children:"xp for these monsters"}),(0,xo.jsxs)(zs,{span:8,className:"right-value",children:[n," xp"]})]})}),(0,xo.jsx)(eg,{display:r!==n,children:(0,xo.jsx)("div",{className:"section",children:(0,xo.jsxs)(Os,{children:[(0,xo.jsxs)(zs,{span:16,children:["effective xp for ",t," monster(s)"]}),(0,xo.jsxs)(zs,{span:8,className:"right-value",children:[r," xp"]})]})})})]});let i,o,l=this.props.party;if(null===l)if("custom"===this.state.selectedPartyID){l=so.createParty();for(let e=0;e!==this.state.customPartySize;++e){const e=so.createPC();e.level=this.state.customPartyLevel,l.pcs.push(e)}}else{var e;l=null!==(e=this.props.parties.find((e=>e.id===this.state.selectedPartyID)))&&void 0!==e?e:null}if(l){const e=io.getEncounterThresholds(l),t=io.getEncounterDifficulty(this.props.encounter,this.state.selectedWaveID,l,(e=>this.props.getMonster(e)));i=(0,xo.jsxs)("div",{className:"table",children:[(0,xo.jsxs)("div",{className:"table-row",children:[(0,xo.jsx)("div",{className:"table-cell easy",children:(0,xo.jsx)("b",{children:"easy"})}),(0,xo.jsx)("div",{className:"table-cell medium",children:(0,xo.jsx)("b",{children:"medium"})}),(0,xo.jsx)("div",{className:"table-cell hard",children:(0,xo.jsx)("b",{children:"hard"})}),(0,xo.jsx)("div",{className:"table-cell deadly",children:(0,xo.jsx)("b",{children:"deadly"})})]}),(0,xo.jsxs)("div",{className:"table-row",children:[(0,xo.jsxs)("div",{className:"table-cell",children:[e.easy," xp"]}),(0,xo.jsxs)("div",{className:"table-cell",children:[e.medium," xp"]}),(0,xo.jsxs)("div",{className:"table-cell",children:[e.hard," xp"]}),(0,xo.jsxs)("div",{className:"table-cell",children:[e.deadly," xp"]})]})]});const n=t=>100*t/Math.max(r,1.2*e.deadly),s=e=>100-n(e);o=(0,xo.jsxs)("div",{children:[(0,xo.jsxs)("div",{className:"difficulty-gauge",children:[(0,xo.jsx)("div",{className:"bar-container",children:(0,xo.jsx)("div",{className:"bar trivial",style:{left:"0",right:s(e.easy)+"%"}})}),(0,xo.jsx)("div",{className:"bar-container",children:(0,xo.jsx)("div",{className:"bar easy",style:{left:n(e.easy)+"%",right:s(e.medium)+"%"}})}),(0,xo.jsx)("div",{className:"bar-container",children:(0,xo.jsx)("div",{className:"bar medium",style:{left:n(e.medium)+"%",right:s(e.hard)+"%"}})}),(0,xo.jsx)("div",{className:"bar-container",children:(0,xo.jsx)("div",{className:"bar hard",style:{left:n(e.hard)+"%",right:s(e.deadly)+"%"}})}),(0,xo.jsx)("div",{className:"bar-container",children:(0,xo.jsx)("div",{className:"bar deadly",style:{left:n(e.deadly)+"%",right:"0"}})}),(0,xo.jsx)("div",{className:"encounter-container",children:(0,xo.jsx)("div",{className:"encounter",style:{left:n(r)-.5+"%"}})})]}),a,(0,xo.jsx)("div",{className:"section",children:(0,xo.jsxs)(Os,{children:[(0,xo.jsx)(zs,{span:16,children:"difficulty for this party"}),(0,xo.jsx)(zs,{span:8,className:"right-value",children:io.getDifficultyDescription(t.basic)})]})}),(0,xo.jsx)(eg,{display:t.adjusted!==t.basic,children:(0,xo.jsx)("div",{className:"section",children:(0,xo.jsxs)(Os,{children:[(0,xo.jsxs)(zs,{span:16,children:["effective difficulty for ",l.pcs.filter((e=>e.active)).length," pc(s)"]}),(0,xo.jsx)(zs,{span:8,className:"right-value",children:io.getDifficultyDescription(t.adjusted)})]})})})]})}else o=a;if(!this.props.party){const e=this.props.parties.map((e=>({id:e.id,text:e.name||"unnamed party"})));e.push({id:"custom",text:"custom party"});let t=null;return"custom"===this.state.selectedPartyID&&(t=(0,xo.jsxs)("div",{children:[(0,xo.jsx)(Ug,{value:this.state.customPartySize,label:"party size",downEnabled:this.state.customPartySize>1,onNudgeValue:e=>this.setState({customPartySize:this.state.customPartySize+e})}),(0,xo.jsx)(Ug,{value:this.state.customPartyLevel,label:"party level",downEnabled:this.state.customPartyLevel>1,upEnabled:this.state.customPartyLevel<20,onNudgeValue:e=>this.setState({customPartyLevel:this.state.customPartyLevel+e})})]})),(0,xo.jsxs)("div",{children:[(0,xo.jsx)(Qf,{options:e,placeholder:"select party...",selectedID:this.state.selectedPartyID,onSelect:e=>this.selectParty(e),onClear:()=>this.selectParty(null)}),t,i,o]})}return(0,xo.jsxs)("div",{children:[i,o]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"DifficultyChartPanel",error:DB})}}}Ry.defaultProps={parties:[],party:null};class Vy extends c.Component{constructor(e){super(e),this.state={combatSetup:e.combatSetup,encounterFixed:!!e.combatSetup.encounter,mapFixed:!!e.combatSetup.map}}setEncounterID(e){const t=this.state.combatSetup,n=this.props.encounters.find((t=>t.id===e));t.encounter=n?JSON.parse(JSON.stringify(n)):null,t.slotInfo=oo.getCombatSlotData(t.encounter,(e=>this.props.getMonster(e))),this.setState({combatSetup:t},(()=>this.props.notify()))}clearMap(){const e=this.state.combatSetup;e.map=null,e.mapAreaID=null,e.slotInfo.forEach((e=>{e.members.forEach((e=>e.location=null))})),this.setState({combatSetup:e})}setWaveID(e){const t=this.state.combatSetup;if(t.waveID=e,t.encounter){const n=t.encounter.waves.find((t=>t.id===e));n&&(t.slotInfo=oo.getCombatSlotData(n,(e=>this.props.getMonster(e))))}this.setState({combatSetup:t},(()=>this.props.notify()))}generateEncounter(e){const t=so.createEncounter(),n=so.createMonsterFilter();let r=0,s=0;if(this.state.combatSetup.party){r=io.getXPForDifficulty(this.state.combatSetup.party,e);const t=this.state.combatSetup.party.pcs.filter((e=>e.active));t.forEach((e=>{s+=e.level}));const a=s/t.length;n.challengeMax=Math.max(a,5)}io.buildEncounter(t,r,"",n,this.props.library,(e=>this.props.getMonster(e)));const a=this.state.combatSetup;a.encounter=t,a.slotInfo=oo.getCombatSlotData(t,(e=>this.props.getMonster(e))),this.setState({combatSetup:a},(()=>this.props.notify()))}changeValue(e,t,n){e[t]=n;const r=e;r.members&&("init"===t&&r.members.forEach((e=>e.init=n)),"hp"===t&&r.members.forEach((e=>e.hp=n))),this.setState({combatSetup:this.state.combatSetup})}nudgeValue(e,t,n){e[t]=e[t]+n;const r=this.state.combatSetup;if(r.encounter){if(r.waveID){const e=r.encounter.waves.find((e=>e.id===r.waveID));e&&(r.slotInfo=oo.getCombatSlotData(e,(e=>this.props.getMonster(e))))}else r.slotInfo=oo.getCombatSlotData(r.encounter,(e=>this.props.getMonster(e)));this.setState({combatSetup:r})}}render(){try{let e=null,t=null;switch(this.props.type){case"start":e=(0,xo.jsxs)("div",{children:[(0,xo.jsx)(Ky,{combatSetup:this.state.combatSetup,encounters:this.props.encounters,fixed:this.state.encounterFixed,setEncounterID:e=>this.setEncounterID(e),generateEncounter:e=>this.generateEncounter(e),getMonster:e=>this.props.getMonster(e)}),(0,xo.jsx)(zy,{combatSetup:this.state.combatSetup,maps:this.props.maps,options:this.props.options,fixed:this.state.mapFixed,clearMap:()=>this.clearMap(),changeValue:(e,t,n)=>this.changeValue(e,t,n),getMonster:e=>this.props.getMonster(e)})]}),t=(0,xo.jsx)("div",{children:(0,xo.jsx)(Yy,{type:this.props.type,combatSetup:this.state.combatSetup,getMonster:e=>this.props.getMonster(e),changeValue:(e,t,n)=>this.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.nudgeValue(e,t,n)})});break;case"add-wave":e=(0,xo.jsx)("div",{children:(0,xo.jsx)(_y,{combatSetup:this.state.combatSetup,setWaveID:e=>this.setWaveID(e),getMonster:e=>this.props.getMonster(e)})}),t=(0,xo.jsx)("div",{children:(0,xo.jsx)(Yy,{type:this.props.type,combatSetup:this.state.combatSetup,getMonster:e=>this.props.getMonster(e),changeValue:(e,t,n)=>this.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.nudgeValue(e,t,n)})});break;case"add-combatants":e=(0,xo.jsx)("div",{children:(0,xo.jsx)(Wy,{combatSetup:this.state.combatSetup,library:this.props.library,addMonster:e=>this.props.addMonster(e)})}),t=(0,xo.jsxs)("div",{children:[(0,xo.jsx)(Gy,{encounter:this.state.combatSetup.encounter,nudgeValue:(e,t,n)=>this.nudgeValue(e,t,n),getMonster:e=>this.props.getMonster(e)}),(0,xo.jsx)(Yy,{type:this.props.type,combatSetup:this.state.combatSetup,getMonster:e=>this.props.getMonster(e),changeValue:(e,t,n)=>this.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.nudgeValue(e,t,n)})]})}return(0,xo.jsxs)(Os,{className:"full-height",children:[(0,xo.jsx)(zs,{span:12,className:"scrollable",children:e}),(0,xo.jsx)(zs,{span:12,className:"scrollable",children:t})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"CombatStartModal",error:DB})}}}Vy.defaultProps={encounters:null,maps:null,addMonster:null};class Ky extends c.Component{render(){let e=null;if(!this.props.combatSetup.encounter){let t=null;if(this.props.encounters.length>0){const e=this.props.encounters.map((e=>({id:e.id,text:e.name||"unnamed encounter"})));t=(0,xo.jsx)(Qf,{options:e,placeholder:"select an encounter",onSelect:e=>this.props.setEncounterID(e)})}let n=null;this.props.combatSetup.party&&(n=(0,xo.jsx)("button",{onClick:()=>this.props.generateEncounter("medium"),children:"generate a random encounter"})),e=(0,xo.jsxs)("div",{children:[t,n]})}let t=null;if(this.props.combatSetup.encounter){let e=null;this.props.combatSetup.encounter.notes&&(e=(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"subheading",children:"notes"}),(0,xo.jsx)(Bf,{children:this.props.combatSetup.encounter.notes})]}));const n=this.props.combatSetup.encounter.slots.map((e=>{const t=io.slotToMonster(e,(e=>this.props.getMonster(e)));let n="";return t&&(n=t.name||"unnamed monster"),e.count>1&&(n+=" (x"+e.count+")"),(0,xo.jsx)(Sg,{children:n},e.id)}));0===n.length&&n.push((0,xo.jsx)(Uf,{children:"no monsters"},"empty")),t=(0,xo.jsxs)("div",{children:[e,(0,xo.jsx)("div",{className:"subheading",children:"monsters"}),n]})}let n=null;this.props.combatSetup.encounter&&!this.props.fixed&&(n=(0,xo.jsx)(Pe,{title:"remove encounter",onClick:()=>this.props.setEncounterID(null)}));let r=null;return this.props.combatSetup.party&&this.props.combatSetup.encounter&&(r=(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"subheading",children:"difficulty"}),(0,xo.jsx)(Ry,{party:this.props.combatSetup.party,encounter:this.props.combatSetup.encounter,getMonster:e=>this.props.getMonster(e)})]})),(0,xo.jsxs)("div",{children:[(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:(0,xo.jsx)("div",{className:"heading",children:"encounter"})}),(0,xo.jsx)("div",{className:"icons",children:n})]}),e,t,r]})}}class zy extends c.Component{constructor(e){super(e),this.state={editing:!1}}setEditing(e){this.setState({editing:e})}render(){let e=null;if(this.props.combatSetup.map){const t=[],n=[];this.props.combatSetup.slotInfo.forEach((e=>{e.members.forEach((r=>{if(null!==r.location){var s;const a=null===(s=this.props.combatSetup.encounter)||void 0===s?void 0:s.slots.find((t=>t.id===e.id));if(a&&a.monsterID){const e=this.props.getMonster(a.monsterID);if(e){const s=io.convertMonsterToCombatant(e,r.init,r.hp,r.name,a.faction);t.push(s);const i=so.createMapItem();i.id=s.id,i.type="monster";const o=oo.miniSize(e.size);i.height=o,i.width=o,i.depth=o,i.x=r.location.x,i.y=r.location.y,i.z=r.location.z,n.push(i)}}}}))}));const r=JSON.parse(JSON.stringify(this.props.combatSetup.map));r.items=r.items.concat(n),e=(0,xo.jsx)("div",{className:"scrollable horizontal-only",children:(0,xo.jsx)(my,{map:r,mode:"thumbnail",combatants:this.props.combatSetup.combatants.concat(t),selectedAreaID:this.props.combatSetup.mapAreaID,fog:this.props.combatSetup.fog,lighting:this.props.combatSetup.lighting})})}else e=(0,xo.jsxs)(Uf,{children:[(0,xo.jsx)("div",{className:"section",children:"not using a map for this encounter"}),(0,xo.jsxs)("div",{className:"section",children:["to choose a map, click the ",(0,xo.jsx)(Jv,{})," button above"]})]});let t=null;return this.props.combatSetup.map&&!this.props.fixed&&(t=(0,xo.jsx)(Pe,{title:"remove map",onClick:()=>this.props.clearMap()})),(0,xo.jsxs)("div",{children:[(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:(0,xo.jsx)("div",{className:"heading",children:"map"})}),(0,xo.jsxs)("div",{className:"icons",children:[(0,xo.jsx)(Jv,{title:"edit map",onClick:()=>this.setEditing(!0)}),t]})]}),e,(0,xo.jsxs)(_i,{className:this.props.options.theme,closable:!1,maskClosable:!0,width:"50%",open:this.state.editing,onClose:()=>this.setEditing(!1),children:[(0,xo.jsx)("div",{className:"drawer-header",children:(0,xo.jsx)("div",{className:"app-title",children:"map setup"})}),(0,xo.jsx)("div",{className:"drawer-content",children:(0,xo.jsx)(Hy,{maps:this.props.maps,map:this.props.combatSetup.map,setMap:e=>this.props.changeValue(this.props.combatSetup,"map",e),areaID:this.props.combatSetup.mapAreaID,setAreaID:e=>this.props.changeValue(this.props.combatSetup,"mapAreaID",e),lighting:this.props.combatSetup.lighting,setLighting:e=>this.props.changeValue(this.props.combatSetup,"lighting",e),fog:this.props.combatSetup.fog,setFog:e=>this.props.changeValue(this.props.combatSetup,"fog",e),slotInfo:this.props.combatSetup.slotInfo,setSlotInfo:e=>this.props.changeValue(this.props.combatSetup,"slotInfo",e),getMonster:e=>this.props.getMonster(e)})}),(0,xo.jsx)("div",{className:"drawer-footer",children:(0,xo.jsx)("button",{onClick:()=>this.setEditing(!1),children:"close"})})]})]})}}class _y extends c.Component{render(){if(null===this.props.combatSetup.encounter)return(0,xo.jsx)("div",{className:"section",children:"you have not selected an encounter"});{if(0===this.props.combatSetup.encounter.waves.length)return(0,xo.jsx)("div",{className:"section",children:"you have not defined any waves"});const e=this.props.combatSetup.encounter.waves.map((e=>({id:e.id,text:e.name||"unnamed wave"})));let t=null;if(this.props.combatSetup.waveID){const e=this.props.combatSetup.encounter.waves.find((e=>e.id===this.props.combatSetup.waveID));if(e){const n=e.slots.map((e=>{let t="";const n=this.props.getMonster(e.monsterID);return n&&(t=n.name),t=t||"unnamed monster",e.count>1&&(t+=" (x"+e.count+")"),(0,xo.jsx)(Sg,{children:t},e.id)}));0===n.length&&n.push((0,xo.jsx)(Uf,{children:"no monsters"},"empty")),t=(0,xo.jsx)("div",{children:n})}}return(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"heading",children:"wave"}),(0,xo.jsx)(Qf,{options:e,placeholder:"select wave",selectedID:this.props.combatSetup.waveID?this.props.combatSetup.waveID:void 0,onSelect:e=>this.props.setWaveID(e),onClear:()=>this.props.setWaveID(null)}),t]})}}}class Gy extends c.Component{render(){const e=this.props.encounter.slots.map((e=>{let t="";const n=this.props.getMonster(e.monsterID);return n&&(t=n.name),t=t||"unnamed monster",e.count>1&&(t+=" (x"+e.count+")"),(0,xo.jsxs)(Sg,{children:[t,(0,xo.jsx)(Ug,{value:"count: "+e.count,downEnabled:e.count>1,onNudgeValue:t=>this.props.nudgeValue(e,"count",t)})]},e.id)}));return 0===e.length&&e.push((0,xo.jsx)(Uf,{children:"no monsters"},"empty")),(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"heading",children:"selected monsters"}),e]})}}class Wy extends c.Component{constructor(e){super(e),this.state={filter:so.createMonsterFilter()}}changeFilterValue(e,t){const n=this.state.filter;"challenge"===e?(n.challengeMin=t[0],n.challengeMax=t[1]):n[e]=t,this.setState({filter:n})}resetFilter(){this.setState({filter:so.createMonsterFilter()})}matchMonster(e){return io.matchMonster(e,this.state.filter)}render(){const e=[];this.props.library.forEach((t=>{t.monsters.forEach((t=>{this.matchMonster(t)&&e.push(t)}))})),e.sort(((e,t)=>e.name<t.name?-1:e.name>t.name?1:0));let t=[];var n;this.props.combatSetup.encounter&&(t=null===(n=this.props.combatSetup.encounter)||void 0===n?void 0:n.slots.map((e=>e.monsterID)));let r=e.filter((e=>!t.includes(e.id))).map((e=>(0,xo.jsx)(Sg,{children:(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:(0,xo.jsx)("div",{children:e.name||"unnamed monster"})}),(0,xo.jsx)("div",{className:"icons",children:(0,xo.jsx)(Ho,{title:"add monster",onClick:()=>this.props.addMonster(e)})})]})},e.id)));return 0===r.length&&(r=(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"there are no monsters that match the above criteria (or you have already selected them all)"})})),(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"heading",children:"monsters"}),(0,xo.jsx)(ov,{filter:this.state.filter,changeValue:(e,t)=>this.changeFilterValue(e,t),resetFilter:()=>this.resetFilter()}),r]})}}class Yy extends c.Component{constructor(e){super(e),this.state={standardInitOptions:!0,standardHPOptions:!0,additionalOptions:!1,view:"count"}}setView(e){this.setState({view:e})}getSlots(e,t){return this.props.combatSetup.slotInfo.map((n=>{const r=e.slots.find((e=>e.id===n.id));if(!r)return null;const s=this.props.getMonster(r.monsterID);return s?(0,xo.jsx)(qy,{slotInfo:n,encounterSlot:r,monster:s,view:t,changeValue:(e,t,n)=>this.props.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.props.nudgeValue(e,t,n)},n.id):null}))}render(){var e;if("start"===this.props.type&&!this.props.combatSetup.encounter)return(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"heading",children:"options"}),(0,xo.jsx)("div",{className:"section",children:"select an encounter to see monster information here."})]});if("add-wave"===this.props.type&&!this.props.combatSetup.waveID)return(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"heading",children:"options"}),(0,xo.jsx)("div",{className:"section",children:"select a wave to see monster information here."})]});if("add-combatants"===this.props.type&&0===(null===(e=this.props.combatSetup.encounter)||void 0===e?void 0:e.slots.length))return(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"heading",children:"options"}),(0,xo.jsx)("div",{className:"section",children:"add monsters to see their information here."})]});if(this.props.combatSetup.encounter){let e=this.props.combatSetup.encounter;if(this.props.combatSetup.waveID){const t=this.props.combatSetup.encounter.waves.find((e=>e.id===this.props.combatSetup.waveID));t&&(e=t)}return 0===e.slots.length?null:(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"heading",children:"options"}),(0,xo.jsx)(ig,{checked:this.state.standardInitOptions,label:"roll initiative automatically for monsters",onChecked:e=>this.setState({standardInitOptions:e})}),(0,xo.jsxs)(eg,{display:!this.state.standardInitOptions,children:[this.getSlots(e,"initiative"),(0,xo.jsx)("hr",{})]}),(0,xo.jsx)(ig,{checked:this.state.standardHPOptions,label:"use typical hp for monsters",onChecked:e=>this.setState({standardHPOptions:e})}),(0,xo.jsxs)(eg,{display:!this.state.standardHPOptions,children:[this.getSlots(e,"hit points"),(0,xo.jsx)("hr",{})]}),(0,xo.jsx)(ig,{checked:this.state.additionalOptions,label:"show additional options",onChecked:e=>this.setState({additionalOptions:e})}),(0,xo.jsxs)(eg,{display:this.state.additionalOptions,children:[(0,xo.jsx)(Ng,{options:ro.arrayToItems(["count","names","faction"]),selectedID:this.state.view,onSelect:e=>this.setView(e)}),this.getSlots(e,this.state.view)]})]})}return null}}class qy extends c.Component{rollInit(e){const t=oo.dieRoll(),n=oo.modifierValue(this.props.monster.abilityScores.dex);this.props.changeValue(null!==e&&void 0!==e?e:this.props.slotInfo,"init",t+n)}rollHP(e){const t=oo.hitDieType(this.props.monster.size),n=oo.dieRoll(t,this.props.monster.hitDice),r=oo.modifierValue(this.props.monster.abilityScores.con)*this.props.monster.hitDice;this.props.changeValue(null!==e&&void 0!==e?e:this.props.slotInfo,"hp",n+r)}getValueSection(e,t,n,r,s){return(0,xo.jsxs)(Os,{align:"middle",children:[(0,xo.jsx)(zs,{span:20,children:(0,xo.jsx)(iv,{min:e,max:t,value:n[r],onChange:e=>this.props.changeValue(n,r,e)})}),(0,xo.jsx)(zs,{span:4,children:(0,xo.jsxs)("div",{className:"combatant-value",children:[n[r],(0,xo.jsx)(Oy,{title:"reroll",onClick:()=>s()})]})})]})}getInitSection(){let e=null;this.props.encounterSlot.count>1&&(e=(0,xo.jsx)(ig,{label:"roll initiative once for this group",checked:this.props.slotInfo.useGroupInit,onChecked:e=>this.props.changeValue(this.props.slotInfo,"useGroupInit",e)}));const t=oo.modifierValue(this.props.monster.abilityScores.dex),n=1+t,r=20+t,s=[];return this.props.slotInfo.useGroupInit?s.push((0,xo.jsx)("div",{children:this.getValueSection(n,r,this.props.slotInfo,"init",(()=>this.rollInit(null)))},"init")):this.props.slotInfo.members.forEach((e=>{s.push((0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"combatant-name",children:e.name}),this.getValueSection(n,r,e,"init",(()=>this.rollInit(e)))]},e.id))})),(0,xo.jsxs)("div",{children:[e,s]})}getHPSection(){let e=null;this.props.encounterSlot.count>1&&(e=(0,xo.jsx)(ig,{label:"use the same hp for every monster in this group",checked:this.props.slotInfo.useGroupHP,onChecked:e=>this.props.changeValue(this.props.slotInfo,"useGroupHP",e)}));const t=mo.getTypicalHP(this.props.monster),n=oo.modifierValue(this.props.monster.abilityScores.con)*this.props.monster.hitDice,r=this.props.monster.hitDice+n,s=this.props.monster.hitDice*oo.hitDieType(this.props.monster.size)+n,a=[];return this.props.slotInfo.useGroupHP?a.push((0,xo.jsxs)("div",{children:[this.getValueSection(r,s,this.props.slotInfo,"hp",(()=>this.rollHP(null))),(0,xo.jsx)("button",{className:this.props.slotInfo.hp!==t?"":"disabled",onClick:()=>this.props.changeValue(this.props.slotInfo,"hp",t),children:"reset to average hp"})]},"hp")):this.props.slotInfo.members.forEach((e=>{a.push((0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"combatant-name",children:e.name}),this.getValueSection(r,s,e,"hp",(()=>this.rollHP(e))),(0,xo.jsx)("button",{className:e.hp!==t?"":"disabled",onClick:()=>this.props.changeValue(e,"hp",t),children:"reset to average hp"})]},e.id))})),(0,xo.jsxs)("div",{children:[e,a]})}getCountSection(){return(0,xo.jsx)("div",{children:(0,xo.jsx)(Ug,{value:"count: "+this.props.encounterSlot.count,downEnabled:this.props.encounterSlot.count>1,onNudgeValue:e=>this.props.nudgeValue(this.props.encounterSlot,"count",e)})})}getNameSection(){return this.props.slotInfo.members.map((e=>(0,xo.jsx)(Bo,{text:e.name,onChange:t=>this.props.changeValue(e,"name",t)},e.id)))}getFactionSection(){return(0,xo.jsx)("div",{children:(0,xo.jsx)(Ng,{options:ro.arrayToItems(["foe","neutral","ally"]),selectedID:this.props.encounterSlot.faction,onSelect:e=>this.props.changeValue(this.props.encounterSlot,"faction",e)})})}render(){let e=this.props.monster.name||"unnamed monster",t=null;switch(this.props.view){case"initiative":e+=" (1d20 "+oo.modifier(this.props.monster.abilityScores.dex)+")",t=this.getInitSection();break;case"hit points":e+=" ("+mo.getTypicalHPString(this.props.monster)+")",t=this.getHPSection();break;case"count":t=this.getCountSection();break;case"names":t=this.getNameSection();break;case"faction":t=this.getFactionSection()}return(0,xo.jsx)(Sg,{children:(0,xo.jsxs)("div",{className:"combatant-setup",children:[(0,xo.jsx)("div",{className:"subheading",children:e}),t]})})}}class Xy extends c.Component{constructor(e){super(e),this.state={condition:e.condition}}setCondition(e){if(this.state.condition.name!==e){const t=this.state.condition;t.name=e,t.level=1,t.text="",this.setState({condition:t})}}setCustomText(e){const t=this.state.condition;t.text=e,this.setState({condition:t})}setDuration(e){let t=null;switch(e){case"saves":t=so.createConditionDurationSaves();break;case"combatant":t=so.createConditionDurationCombatant();break;case"rounds":t=so.createConditionDurationRounds()}const n=this.state.condition;n.duration=t,this.setState({condition:n})}changeValue(e,t,n){e[t]=n,this.setState({condition:this.state.condition})}nudgeValue(e,t,n){let r=e[t]+n;"level"===t&&(r=Math.max(r,1),r=Math.min(r,6)),"count"===t&&(r=Math.max(r,1)),"saveDC"===t&&(r=Math.max(r,0)),e[t]=r,this.setState({condition:this.state.condition})}render(){try{const e=Ao.map((e=>{let t=null;const n=[];if(e===this.state.condition.name&&("exhaustion"===e&&(t=(0,xo.jsx)(Ug,{value:this.props.condition.level,label:"exhaustion",downEnabled:this.props.condition.level>1,upEnabled:this.props.condition.level<6,onNudgeValue:e=>this.nudgeValue(this.props.condition,"level",e)})),"custom"===e&&(t=(0,xo.jsx)(Bo,{text:this.state.condition.text,placeholder:"",onChange:e=>this.setCustomText(e)})),"custom"!==this.state.condition.name)){const e=oo.conditionText(this.state.condition);for(let t=0;t!==e.length;++t)n.push((0,xo.jsx)("li",{className:"section",children:e[t]},t))}const r=this.props.combatants.filter((e=>"monster"===e.type)).some((t=>!!t&&-1!==t.conditionImmunities.indexOf(e)));return{id:e,text:e,details:(0,xo.jsxs)("div",{children:[t,(0,xo.jsx)("ul",{children:n})]},e),disabled:r}})),t=[{id:"start",text:"start of turn"},{id:"end",text:"end of turn"}],n=this.props.allCombatants.filter((e=>"placeholder"!==e.type)).map((e=>{const t=e;return{id:t.id,text:t.displayName||t.name||"unnamed monster"}}));ro.sort(n,[{field:"text",dir:"asc"}]);const r=[{id:"none",text:"until removed (default)",details:(0,xo.jsx)("div",{className:"section",children:(0,xo.jsx)("div",{children:"the condition persists until it is manually removed"})})},{id:"saves",text:"until a successful save",details:(0,xo.jsxs)("div",{children:[(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("div",{className:"subheading",children:"number of saves required"}),(0,xo.jsx)(Ug,{value:this.props.condition.duration?this.props.condition.duration.count:"",downEnabled:!!this.props.condition.duration&&this.props.condition.duration.count>1,onNudgeValue:e=>this.nudgeValue(this.props.condition.duration,"count",e)})]}),(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("div",{className:"subheading",children:"save dc"}),(0,xo.jsx)(Ug,{value:this.props.condition.duration?"dc "+this.props.condition.duration.saveDC:"",downEnabled:!!this.props.condition.duration&&this.props.condition.duration.saveDC>0,onNudgeValue:e=>this.nudgeValue(this.props.condition.duration,"saveDC",e)})]}),(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("div",{className:"subheading",children:"type of save"}),(0,xo.jsx)(Ng,{options:ro.arrayToItems(["str","dex","con","int","wis","cha","death"]),selectedID:this.props.condition.duration?this.props.condition.duration.saveType:null,onSelect:e=>this.changeValue(this.props.condition.duration,"saveType",e)})]}),(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("div",{className:"subheading",children:"make the save at the start or end of the turn"}),(0,xo.jsx)(Ng,{options:t,selectedID:this.props.condition.duration?this.props.condition.duration.point:null,onSelect:e=>this.changeValue(this.props.condition.duration,"point",e)})]})]})},{id:"combatant",text:"until someone's next turn",details:(0,xo.jsxs)("div",{children:[(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("div",{className:"subheading",children:"start or end of the turn"}),(0,xo.jsx)(Ng,{options:t,selectedID:this.props.condition.duration?this.props.condition.duration.point:null,onSelect:e=>this.changeValue(this.props.condition.duration,"point",e)})]}),(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("div",{className:"subheading",children:"combatant"}),(0,xo.jsx)(Qf,{options:n,selectedID:this.props.condition.duration&&this.props.condition.duration.combatantID||void 0,onSelect:e=>this.changeValue(this.props.condition.duration,"combatantID",e)})]})]})},{id:"rounds",text:"for a number of rounds",details:(0,xo.jsx)("div",{children:(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("div",{className:"subheading",children:"number of rounds"}),(0,xo.jsx)(Ug,{value:this.props.condition.duration?this.props.condition.duration.count:"",downEnabled:!!this.props.condition.duration&&this.props.condition.duration.count>1,onNudgeValue:e=>this.nudgeValue(this.props.condition.duration,"count",e)})]})})}];return(0,xo.jsxs)(Os,{className:"full-height",children:[(0,xo.jsxs)(zs,{span:12,className:"scrollable",children:[(0,xo.jsx)("div",{className:"heading",children:"condition"}),(0,xo.jsx)(zv,{items:e,selectedItemID:this.state.condition.name,onSelect:e=>this.setCondition(e)})]}),(0,xo.jsxs)(zs,{span:12,className:"scrollable",children:[(0,xo.jsx)("div",{className:"heading",children:"duration"}),(0,xo.jsx)(zv,{items:r,selectedItemID:this.state.condition.duration?this.state.condition.duration.type:"none",onSelect:e=>this.setDuration(e)})]})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"ConditionModal",error:DB})}}}class Jy extends c.Component{render(){try{if(0===this.props.data.length)return null;const e=Math.max(...this.props.data.map((e=>e.value)));let t;if(this.props.collapse)t=this.props.data.filter((e=>e.value>0));else{const e=this.props.data.find((e=>e.value>0));this.props.data.reverse();const n=this.props.data.find((e=>e.value>0));this.props.data.reverse();const r=e?this.props.data.indexOf(e):0,s=n?this.props.data.indexOf(n):this.props.data.length-1;t=this.props.data.slice(r,s+1)}const n=t.map((t=>(0,xo.jsx)("div",{className:"bar-container",children:(0,xo.jsx)("div",{className:"bar",style:{width:"calc((100% - 1px) * "+t.value+" / "+e+")"},children:(0,xo.jsxs)("div",{className:"label",children:[t.text,": ",this.props.onFormatValue(t.value)]})})},t.text)));return(0,xo.jsx)("div",{className:"plot",children:n})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"ChartPanel",error:DB})}}}Jy.defaultProps={collapse:!1,onFormatValue:e=>e.toString()};class Zy extends c.Component{constructor(e){super(e),this.state={chart:"challenge"}}selectChart(e){this.setState({chart:e})}render(){try{const e=[];if(this.props.groups.forEach((t=>t.monsters.forEach((t=>e.push(t))))),0===e.length)return null;let t=[];switch(this.state.chart){case"challenge":t=[0,.125,.25,.5,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30].map((t=>({text:"cr "+oo.challenge(t),value:e.filter((e=>e.challenge===t)).length})));break;case"size":t=co.map((t=>({text:t,value:e.filter((e=>e.size===t)).length})));break;case"type":t=uo.map((t=>({text:t,value:e.filter((e=>e.category===t)).length})));break;case"role":t=ho.map((t=>({text:t,value:e.filter((e=>e.role===t)).length})))}const n=[{id:"challenge",text:"challenge rating"},{id:"size",text:"size"},{id:"type",text:"type"},{id:"role",text:"role"}];return(0,xo.jsxs)("div",{className:"scrollable padded",children:[(0,xo.jsx)(Ng,{options:n,selectedID:this.state.chart,onSelect:e=>this.selectChart(e)}),(0,xo.jsx)(Jy,{data:t})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"DemographicsModal",error:DB})}}}class $y extends c.Component{render(){try{const e=(0,xo.jsx)(Bf,{children:this.props.content});return(0,xo.jsx)("div",{className:"scrollable padded",children:e})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"MarkdownModal",error:DB})}}}class ew extends c.Component{render(){try{const e=[];this.props.encounter.slots.forEach((t=>e.push(t))),this.props.encounter.waves.forEach((t=>{t.slots.forEach((t=>{const n=e.find((e=>e.monsterID===t.monsterID&&e.monsterThemeID===t.monsterThemeID));n?n.count+=t.count:e.push(t)}))}));const t=e.map((e=>{let t=this.props.getMonster(e.monsterID);if(t){if(e.monsterThemeID){const n=this.props.getMonster(e.monsterThemeID);n&&(t=mo.applyTheme(t,n))}e.deltaCR&&(t=mo.adjustCR(t,e.deltaCR));let n=t.size+" "+t.category;return t.tag&&(n+=" ("+t.tag+")"),(0,xo.jsxs)(Sg,{children:[(0,xo.jsx)("div",{className:"heading",children:t.name||"unnamed monster"}),(0,xo.jsxs)("div",{className:"content-then-info",children:[(0,xo.jsxs)("div",{className:"content",children:[(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("b",{children:"type"})," ",n.toLowerCase()]}),(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("b",{children:"features"})," ",t.traits.map((e=>e.name||"unnamed feature")).sort().join(", ").toLowerCase()]})]}),(0,xo.jsx)("div",{className:"info",children:(0,xo.jsxs)("div",{className:"subheading",children:["x ",e.count]})})]})]},e.id)}return null}));return(0,xo.jsxs)("div",{className:"scrollable padded",children:[(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"use this list to help select the miniatures you'll need to run this encounter"})}),t]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"MinisChecklistModal",error:DB})}}}const tw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};var nw=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:tw}))};const rw=c.forwardRef(nw);const sw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"};var aw=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:sw}))};const iw=c.forwardRef(aw);function ow(){return"function"===typeof BigInt}function lw(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),(t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,"")).startsWith(".")&&(t="0".concat(t));var r=t||"0",s=r.split("."),a=s[0]||"0",i=s[1]||"0";"0"===a&&"0"===i&&(n=!1);var o=n?"-":"";return{negative:n,negativeStr:o,trimStr:r,integerStr:a,decimalStr:i,fullStr:"".concat(o).concat(r)}}function Aw(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function cw(e){var t=String(e);if(Aw(e)){var n=Number(t.slice(t.indexOf("e-")+2)),r=t.match(/\.(\d+)/);return(null===r||void 0===r?void 0:r[1])&&(n+=r[1].length),n}return t.includes(".")&&dw(t)?t.length-t.indexOf(".")-1:0}function uw(e){var t=String(e);if(Aw(e)){if(e>Number.MAX_SAFE_INTEGER)return String(ow()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(ow()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(cw(t))}return lw(t).fullStr}function dw(e){return"number"===typeof e?!Number.isNaN(e):!!e&&(/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e))}function hw(e){var t="number"===typeof e?uw(e):lw(e).fullStr;return t.includes(".")?lw(t.replace(/(\d)\.(\d)/g,"$1$2.")).fullStr:e+"0"}var pw=function(){function e(t){$e(this,e),this.origin="",this.number=void 0,this.empty=void 0,(t||0===t)&&String(t).trim()?(this.origin=String(t),this.number=Number(t)):this.empty=!0}return tt(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=Number(t);if(Number.isNaN(n))return this;var r=this.number+n;if(r>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var s=Math.max(cw(this.number),cw(n));return new e(r.toFixed(s))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toNumber()===(null===e||void 0===e?void 0:e.toNumber())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this.isInvalidate()?"":uw(this.number):this.origin}}]),e}(),mw=function(){function e(t){if($e(this,e),this.origin="",this.negative=void 0,this.integer=void 0,this.decimal=void 0,this.decimalLen=void 0,this.empty=void 0,this.nan=void 0,(t||0===t)&&String(t).trim())if(this.origin=String(t),"-"!==t){var n=t;if(Aw(n)&&(n=Number(n)),dw(n="string"===typeof n?n:uw(n))){var r=lw(n);this.negative=r.negative;var s=r.trimStr.split(".");this.integer=BigInt(s[0]);var a=s[1]||"0";this.decimal=BigInt(a),this.decimalLen=a.length}else this.nan=!0}else this.nan=!0;else this.empty=!0}return tt(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(e){var t="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(e,"0"));return BigInt(t)}},{key:"negate",value:function(){var t=new e(this.toString());return t.negative=!t.negative,t}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=new e(t);if(n.isInvalidate())return this;var r=Math.max(this.getDecimalStr().length,n.getDecimalStr().length),s=lw((this.alignDecimal(r)+n.alignDecimal(r)).toString()),a=s.negativeStr,i=s.trimStr,o="".concat(a).concat(i.padStart(r+1,"0"));return new e("".concat(o.slice(0,-r),".").concat(o.slice(-r)))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toString()===(null===e||void 0===e?void 0:e.toString())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this.isInvalidate()?"":lw("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}();function fw(e){return ow()?new mw(e):new pw(e)}function gw(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(""===e)return"";var s=lw(e),a=s.negativeStr,i=s.integerStr,o=s.decimalStr,l="".concat(t).concat(o),A="".concat(a).concat(i);if(n>=0){var c=Number(o[n]);return c>=5&&!r?gw(fw(e).add("".concat(a,"0.").concat("0".repeat(n)).concat(10-c)).toString(),t,n,r):0===n?A:"".concat(A).concat(t).concat(o.padEnd(n,"0").slice(0,n))}return".0"===l?A:"".concat(A).concat(l)}function vw(e){var t=e.prefixCls,n=e.upNode,r=e.downNode,s=e.upDisabled,a=e.downDisabled,i=e.onStep,l=c.useRef(),A=c.useRef();A.current=i;var u=function(e,t){e.preventDefault(),A.current(t),l.current=setTimeout((function e(){A.current(t),l.current=setTimeout(e,200)}),600)},d=function(){clearTimeout(l.current)};if(c.useEffect((function(){return d}),[]),qo())return null;var h="".concat(t,"-handler"),p=y()(h,"".concat(h,"-up"),o({},"".concat(h,"-up-disabled"),s)),m=y()(h,"".concat(h,"-down"),o({},"".concat(h,"-down-disabled"),a)),f={unselectable:"on",role:"button",onMouseUp:d,onMouseLeave:d};return c.createElement("div",{className:"".concat(h,"-wrap")},c.createElement("span",Oe({},f,{onMouseDown:function(e){u(e,!0)},"aria-label":"Increase Value","aria-disabled":s,className:p}),n||c.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-up-inner")})),c.createElement("span",Oe({},f,{onMouseDown:function(e){u(e,!1)},"aria-label":"Decrease Value","aria-disabled":a,className:m}),r||c.createElement("span",{unselectable:"on",className:"".concat(t,"-handler-down-inner")})))}var yw=["prefixCls","className","style","min","max","step","defaultValue","value","disabled","readOnly","upHandler","downHandler","keyboard","controls","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep"],ww=function(e,t){return e||t.isEmpty()?t.toString():t.toNumber()},bw=function(e){var t=fw(e);return t.isInvalidate()?null:t},xw=c.forwardRef((function(e,t){var n,r=e.prefixCls,s=void 0===r?"rc-input-number":r,i=e.className,l=e.style,A=e.min,u=e.max,d=e.step,h=void 0===d?1:d,p=e.defaultValue,m=e.value,v=e.disabled,w=e.readOnly,b=e.upHandler,x=e.downHandler,B=e.keyboard,C=e.controls,k=void 0===C||C,S=e.stringMode,E=e.parser,j=e.formatter,F=e.precision,I=e.decimalSeparator,Q=e.onChange,M=e.onInput,U=e.onPressEnter,N=e.onStep,T=g(e,yw),D="".concat(s,"-input"),H=c.useRef(null),L=f(c.useState(!1),2),P=L[0],O=L[1],R=c.useRef(!1),V=c.useRef(!1),K=c.useRef(!1),z=f(c.useState((function(){return fw(null!==m&&void 0!==m?m:p)})),2),_=z[0],G=z[1];var W=c.useCallback((function(e,t){if(!t)return F>=0?F:Math.max(cw(e),cw(h))}),[F,h]),Y=c.useCallback((function(e){var t=String(e);if(E)return E(t);var n=t;return I&&(n=n.replace(I,".")),n.replace(/[^\w.-]+/g,"")}),[E,I]),q=c.useRef(""),X=c.useCallback((function(e,t){if(j)return j(e,{userTyping:t,input:String(q.current)});var n="number"===typeof e?uw(e):e;if(!t){var r=W(n,t);if(dw(n)&&(I||r>=0))n=gw(n,I||".",r)}return n}),[j,W,I]),J=f(c.useState((function(){var e=null!==p&&void 0!==p?p:m;return _.isInvalidate()&&["string","number"].includes(a(e))?Number.isNaN(e)?"":e:X(_.toString(),!1)})),2),Z=J[0],$=J[1];function ee(e,t){$(X(e.isInvalidate()?e.toString(!1):e.toString(!t),t))}q.current=Z;var te=c.useMemo((function(){return bw(u)}),[u,F]),ne=c.useMemo((function(){return bw(A)}),[A,F]),re=c.useMemo((function(){return!(!te||!_||_.isInvalidate())&&te.lessEquals(_)}),[te,_]),se=c.useMemo((function(){return!(!ne||!_||_.isInvalidate())&&_.lessEquals(ne)}),[ne,_]),ae=function(e,t){var n=(0,c.useRef)(null);return[function(){try{var t=e.selectionStart,r=e.selectionEnd,s=e.value,a=s.substring(0,t),i=s.substring(r);n.current={start:t,end:r,value:s,beforeTxt:a,afterTxt:i}}catch(DB){}},function(){if(e&&n.current&&t)try{var r=e.value,s=n.current,a=s.beforeTxt,i=s.afterTxt,o=s.start,l=r.length;if(r.endsWith(i))l=r.length-n.current.afterTxt.length;else if(r.startsWith(a))l=a.length;else{var A=a[o-1],c=r.indexOf(A,o-1);-1!==c&&(l=c+1)}e.setSelectionRange(l,l)}catch(DB){Ae(!1,"Something warning of cursor restore. Please fire issue about this: ".concat(DB.message))}}]}(H.current,P),ie=f(ae,2),oe=ie[0],le=ie[1],ce=function(e){return te&&!e.lessEquals(te)?te:ne&&!ne.lessEquals(e)?ne:null},ue=function(e){return!ce(e)},de=function(e,t){var n,r=e,s=ue(r)||r.isEmpty();if(r.isEmpty()||t||(r=ce(r)||r,s=!0),!w&&!v&&s){var a=r.toString(),i=W(a,t);return i>=0&&(r=fw(gw(a,".",i)),ue(r)||(r=fw(gw(a,".",i,!0)))),r.equals(_)||(n=r,void 0===m&&G(n),null===Q||void 0===Q||Q(r.isEmpty()?null:ww(S,r)),void 0===m&&ee(r,t)),r}return _},he=function(){var e=(0,c.useRef)(0),t=function(){En.cancel(e.current)};return(0,c.useEffect)((function(){return t}),[]),function(n){t(),e.current=En((function(){n()}))}}(),pe=function e(t){if(oe(),$(t),!V.current){var n=fw(Y(t));n.isNaN()||de(n,!0)}null===M||void 0===M||M(t),he((function(){var n=t;E||(n=t.replace(/\u3002/g,".")),n!==t&&e(n)}))},me=function(e){var t;if(!(e&&re||!e&&se)){R.current=!1;var n=fw(K.current?hw(h):h);e||(n=n.negate());var r=(_||fw(0)).add(n.toString()),s=de(r,!1);null===N||void 0===N||N(ww(S,s),{offset:K.current?hw(h):h,type:e?"up":"down"}),null===(t=H.current)||void 0===t||t.focus()}},fe=function(e){var t=fw(Y(Z)),n=t;n=t.isNaN()?_:de(t,e),void 0!==m?ee(_,!1):n.isNaN()||ee(n,!1)};return Ht((function(){_.isInvalidate()||ee(_,!1)}),[F]),Ht((function(){var e=fw(m);G(e);var t=fw(Y(Z));e.equals(t)&&R.current&&!j||ee(e,R.current)}),[m]),Ht((function(){j&&le()}),[Z]),c.createElement("div",{className:y()(s,i,(n={},o(n,"".concat(s,"-focused"),P),o(n,"".concat(s,"-disabled"),v),o(n,"".concat(s,"-readonly"),w),o(n,"".concat(s,"-not-a-number"),_.isNaN()),o(n,"".concat(s,"-out-of-range"),!_.isInvalidate()&&!ue(_)),n)),style:l,onFocus:function(){O(!0)},onBlur:function(){fe(!1),O(!1),R.current=!1},onKeyDown:function(e){var t=e.which,n=e.shiftKey;R.current=!0,K.current=!!n,t===na.ENTER&&(V.current||(R.current=!1),fe(!1),null===U||void 0===U||U(e)),!1!==B&&!V.current&&[na.UP,na.DOWN].includes(t)&&(me(na.UP===t),e.preventDefault())},onKeyUp:function(){R.current=!1,K.current=!1},onCompositionStart:function(){V.current=!0},onCompositionEnd:function(){V.current=!1,pe(H.current.value)},onBeforeInput:function(){R.current=!0}},k&&c.createElement(vw,{prefixCls:s,upNode:b,downNode:x,upDisabled:re,downDisabled:se,onStep:me}),c.createElement("div",{className:"".concat(D,"-wrap")},c.createElement("input",Oe({autoComplete:"off",role:"spinbutton","aria-valuemin":A,"aria-valuemax":u,"aria-valuenow":_.isInvalidate()?null:_.toString(),step:h},T,{ref:Ft(H,t),className:D,value:Z,onChange:function(e){pe(e.target.value)},disabled:v,readOnly:w}))))}));xw.displayName="InputNumber";const Bw=xw;Ts("warning","error","");function Cw(e,t,n){return y()(o(o(o(o(o({},"".concat(e,"-status-success"),"success"===t),"".concat(e,"-status-warning"),"warning"===t),"".concat(e,"-status-error"),"error"===t),"".concat(e,"-status-validating"),"validating"===t),"".concat(e,"-has-feedback"),n))}var kw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const Sw=c.forwardRef((function(e,t){var n=c.useContext(jr),r=n.getPrefixCls,s=n.direction,i=c.useContext(ts),l=f(c.useState(!1),2),A=l[0],u=l[1],d=c.useRef(null);c.useImperativeHandle(t,(function(){return d.current}));var h=e.className,p=e.size,m=e.disabled,g=e.prefixCls,v=e.addonBefore,w=e.addonAfter,b=e.prefix,x=e.bordered,B=void 0===x||x,C=e.readOnly,k=e.status,S=e.controls,E=kw(e,["className","size","disabled","prefixCls","addonBefore","addonAfter","prefix","bordered","readOnly","status","controls"]),j=r("input-number",g),F=Ri(j,s),I=F.compactSize,Q=F.compactItemClassnames,M=c.createElement(iw,{className:"".concat(j,"-handler-up-inner")}),U=c.createElement(rw,{className:"".concat(j,"-handler-down-inner")}),N="boolean"===typeof S?S:void 0;"object"===a(S)&&(M="undefined"===typeof S.upIcon?M:c.createElement("span",{className:"".concat(j,"-handler-up-inner")},S.upIcon),U="undefined"===typeof S.downIcon?U:c.createElement("span",{className:"".concat(j,"-handler-down-inner")},S.downIcon));var T=(0,c.useContext)(Mi),D=T.hasFeedback,H=T.status,L=T.isFormItemInput,P=T.feedbackIcon,O=function(e,t){return t||e}(H,k),R=I||p||i,V=c.useContext(Zr),K=null!==m&&void 0!==m?m:V,z=y()(o(o(o(o(o({},"".concat(j,"-lg"),"large"===R),"".concat(j,"-sm"),"small"===R),"".concat(j,"-rtl"),"rtl"===s),"".concat(j,"-borderless"),!B),"".concat(j,"-in-form-item"),L),Cw(j,O),Q,h),_=c.createElement(Bw,Oe({ref:d,disabled:K,className:z,upHandler:M,downHandler:U,prefixCls:j,readOnly:C,controls:N},E));if(null!=b||D){var G=y()("".concat(j,"-affix-wrapper"),Cw("".concat(j,"-affix-wrapper"),O,D),o(o(o(o(o(o(o(o({},"".concat(j,"-affix-wrapper-focused"),A),"".concat(j,"-affix-wrapper-disabled"),e.disabled),"".concat(j,"-affix-wrapper-sm"),"small"===i),"".concat(j,"-affix-wrapper-lg"),"large"===i),"".concat(j,"-affix-wrapper-rtl"),"rtl"===s),"".concat(j,"-affix-wrapper-readonly"),C),"".concat(j,"-affix-wrapper-borderless"),!B),"".concat(h),!(v||w)&&h));_=c.createElement("div",{className:G,style:e.style,onMouseUp:function(){return d.current.focus()}},b&&c.createElement("span",{className:"".concat(j,"-prefix")},b),ac(_,{style:null,value:e.value,onFocus:function(t){var n;u(!0),null===(n=e.onFocus)||void 0===n||n.call(e,t)},onBlur:function(t){var n;u(!1),null===(n=e.onBlur)||void 0===n||n.call(e,t)}}),D&&c.createElement("span",{className:"".concat(j,"-suffix")},P))}if(null!=v||null!=w){var W="".concat(j,"-group"),Y="".concat(W,"-addon"),q=v?c.createElement("div",{className:Y},v):null,X=w?c.createElement("div",{className:Y},w):null,J=y()("".concat(j,"-wrapper"),W,o({},"".concat(W,"-rtl"),"rtl"===s)),Z=y()("".concat(j,"-group-wrapper"),o(o(o({},"".concat(j,"-group-wrapper-sm"),"small"===i),"".concat(j,"-group-wrapper-lg"),"large"===i),"".concat(j,"-group-wrapper-rtl"),"rtl"===s),Cw("".concat(j,"-group-wrapper"),O,D),h);_=c.createElement("div",{className:Z,style:e.style},c.createElement("div",{className:J},q&&c.createElement(Vi,null,c.createElement(Ui,{status:!0,override:!0},q)),ac(_,{style:null,disabled:K}),X&&c.createElement(Vi,null,c.createElement(Ui,{status:!0,override:!0},X))))}return _}));class Ew extends c.Component{constructor(e){super(e),this.state={monsterData:e.monsterData,mapData:e.mapData,encounterData:e.encounterData,customPartySize:5,customPartyLevel:1}}getMonsterSection(e){const t=mo.filterMonsters(this.props.library,e.cr,e.size,e.type,e.role);let n="challenge rating "+oo.challenge(e.cr);return e.size&&(n+=" "+e.size),e.type&&(n+=" "+e.type),e.role&&(n+=" ("+e.role+")"),(0,xo.jsxs)("div",{children:[(0,xo.jsxs)(Uf,{children:[(0,xo.jsx)(eg,{display:t.length>=2,children:(0,xo.jsxs)("div",{className:"section",children:["a ",(0,xo.jsx)("b",{children:n})," monster will be created by splicing together ",(0,xo.jsxs)("b",{children:[t.length," existing monsters"]})]})}),(0,xo.jsx)(eg,{display:t.length<2,children:(0,xo.jsxs)("div",{className:"section",children:["there are not enough ",(0,xo.jsx)("b",{children:n})," monsters to splice together"]})})]}),(0,xo.jsxs)(Os,{gutter:10,children:[(0,xo.jsxs)(zs,{span:6,children:[(0,xo.jsx)("div",{className:"subheading",children:"challenge rating"}),(0,xo.jsx)(Ug,{value:oo.challenge(e.cr),onNudgeValue:t=>{e.cr=oo.nudgeChallenge(e.cr,t),this.setState({monsterData:e},(()=>{this.props.onUpdated()}))}})]}),(0,xo.jsxs)(zs,{span:6,children:[(0,xo.jsx)("div",{className:"subheading",children:"size"}),(0,xo.jsx)(ig,{label:"specify the size",checked:null!==e.size,onChecked:t=>{e.size=t?"medium":null,this.setState({monsterData:e},(()=>{this.props.onUpdated()}))}}),(0,xo.jsx)(eg,{display:null!==e.size,children:(0,xo.jsx)(Ug,{value:e.size,downEnabled:"tiny"!==e.size,upEnabled:"gargantuan"!==e.size,onNudgeValue:t=>{e.size=oo.nudgeSize(e.size,t),this.setState({monsterData:e},(()=>{this.props.onUpdated()}))}})})]}),(0,xo.jsxs)(zs,{span:6,children:[(0,xo.jsx)("div",{className:"subheading",children:"type"}),(0,xo.jsx)(ig,{label:"specify the type",checked:null!==e.type,onChecked:t=>{e.type=t?"humanoid":null,this.setState({monsterData:e},(()=>{this.props.onUpdated()}))}}),(0,xo.jsx)(eg,{display:null!==e.type,children:(0,xo.jsx)(zv,{items:uo.map((e=>({id:e,text:e}))),selectedItemID:e.type,onSelect:t=>{e.type=t,this.setState({monsterData:e},(()=>{this.props.onUpdated()}))}})})]}),(0,xo.jsxs)(zs,{span:6,children:[(0,xo.jsx)("div",{className:"subheading",children:"role"}),(0,xo.jsx)(ig,{label:"specify the role",checked:null!==e.role,onChecked:t=>{e.role=t?"soldier":null,this.setState({monsterData:e},(()=>{this.props.onUpdated()}))}}),(0,xo.jsx)(eg,{display:null!==e.role,children:(0,xo.jsx)(zv,{items:ho.map((e=>({id:e,text:e}))),selectedItemID:e.role,onSelect:t=>{e.role=t,this.setState({monsterData:e},(()=>{this.props.onUpdated()}))}})})]})]})]})}getMapSection(e){return(0,xo.jsxs)("div",{children:[(0,xo.jsx)(Uf,{children:(0,xo.jsxs)("div",{className:"section",children:["the map will be created by adding tiles until there are ",(0,xo.jsxs)("b",{children:[e.areas," areas"]})]})}),(0,xo.jsx)(Ug,{label:"areas",value:e.areas,downEnabled:e.areas>1,onNudgeValue:t=>{e.areas+=t,this.setState({mapData:e},(()=>{this.props.onUpdated()}))}})]})}setType(e){const t=this.state.encounterData;t.type=e,this.setState({encounterData:t},(()=>{this.props.onUpdated()}))}setXP(e){const t=this.state.encounterData;t.xp=Math.max(0,e),this.setState({encounterData:t},(()=>{this.props.onUpdated()}))}setParty(e,t,n){const r=this.state.encounterData;r.partyID=e,r.xp=this.calculateXP(r,t,n),this.setState({encounterData:r,customPartySize:t,customPartyLevel:n},(()=>{this.props.onUpdated()}))}setDifficulty(e){const t=this.state.encounterData;t.difficulty=e,t.xp=this.calculateXP(t,this.state.customPartySize,this.state.customPartyLevel),this.setState({encounterData:t},(()=>{this.props.onUpdated()}))}setTemplate(e){const t=this.state.encounterData;t.template=e,this.setState({encounterData:t},(()=>{this.props.onUpdated()}))}changeFilterValue(e,t){const n=this.state.encounterData,r=n.filter;"challenge"===e?(r.challengeMin=t[0],r.challengeMax=t[1]):r[e]=t,n.filter=r,this.setState({encounterData:n},(()=>{this.props.onUpdated()}))}resetFilter(){const e=this.state.encounterData;e.filter=so.createMonsterFilter(),this.setState({encounterData:e},(()=>{this.props.onUpdated()}))}calculateXP(e,t,n){let r=0;if(""===e.partyID){const s=so.createParty();for(let e=0;e!==t;++e){const e=so.createPC();e.level=n,s.pcs.push(e)}r=io.getXPForDifficulty(s,e.difficulty)}else{const t=this.props.parties.find((t=>t.id===e.partyID));t&&(r=io.getXPForDifficulty(t,e.difficulty))}return r}getEncounterSection(e){const t=io.getFilterDescription(e.filter);let n="",r=null;switch(e.type){case"party":n=e.difficulty+" difficulty",r=(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"section subheading",children:"party"}),(0,xo.jsx)(Qf,{placeholder:"select party...",options:this.props.parties.map((e=>({id:e.id,text:e.name||"unnamed party"}))).concat({id:"",text:"custom party"}),selectedID:e.partyID,onSelect:e=>this.setParty(e,this.state.customPartySize,this.state.customPartyLevel),onClear:()=>this.setParty(null,this.state.customPartySize,this.state.customPartyLevel)}),(0,xo.jsxs)(eg,{display:""===e.partyID,children:[(0,xo.jsx)(Ug,{value:this.state.customPartySize,label:"party size",downEnabled:this.state.customPartySize>1,onNudgeValue:e=>this.setParty("",this.state.customPartySize+e,this.state.customPartyLevel)}),(0,xo.jsx)(Ug,{value:this.state.customPartyLevel,label:"party level",downEnabled:this.state.customPartyLevel>1,upEnabled:this.state.customPartyLevel<20,onNudgeValue:e=>this.setParty("",this.state.customPartySize,this.state.customPartyLevel+e)})]}),(0,xo.jsx)("div",{className:"section subheading",children:"difficulty"}),(0,xo.jsx)(Ug,{value:e.difficulty,downEnabled:"easy"!==e.difficulty,upEnabled:"deadly"!==e.difficulty,onNudgeValue:t=>this.setDifficulty(oo.nudgeDifficulty(e.difficulty,t))})]});break;case"xp":n=e.xp+" xp",r=(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"section subheading",children:"xp value"}),(0,xo.jsx)(Sw,{value:e.xp,min:100,step:1e3,onChange:e=>{const t=parseInt((null!==e&&void 0!==e?e:0).toString(),10);this.setXP(t)}})]})}let s=null;if(""!==e.template){const r="random"===e.template?"a random template":"the "+e.template+" template";s=(0,xo.jsxs)("div",{className:"section",children:["the encounter will be created by adding ",(0,xo.jsxs)("b",{children:["random ",t]})," to ",(0,xo.jsx)("b",{children:r})," until it reaches ",(0,xo.jsx)("b",{children:n})]})}else s=(0,xo.jsxs)("div",{className:"section",children:["the encounter will be created by adding ",(0,xo.jsxs)("b",{children:["random ",t]})," until it reaches ",(0,xo.jsx)("b",{children:n})]});return(0,xo.jsxs)("div",{children:[(0,xo.jsx)(Uf,{children:s}),(0,xo.jsxs)(Os,{gutter:10,children:[(0,xo.jsxs)(zs,{span:8,children:[(0,xo.jsx)("div",{className:"section subheading",children:"method"}),(0,xo.jsx)(Ng,{options:[{id:"party",text:"by difficulty"},{id:"xp",text:"by xp value"}],selectedID:e.type,onSelect:e=>this.setType(e)}),r]}),(0,xo.jsxs)(zs,{span:8,children:[(0,xo.jsx)("div",{className:"section subheading",children:"template"}),(0,xo.jsx)(ig,{label:"use an encounter template",checked:""!==e.template,onChecked:e=>this.setTemplate(e?"random":"")}),(0,xo.jsxs)(eg,{display:""!==e.template,children:[(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"select the template you would like to use"})}),(0,xo.jsx)(zv,{items:io.encounterTemplates(!0).map((e=>({id:e.name,text:e.name,details:(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)(eg,{display:"random"===e.name,children:(0,xo.jsx)("div",{children:"a random template"})}),e.slots.map(((e,t)=>(0,xo.jsxs)("div",{className:"content-then-info",children:[(0,xo.jsx)("div",{className:"content",children:e.roles.join(" / ")}),(0,xo.jsxs)("div",{className:"info",children:["min ",e.count]})]},t)))]})}))),selectedItemID:e.template,onSelect:e=>this.setTemplate(e)})]})]}),(0,xo.jsxs)(zs,{span:8,children:[(0,xo.jsx)("div",{className:"section subheading",children:"monsters"}),(0,xo.jsx)(ov,{filter:e.filter,prefix:"use",showName:!1,showRoles:!1,changeValue:(e,t)=>this.changeFilterValue(e,t),resetFilter:()=>this.resetFilter()})]})]})]})}render(){try{let e=null;this.state.monsterData&&(e=this.getMonsterSection(this.state.monsterData));let t=null;this.state.encounterData&&(t=this.getEncounterSection(this.state.encounterData));let n=null;this.state.mapData&&(n=this.getMapSection(this.state.mapData));const r=!!this.state.mapData&&!!this.state.encounterData;return(0,xo.jsxs)("div",{className:"scrollable padded",children:[e,(0,xo.jsx)(eg,{display:r,children:(0,xo.jsx)("div",{className:"heading",children:"for the map"})}),n,(0,xo.jsx)(eg,{display:r,children:(0,xo.jsx)("div",{className:"heading",children:"for the encounters"})}),t]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"RandomGeneratorModal",error:DB})}}}class jw{static getAward(e){var t;return null!==(t=jw.getAwards().find((t=>t.id===e)))&&void 0!==t?t:null}static getAwards(){const e=[jw.createAward("award-003","social","Peace Sells","Reconcile differences between mortal enemies"),jw.createAward("award-001","social","I Speak Jive","Act as the party translator"),jw.createAward("award-004","social","Well I Didn't Vote For Him","Legitimately achieve high political status"),jw.createAward("award-024","social","Maybe We Can Reason With It","Defeat an enemy using only social skills"),jw.createAward("award-006","social","Objection","Win a legal case"),jw.createAward("award-009","social","Hey, It's Enrico Palazzo","Beat a performance check while in disguise"),jw.createAward("award-035","social","Chewbacca Defense","Successfully use poor logic in a persuasion check"),jw.createAward("award-060","social","Bottoms Up","Win a drinking contest"),jw.createAward("award-007","social","Dobby Is Free","Team up with an NPC sidekick"),jw.createAward("award-019","social","Missionary Position","Convert an NPC's religion"),jw.createAward("award-041","social","Do You Hear The People Sing?","Overthrow a government"),jw.createAward("award-046","social","You Got Me Monologuing","Take advantage of a talkative villain"),jw.createAward("award-083","social","Sexual Tyrannosaurus","Seduce an NPC"),jw.createAward("award-000","exploration","Crikey","Tame an animal"),jw.createAward("award-014","exploration","Oh Yeah","Burst through a wall"),jw.createAward("award-033","exploration","Safety First","Discover a trap before it discovers you"),jw.createAward("award-050","exploration","Who Needs Sleep?","Go 3 days without a long rest"),jw.createAward("award-076","exploration","Glutton For Punishment","Knowingly activate a trap"),jw.createAward("award-101","exploration","Suck It, Boromir","Simply walk into a well-guarded place"),jw.createAward("award-049","exploration","And Stay Out","Get kicked out of a public establishment"),jw.createAward("award-103","exploration","African Or European?","Spend more than 30 minutes on a puzzle"),jw.createAward("award-022","combat","Hippie","Deal no damage in an encounter"),jw.createAward("award-042","combat","Are You Not Entertained?","Finish an encounter within 3 rounds"),jw.createAward("award-043","combat","Make It Last","Finish an encounter after at least 10 rounds"),jw.createAward("award-053","combat","Get Over Here","Grapple enemies 3 times in an encounter"),jw.createAward("award-021","combat","Nuke It From Orbit","Deal 20 overkill damage to an enemy"),jw.createAward("award-023","combat","Walking Guillotine","Decapitate 20 enemies"),jw.createAward("award-037","combat","It's Super Effective","Trigger an enemy's vulnerability"),jw.createAward("award-055","combat","Avengers Assemble","Have the party team up on a single enemy"),jw.createAward("award-056","combat","You Merely Adopted The Dark","Hit an enemy in complete darkness"),jw.createAward("award-077","combat","I've Fallen And I Can't Get Up","Remain prone for 3 rounds"),jw.createAward("award-078","combat","Hadouken","Lob a flaming projectile at en enemy"),jw.createAward("award-079","combat","French Tactics","Retreat from 5 battles"),jw.createAward("award-081","combat","My Turn","Revive an enemy in order to kill them yourself"),jw.createAward("award-093","combat","Your Mother Was A Hamster","Taunt an enemy to get their attention"),jw.createAward("award-032","combat","Butterfingers","Disarm an NPC"),jw.createAward("award-054","combat","Rasputin","Have 3 impairing conditions at once"),jw.createAward("award-097","combat","Imperial Marksmanship","Achieve only ranged misses in an encounter"),jw.createAward("award-025","murder","Finish Him","Deliver 10 coups de gr\xe2ce"),jw.createAward("award-094","murder","Clever Girl","Flank and kill an unsuspecting enemy"),jw.createAward("award-058","murder","This Is Sparta","Kill an enemy using falling damage"),jw.createAward("award-059","murder","Ain't Got Time To Bleed","Kill 3 enemies in an encounter while at half HP"),jw.createAward("award-062","murder","Sic Semper Tyrannis","Kill a beloved political figure"),jw.createAward("award-063","murder","Armaments 2:9-21","Kill an enemy with a holy weapon"),jw.createAward("award-064","murder","Showoff","Kill all enemies in an encounter by yourself"),jw.createAward("award-065","murder","Buzzkill","Kill an annoying NPC"),jw.createAward("award-066","murder","I Can Kill You With My Brain","Kill an enemy using only skill checks"),jw.createAward("award-067","murder","Dracarys","Kill an enemy with an animal"),jw.createAward("award-068","murder","Whose Life Is It Anyway?","Kill an enemy with an improvised weapon"),jw.createAward("award-069","murder","Finesse","Kill an enemy with no overkill damage"),jw.createAward("award-070","murder","Nothing Is True","Kill an enemy without being seen or heard"),jw.createAward("award-071","murder","Douple Tap","Kill an undead enemy with a headshot"),jw.createAward("award-072","murder","Long Live The King","Kill and replace a sovereign leader"),jw.createAward("award-073","murder","Sorry About The Mess","Kill an enemy in a public place"),jw.createAward("award-074","murder","Dark And Full Of Terrors","Kill an enemy in the name of a god"),jw.createAward("award-075","murder","Fatality","Kill an enemy using the environment"),jw.createAward("award-108","survival","Birth Of The Joker","Survive 50 points of acid damage"),jw.createAward("award-109","survival","Are You God Of Hammers?","Survive 50 points of bludgeoning damage"),jw.createAward("award-110","survival","Overlook Hotel","Survive 50 points of cold damage"),jw.createAward("award-111","survival","I'm Very Badly Burned","Survive 50 points of fire damage"),jw.createAward("award-112","survival","Is That All You Got?","Survive 50 points of force damage"),jw.createAward("award-113","survival","It's Electrifying","Survive 50 points of lightning damage"),jw.createAward("award-114","survival","Thriller","Survive 50 points of necrotic damage"),jw.createAward("award-115","survival","I'm A Leaf On The Wind","Survive 50 points of piercing damage"),jw.createAward("award-116","survival","Mithridates, He Died Old","Survive 50 points of poison damage"),jw.createAward("award-117","survival","Nosebleed","Survive 50 points of psychic damage"),jw.createAward("award-118","survival","So Bright I Gotta Wear Shades","Survive 50 points of radiant damage"),jw.createAward("award-119","survival","Just A Flesh Wound","Survive 50 points of slashing damage"),jw.createAward("award-120","survival","Loud Noises","Survive 50 points of thunder damage"),jw.createAward("award-098","survival","Gonna Need A Bigger Boat","Survive an encounter with a sea monster"),jw.createAward("award-099","survival","All Washed Up","Survive a shipwreck"),jw.createAward("award-045","survival","It's In The Pipes","Survive being petrified"),jw.createAward("award-008","survival","Stop, Drop, And Roll","Survive 3 rounds of ongoing fire damage"),jw.createAward("award-002","economic","Holla Holla Get Dolla","Amass 10,000 gold pieces"),jw.createAward("award-092","economic","Sticky Fingers","Steal 1,000 gold pieces"),jw.createAward("award-080","economic","My Precious","Retrieve a MacGuffin"),jw.createAward("award-106","economic","Bloodbath And Beyond","Open a shop"),jw.createAward("award-104","economic","Nothing To See Here","Take and / or give 20 bribes"),jw.createAward("award-090","economic","It Belongs In A Museum","Take an artifact from a dungeon"),jw.createAward("award-052","economic","Spare No Expense","Go broke"),jw.createAward("award-085","dice","Did You Break A Mirror?","Roll 2 natural 1s in a row"),jw.createAward("award-086","dice","Taxi!","Roll 2 natural 1s on an advantaged roll"),jw.createAward("award-087","dice","Single File Solar System","Roll 2 natural 20s in a row"),jw.createAward("award-088","dice","I Am A Golden God","Roll 2 natural 20s on a disadvantaged roll"),jw.createAward("award-039","dice","Never Tell Me The Odds","Succeed only because you rolled a 20"),jw.createAward("award-048","dice","A Bird In The Hand","Get a worse result on a reroll"),jw.createAward("award-051","dice","Who Needs Rules?","Go a full session without touching your dice"),jw.createAward("award-015","paragon","For King And Country","Successfully defend a royal life"),jw.createAward("award-034","paragon","Flawless Victory","The party takes 0 damage in an encounter"),jw.createAward("award-044","paragon","Breaker Of Chains","Free 20 captive people"),jw.createAward("award-082","paragon","All The World's A Stage","Roleplay your character exceptionally"),jw.createAward("award-095","paragon","I Volunteer As Tribute","Sacrifice yourself"),jw.createAward("award-096","paragon","Friendship Is Magic","Save a fellow PC"),jw.createAward("award-102","paragon","It Still Only Counts As One","Kill a large enemy by yourself"),jw.createAward("award-018","renegade","The Rains Of Castamere","Commit genocide"),jw.createAward("award-012","renegade","I'm Gotham's Reckoning","Destroy an entire city"),jw.createAward("award-084","renegade","Chaos Is A Ladder","Shift your alignment to chaotic"),jw.createAward("award-100","renegade","You Either Die A Hero...","Shift your alignment to evil"),jw.createAward("award-107","renegade","Sudden But Inevitable","Betray the party for your own gain"),jw.createAward("award-091","renegade","99 Red Balloons","Start a war"),jw.createAward("award-105","renegade","This Is Bat Country","Take drugs"),jw.createAward("award-013","renegade","Homewrecker","Break up an NPC relationship"),jw.createAward("award-016","oops","Did I Do That?","Cause a total party kill"),jw.createAward("award-010","oops","Tubthumping","Reach 0 HP twice in a single encounter"),jw.createAward("award-005","oops","Helen Keller","Become deafened and blinded simultaneously"),jw.createAward("award-028","oops","He's Dead, Jim","Die for the first time"),jw.createAward("award-029","oops","Fool Me Twice","Die for the second time"),jw.createAward("award-030","oops","Angered The Dice Gods","Die for the third time"),jw.createAward("award-026","oops","Was That Important?","Destroy an item necessary for a quest"),jw.createAward("award-057","oops","I Was Elected To Lead","Ignore a crucial plot point"),jw.createAward("award-047","oops","It's Not A Tumor","Get a permanent deformity"),jw.createAward("award-038","oops","She Turned Me Into A Newt","Be polymorphed against your will"),jw.createAward("award-040","oops","Keaton Was Keyser Soze","Fall for a red herring"),jw.createAward("award-089","misc","The Cardinal Sin","Deliberately split the party"),jw.createAward("award-031","misc","Karma","Experience revenge from an old enemy"),jw.createAward("award-036","misc","Get On With It","Talk out of character for a full minute"),jw.createAward("award-061","misc","Don't You Forget About Me","Meet with a recurring villain"),jw.createAward("award-020","misc","The Black Wind Howls","Correctly predict the death of another PC")];return ro.sort(e),e}static getCategories(){const e=[];return jw.getAwards().filter((e=>"misc"!==e.category)).forEach((t=>{e.includes(t.category)||e.push(t.category)})),e.sort(),e.push("misc"),e}static createAward(e,t,n,r){const s=so.createAward();return s.id=e,s.category=t,s.name=n,s.description=r,s}}const Fw={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M320 480c0 49.1 19.1 95.3 53.9 130.1 34.7 34.8 81 53.9 130.1 53.9h16c49.1 0 95.3-19.1 130.1-53.9 34.8-34.7 53.9-81 53.9-130.1V184H320v296zM184 352c0 41 26.9 75.8 64 87.6-37.1-11.9-64-46.7-64-87.6zm364 382.5C665 721.8 758.4 630.2 773.8 514 758.3 630.2 665 721.7 548 734.5zM250.2 514C265.6 630.2 359 721.8 476 734.5 359 721.7 265.7 630.2 250.2 514z",fill:t}},{tag:"path",attrs:{d:"M868 160h-92v-40c0-4.4-3.6-8-8-8H256c-4.4 0-8 3.6-8 8v40h-92a44 44 0 00-44 44v148c0 81.7 60 149.6 138.2 162C265.7 630.2 359 721.7 476 734.5v105.2H280c-17.7 0-32 14.3-32 32V904c0 4.4 3.6 8 8 8h512c4.4 0 8-3.6 8-8v-32.3c0-17.7-14.3-32-32-32H548V734.5C665 721.7 758.3 630.2 773.8 514 852 501.6 912 433.7 912 352V204a44 44 0 00-44-44zM248 439.6a91.99 91.99 0 01-64-87.6V232h64v207.6zM704 480c0 49.1-19.1 95.4-53.9 130.1-34.8 34.8-81 53.9-130.1 53.9h-16c-49.1 0-95.4-19.1-130.1-53.9-34.8-34.8-53.9-81-53.9-130.1V184h384v296zm136-128c0 41-26.9 75.8-64 87.6V232h64v120z",fill:e}}]}},name:"trophy",theme:"twotone"};var Iw=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Fw}))};const Qw=c.forwardRef(Iw);class Mw extends c.Component{render(){try{return(0,xo.jsx)(Sg,{children:(0,xo.jsxs)(Os,{gutter:10,align:"middle",children:[(0,xo.jsx)(zs,{span:4,children:(0,xo.jsx)(Qw,{style:{fontSize:"50px"},twoToneColor:"#d4af37"})}),(0,xo.jsxs)(zs,{span:20,children:[(0,xo.jsxs)("div",{className:"content-then-info",children:[(0,xo.jsx)("div",{className:"content",children:(0,xo.jsx)("div",{className:"section subheading",children:this.props.award.name.toLowerCase()})}),(0,xo.jsx)("div",{className:"info",children:(0,xo.jsx)(Qc,{children:this.props.award.category})})]}),(0,xo.jsx)("div",{className:"section",children:this.props.award.description.toLowerCase()}),this.props.children]})]})})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"AwardPanel",error:DB})}}}class Uw extends c.Component{render(){try{if(!this.props.source)return null;let e=null;switch(this.props.source.type){case"pc":e=(0,xo.jsx)(Ey,{pc:this.props.source});break;case"monster":e=(0,xo.jsx)(sg,{monster:this.props.source})}let t=null;"monster"===this.props.source.type&&(t=(0,xo.jsx)("div",{children:(0,xo.jsx)("button",{onClick:()=>yo.takeScreenshot("statblock"),children:"export statblock image"})}));let n=null;if(this.props.options.showAwards&&"pc"===this.props.source.type){const e=this.props.source.awards.map((e=>{const t=jw.getAward(e);return t?(0,xo.jsx)(Mw,{award:t},t.id):null}));e.length>0&&(n=(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"subheading",children:"awards"}),e]}))}return(0,xo.jsxs)("div",{className:"scrollable padded",children:[(0,xo.jsx)("div",{id:"statblock",children:e}),null!==t?(0,xo.jsx)("hr",{}):null,t,null!==n?(0,xo.jsx)("hr",{}):null,n]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"StatBlockModal",error:DB})}}}class Nw extends c.Component{success(){switch(this.props.notification.type){case"condition-save":case"condition-end":{const e=this.props.notification.data;e.duration&&("saves"!==e.duration.type&&"rounds"!==e.duration.type||(e.duration.count-=1,this.props.close(this.props.notification,0===e.duration.count)))}break;case"trait-recharge":this.props.notification.data.uses=0,this.props.close(this.props.notification,!1)}}render(){try{const e=this.props.notification.combatant,t=e.displayName||e.name||"unnamed monster";switch(this.props.notification.type){case"condition-save":{const e=this.props.notification.data,n="custom"===e.name?e.text:e.name,r=e.duration;let s=r.saveType.toString();return"death"!==s&&(s=s.toUpperCase()),(0,xo.jsxs)("div",{children:[(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("b",{children:t})," (",(0,xo.jsx)("i",{children:n}),") must make a ",s," save against dc ",r.saveDC]}),(0,xo.jsxs)(Os,{gutter:10,children:[(0,xo.jsx)(zs,{span:12,children:(0,xo.jsx)("button",{onClick:()=>this.success(),children:"success"})}),(0,xo.jsx)(zs,{span:12,children:(0,xo.jsx)("button",{onClick:()=>this.props.close(this.props.notification,!1),children:"failure"})})]})]})}case"condition-end":{const e=this.props.notification.data,n="custom"===e.name?e.text:e.name;return(0,xo.jsx)("div",{children:(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("b",{children:t})," is no longer affected by condition ",(0,xo.jsx)("b",{children:n})]})})}case"trait-recharge":{const e=this.props.notification.data;return(0,xo.jsxs)("div",{children:[(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("b",{children:t})," can attempt to recharge ",(0,xo.jsx)("b",{children:e.name})]}),(0,xo.jsx)("div",{className:"section",children:e.usage}),(0,xo.jsxs)(Os,{gutter:10,children:[(0,xo.jsx)(zs,{span:12,children:(0,xo.jsx)("button",{onClick:()=>this.success(),children:"recharge"})}),(0,xo.jsx)(zs,{span:12,children:(0,xo.jsx)("button",{onClick:()=>this.props.openSidebar(),children:"roll 1d6"})})]})]})}}}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"CombatNotificationPanel",error:DB})}}}Nw.defaultProps={openSidebar:null};class Tw extends c.Component{getDieTypeBox(e){const t=this.props.dice[e];return(0,xo.jsxs)("div",{className:t>0?"die-type":"die-type none",onClick:t=>this.dieTypeClicked(t,e,!t.ctrlKey),onContextMenu:t=>this.dieTypeClicked(t,e,!1),role:"button",children:[(0,xo.jsxs)("div",{className:"die-type-name",children:["d",100===e?"%":e]}),(0,xo.jsx)("div",{className:"die-type-value",children:t})]})}getConstantBox(){const e=this.props.constant;return(0,xo.jsxs)("div",{className:e>0?"die-type":"die-type none",onClick:e=>this.dieTypeClicked(e,0,!e.ctrlKey),onContextMenu:e=>this.dieTypeClicked(e,0,!1),role:"button",children:[(0,xo.jsx)("div",{className:"die-type-name",children:"+/-"}),(0,xo.jsx)("div",{className:"die-type-value",children:e})]})}dieTypeClicked(e,t,n){if(e.preventDefault(),0===t){const e=this.props.constant+(n?1:-1);this.props.setConstant(e)}else{const e=Math.max(this.props.dice[t]+(n?1:-1),0);this.props.setDie(t,e)}}render(){try{const e=this.props.dice[4]+this.props.dice[6]+this.props.dice[8]+this.props.dice[10]+this.props.dice[12]+this.props.dice[20]+this.props.dice[100];let t="";[100,20,12,10,8,6,4].forEach((e=>{0!==this.props.dice[e]&&(t&&(t+=" + "),t+=this.props.dice[e]+"d"+e)})),0!==this.props.constant&&(t&&(this.props.constant>0?t+=" + ":t+=" - "),t+=Math.abs(this.props.constant));let n=null;return n=1===e&&1===this.props.dice[20]?(0,xo.jsxs)(Os,{gutter:10,children:[(0,xo.jsx)(zs,{span:12,children:(0,xo.jsxs)("button",{onClick:()=>this.props.rollDice(t,""),children:["roll ",t]})}),(0,xo.jsx)(zs,{span:6,children:(0,xo.jsx)("button",{onClick:()=>this.props.rollDice(t+" (adv)","advantage"),children:"adv"})}),(0,xo.jsx)(zs,{span:6,children:(0,xo.jsx)("button",{onClick:()=>this.props.rollDice(t+" (dis)","disadvantage"),children:"dis"})})]}):(0,xo.jsx)("div",{children:(0,xo.jsxs)("button",{className:e>0?"":"disabled",onClick:()=>this.props.rollDice(t,""),children:["roll ",t]})}),(0,xo.jsxs)("div",{className:"die-roll-panel",children:[(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:(0,xo.jsxs)("div",{className:"die-types",children:[this.getDieTypeBox(4),this.getDieTypeBox(6),this.getDieTypeBox(8),this.getDieTypeBox(10),this.getDieTypeBox(12),this.getDieTypeBox(20),this.getDieTypeBox(100),this.getConstantBox()]})}),(0,xo.jsx)("div",{className:"icons",children:(0,xo.jsx)(Pe,{className:e>0?"die-reset-button":"die-reset-button disabled",title:"reset dice",onClick:()=>this.props.resetDice()})})]}),(0,xo.jsx)("hr",{}),n]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"DieRollPanel",error:DB})}}}class Dw extends c.Component{render(){try{let e=null;this.props.result.text&&(e=(0,xo.jsx)("div",{className:"section subheading",children:this.props.result.text}));const t=[];let n=0;if(this.props.result.rolls.forEach((e=>{let r="";20===e.sides&&(1===e.value&&(r="nat1"),20===e.value&&(r="nat20")),t.push((0,xo.jsxs)(Qc,{className:r,children:["d",e.sides,": ",(0,xo.jsx)("b",{children:e.value})]},e.id)),n+=e.value})),0!==this.props.result.constant){const e=this.props.result.constant>0?"+":"-";t.push((0,xo.jsxs)(Qc,{children:[e," ",(0,xo.jsx)("b",{children:Math.abs(this.props.result.constant)})]},"constant")),n+=this.props.result.constant}const r=""===this.props.result.mode?null:(0,xo.jsx)(qe,{className:"roll-icon "+this.props.result.mode,title:this.props.result.mode});return(0,xo.jsx)(Sg,{children:(0,xo.jsxs)("div",{className:"die-roll-result",children:[(0,xo.jsxs)("div",{className:"info",children:[e,(0,xo.jsxs)("div",{className:"rolls",children:[t,r]})]}),(0,xo.jsx)("div",{className:"sum",children:n})]})})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"DieRollResultPanel",error:DB})}}}Dw.defaultProps={text:null};class Hw extends c.Component{render(){try{const e=this.props.shortcuts.concat(this.props.tabs.map((e=>(0,xo.jsx)("div",{className:e.selected?"navigator-item selected":"navigator-item",onClick:()=>e.onSelect(),role:"button",children:e.text},e.id))));return(0,xo.jsx)("div",{className:"page-footer",children:e})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"PageFooter",error:DB})}}}Hw.defaultProps={tabs:[],shortcuts:[]};const Lw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M603.3 327.5l-246 178a7.95 7.95 0 000 12.9l246 178c5.3 3.8 12.7 0 12.7-6.5V643c0-10.2-4.9-19.9-13.2-25.9L457.4 512l145.4-105.2c8.3-6 13.2-15.6 13.2-25.9V334c0-6.5-7.4-10.3-12.7-6.5z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"left-circle",theme:"outlined"};var Pw=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Lw}))};const Ow=c.forwardRef(Pw);const Rw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M666.7 505.5l-246-178A8 8 0 00408 334v46.9c0 10.2 4.9 19.9 13.2 25.9L566.6 512 421.2 617.2c-8.3 6-13.2 15.6-13.2 25.9V690c0 6.5 7.4 10.3 12.7 6.5l246-178c4.4-3.2 4.4-9.8 0-13z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"right-circle",theme:"outlined"};var Vw=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Rw}))};const Kw=c.forwardRef(Vw);const zw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"};var _w=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:zw}))};const Gw=c.forwardRef(_w);class Ww extends c.Component{render(){try{const e=this.props.breadcrumbs.map((e=>(0,xo.jsx)("div",{className:"breadcrumb",onClick:()=>e.onClick(),role:"button",children:e.text},e.id)));let t=null;return this.props.onToggleSidebar&&(t=(0,xo.jsx)(Ow,{className:"toggle",title:"show sidebar",onClick:()=>this.props.onToggleSidebar()}),this.props.sidebarVisible&&(t=(0,xo.jsx)(Kw,{className:"toggle",title:"hide sidebar",onClick:()=>this.props.onToggleSidebar()}))),this.props.onToggleSettings&&(t=(0,xo.jsx)(Gw,{className:"toggle",title:"settings",onClick:()=>this.props.onToggleSettings()})),(0,xo.jsxs)("div",{className:"page-header",children:[(0,xo.jsx)("div",{className:"app-title",children:e}),t]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"PageHeader",error:DB})}}}Ww.defaultProps={sidebarVisible:!1,onToggleSidebar:null,onToggleSettings:null};const Yw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M876.6 239.5c-.5-.9-1.2-1.8-2-2.5-5-5-13.1-5-18.1 0L684.2 409.3l-67.9-67.9L788.7 169c.8-.8 1.4-1.6 2-2.5 3.6-6.1 1.6-13.9-4.5-17.5-98.2-58-226.8-44.7-311.3 39.7-67 67-89.2 162-66.5 247.4l-293 293c-3 3-2.8 7.9.3 11l169.7 169.7c3.1 3.1 8.1 3.3 11 .3l292.9-292.9c85.5 22.8 180.5.7 247.6-66.4 84.4-84.5 97.7-213.1 39.7-311.3zM786 499.8c-58.1 58.1-145.3 69.3-214.6 33.6l-8.8 8.8-.1-.1-274 274.1-79.2-79.2 230.1-230.1s0 .1.1.1l52.8-52.8c-35.7-69.3-24.5-156.5 33.6-214.6a184.2 184.2 0 01144-53.5L537 318.9a32.05 32.05 0 000 45.3l124.5 124.5a32.05 32.05 0 0045.3 0l132.8-132.8c3.7 51.8-14.4 104.8-53.6 143.9z"}}]},name:"tool",theme:"outlined"};var qw=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Yw}))};const Xw=c.forwardRef(qw);const Jw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};var Zw=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Jw}))};const $w=c.forwardRef(Zw);const eb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-260 72h96v209.9L621.5 312 572 347.4V136zm220 752H232V136h280v296.9c0 3.3 1 6.6 3 9.3a15.9 15.9 0 0022.3 3.7l83.8-59.9 81.4 59.4c2.7 2 6 3.1 9.4 3.1 8.8 0 16-7.2 16-16V136h64v752z"}}]},name:"book",theme:"outlined"};var tb=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:eb}))};const nb=c.forwardRef(tb),rb="15.31.1";class sb extends c.Component{constructor(e){super(e),this.state={view:"dojo",flag:""}}setView(e){this.setState({view:e})}setFlag(e){this.setState({flag:e})}addFlag(){const e=this.state.flag;this.setState({flag:""},(()=>{this.props.addFlag(e)}))}clearImages(){this.props.clearUnusedImages(),this.setState({view:this.state.view})}readFile(e){return e.text().then((e=>this.props.importAll(e))),!1}render(){try{let e=null;switch(this.state.view){case"dojo":e=(0,xo.jsxs)("div",{children:[(0,xo.jsxs)("div",{className:"section",children:["designed by ",(0,xo.jsx)("a",{href:"mailto:andy.aiken@live.co.uk",children:"andy aiken"})]}),(0,xo.jsxs)("div",{className:"section",children:["version ",(0,xo.jsx)("b",{children:rb})]}),(0,xo.jsxs)("div",{className:"section",children:["if you would like to raise a bug or request a new feature, you can do so here: ",(0,xo.jsx)("a",{href:"https://github.com/andyaiken/dojo",target:"_blank",rel:"noopener noreferrer",children:"repository"})]}),(0,xo.jsxs)("div",{className:"section",children:["the roadmap for planned new features can be found here: ",(0,xo.jsx)("a",{href:"https://github.com/andyaiken/dojo/projects/8?fullscreen=true",target:"_blank",rel:"noopener noreferrer",children:"roadmap"})]})]});break;case"settings":{const t=["light","dark"].map((e=>({id:e,text:e+" theme"})));let n=0,r=0;for(let e=0;e!==window.localStorage.length;++e){const t=window.localStorage.key(e);if(t){const e=window.localStorage.getItem(t);e&&(t.startsWith("data")&&(n+=e.length),t.startsWith("image")&&(r+=e.length))}}e=(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"subheading",children:"optional features"}),(0,xo.jsx)(ig,{label:"add die roll buttons to monster stat blocks",checked:this.props.options.showMonsterDieRolls,onChecked:e=>this.props.setOption("showMonsterDieRolls",e)}),(0,xo.jsx)(ig,{label:"show party awards",checked:this.props.options.showAwards,onChecked:e=>this.props.setOption("showAwards",e)}),(0,xo.jsx)("div",{className:"subheading",children:"settings"}),(0,xo.jsx)(Qf,{options:t,selectedID:this.props.options.theme,onSelect:e=>this.props.setOption("theme",e)}),(0,xo.jsx)(Qf,{options:[{id:"one",text:"diagonals count as one square (5 ft)"},{id:"onepointfive",text:"diagonals count as 1\xbd squares (7.5 ft)"},{id:"two",text:"diagonals count as two squares (10 ft)"}],selectedID:this.props.options.diagonals,onSelect:e=>this.props.setOption("diagonals",e)}),(0,xo.jsx)("hr",{}),(0,xo.jsxs)(kg,{text:"feature flags",children:[(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:(0,xo.jsx)(Bo,{placeholder:"add a feature flag",text:this.state.flag,onChange:e=>this.setFlag(e)})}),(0,xo.jsx)("div",{className:"icons",children:(0,xo.jsx)(Ho,{title:"add",onClick:()=>this.addFlag()})})]}),this.props.options.featureFlags.map((e=>(0,xo.jsx)(Sg,{children:(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:e}),(0,xo.jsx)("div",{className:"icons",children:(0,xo.jsx)(jo,{title:"remove",onClick:()=>this.props.removeFlag(e)})})]})},"flag")))]}),(0,xo.jsx)(eg,{display:"dm"===this.props.user,children:(0,xo.jsxs)(kg,{text:"stored data",children:[(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsxs)(Os,{children:[(0,xo.jsx)(zs,{span:16,children:"total"}),(0,xo.jsx)(zs,{span:8,className:"right-value",children:ro.toData(n+r)})]}),(0,xo.jsxs)(Os,{children:[(0,xo.jsx)(zs,{span:16,children:"data"}),(0,xo.jsx)(zs,{span:8,className:"right-value",children:ro.toData(n)})]}),(0,xo.jsxs)(Os,{children:[(0,xo.jsx)(zs,{span:16,children:"images"}),(0,xo.jsx)(zs,{span:8,className:"right-value",children:ro.toData(r)})]})]}),(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"the browser has a limited amount of storage space; if you run into problems, try removing any unused images"})}),(0,xo.jsx)("button",{onClick:()=>this.clearImages(),children:"remove unused images"}),(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"make a backup of your data, or move it between computers, by exporting it"})}),(0,xo.jsx)("button",{onClick:()=>this.props.exportAll(),children:"export all data"}),(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"import a backup"})}),(0,xo.jsxs)(gd.Dragger,{accept:".dojo",showUploadList:!1,beforeUpload:e=>this.readFile(e),children:[(0,xo.jsx)("p",{className:"ant-upload-drag-icon",children:(0,xo.jsx)(Dc,{})}),(0,xo.jsx)("p",{className:"ant-upload-text",children:"click here, or drag a file here, to upload it"})]})]})})]})}break;case"ogl":e=(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"subheading",children:"open game license"}),(0,xo.jsx)("div",{className:"section",children:"The following text is the property of Wizards of the Coast, Inc. and is Copyright 2000 Wizards of the Coast, Inc ('Wizards'). All Rights Reserved."}),(0,xo.jsxs)("ol",{children:[(0,xo.jsxs)("li",{children:[(0,xo.jsx)("b",{children:"Definitions"}),": (a)'Contributors' means the copyright and/or trademark owners who have contributed Open Game Content; (b)'Derivative Material' means copyrighted material including derivative works and translations (including into other computer languages), potation, modification, correction, addition, extension, upgrade, improvement, compilation, abridgment or other form in which an existing work may be recast, transformed or adapted; (c) 'Distribute' means to reproduce, license, rent, lease, sell, broadcast, publicly display, transmit or otherwise distribute; (d)'Open Game Content' means the game mechanic and includes the methods, procedures, processes and routines to the extent such content does not embody the Product Identity and is an enhancement over the prior art and any additional content clearly identified as Open Game Content by the Contributor, and means any work covered by this License, including translations and derivative works under copyright law, but specifically excludes Product Identity. (e) 'Product Identity' means product and product line names, logos and identifying marks including trade dress; artifacts; creatures characters; stories, storylines, plots, thematic elements, dialogue, incidents, language, artwork, symbols, designs, depictions, likenesses, formats, poses, concepts, themes and graphic, photographic and other visual or audio representations; names and descriptions of characters, spells, enchantments, personalities, teams, personas, likenesses and special abilities; places, locations, environments, creatures, equipment, magical or supernatural abilities or effects, logos, symbols, or graphic designs; and any other trademark or registered trademark clearly identified as Product identity by the owner of the Product Identity, and which specifically excludes the Open Game Content; (f) 'Trademark' means the logos, names, mark, sign, motto, designs that are used by a Contributor to identify itself or its products or the associated products contributed to the Open Game License by the Contributor (g) 'Use', 'Used' or 'Using' means to use, Distribute, copy, edit, format, modify, translate and otherwise create Derivative Material of Open Game Content. (h) 'You' or 'Your' means the licensee in terms of this agreement."]}),(0,xo.jsxs)("li",{children:[(0,xo.jsx)("b",{children:"The License"}),": This License applies to any Open Game Content that contains a notice indicating that the Open Game Content may only be Used under and in terms of this License. You must affix such a notice to any Open Game Content that you Use. No terms may be added to or subtracted from this License except as described by the License itself. No other terms or conditions may be applied to any Open Game Content distributed using this License."]}),(0,xo.jsxs)("li",{children:[(0,xo.jsx)("b",{children:"Offer and Acceptance"}),": By Using the Open Game Content You indicate Your acceptance of the terms of this License."]}),(0,xo.jsxs)("li",{children:[(0,xo.jsx)("b",{children:"Grant and Consideration"}),": In consideration for agreeing to use this License, the Contributors grant You a perpetual, worldwide, royalty-free, non-exclusive license with the exact terms of this License to Use, the Open Game Content."]}),(0,xo.jsxs)("li",{children:[(0,xo.jsx)("b",{children:"Representation of Authority to Contribute"}),": If You are contributing original material as Open Game Content, You represent that Your Contributions are Your original creation and/or You have sufficient rights to grant the rights conveyed by this License."]}),(0,xo.jsxs)("li",{children:[(0,xo.jsx)("b",{children:"Notice of License Copyright"}),": You must update the COPYRIGHT NOTICE portion of this License to include the exact text of the COPYRIGHT NOTICE of any Open Game Content You are copying, modifying or distributing, and You must add the title, the copyright date, and the copyright holder's name to the COPYRIGHT NOTICE of any original Open Game Content you Distribute."]}),(0,xo.jsxs)("li",{children:[(0,xo.jsx)("b",{children:"Use of Product Identity"}),": You agree not to Use any Product Identity, including as an indication as to compatibility, except as expressly licensed in another, independent Agreement with the owner of each element of that Product Identity. You agree not to indicate compatibility or co-adaptability with any Trademark or Registered Trademark in conjunction with a work containing Open Game Content except as expressly licensed in another, independent Agreement with the owner of such Trademark or Registered Trademark. The use of any Product Identity in Open Game Content does not constitute a challenge to the ownership of that Product Identity. The owner of any Product Identity used in Open Game Content shall retain all rights, title and interest in and to that Product Identity."]}),(0,xo.jsxs)("li",{children:[(0,xo.jsx)("b",{children:"Identification"}),": If you distribute Open Game Content You must clearly indicate which portions of the work that you are distributing are Open Game Content."]}),(0,xo.jsxs)("li",{children:[(0,xo.jsx)("b",{children:"Updating the License"}),": Wizards or its designated Agents may publish updated versions of this License. You may use any authorized version of this License to copy, modify and distribute any Open Game Content originally distributed under any version of this License."]}),(0,xo.jsxs)("li",{children:[(0,xo.jsx)("b",{children:"Copy of this License"}),": You MUST include a copy of this License with every copy of the Open Game Content You Distribute."]}),(0,xo.jsxs)("li",{children:[(0,xo.jsx)("b",{children:"Use of Contributor Credits"}),": You may not market or advertise the Open Game Content using the name of any Contributor unless You have written permission from the Contributor to do so."]}),(0,xo.jsxs)("li",{children:[(0,xo.jsx)("b",{children:"Inability to Comply"}),": If it is impossible for You to comply with any of the terms of this License with respect to some or all of the Open Game Content due to statute, judicial order, or governmental regulation then You may not Use any Open Game Material so affected."]}),(0,xo.jsxs)("li",{children:[(0,xo.jsx)("b",{children:"Termination"}),": This License will terminate automatically if You fail to comply with all terms herein and fail to cure such breach within 30 days of becoming aware of the breach. All sublicenses shall survive the termination of this License."]}),(0,xo.jsxs)("li",{children:[(0,xo.jsx)("b",{children:"Reformation"}),": If any provision of this License is held to be unenforceable, such provision shall be reformed only to the extent necessary to make it enforceable."]}),(0,xo.jsxs)("li",{children:[(0,xo.jsx)("b",{children:"COPYRIGHT NOTICE"})," Open Game License v 1.0 Copyright 2000, Wizards of the Coast, Inc."]})]})]})}return(0,xo.jsxs)("div",{className:"sidebar-container",children:[(0,xo.jsxs)("div",{className:"sidebar-header",children:[(0,xo.jsx)("div",{className:"heading",children:"about"}),(0,xo.jsx)(Ng,{options:ro.arrayToItems(["dojo","settings","ogl"]),selectedID:this.state.view,onSelect:e=>this.setView(e)})]}),(0,xo.jsx)("div",{className:"sidebar-content",children:e})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"AboutSidebar",error:DB})}}}var ab=n(5491),ib=n.n(ab),ob=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n},lb=(Ts("small","default","large"),null);var Ab=function(e){var t=e.spinPrefixCls,n=e.spinning,r=void 0===n||n,s=e.delay,a=e.className,i=e.size,l=void 0===i?"default":i,A=e.tip,u=e.wrapperClassName,d=e.style,h=e.children,p=ob(e,["spinPrefixCls","spinning","delay","className","size","tip","wrapperClassName","style","children"]),m=c.useState((function(){return r&&!function(e,t){return!!e&&!!t&&!isNaN(Number(t))}(r,s)})),g=f(m,2),v=g[0],w=g[1];c.useEffect((function(){var e=ib()((function(){w(r)}),s);return e(),function(){var t;null===(t=null===e||void 0===e?void 0:e.cancel)||void 0===t||t.call(e)}}),[s,r]);var b=function(n){var r=n.direction,s=y()(t,o(o(o(o(o({},"".concat(t,"-sm"),"small"===l),"".concat(t,"-lg"),"large"===l),"".concat(t,"-spinning"),v),"".concat(t,"-show-text"),!!A),"".concat(t,"-rtl"),"rtl"===r),a),i=fc(p,["indicator","prefixCls"]),m=c.createElement("div",Oe({},i,{style:d,className:s,"aria-live":"polite","aria-busy":v}),function(e,t){var n=t.indicator,r="".concat(e,"-dot");return null===n?null:rc(n)?ac(n,{className:y()(n.props.className,r)}):rc(lb)?ac(lb,{className:y()(lb.props.className,r)}):c.createElement("span",{className:y()(r,"".concat(e,"-dot-spin"))},c.createElement("i",{className:"".concat(e,"-dot-item")}),c.createElement("i",{className:"".concat(e,"-dot-item")}),c.createElement("i",{className:"".concat(e,"-dot-item")}),c.createElement("i",{className:"".concat(e,"-dot-item")}))}(t,e),A?c.createElement("div",{className:"".concat(t,"-text")},A):null);if("undefined"!==typeof h){var f=y()("".concat(t,"-container"),o({},"".concat(t,"-blur"),v));return c.createElement("div",Oe({},i,{className:y()("".concat(t,"-nested-loading"),u)}),v&&c.createElement("div",{key:"loading"},m),c.createElement("div",{className:f,key:"container"},h))}return m};return c.createElement(Fr,null,b)},cb=function(e){var t=e.prefixCls,n=(0,c.useContext(jr).getPrefixCls)("spin",t),r=Oe(Oe({},e),{spinPrefixCls:n});return c.createElement(Ab,Oe({},r))};cb.setDefaultIndicator=function(e){lb=e};const ub=cb;class db extends c.Component{render(){try{let e=null;switch(this.props.view){case"skills":e=(0,xo.jsx)(hb,{filename:"/dojo/data/skills.md"},"skills");break;case"conditions":e=(0,xo.jsx)(hb,{filename:"/dojo/data/conditions.md"},"conditions");break;case"actions":e=(0,xo.jsx)(hb,{filename:"/dojo/data/actions.md"},"actions")}return(0,xo.jsxs)("div",{className:"sidebar-container",children:[(0,xo.jsxs)("div",{className:"sidebar-header",children:[(0,xo.jsx)("div",{className:"heading",children:"reference"}),(0,xo.jsx)(Ng,{options:ro.arrayToItems(["skills","conditions","actions"]),selectedID:this.props.view,onSelect:e=>this.props.setView(e)})]}),(0,xo.jsx)("div",{className:"sidebar-content",children:e})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"ReferenceSidebar",error:DB})}}}class hb extends c.Component{constructor(e){super(e),this.state={source:null}}componentDidMount(){this.state.source||this.fetchData()}async fetchData(){const e=await fetch(this.props.filename),t=await e.text();this.setState({source:t})}render(){try{return(0,xo.jsx)(ub,{spinning:null===this.state.source,indicator:(0,xo.jsx)(Sr,{style:{fontSize:20,marginTop:100}}),children:(0,xo.jsx)(Bf,{children:this.state.source||""})})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"MarkdownReference",error:DB})}}}class pb extends c.Component{constructor(e){super(e),this.state={text:""}}setSearchTerm(e){this.setState({text:e})}render(){try{const e=[];return this.state.text.length>2&&(this.props.parties.filter((e=>ao.matchParty(this.state.text,e))).forEach((t=>{const n=[];t.pcs.filter((e=>ao.matchPC(this.state.text,e))).forEach((e=>{const t=[];e.companions.filter((e=>ao.matchCompanion(this.state.text,e))).forEach((e=>{t.push((0,xo.jsx)(Sg,{children:(0,xo.jsx)("div",{className:"section",children:e.name})},e.id))})),n.push((0,xo.jsxs)(Sg,{children:[(0,xo.jsx)("div",{className:"section",children:e.name}),t]},e.id))})),e.push((0,xo.jsxs)(Sg,{onClick:()=>this.props.openParty(t.id),children:[(0,xo.jsx)("div",{className:"section",children:t.name}),n]},t.id))})),this.props.library.filter((e=>ao.matchGroup(this.state.text,e))).forEach((t=>{const n=[];t.monsters.filter((e=>ao.matchMonster(this.state.text,e))).forEach((e=>{const t=[];e.traits.filter((e=>ao.matchTrait(this.state.text,e))).forEach((e=>{t.push((0,xo.jsx)(Sg,{children:(0,xo.jsx)("div",{className:"section",children:e.name})},e.id))})),n.push((0,xo.jsxs)(Sg,{children:[(0,xo.jsx)("div",{className:"section",children:e.name}),t]},e.id))})),e.push((0,xo.jsxs)(Sg,{onClick:()=>this.props.openGroup(t.id),children:[(0,xo.jsx)("div",{className:"section",children:t.name}),n]},t.id))})),this.props.encounters.filter((e=>ao.matchEncounter(this.state.text,e,(e=>this.props.getMonster(e))))).forEach((t=>{const n=[];t.slots.filter((e=>ao.matchEncounterSlot(this.state.text,e,(e=>this.props.getMonster(e))))).forEach((e=>{const t=this.props.getMonster(e.monsterID);n.push((0,xo.jsx)(Sg,{children:(0,xo.jsx)("div",{className:"section",children:t?t.name:"monster"})},e.id))}));const r=[];t.waves.filter((e=>ao.matchEncounterWave(this.state.text,e,(e=>this.props.getMonster(e))))).forEach((e=>{const t=[];e.slots.filter((e=>ao.matchEncounterSlot(this.state.text,e,(e=>this.props.getMonster(e))))).forEach((e=>{const n=this.props.getMonster(e.monsterID);t.push((0,xo.jsx)(Sg,{children:(0,xo.jsx)("div",{className:"section",children:n?n.name:"monster"})},e.id))})),r.push((0,xo.jsxs)(Sg,{children:[(0,xo.jsx)("div",{className:"section",children:e.name}),t]},e.id))})),e.push((0,xo.jsxs)(Sg,{onClick:()=>this.props.openEncounter(t.id),children:[(0,xo.jsx)("div",{className:"section",children:t.name}),n,r]},t.id))})),this.props.maps.filter((e=>ao.matchMap(this.state.text,e))).forEach((t=>{const n=[];t.areas.filter((e=>ao.matchMapArea(this.state.text,e))).forEach((e=>{n.push((0,xo.jsx)(Sg,{children:(0,xo.jsx)("div",{className:"section",children:e.name})},e.id))})),e.push((0,xo.jsxs)(Sg,{onClick:()=>this.props.openMap(t.id),children:[(0,xo.jsx)("div",{className:"section",children:t.name}),n]},t.id))})),this.props.adventures.filter((e=>ao.matchAdventure(this.state.text,e))).forEach((t=>{const n=[];t.plot.scenes.filter((e=>ao.matchScene(this.state.text,e))).forEach((e=>{n.push((0,xo.jsx)(Sg,{children:(0,xo.jsx)("div",{className:"section",children:e.name})},e.id))})),e.push((0,xo.jsxs)(Sg,{onClick:()=>this.props.openAdventure(t.id),children:[(0,xo.jsx)("div",{className:"section",children:t.name}),n]},t.id))})),0===e.length&&e.push((0,xo.jsx)(Uf,{children:"nothing found"},"empty"))),(0,xo.jsxs)("div",{className:"sidebar-container",children:[(0,xo.jsxs)("div",{className:"sidebar-header",children:[(0,xo.jsx)("div",{className:"heading",children:"search"}),(0,xo.jsx)(Bo,{text:this.state.text,placeholder:"enter your search term here",minLength:3,onChange:e=>this.setSearchTerm(e)})]}),(0,xo.jsx)("div",{className:"sidebar-content",children:e})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"SearchSidebar",error:DB})}}}class mb{static getTarotDeck(){return[].concat(mb.getTarotMinorArcana()).concat(mb.getTarotMajorArcana())}static getTarotMajorArcana(){return[this.createMajorArcana(0,"the fool","innocence, new beginnings, free spirit","recklessness, taken advantage of, inconsideration"),this.createMajorArcana(1,"the magician","willpower, desire, creation, manifestation","trickery, illusions, out of touch"),this.createMajorArcana(2,"the high priestess","intuitive, unconscious, inner voice","lack of center, lost inner voice, repressed feelings"),this.createMajorArcana(3,"the empress","motherhood, fertility, nature","dependence, smothering, emptiness, nosiness"),this.createMajorArcana(4,"the emperor","authority, structure, control, fatherhood","tyranny, rigidity, coldness"),this.createMajorArcana(5,"the hierophant","tradition, conformity, morality, ethics","rebellion, subversiveness, new approaches"),this.createMajorArcana(6,"the lovers","partnerships, duality, union","loss of balance, one-sidedness, disharmony"),this.createMajorArcana(7,"the chariot","direction, control, willpower","lack of control, lack of direction, aggression"),this.createMajorArcana(8,"justice","cause and effect, clarity, truth","dishonesty, unaccountability, unfairness"),this.createMajorArcana(9,"the hermit","contemplation, search for truth, inner guidance","loneliness, isolation, lost your way"),this.createMajorArcana(10,"the wheel of fortune","change, cycles, inevitable fate","no control, clinging to control, bad luck"),this.createMajorArcana(11,"strength","inner strength, bravery, compassion, focus","self doubt, weakness, insecurity"),this.createMajorArcana(12,"the hanged man","sacrifice, release, martyrdom","stalling, needless sacrifice, fear of sacrifice"),this.createMajorArcana(13,"death","end of cycle, beginnings, change, metamorphosis","fear of change, holding on, stagnation, decay"),this.createMajorArcana(14,"temperance","middle path, patience, finding meaning","extremes, excess, lack of balance"),this.createMajorArcana(15,"the devil","addiction, materialism, playfulness","freedom, release, restoring control"),this.createMajorArcana(16,"the tower","sudden upheaval, broken pride, disaster","disaster avoided, delayed disaster, fear of suffering"),this.createMajorArcana(17,"the star","hope, faith, rejuvenation","faithlessness, discouragement, insecurity"),this.createMajorArcana(18,"the moon","unconscious, illusions, intuition","confusion, fear, misinterpretation"),this.createMajorArcana(19,"the sun","joy, success, celebration, positivity","negativity, depression, sadness"),this.createMajorArcana(20,"judgement","reflection, reckoning, awakening","lack of self awareness, doubt, self loathing"),this.createMajorArcana(21,"the world","fulfillment, harmony, completion","incompletion, no closure")]}static getTarotMinorArcana(){return[this.createMinorArcana("ace","swords","breakthrough, clarity, sharp mind","confusion, brutality, chaos"),this.createMinorArcana(2,"swords","difficult choices, indecision, stalemate","lesser of two evils, no right choice, confusion"),this.createMinorArcana(3,"swords","heartbreak, suffering, grief","recovery, forgiveness, moving on"),this.createMinorArcana(4,"swords","rest, restoration, contemplation","restlessness, burnout, stress"),this.createMinorArcana(5,"swords","unbridled ambition, win at all costs, sneakiness","lingering resentment, desire to reconcile, forgiveness"),this.createMinorArcana(6,"swords","transition, leaving behind, moving on","emotional baggage, unresolved issues, resisting transition"),this.createMinorArcana(7,"swords","deception, trickery, tactics and strategy","coming clean, rethinking approach, deception"),this.createMinorArcana(8,"swords","imprisonment, entrapment, self-victimization","self acceptance, new perspective, freedom"),this.createMinorArcana(9,"swords","anxiety, hopelessness, trauma","hope, reaching out, despair"),this.createMinorArcana(10,"swords","failure, collapse, defeat","can't get worse, only upwards, inevitable end"),this.createMinorArcana("page","swords","curiosity, restlessness, mental energy","deception, manipulation, all talk"),this.createMinorArcana("knight","swords","action, impulsiveness, defending beliefs","no direction, disregard for consequences, unpredictability"),this.createMinorArcana("queen","swords","complexity, perceptiveness, clear mindedness","cold hearted, cruel, bitterness"),this.createMinorArcana("king","swords","head over heart, discipline, truth","manipulative, cruel, weakness"),this.createMinorArcana("ace","wands","creation, willpower, inspiration, desire","lack of energy, lack of passion, boredom"),this.createMinorArcana(2,"wands","planning, making decisions, leaving home","fear of change, playing safe, bad planning"),this.createMinorArcana(3,"wands","looking ahead, expansion, rapid growth","obstacles, delays, frustration"),this.createMinorArcana(4,"wands","community, home, celebration","lack of support, transience, home conflicts"),this.createMinorArcana(5,"wands","competition, rivalry, conflict","avoiding conflict, respecting differences"),this.createMinorArcana(6,"wands","victory, success, public reward","excess pride, lack of recognition, punishment"),this.createMinorArcana(7,"wands","perseverance, defensive, maintaining control","give up, destroyed confidence, overwhelmed"),this.createMinorArcana(8,"wands","rapid action, movement, quick decisions","panic, waiting, slowdown"),this.createMinorArcana(9,"wands","resilience, grit, last stand","exhaustion, fatigue, questioning motivations"),this.createMinorArcana(10,"wands","accomplishment, responsibility, burden","inability to delegate, overstressed, burnt out"),this.createMinorArcana("page","wands","exploration, excitement, freedom","lack of direction, procrastination, creating conflict"),this.createMinorArcana("knight","wands","action, adventure, fearlessness","anger, impulsiveness, recklessness"),this.createMinorArcana("queen","wands","courage, determination, joy","selfishness, jealousy, insecurities"),this.createMinorArcana("king","wands","big picture, leader, overcoming challenges","impulsive, overbearing, unachievable expectations"),this.createMinorArcana("ace","cups","new feelings, spirituality, intuition","emotional loss, blocked creativity, emptiness"),this.createMinorArcana(2,"cups","unity, partnership, connection","imbalance, broken communication, tension"),this.createMinorArcana(3,"cups","friendship, community, happiness","overindulgence, gossip, isolation"),this.createMinorArcana(4,"cups","apathy, contemplation, disconnectedness","sudden awareness, choosing happiness, acceptance"),this.createMinorArcana(5,"cups","loss, grief, self-pity","acceptance, moving on, finding peace"),this.createMinorArcana(6,"cups","familiarity, happy memories, healing","moving forward, leaving home, independence"),this.createMinorArcana(7,"cups","searching for purpose, choices, daydreaming","lack of purpose, diversion, confusion"),this.createMinorArcana(8,"cups","walking away, disillusionment, leaving behind","avoidance, fear of change, fear of loss"),this.createMinorArcana(9,"cups","satisfaction, emotional stability, luxury","lack of inner joy, smugness, dissatisfaction"),this.createMinorArcana(10,"cups","inner happiness, fulfillment, dreams coming true","shattered dreams, broken family, domestic disharmony"),this.createMinorArcana("page","cups","happy surprise, dreamer, sensitivity","emotional immaturity, insecurity, disappointment"),this.createMinorArcana("knight","cups","following the heart, idealist, romantic","moodiness, disappointment"),this.createMinorArcana("queen","cups","compassion, calm, comfort","martyrdom, insecurity, dependence"),this.createMinorArcana("king","cups","compassion, control, balance","coldness, moodiness, bad advice"),this.createMinorArcana("ace","pentacles","opportunity, prosperity, new venture","lost opportunity, missed chance, bad investment"),this.createMinorArcana(2,"pentacles","balancing decisions, priorities, adapting to change","loss of balance, disorganized, overwhelmed"),this.createMinorArcana(3,"pentacles","teamwork, collaboration, building","lack of teamwork, disorganized, group conflict"),this.createMinorArcana(4,"pentacles","conservation, frugality, security","greediness, stinginess, possessiveness"),this.createMinorArcana(5,"pentacles","need, poverty, insecurity","recovery, charity, improvement"),this.createMinorArcana(6,"pentacles","charity, generosity, sharing","strings attached, stinginess, power and domination"),this.createMinorArcana(7,"pentacles","hard work, perseverance, diligence","work without results, distractions, lack of rewards"),this.createMinorArcana(8,"pentacles","apprenticeship, passion, high standards","lack of passion, uninspired, no motivation"),this.createMinorArcana(9,"pentacles","fruits of labor, rewards, luxury","reckless spending, living beyond means, false success"),this.createMinorArcana(10,"pentacles","legacy, culmination, inheritance","fleeting success, lack of stability, lack of resources"),this.createMinorArcana("page","pentacles","ambition, desire, diligence","lack of commitment, greediness, laziness"),this.createMinorArcana("knight","pentacles","efficiency, hard work, responsibility","laziness, obsessiveness, work without reward"),this.createMinorArcana("queen","pentacles","practicality, creature comforts, financial security","self-centeredness, jealousy, smothering"),this.createMinorArcana("king","pentacles","abundance, prosperity, security","greed, indulgence, sensuality")]}static createMinorArcana(e,t,n,r){return{id:ro.guid(),value:e,name:e+" of "+t,data:{upright:n,reversed:r}}}static createMajorArcana(e,t,n,r){return{id:ro.guid(),value:e,name:t,data:{upright:n,reversed:r}}}static getStandardDeck(){const e=[];return["hearts","diamonds","spades","clubs"].forEach((t=>{let n=0;switch(t){case"hearts":n=9829;break;case"diamonds":n=9830;break;case"spades":n=9824;break;case"clubs":n=9827}["ace",2,3,4,5,6,7,8,9,10,"jack","queen","king"].forEach((r=>{e.push(mb.createCard(r,t,n))}))})),e}static getStandardDeckWithJokers(){const e=mb.getStandardDeck();return e.push(mb.createJoker()),e.push(mb.createJoker()),e}static createCard(e,t,n){return{id:ro.guid(),value:e,name:e+" of "+t,data:n}}static createJoker(){return{id:ro.guid(),value:"",name:"joker",data:null}}static getDeckOfManyThings(){return[mb.createManyThingsCard("vizier"),mb.createManyThingsCard("sun"),mb.createManyThingsCard("moon"),mb.createManyThingsCard("star"),mb.createManyThingsCard("comet"),mb.createManyThingsCard("the fates"),mb.createManyThingsCard("throne"),mb.createManyThingsCard("key"),mb.createManyThingsCard("knight"),mb.createManyThingsCard("gem"),mb.createManyThingsCard("talons"),mb.createManyThingsCard("the void"),mb.createManyThingsCard("flames"),mb.createManyThingsCard("skull"),mb.createManyThingsCard("idiot"),mb.createManyThingsCard("donjon"),mb.createManyThingsCard("ruin"),mb.createManyThingsCard("euryale"),mb.createManyThingsCard("rogue"),mb.createManyThingsCard("balance"),mb.createManyThingsCard("fool"),mb.createManyThingsCard("jester")]}static getDeckOfManyThingsSmall(){return[mb.createManyThingsCard("sun"),mb.createManyThingsCard("moon"),mb.createManyThingsCard("star"),mb.createManyThingsCard("throne"),mb.createManyThingsCard("key"),mb.createManyThingsCard("knight"),mb.createManyThingsCard("the void"),mb.createManyThingsCard("flames"),mb.createManyThingsCard("skull"),mb.createManyThingsCard("ruin"),mb.createManyThingsCard("euryale"),mb.createManyThingsCard("rogue"),mb.createManyThingsCard("jester")]}static createManyThingsCard(e){return{id:ro.guid(),value:"",name:e,data:9763}}}class fb extends c.Component{constructor(e){super(e),this.state={flipped:!1}}flip(){this.setState({flipped:!this.state.flipped})}render(){try{let e="",t="",n="";return this.props.card.data&&("number"===typeof this.props.card.data?(e=String.fromCharCode(this.props.card.data),t="suit",n=String.fromCharCode(this.props.card.data)):(e=this.props.reversed?this.props.card.data.reversed:this.props.card.data.upright,n=this.props.reversed?"(reversed)":"")),(0,xo.jsx)("div",{className:this.state.flipped?"playing-card flipped":"playing-card",onClick:()=>this.flip(),role:"button",children:(0,xo.jsxs)("div",{className:"playing-card-inner",children:[(0,xo.jsx)("div",{className:"playing-card-front",children:"?"}),(0,xo.jsxs)("div",{className:"playing-card-back",children:[(0,xo.jsx)("div",{className:"playing-card-name",children:(0,xo.jsx)("div",{children:this.props.card.name})}),(0,xo.jsx)("div",{className:"playing-card-data scrollable "+t,children:(0,xo.jsx)("div",{children:e})}),(0,xo.jsxs)("div",{className:"playing-card-footer",children:[(0,xo.jsx)("div",{children:n}),(0,xo.jsx)("div",{children:(0,xo.jsx)("b",{children:"number"===typeof this.props.card.value?this.props.card.value:""})})]})]})]})})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"PlayingCardPanel",error:DB})}}}class gb extends c.Component{constructor(e){super(e),this.state={externalWindow:null,containerElement:null}}componentDidMount(){const e=window.open("","","width=800, height=500, left=200, top=200");let t=null;if(e){t=e.document.createElement("div"),t.className="dojo popout",e.document.body.appendChild(t);Array.from(document.styleSheets).forEach((t=>{const n=t;if(t.href){const n=document.createElement("link");n.rel="stylesheet",n.href=t.href,e.document.head.appendChild(n)}else if(n&&n.cssRules&&n.cssRules.length>0){const t=document.createElement("style");Array.from(n.cssRules).forEach((e=>{t.appendChild(document.createTextNode(e.cssText))})),e.document.head.appendChild(t)}})),e.document.title=this.props.title,e.addEventListener("beforeunload",(()=>{this.props.onCloseWindow()}))}this.setState({externalWindow:e,containerElement:t})}componentWillUnmount(){this.state.externalWindow&&this.state.externalWindow.close()}render(){try{return this.state.containerElement?r.createPortal(this.props.children,this.state.containerElement):null}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"Popout",error:DB})}}}class vb extends c.Component{render(){try{const e=[{id:"die",text:"die roller"},{id:"handout",text:"handout"},{id:"language",text:"language"},{id:"oracle",text:"oracle"}];let t=null;switch(this.props.view){case"die":t=(0,xo.jsx)(yb,{dice:this.props.dice,constant:this.props.constant,dieRolls:this.props.dieRolls,setDie:(e,t)=>this.props.setDie(e,t),setConstant:e=>this.props.setConstant(e),rollDice:(e,t)=>this.props.rollDice(e,t),resetDice:()=>this.props.resetDice()});break;case"handout":t=(0,xo.jsx)(xb,{handout:this.props.handout,setHandout:e=>this.props.setHandout(e)});break;case"language":t=(0,xo.jsx)(wb,{mode:this.props.languageMode,setMode:e=>this.props.setLanguageMode(e),selectedLanguagePreset:this.props.selectedLanguagePreset,selectedLanguages:this.props.selectedLanguages,output:this.props.languageOutput,selectLanguagePreset:e=>this.props.selectLanguagePreset(e),addLanguage:e=>this.props.addLanguage(e),removeLanguage:e=>this.props.removeLanguage(e),clearLanguages:()=>this.props.clearLanguages(),selectRandomLanguages:()=>this.props.selectRandomLanguages(),generateLanguage:()=>this.props.generateLanguage()});break;case"oracle":t=(0,xo.jsx)(Bb,{draws:this.props.draws,drawCards:(e,t)=>this.props.drawCards(e,t),resetDraw:()=>this.props.resetDraw()})}return(0,xo.jsxs)("div",{className:"sidebar-container",children:[(0,xo.jsxs)("div",{className:"sidebar-header",children:[(0,xo.jsx)("div",{className:"heading",children:"tools"}),(0,xo.jsx)(Ng,{options:e,selectedID:this.props.view,onSelect:e=>this.props.setView(e)})]}),(0,xo.jsx)("div",{className:"sidebar-content",children:t})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"ToolsSidebar",error:DB})}}}class yb extends c.Component{render(){try{return(0,xo.jsxs)("div",{children:[(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"click to increment a die type; right-click to decrement"})}),(0,xo.jsx)(Tw,{dice:this.props.dice,constant:this.props.constant,setDie:(e,t)=>this.props.setDie(e,t),setConstant:e=>this.props.setConstant(e),resetDice:()=>this.props.resetDice(),rollDice:(e,t)=>this.props.rollDice(e,t)}),(0,xo.jsx)("hr",{}),this.props.dieRolls.map((e=>(0,xo.jsx)(Dw,{result:e},e.id)))]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"DieRollerTool",error:DB})}}}class wb extends c.Component{constructor(e){super(e),this.state={search:""}}setSearch(e){this.setState({search:e})}render(){try{let e=null;switch(this.props.mode){case"common":e=(0,xo.jsx)("div",{id:"common",children:(0,xo.jsx)(Ng,{options:ro.arrayToItems(lo.getLanguagePresets().map((e=>e.name))),selectedID:this.props.selectedLanguagePreset,itemsPerRow:4,onSelect:e=>this.props.selectLanguagePreset(e)})});break;case"custom":{let t=this.props.selectedLanguages.join(", ");""===t&&(t="none");const n=lo.getSourceLanguages().filter((e=>ao.match(this.state.search,e))).map((e=>(0,xo.jsx)(ig,{label:e,checked:this.props.selectedLanguages.includes(e),onChecked:t=>t?this.props.addLanguage(e):this.props.removeLanguage(e)},e)));n.unshift((0,xo.jsxs)("div",{children:[(0,xo.jsx)(Bo,{placeholder:"filter languages...",text:this.state.search,onChange:e=>this.setSearch(e)}),(0,xo.jsx)("hr",{})]},"search")),e=(0,xo.jsxs)("div",{id:"custom",children:[(0,xo.jsx)(Sg,{children:(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:(0,xo.jsxs)("div",{className:"section",children:["selected languages: ",this.props.selectedLanguages.sort().join(", ")||"(none)"]})}),(0,xo.jsx)("div",{className:"icons",children:(0,xo.jsx)(Pe,{title:"clear languages",className:0===this.props.selectedLanguages.length?"disabled":"",onClick:()=>this.props.clearLanguages()})})]})}),(0,xo.jsx)(kg,{text:"languages",children:n})]})}break;case"random":e=(0,xo.jsx)(Sg,{children:(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:(0,xo.jsxs)("div",{className:"section",children:["selected languages: ",this.props.selectedLanguages.sort().join(", ")||"(none)"]})}),(0,xo.jsx)("div",{className:"icons",children:(0,xo.jsx)(Qo,{title:"choose again",onClick:()=>this.props.selectRandomLanguages()})})]})},"random")}const t=[];this.props.output.length>0&&t.push((0,xo.jsx)("hr",{},"div"));for(let n=0;n!==this.props.output.length;++n)t.push((0,xo.jsx)(bb,{text:this.props.output[n],languages:this.props.selectedLanguages},n));return(0,xo.jsxs)("div",{children:[(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"you can use this tool to generate words and sentences in fantasy languages"})}),(0,xo.jsx)(Ng,{options:ro.arrayToItems(["common","custom","random"]),selectedID:this.props.mode,onSelect:e=>this.props.setMode(e)}),e,(0,xo.jsx)("hr",{}),(0,xo.jsx)("button",{className:this.props.selectedLanguages.length>0?"":"disabled",onClick:()=>this.props.generateLanguage(),children:"generate text"}),t]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"LanguageTool",error:DB})}}}class bb extends c.Component{copy(e){e.stopPropagation(),navigator.clipboard.writeText(this.props.text)}render(){try{return(0,xo.jsx)(Sg,{children:(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:(0,xo.jsx)("div",{className:"section",children:this.props.text.toLowerCase()})}),(0,xo.jsx)("div",{className:"icons vertical",children:(0,xo.jsx)(Ed,{title:"copy to clipboard",onClick:e=>this.copy(e)})})]})})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"GeneratedText",error:DB})}}}class xb extends c.Component{constructor(e){super(e),this.state={mode:"image",playerViewOpen:!1}}setMode(e){this.setState({mode:e},(()=>{this.props.setHandout(null)}))}readFile(e){const t=new FileReader;return t.onload=e=>{e.target&&this.props.setHandout({type:this.state.mode,src:e.target.result})},t.readAsDataURL(e),!1}setPlayerViewOpen(e){this.setState({playerViewOpen:e})}clear(){this.setState({playerViewOpen:!1},(()=>{this.props.setHandout(null)}))}getAccept(){switch(this.state.mode){case"image":return"image/*";case"audio":return"audio/*";case"video":return"video/*";case"text":return".txt"}}getDisplay(){if(!this.props.handout)return null;switch(this.props.handout.type){case"image":return(0,xo.jsx)("img",{className:"nonselectable-image",src:this.props.handout.src||"",alt:"handout"});case"audio":return(0,xo.jsx)("audio",{controls:!0,children:(0,xo.jsx)("source",{src:this.props.handout.src||""})});case"video":return(0,xo.jsx)("video",{controls:!0,children:(0,xo.jsx)("source",{src:this.props.handout.src||""})});case"text":return(0,xo.jsx)(Bf,{children:this.props.handout.src});case"readaloud":return(0,xo.jsx)("div",{className:"scrollable",children:(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:this.props.handout.src})})})}return null}getPlayerView(){return this.state.playerViewOpen?(0,xo.jsx)(gb,{title:"Handout",onCloseWindow:()=>this.setPlayerViewOpen(!1),children:this.getDisplay()}):null}render(){try{let e=null;return e=this.props.handout?(0,xo.jsxs)("div",{children:[this.getDisplay(),(0,xo.jsx)("hr",{}),(0,xo.jsx)(ig,{label:"share in player view",checked:this.state.playerViewOpen,onChecked:e=>this.setPlayerViewOpen(e)}),(0,xo.jsx)("hr",{}),(0,xo.jsx)("button",{onClick:()=>this.clear(),children:"change handout"})]}):(0,xo.jsxs)("div",{children:[(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"you can use this tool to select a file and show it to your players"})}),(0,xo.jsx)(Ng,{options:ro.arrayToItems(["image","audio","video","text"]),selectedID:this.state.mode,onSelect:e=>this.setMode(e)}),(0,xo.jsxs)(gd.Dragger,{accept:this.getAccept(),showUploadList:!1,beforeUpload:e=>this.readFile(e),children:[(0,xo.jsx)("p",{className:"ant-upload-drag-icon",children:(0,xo.jsx)(Dc,{})}),(0,xo.jsx)("p",{className:"ant-upload-text",children:"click here, or drag a file here, to upload it"})]})]}),(0,xo.jsxs)("div",{children:[e,this.getPlayerView()]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"HandoutTool",error:DB})}}}class Bb extends c.Component{constructor(e){super(e),this.state={deck:"tarot deck"}}draw(e){let t=[];switch(this.state.deck){case"tarot deck":t=mb.getTarotDeck();break;case"tarot deck (major arcana)":t=mb.getTarotMajorArcana();break;case"tarot deck (minor arcana)":t=mb.getTarotMinorArcana();break;case"standard deck":t=mb.getStandardDeck();break;case"standard deck (with jokers)":t=mb.getStandardDeckWithJokers();break;case"deck of many things":t=mb.getDeckOfManyThings();break;case"deck of many things (13 cards)":t=mb.getDeckOfManyThingsSmall()}this.props.drawCards(e,t)}render(){try{let e=null;if(this.props.draws.length>0){const t=this.props.draws.map((e=>(0,xo.jsx)(zs,{span:8,children:(0,xo.jsx)(fb,{card:e.card,reversed:e.reversed})},e.id)));e=(0,xo.jsxs)("div",{children:[(0,xo.jsx)(Os,{gutter:10,justify:"space-around",children:t}),(0,xo.jsx)("button",{onClick:()=>this.props.resetDraw(),children:"reset"})]})}else e=(0,xo.jsxs)(Os,{gutter:10,children:[(0,xo.jsx)(zs,{span:12,children:(0,xo.jsx)("button",{onClick:()=>this.draw(1),children:"draw a card"})}),(0,xo.jsx)(zs,{span:12,children:(0,xo.jsx)("button",{onClick:()=>this.draw(3),children:"draw three cards"})})]});return(0,xo.jsxs)("div",{children:[(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"this tool lets you draw cards from various different decks"})}),(0,xo.jsx)(Qf,{options:ro.arrayToItems(["tarot deck","tarot deck (major arcana)","tarot deck (minor arcana)","standard deck","standard deck (with jokers)","deck of many things","deck of many things (13 cards)"]),selectedID:this.state.deck,onSelect:e=>this.setState({deck:e})}),e]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"OracleTool",error:DB})}}}class Cb extends c.Component{render(){try{if(!this.props.sidebar.visible)return null;const e=[];switch(this.props.user){case"dm":e.push((0,xo.jsx)(Xw,{className:"tools"===this.props.sidebar.type?"sidebar-icon selected":"sidebar-icon",title:"tools",onClick:()=>this.props.onSelectSidebar("tools")},"tools")),e.push((0,xo.jsx)($w,{className:"search"===this.props.sidebar.type?"sidebar-icon selected":"sidebar-icon",title:"search",onClick:()=>this.props.onSelectSidebar("search")},"search")),e.push((0,xo.jsx)(Ze,{className:"about"===this.props.sidebar.type?"sidebar-icon selected":"sidebar-icon",title:"about",onClick:()=>this.props.onSelectSidebar("about")},"about"));break;case"player":e.push((0,xo.jsx)(nb,{className:"reference"===this.props.sidebar.type?"sidebar-icon selected":"sidebar-icon",title:"reference",onClick:()=>this.props.onSelectSidebar("reference")},"reference")),e.push((0,xo.jsx)(Ze,{className:"about"===this.props.sidebar.type?"sidebar-icon selected":"sidebar-icon",title:"about",onClick:()=>this.props.onSelectSidebar("about")},"about"))}let t=null;switch(this.props.sidebar.type){case"tools":t=(0,xo.jsx)(vb,{view:this.props.sidebar.subtype,setView:e=>{const t=this.props.sidebar;t.subtype=e,this.props.onUpdateSidebar(t)},dice:this.props.sidebar.dice,constant:this.props.sidebar.constant,dieRolls:this.props.sidebar.dieRolls,setDie:(e,t)=>{const n=this.props.sidebar;n.dice[e]=t,this.props.onUpdateSidebar(n)},setConstant:e=>{const t=this.props.sidebar;t.constant=e,this.props.onUpdateSidebar(t)},rollDice:(e,t)=>{const n=this.props.sidebar,r=oo.rollDice(e,n.dice,n.constant,t);n.dieRolls.unshift(r),this.props.onUpdateSidebar(n)},resetDice:()=>{const e=this.props.sidebar;[4,6,8,10,12,20,100].forEach((t=>e.dice[t]=0)),e.constant=0,this.props.onUpdateSidebar(e)},handout:this.props.sidebar.handout,setHandout:e=>{const t=this.props.sidebar;t.handout=e,this.props.onUpdateSidebar(t)},languageMode:this.props.sidebar.languageMode,setLanguageMode:e=>{const t=this.props.sidebar;switch(t.languageMode=e,e){case"common":t.languagePreset=lo.getLanguagePresets()[0].name,t.selectedLanguages=lo.getLanguagePresets()[0].languages;break;case"random":t.languagePreset=null,t.selectedLanguages=lo.getRandomLanguages();break;case"custom":t.languagePreset=null,t.selectedLanguages=[]}this.props.onUpdateSidebar(t)},selectedLanguagePreset:this.props.sidebar.languagePreset,selectedLanguages:this.props.sidebar.selectedLanguages,languageOutput:this.props.sidebar.languageOutput,selectLanguagePreset:e=>{const t=this.props.sidebar;t.languagePreset=null,t.selectedLanguages=[];const n=lo.getLanguagePresets().find((t=>t.name===e));n&&(t.languagePreset=n.name,t.selectedLanguages=n.languages),this.props.onUpdateSidebar(t)},addLanguage:e=>{const t=this.props.sidebar;t.selectedLanguages.push(e),this.props.onUpdateSidebar(t)},removeLanguage:e=>{const t=this.props.sidebar,n=t.selectedLanguages.indexOf(e);t.selectedLanguages.splice(n,1),this.props.onUpdateSidebar(t)},clearLanguages:()=>{const e=this.props.sidebar;e.selectedLanguages=[],this.props.onUpdateSidebar(e)},selectRandomLanguages:()=>{const e=this.props.sidebar;e.selectedLanguages=lo.getRandomLanguages(),this.props.onUpdateSidebar(e)},generateLanguage:()=>{const e=this.props.sidebar,t=e.selectedLanguages.map((e=>fetch("/dojo/data/langs/"+e+".txt")));Promise.all(t).then((t=>{const n=t.map((e=>e.text()));Promise.all(n).then((t=>{lo.initModel(t),e.languageOutput=lo.generateLines(5),this.props.onUpdateSidebar(e)}))}))},draws:this.props.sidebar.draws,drawCards:(e,t)=>{const n=this.props.sidebar;for(n.draws=[];n.draws.length<e;){const e=t[ro.randomNumber(t.length)];n.draws.find((t=>t.card.id===e.id))||n.draws.push({id:ro.guid(),card:e,reversed:ro.randomBoolean()})}this.props.onUpdateSidebar(n)},resetDraw:()=>{const e=this.props.sidebar;e.draws=[],this.props.onUpdateSidebar(e)}});break;case"reference":{const e=[];this.props.library.forEach((t=>{t.monsters.forEach((t=>e.push(t)))})),ro.sort(e),t=(0,xo.jsx)(db,{view:this.props.sidebar.subtype,setView:e=>{const t=this.props.sidebar;t.subtype=e,this.props.onUpdateSidebar(t)}})}break;case"search":t=(0,xo.jsx)(pb,{parties:this.props.parties,library:this.props.library,encounters:this.props.encounters,maps:this.props.maps,adventures:this.props.adventures,openParty:e=>this.props.selectParty(e),openGroup:e=>this.props.selectMonsterGroup(e),openEncounter:e=>this.props.selectEncounter(e),openMap:e=>this.props.selectMap(e),openAdventure:e=>this.props.selectAdventure(e),getMonster:e=>this.props.getMonster(e)});break;case"about":t=(0,xo.jsx)(sb,{user:this.props.user,options:this.props.options,setOption:(e,t)=>this.props.setOption(e,t),clearUnusedImages:()=>this.props.clearUnusedImages(),exportAll:()=>this.props.exportAll(),importAll:e=>this.props.importAll(e),addFlag:e=>this.props.addFlag(e),removeFlag:e=>this.props.removeFlag(e)})}return(0,xo.jsxs)("div",{className:"sidebar sidebar-right",children:[(0,xo.jsx)("div",{className:"sidebar-icons",children:e}),t]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"PageSidebar",error:DB})}}}Cb.defaultProps={parties:[],library:[],encounters:[],maps:[],adventures:[],currentCombat:null,currentExploration:null,selectParty:null,selectMonsterGroup:null,selectEncounter:null,selectMap:null,selectAdventure:null,openImage:null,openStatBlock:null,addAward:null,deleteAward:null,addCondition:null,editCondition:null,toggleAddingToMap:null,onUpdated:null,clearUnusedImages:null,exportAll:null,importAll:null,getMonster:null};class kb extends c.Component{render(){let e=null;return 1===this.props.parties.length&&(e=(0,xo.jsx)("button",{onClick:()=>this.props.exploreMap(this.props.adventure.plot.map,this.props.parties[0].id),children:"explore the map"})),this.props.parties.length>1&&(e=(0,xo.jsx)(Qf,{placeholder:"explore the map with...",options:this.props.parties.map((e=>({id:e.id,text:e.name||"unnamed party"}))),onSelect:e=>this.props.exploreMap(this.props.adventure.plot.map,e)})),(0,xo.jsxs)("div",{children:[e,(0,xo.jsx)(Ef,{onConfirm:()=>this.props.deleteAdventure(this.props.adventure),children:"delete adventure"})]})}}const Sb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M120 230h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm0 424h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm784 140H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-424H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"align-left",theme:"outlined"};var Eb=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Sb}))};const jb=c.forwardRef(Eb);const Fb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 780H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM505.7 669a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V176c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8z"}}]},name:"vertical-align-bottom",theme:"outlined"};var Ib=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Fb}))};const Qb=c.forwardRef(Ib);class Mb extends c.Component{render(){try{const e="editor"===this.props.mode?240:30,t=vo.getRows(this.props.plot),n=e*Math.max(1,t.length)+"px",r={},s=[];t.forEach(((t,n)=>{const a=e*n,i=100/(2*t.length+1);t.forEach(((t,n)=>{const o=i*(2*n+1);r[t.id]={x:o+i/2,y:a+e/2};const l=this.props.sceneClassNames.find((e=>e.id===t.id));s.push((0,xo.jsx)("foreignObject",{className:"scene-panel-container",x:o+"%",y:a,width:i+"%",height:e,children:(0,xo.jsx)(Ub,{scene:t,mode:this.props.mode,className:l?l.className:null,selected:t.id===this.props.selectedSceneID,onSelect:()=>this.props.selectSceneID(t.id),onNotes:()=>this.props.showNotes(t),onExplore:()=>this.props.exploreScene(t),addSceneBefore:()=>this.props.addScene(null,t),addSceneAfter:()=>this.props.addScene(t,null)})},t.id))}))})),0===s.length&&s.push((0,xo.jsx)("foreignObject",{className:"empty",x:0,y:0,width:"100%",height:e,children:(0,xo.jsx)("div",{className:"section centered",children:"(no scenes)"})},"empty"));const a=[],i=[];return this.props.plot.scenes.forEach((e=>{e.links.forEach((t=>{const n=r[e.id],s=r[t.sceneID],o=n.y,l=s.y;let A="scene-link";if(e.id!==this.props.selectedSceneID&&t.sceneID!==this.props.selectedSceneID||(A+=" selected"),a.push((0,xo.jsx)("line",{className:A,x1:n.x+"%",y1:o,x2:s.x+"%",y2:l},t.id)),t.text&&"editor"===this.props.mode){let e=Math.min(n.x,s.x),r=Math.max(n.x,s.x);e===r&&(e-=10,r+=10),i.push((0,xo.jsx)("foreignObject",{className:"link-label-container",x:e+"%",y:o,width:r-e+"%",height:l-o,children:(0,xo.jsx)("div",{className:"link-label",children:t.text})},t.id+"-label"))}}))})),(0,xo.jsxs)("svg",{className:"plot-panel "+this.props.mode,style:{height:n},onClick:()=>this.props.selectSceneID(null),children:[a,i,s]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"PlotPanel",error:DB})}}}Mb.defaultProps={mode:"editor",sceneClassNames:[],selectedSceneID:null,selectSceneID:()=>null,showNotes:()=>null,exploreScene:()=>null,addScene:()=>null};class Ub extends c.Component{onClick(e){e.stopPropagation(),this.props.onSelect()}onNotes(e){e.stopPropagation(),this.props.onNotes()}onExplore(e){e.stopPropagation(),this.props.onExplore()}getPopover(){return(0,xo.jsxs)("div",{children:[(0,xo.jsx)("button",{onClick:()=>this.props.addSceneBefore(),children:"add a new scene before this"}),(0,xo.jsx)("button",{onClick:()=>this.props.addSceneAfter(),children:"add a new scene after this"})]})}render(){try{if("thumbnail"===this.props.mode)return(0,xo.jsx)("div",{className:"scene-panel"});let e="scene-panel";this.props.selected&&(e+=" selected");let t="scene-text-container";this.props.className&&(t+=" "+this.props.className);const n=[];this.props.scene.content&&n.push((0,xo.jsx)(jb,{title:"notes",onClick:e=>this.onNotes(e)},"notes")),this.props.scene.plot.scenes.length>0&&n.push((0,xo.jsx)(Qb,{title:"explore",onClick:e=>this.onExplore(e)},"explore"));let r=null;return r=0===n.length?(0,xo.jsx)("div",{className:"scene-name",children:this.props.scene.name||"unnamed scene"}):(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:(0,xo.jsx)("div",{className:"scene-name",children:this.props.scene.name||"unnamed scene"})}),(0,xo.jsx)("div",{className:"icons vertical",children:n})]}),(0,xo.jsx)(pc,{content:this.getPopover(),trigger:"contextMenu",placement:"bottom",overlayClassName:"scene-tooltip",children:(0,xo.jsx)("div",{className:e,onClick:e=>this.onClick(e),role:"button",children:(0,xo.jsx)("div",{className:t,children:r})})})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"ScenePanel",error:DB})}}}class Nb extends c.Component{getContent(){return this.props.adventure.plot.map?(0,xo.jsx)(my,{map:this.props.adventure.plot.map}):(0,xo.jsx)(Mb,{plot:this.props.adventure.plot,mode:"thumbnail"})}render(){try{return(0,xo.jsxs)("div",{className:"card adventure",children:[(0,xo.jsx)("div",{className:"heading",children:(0,xo.jsx)("div",{className:"title",children:this.props.adventure.name||"unnamed adventure"})}),(0,xo.jsxs)("div",{className:"card-content",children:[(0,xo.jsx)("div",{className:"fixed-height",children:this.getContent()}),(0,xo.jsx)("hr",{}),(0,xo.jsx)("button",{onClick:()=>this.props.openAdventure(this.props.adventure),children:"open adventure"}),(0,xo.jsx)(kg,{text:"more options",children:(0,xo.jsx)(kb,{adventure:this.props.adventure,parties:this.props.parties,exploreMap:(e,t)=>this.props.exploreMap(e,t),deleteAdventure:e=>this.props.deleteAdventure(e)})})]})]},this.props.adventure.id)}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"AdventureCard",error:DB})}}}class Tb extends c.Component{render(){return(0,xo.jsxs)("div",{children:[(0,xo.jsx)("button",{onClick:()=>this.props.addAdventure(),children:"add a new adventure"}),(0,xo.jsx)("button",{onClick:()=>this.props.generateAdventure(),children:"generate a random dungeon adventure"})]})}}class Db extends c.Component{render(){try{const e=this.props.adventures;ro.sort(e);const t=e.map((e=>(0,xo.jsx)(Nb,{adventure:e,parties:this.props.parties,openAdventure:e=>this.props.openAdventure(e),exploreMap:(e,t)=>this.props.exploreMap(e,t),deleteAdventure:e=>this.props.deleteAdventure(e)},e.id)));return(0,xo.jsxs)(Os,{className:"full-height",children:[(0,xo.jsxs)(zs,{span:6,className:"scrollable sidebar sidebar-left",children:[(0,xo.jsxs)(Uf,{children:[(0,xo.jsx)("div",{className:"section",children:"this page is where you can plan your adventures"}),(0,xo.jsx)("hr",{}),(0,xo.jsx)("div",{className:"section",children:"on the right you will see the adventures that you have created"}),(0,xo.jsxs)("div",{className:"section",children:["press an adventure's ",(0,xo.jsx)("b",{children:"open adventure"})," button to see its details"]}),(0,xo.jsx)("hr",{}),(0,xo.jsxs)("div",{className:"section",children:["to get started creating an adventure, press the ",(0,xo.jsx)("b",{children:"add a new adventure"})," button"]})]}),(0,xo.jsx)(Tb,{addAdventure:()=>this.props.addAdventure(),generateAdventure:()=>this.props.generateAdventure()})]}),(0,xo.jsx)(zs,{span:18,className:"scrollable",children:(0,xo.jsx)(jy,{heading:"adventures",content:t})})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"AdventureListScreen",error:DB})}}}const Hb={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"outlined"};var Lb=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Hb}))};const Pb=c.forwardRef(Lb);const Ob={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]},name:"share-alt",theme:"outlined"};var Rb=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Ob}))};const Vb=c.forwardRef(Rb);const Kb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"};var zb=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Kb}))};const _b=c.forwardRef(zb);class Gb extends c.Component{constructor(e){super(e),this.state={plot:e.adventure.plot,view:"content",breadcrumbs:[{name:e.adventure.name||"adventure",plot:e.adventure.plot}],selectedSceneID:null,selectedPartyID:null,customPartySize:5,customPartyLevel:1}}setView(e){this.setState({view:e})}setSelectedSceneID(e){this.setState({selectedSceneID:e})}setSelectedPartyID(e){this.setState({selectedPartyID:e})}explore(e){const t=this.state.breadcrumbs;t.push({name:e.name,plot:e.plot}),this.setState({plot:e.plot,breadcrumbs:t,selectedSceneID:null})}goUp(){if(this.state.breadcrumbs.length>1){const e=this.state.breadcrumbs.slice(0,this.state.breadcrumbs.length-1),t=e[e.length-1];this.setState({plot:t.plot,breadcrumbs:e,selectedSceneID:null})}}goToBreadcrumb(e){const t=this.state.breadcrumbs.find((t=>t.plot.id===e));if(t){const e=this.state.breadcrumbs.indexOf(t),n=this.state.breadcrumbs.slice(0,e+1);this.setState({plot:t.plot,breadcrumbs:n,selectedSceneID:null})}}canMoveScene(e,t){return vo.canMoveScene(this.state.plot,e,t)}moveScene(e,t){this.props.moveScene(this.state.plot,e,t)}runEncounter(e){const t=e.data.map,n=e.data.mapAreaID,r=e.data.fog,s=e.data.lighting,a=e.data.slotInfo;this.props.runEncounter(e,t,n,r,s,a)}getParty(){let e=null;if(null!==this.state.selectedPartyID)if("custom"===this.state.selectedPartyID){e=so.createParty();for(let t=0;t!==this.state.customPartySize;++t){const t=so.createPC();t.level=this.state.customPartyLevel,e.pcs.push(t)}}else e=this.props.parties.find((e=>e.id===this.state.selectedPartyID))||null;return e}getLinks(e){return 0===e.links.length?(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"this scene doesn't lead to any other scenes"})}):e.links.map((t=>{const n=this.state.plot.scenes.find((e=>e.id===t.sceneID));return n?(0,xo.jsx)(Sg,{children:(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsxs)("div",{className:"content",children:[(0,xo.jsxs)("div",{className:"section",children:["link to ",(0,xo.jsx)("b",{children:n.name||"unnamed scene"})]}),(0,xo.jsx)(Bo,{placeholder:"label",text:t.text,onChange:e=>this.props.changeValue(t,"text",e)})]}),(0,xo.jsxs)("div",{className:"icons vertical",children:[(0,xo.jsx)(Pb,{title:"go to",onClick:()=>this.setSelectedSceneID(n.id)}),(0,xo.jsx)(Ef,{onConfirm:()=>this.props.deleteLink(e,t),children:(0,xo.jsx)(jo,{title:"delete link"})})]})]})},t.id):null}))}getResources(e){const t=vo.getReadAloudSections(e).map((e=>({id:ro.guid(),name:"",type:"readaloud",content:e,data:null})));return t.length+e.resources.length===0?(0,xo.jsxs)(Uf,{children:[(0,xo.jsx)("div",{className:"section",children:"a scene can have different types of resources associated with it - an encounter or an image for example"}),(0,xo.jsx)("div",{className:"section",children:"press one of the buttons below to add a resource to this scene"})]}):t.concat(e.resources).map((t=>{let n=null,r=null,s=!1,a=!1,i=!1,o=!1,l=!1,A=!1,c=!1,u=!1;switch(t.type){case"text":n=(0,xo.jsxs)("div",{children:[(0,xo.jsx)(Bo,{placeholder:"handout title",text:t.name,onChange:e=>this.props.changeValue(t,"name",e)}),(0,xo.jsx)($f,{text:t.content,onChange:e=>this.props.changeValue(t,"content",e)})]}),A=!0,c=!0,u=!0;break;case"url":n=(0,xo.jsx)(Bo,{placeholder:"https://...",text:t.content,onChange:e=>this.props.changeValue(t,"content",e)}),s=!0,c=!0,u=!0;break;case"image":{const e=yo.getImage(t.content);e&&(n=(0,xo.jsx)("img",{className:"nonselectable-image",src:e.data,alt:"resource"}),A=!0,c=!0,u=!0)}break;case"encounter":{const e=this.props.encounters.find((e=>e.id===t.content));if(e){if(t.data&&t.data.map){const e=[],r=[];t.data.slotInfo.forEach((t=>{t.members.forEach((n=>{if(null!==n.location){const s=this.props.getMonster(t.monsterID);if(s){const t=io.convertMonsterToCombatant(s,n.init,n.hp,n.name,"foe");e.push(t);const a=so.createMapItem();a.id=t.id,a.type="monster";const i=oo.miniSize(s.size);a.height=i,a.width=i,a.depth=i,a.x=n.location.x,a.y=n.location.y,a.z=n.location.z,r.push(a)}}}))}));const s=JSON.parse(JSON.stringify(t.data.map));s.items=s.items.concat(r),n=(0,xo.jsx)(my,{map:s,selectedAreaID:t.data.mapAreaID,combatants:e,fog:t.data.fog,lighting:t.data.lighting})}else n=(0,xo.jsx)(Qy,{encounter:e,getMonster:e=>this.props.getMonster(e),onMonsterClicked:e=>this.props.showMonster(e)});const s=this.getParty();if(s){const t=io.getEncounterDifficulty(e,null,s,(e=>this.props.getMonster(e)));r="diff-"+Math.min(4,t.adjusted)}a=null===this.state.plot.map,i=null!==this.state.plot.map,o=!0,l=this.props.maps.length>0&&null===this.state.plot.map,u=!0}}break;case"readaloud":n=(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:t.content})}),A=!0,c=!0}return null===n?null:(0,xo.jsx)(kg,{className:r,text:t.name||t.type,children:(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:n}),(0,xo.jsxs)("div",{className:"icons vertical",children:[(0,xo.jsx)(eg,{display:s,children:(0,xo.jsx)(Pb,{className:""===t.content?"disabled":"",title:"follow link",onClick:()=>window.open(t.content,"_blank")})}),(0,xo.jsx)(eg,{display:a,children:(0,xo.jsx)(Pb,{title:"run encounter",onClick:()=>this.runEncounter(t)})}),(0,xo.jsx)(eg,{display:i,children:(0,xo.jsx)(Pb,{title:"run encounter",onClick:()=>this.props.runEncounter(t,this.state.plot.map,e.id,[],"bright light",[])})}),(0,xo.jsx)(eg,{display:o,children:(0,xo.jsx)(Jv,{title:"edit encounter",onClick:()=>this.props.openEncounter(t)})}),(0,xo.jsx)(eg,{display:l,children:(0,xo.jsx)(jv,{title:"setup encounter map",onClick:()=>this.props.setupEncounterMap(t)})}),(0,xo.jsx)(eg,{display:A,children:(0,xo.jsx)(Vb,{className:""===t.content?"disabled":"",title:"show",onClick:()=>this.props.showResource(t)})}),(0,xo.jsx)(eg,{display:u,children:(0,xo.jsx)(Ef,{onConfirm:()=>this.props.removeResourceFromScene(e,t.id),children:(0,xo.jsx)(jo,{title:"remove from scene"})})})]})]})},t.id)}))}getSidebarForScene(e){let t=ro.arrayToItems(["content","links","resources"]);this.state.plot.map&&(t=t.filter((e=>"links"!==e.id))),0===e.links.length&&0===vo.getPotentialLinks(this.state.plot,e).length&&(t=t.filter((e=>"links"!==e.id)));let n=this.state.view;return t.find((e=>e.id===n))||(n=t[0].id),(0,xo.jsxs)("div",{children:[(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("div",{className:"subheading",children:"scene title"}),(0,xo.jsx)(Bo,{text:e.name,placeholder:"scene title",onChange:t=>this.props.changeValue(e,"name",t)})]}),(0,xo.jsx)("hr",{}),(0,xo.jsx)(Dg,{options:t,selectedID:n,onSelect:e=>this.setView(e)}),(0,xo.jsx)(eg,{display:"content"===n,children:(0,xo.jsx)($f,{text:e.content,onChange:t=>this.props.changeValue(e,"content",t)})}),(0,xo.jsx)(eg,{display:"links"===n&&null===this.state.plot.map,children:(0,xo.jsxs)(Sg,{transparent:!0,children:[this.getLinks(e),(0,xo.jsx)("hr",{}),(0,xo.jsx)(Qf,{placeholder:"select a scene to link to...",options:ro.sort(vo.getPotentialLinks(this.state.plot,e)).map((e=>({id:e.id,text:e.name||"unnamed scene"}))),onSelect:t=>this.props.addLink(e,t)})]})}),(0,xo.jsx)(eg,{display:"links"===n&&null!==this.state.plot.map,children:(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"links aren't needed between map areas"})})}),(0,xo.jsx)(eg,{display:"resources"===n,children:(0,xo.jsxs)(Sg,{transparent:!0,children:[this.getResources(e),(0,xo.jsx)("hr",{}),(0,xo.jsx)("button",{onClick:()=>this.props.addResourceToScene(e,"text"),children:"add a text handout"}),(0,xo.jsx)("button",{onClick:()=>this.props.addResourceToScene(e,"url"),children:"add a url"}),(0,xo.jsx)("button",{onClick:()=>this.props.addResourceToScene(e,"image"),children:"add an image"}),(0,xo.jsx)(eg,{display:this.props.encounters.length>0,children:(0,xo.jsx)("button",{onClick:()=>this.props.addEncounterToScene(e,this.getParty(),!1),children:"link to an encounter"})}),(0,xo.jsx)("button",{onClick:()=>this.props.addEncounterToScene(e,this.getParty(),!0),children:"link to a new random encounter"})]})}),(0,xo.jsxs)(eg,{display:null===this.state.plot.map,children:[(0,xo.jsx)("hr",{}),(0,xo.jsxs)(Os,{gutter:10,children:[(0,xo.jsx)(zs,{span:12,children:(0,xo.jsx)("button",{className:this.canMoveScene(e,"left")?"":"disabled",onClick:()=>this.moveScene(e,"left"),children:"move left"})}),(0,xo.jsx)(zs,{span:12,children:(0,xo.jsx)("button",{className:this.canMoveScene(e,"right")?"":"disabled",onClick:()=>this.moveScene(e,"right"),children:"move right"})})]}),(0,xo.jsx)("hr",{}),(0,xo.jsx)("button",{onClick:()=>this.explore(e),children:"explore scene"}),(0,xo.jsx)(Ef,{onConfirm:()=>this.props.deleteScene(this.state.plot,e),children:"delete scene"})]}),(0,xo.jsx)("hr",{}),(0,xo.jsxs)("button",{onClick:()=>this.setSelectedSceneID(null),children:[(0,xo.jsx)(No,{style:{fontSize:"10px"}})," back to the adventure"]})]})}getSidebarForPlot(){const e=this.props.parties.map((e=>({id:e.id,text:e.name||"unnamed party"})));return e.push({id:"custom",text:"custom party"}),(0,xo.jsxs)("div",{children:[(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("div",{className:"subheading",children:"adventure name"}),(0,xo.jsx)(Bo,{text:this.props.adventure.name,placeholder:"adventure name",onChange:e=>this.props.changeValue(this.props.adventure,"name",e)})]}),(0,xo.jsx)("hr",{}),(0,xo.jsx)(eg,{display:0===this.props.adventure.plot.scenes.length,children:(0,xo.jsxs)(Uf,{children:[(0,xo.jsx)("div",{className:"section",children:"an adventure is made up of scenes which are linked together like a flowchart"}),(0,xo.jsxs)("div",{className:"section",children:["press ",(0,xo.jsx)("b",{children:"add a scene"})," to add your first scene to this adventure"]}),(0,xo.jsx)(eg,{display:0===this.state.plot.scenes.length,children:(0,xo.jsxs)("div",{className:"section",children:["alternatively, you can ",(0,xo.jsx)("b",{children:"use a map"})," to create scenes for each of its areas; this is handy if you're designing a dungeon crawl"]})})]})}),(0,xo.jsx)(eg,{display:null===this.state.plot.map,children:(0,xo.jsx)("button",{onClick:()=>{const e=this.props.addScene(this.state.plot,null,null);this.setState({selectedSceneID:e.id})},children:"add a scene"})}),(0,xo.jsxs)(eg,{display:null!==this.state.plot.map,children:[(0,xo.jsx)("button",{onClick:()=>this.props.rotateMap(this.state.plot),children:"rotate the map"}),(0,xo.jsx)("button",{onClick:()=>this.props.removeMapFromPlot(this.state.plot),children:"remove the map"})]}),(0,xo.jsx)(eg,{display:0===this.state.plot.scenes.length,children:(0,xo.jsxs)(kg,{text:"use a map",children:[(0,xo.jsx)("button",{className:0===this.props.maps.filter((e=>e.areas.length>0)).length?"disabled":"",onClick:()=>this.props.addMapToPlot(this.state.plot,!1),children:"use an existing map"}),(0,xo.jsx)("button",{onClick:()=>this.props.addMapToPlot(this.state.plot,!0),children:"use a new random map"})]})}),(0,xo.jsx)("hr",{}),(0,xo.jsxs)(kg,{text:"highlight difficulty",children:[(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"select a party to show the difficulty of the encounters in this adventure"})}),(0,xo.jsx)(Qf,{placeholder:"select a party...",options:e,selectedID:this.state.selectedPartyID,onSelect:e=>this.setSelectedPartyID(e),onClear:()=>this.setSelectedPartyID(null)}),(0,xo.jsxs)(eg,{display:"custom"===this.state.selectedPartyID,children:[(0,xo.jsx)(Ug,{value:this.state.customPartySize,label:"party size",downEnabled:this.state.customPartySize>1,onNudgeValue:e=>this.setState({customPartySize:this.state.customPartySize+e})}),(0,xo.jsx)(Ug,{value:this.state.customPartyLevel,label:"party level",downEnabled:this.state.customPartyLevel>1,upEnabled:this.state.customPartyLevel<20,onNudgeValue:e=>this.setState({customPartyLevel:this.state.customPartyLevel+e})})]})]}),(0,xo.jsx)(kb,{adventure:this.props.adventure,parties:this.props.parties,exploreMap:(e,t)=>this.props.exploreMap(e,t),deleteAdventure:e=>this.props.deleteAdventure(e)}),(0,xo.jsx)("hr",{}),(0,xo.jsxs)("button",{onClick:()=>this.props.goBack(),children:[(0,xo.jsx)(No,{style:{fontSize:"10px"}})," back to the list"]})]})}getContent(){const e=[];if(null!==this.state.selectedPartyID){const t=this.getParty();t&&this.state.plot.scenes.forEach((n=>{vo.getEncounterIDs(n).forEach((r=>{const s=this.props.encounters.find((e=>e.id===r));if(s){const r=io.getEncounterDifficulty(s,null,t,(e=>this.props.getMonster(e)));e.push({id:n.id,className:"diff-"+Math.min(4,r.adjusted)})}}))}))}return this.state.plot.map?(0,xo.jsx)(my,{map:this.state.plot.map,mode:"interactive-plot",showAreaNames:!0,areaClassNames:e,selectedItemIDs:this.state.selectedSceneID?[this.state.selectedSceneID]:[],areaClicked:e=>this.setSelectedSceneID(e.id),itemSelected:()=>this.setSelectedSceneID(null)}):(0,xo.jsx)(Mb,{plot:this.state.plot,sceneClassNames:e,selectedSceneID:this.state.selectedSceneID,selectSceneID:e=>this.setSelectedSceneID(e),showNotes:e=>this.props.showNotes(e),exploreScene:e=>this.explore(e),addScene:(e,t)=>{const n=this.props.addScene(this.state.plot,e,t);this.setState({selectedSceneID:n.id})}})}render(){try{const e=this.state.plot.scenes.find((e=>e.id===this.state.selectedSceneID));return(0,xo.jsxs)(Os,{className:"full-height",children:[(0,xo.jsx)(zs,{span:6,className:"scrollable sidebar sidebar-left",children:e?this.getSidebarForScene(e):this.getSidebarForPlot()}),(0,xo.jsxs)(zs,{span:18,className:"scrollable both-ways",children:[(0,xo.jsx)(eg,{display:this.state.plot.id!==this.props.adventure.plot.id,children:(0,xo.jsx)("div",{className:"breadcrumb-bar",children:(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:this.state.breadcrumbs.map((e=>(0,xo.jsx)(Sg,{onClick:()=>this.goToBreadcrumb(e.plot.id),children:e.name||"unnamed scene"},e.plot.id)))}),(0,xo.jsx)("div",{className:"icons",children:(0,xo.jsx)(_b,{className:this.props.adventure.plot.id===this.state.plot.id?"disabled":"",title:"go up one level",onClick:()=>this.goUp()})})]})})}),this.getContent()]})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"AdventureScreen",error:DB})}}}const Wb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.5 360.3a7.95 7.95 0 00-12.9 0l-178 246c-3.8 5.3 0 12.7 6.5 12.7H381c10.2 0 19.9-4.9 25.9-13.2L512 460.4l105.2 145.4c6 8.3 15.6 13.2 25.9 13.2H690c6.5 0 10.3-7.4 6.5-12.7l-178-246z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"up-circle",theme:"outlined"};var Yb=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Wb}))};const qb=c.forwardRef(Yb);class Xb extends c.Component{render(){try{return(0,xo.jsxs)("div",{className:"card map",children:[(0,xo.jsx)("div",{className:"heading",children:(0,xo.jsx)("div",{className:"title",children:"map item"})}),(0,xo.jsxs)("div",{className:"card-content",children:[(0,xo.jsx)("div",{className:"subheading",children:"type"}),(0,xo.jsx)(Ng,{options:ro.arrayToItems(["overlay","token"]),selectedID:this.props.item.type,onSelect:e=>this.props.changeValue(this.props.item,"type",e)}),(0,xo.jsx)("div",{className:"subheading",children:"move"}),(0,xo.jsx)(dy,{showToggle:!0,onMove:(e,t)=>this.props.moveMapItem(this.props.item,e,t)}),(0,xo.jsxs)(eg,{display:"overlay"===this.props.item.type,children:[(0,xo.jsx)("div",{className:"subheading",children:"size"}),(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)(Ug,{value:this.props.item.width+" sq / "+5*this.props.item.width+" ft",label:"width",downEnabled:this.props.item.width>1,onNudgeValue:e=>this.props.nudgeValue(this.props.item,"width",e)}),(0,xo.jsx)(Ug,{value:this.props.item.height+" sq / "+5*this.props.item.height+" ft",label:"height",downEnabled:this.props.item.height>1,onNudgeValue:e=>this.props.nudgeValue(this.props.item,"height",e)})]})]}),(0,xo.jsxs)(eg,{display:"overlay"===this.props.item.type,children:[(0,xo.jsx)("div",{className:"subheading",children:"shape"}),(0,xo.jsx)(Ng,{options:ro.arrayToItems(["square","rounded","circle"]),selectedID:this.props.item.style,onSelect:e=>this.props.changeValue(this.props.item,"style",e)}),(0,xo.jsx)("div",{className:"subheading",children:"color"}),(0,xo.jsx)("input",{type:"color",value:this.props.item.color,onChange:e=>this.props.changeValue(this.props.item,"color",e.target.value)}),(0,xo.jsx)("div",{className:"subheading",children:"opacity"}),(0,xo.jsx)(iv,{min:0,max:255,value:this.props.item.opacity,tooltipVisible:!1,onChange:e=>this.props.changeValue(this.props.item,"opacity",e)})]}),(0,xo.jsxs)(eg,{display:"token"===this.props.item.type,children:[(0,xo.jsx)("div",{className:"subheading",children:"size"}),(0,xo.jsx)(Ug,{value:this.props.item.size,downEnabled:"tiny"!==this.props.item.size,upEnabled:"gargantuan"!==this.props.item.size,onNudgeValue:e=>this.props.nudgeValue(this.props.item,"size",e)})]}),(0,xo.jsx)("hr",{}),(0,xo.jsx)("div",{className:"section",children:(0,xo.jsx)("button",{onClick:()=>this.props.deleteMapItem(this.props.item),children:"remove from the map"})})]})]},this.props.item.id)}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"MapItemCard",error:DB})}}}class Jb extends c.Component{render(){try{const e=this.props.combatant.hpCurrent||0,t=this.props.combatant.hpMax||0,n=this.props.combatant.hpTemp||0,r=100*Math.max(e,0)/(t+n),s="bar "+io.getCombatantState(this.props.combatant);let a=null;if(null!==this.props.combatant.hpTemp&&this.props.combatant.hpTemp>0){const e=100*Math.max(this.props.combatant.hpTemp,0)/(t+n);a=(0,xo.jsx)("div",{className:"bar temp",style:{width:e+"%"}})}return(0,xo.jsxs)("div",{className:"hp-gauge",children:[(0,xo.jsx)("div",{className:s,style:{width:r+"%"}}),a]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"HitPointGauge",error:DB})}}}class Zb extends c.Component{getInformationTag(){return this.props.combatant.current?(0,xo.jsx)(Qc,{className:"info",children:"current turn"}):this.props.selected?(0,xo.jsx)(Qc,{className:"info",children:this.props.selectedText}):null}onClick(e){e.stopPropagation(),this.props.select&&this.props.select(this.props.combatant,e.ctrlKey)}getStats(){if("monster"===this.props.combatant.type&&!this.props.playerView){var e,t;const n=this.props.combatant;let r=(null!==(e=this.props.combatant.hpCurrent)&&void 0!==e?e:0).toString();return(null!==(t=this.props.combatant.hpTemp)&&void 0!==t?t:0)>0&&(r+="+"+this.props.combatant.hpTemp),(0,xo.jsxs)("div",{children:[(0,xo.jsxs)(Os,{align:"middle",children:[(0,xo.jsx)(zs,{span:12,children:(0,xo.jsxs)("div",{className:"information",children:[(0,xo.jsx)("div",{children:"ac"}),(0,xo.jsx)("div",{className:"information-value",children:n.ac})]})}),(0,xo.jsx)(zs,{span:12,children:(0,xo.jsxs)("div",{className:"information",children:[(0,xo.jsx)("div",{className:"information-value",children:r}),(0,xo.jsx)("div",{children:"hp"})]})})]}),(0,xo.jsx)(Jb,{combatant:this.props.combatant})]})}return null}getTags(){const e=[],t=this.props.combat.combatants.find((e=>e.mountID===this.props.combatant.id));t&&e.push((0,xo.jsxs)(Qc,{children:[(0,xo.jsx)("span",{children:"ridden by: "}),(0,xo.jsx)("button",{className:"link",onClick:e=>{e.stopPropagation(),this.props.select(t,!1)},children:t.displayName})]},"rider"));const n=[];return this.props.combatant.tags.filter((e=>e.startsWith("engaged"))).forEach((e=>{n.push(oo.getTagDescription(e))})),n.length>0&&e.push((0,xo.jsxs)(Qc,{children:["engaged with: ",n.join(", ")]},"engaged")),this.props.combat.map&&!this.props.combat.map.items.find((e=>e.id===this.props.combatant.id))&&e.push((0,xo.jsx)(Qc,{children:"not on the map"},"not-on-map")),this.props.combatant.showOnMap||e.push((0,xo.jsx)(Qc,{children:"hidden"},"hidden")),e}getNotes(){const e=[];if(this.props.combatant.mountID){const t=this.props.combat.combatants.find((e=>e.id===this.props.combatant.mountID));if(t){let n=null;"controlled"===this.props.combatant.mountType&&(n=(0,xo.jsx)("div",{className:"note-details",children:"your mount moves as directed; it can only take dash, disengage, or dodge actions"})),e.push((0,xo.jsxs)(Uf,{children:[(0,xo.jsxs)("div",{className:"note-heading",children:[(0,xo.jsx)("span",{children:"mounted on: "}),(0,xo.jsx)("button",{className:"link",onClick:e=>{e.stopPropagation(),this.props.select(t,!1)},children:t.displayName})]}),n,(0,xo.jsx)("div",{className:"note-details",children:"if you\u2019re knocked prone, or an effect moves your mount against its will, you must succeed on a dex save (dc 10) or land prone in a space within 5 feet of your mount"}),(0,xo.jsx)("div",{className:"note-details",children:"if your mount is knocked prone, you can use your reaction to land on your feet; otherwise, you fall prone in a space within 5 feet of your mount"})]},"mount"))}}return this.props.combatant.tags.filter((e=>!e.startsWith("engaged"))).forEach((t=>{e.push((0,xo.jsxs)(Uf,{children:[(0,xo.jsx)("div",{className:"note-heading",children:oo.getTagTitle(t)}),(0,xo.jsx)("div",{className:"note-details",children:oo.getTagDescription(t)})]},t))})),this.props.combatant.conditions&&this.props.combatant.conditions.forEach((t=>{let n=t.name;"exhaustion"===t.name&&(n+=" ("+t.level+")"),t.duration&&(n+=" "+oo.conditionDurationText(t,this.props.combat.combatants));let r=null;"custom"!==t.name&&(r=(0,xo.jsx)("div",{className:"note-heading",children:n}));const s=[],a=oo.conditionText(t);for(let e=0;e!==a.length;++e)s.push((0,xo.jsx)("div",{className:"note-details",children:a[e]},e));e.push((0,xo.jsxs)(Uf,{children:[r,s]},t.id))})),this.props.combatant.note&&e.push((0,xo.jsx)(Uf,{children:(0,xo.jsx)(Bf,{children:this.props.combatant.note})},"text")),e}render(){try{let e="initiative-list-item";this.props.combatant.current&&(e+=" current"),this.props.selected&&(e+=" highlight"),this.props.combatant.defeated&&(e+=" defeated");let t=null;const n=this.props.combatant;n.portrait&&(t=(0,xo.jsx)(vd,{source:n,inline:!0}));const r=io.getCombatantName(this.props.combatant,this.props.combat.combatants),s=this.getStats(),a=this.getTags(),i=this.getNotes();let o=null;return(s||a.length>0||i.length>0)&&(o=(0,xo.jsxs)("div",{className:"init-entry-content",children:[this.getStats(),this.getTags(),this.getNotes()]})),(0,xo.jsxs)("div",{className:e,onClick:e=>this.onClick(e),role:"button",children:[(0,xo.jsxs)("div",{className:"header",children:[t,(0,xo.jsx)("div",{className:"name",children:r}),this.getInformationTag()]}),o]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"InitiativeEntry",error:DB})}}}class $b extends c.Component{render(){try{var e;let t=null;const n=this.props.combatant;return n.portrait&&(t=(0,xo.jsx)(vd,{source:n,inline:!0})),(0,xo.jsx)(Sg,{children:(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsxs)("div",{className:"content",children:[(0,xo.jsxs)("div",{className:"subheading",children:[t,this.props.combatant.displayName||"combatant"]}),(0,xo.jsx)(Ug,{label:"initiative",value:null!==(e=this.props.combatant.initiative)&&void 0!==e?e:10,onNudgeValue:e=>this.props.nudgeValue(this.props.combatant,"initiative",e)})]}),(0,xo.jsxs)("div",{className:"icons vertical",children:[(0,xo.jsx)(Ke,{title:"add to encounter",onClick:()=>this.props.makeActive(this.props.combatant)}),(0,xo.jsx)(Ef,{onConfirm:()=>this.props.remove(this.props.combatant),children:(0,xo.jsx)(Pe,{title:"remove from encounter"})})]})]})})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"PendingInitiativeEntry",error:DB})}}}class ex extends c.Component{addToMap(e){e.stopPropagation(),this.props.addToMap(this.props.combatant)}render(){try{let e=null;const t=this.props.combatant;return t.portrait&&(e=(0,xo.jsx)(vd,{source:t,inline:!0})),(0,xo.jsx)(Sg,{children:(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:(0,xo.jsxs)("div",{className:"subheading",children:[e,this.props.combatant.displayName||"combatant"]})}),(0,xo.jsx)("div",{className:"icons",children:(0,xo.jsx)(jv,{title:"place on map",onClick:e=>this.addToMap(e)})})]})})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"NotOnMapInitiativeEntry",error:DB})}}}class tx extends c.Component{orderCombatants(e){const t=e.find((e=>e.current));if(t){const n=e.indexOf(t);if(0!==n){const t=[...e];return t.splice(n).concat(["top of the round"]).concat(t)}}return e}createCombatantRow(e){if("string"===typeof e)return(0,xo.jsx)("div",{className:"section init-separator",children:e},e);let t=this.props.selectedItemIDs.includes(e.id);return this.props.playerView&&!this.props.combat.map&&(t=!1),(0,xo.jsx)(Zb,{combatant:e,playerView:this.props.playerView,selectedText:this.props.selectedText,combat:this.props.combat,selected:t,select:(e,t)=>this.props.toggleItemSelection(e.id,t)},e.id)}render(){try{const e=io.getActiveCombatants(this.props.combat,this.props.playerView,this.props.showDefeated),t=this.orderCombatants(e).map((e=>this.createCombatantRow(e)));return(0,xo.jsxs)("div",{children:[this.props.help,t]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"InitiativeOrder",error:DB})}}}class nx extends c.Component{constructor(e){super(e),this.state={showOptions:!1,showDefeatedCombatants:!1,selectedItemIDs:[],addingToMapID:null,addingOverlay:!1,editFog:!1,highlightMapSquare:!1,addingLightSource:!1,highlightedSquare:null,playerViewOpen:!1,middleColumnWidth:8}}componentDidMount(){window.addEventListener("beforeunload",(()=>{this.setPlayerViewOpen(!1)}))}componentDidUpdate(){}toggleShowOptions(){this.setState({showOptions:!this.state.showOptions})}toggleShowDefeatedCombatants(){this.setState({showDefeatedCombatants:!this.state.showDefeatedCombatants})}setSelectedItemIDs(e){this.setState({selectedItemIDs:e})}toggleItemSelection(e,t){if(e&&t){const t=this.state.selectedItemIDs;if(t.includes(e)){const n=t.indexOf(e);t.splice(n,1)}else t.push(e);this.setSelectedItemIDs(t)}else this.setSelectedItemIDs(e?[e]:[])}setAddingToMapID(e){this.setState({addingToMapID:e,addingOverlay:!1,editFog:!1,highlightMapSquare:!1,addingLightSource:!1,highlightedSquare:null})}toggleAddingOverlay(){this.setState({addingOverlay:!this.state.addingOverlay,addingToMapID:null,editFog:!1,highlightMapSquare:!1,addingLightSource:!1,highlightedSquare:null})}toggleEditFog(){this.setState({addingOverlay:!1,addingToMapID:null,editFog:!this.state.editFog,highlightMapSquare:!1,addingLightSource:!1,highlightedSquare:null})}toggleHighlightMapSquare(){this.setState({addingOverlay:!1,addingToMapID:null,editFog:!1,highlightMapSquare:!this.state.highlightMapSquare,addingLightSource:!1,highlightedSquare:null})}toggleAddingLightSource(){this.setState({addingOverlay:!1,addingToMapID:null,editFog:!1,highlightMapSquare:!1,addingLightSource:!this.state.addingLightSource,highlightedSquare:null})}setHighlightedSquare(e,t){this.state.highlightMapSquare&&this.setState({highlightedSquare:{x:e,y:t}})}fillFog(){if(this.props.combat.map){const e=[],t=wo.mapDimensions(this.props.combat.map.items);if(t){for(let n=t.minX;n<=t.maxX;++n)for(let r=t.minY;r<=t.maxY;++r)e.push({x:n,y:r});this.props.setFog(e)}}}clearFog(){this.props.setFog([])}setPlayerViewOpen(e){this.setState({playerViewOpen:e})}nudgeMiddleColumnWidth(e){this.setState({middleColumnWidth:this.state.middleColumnWidth+e})}nextTurn(){const e=this.props.combat.combatants.find((e=>e.current));if(e)this.props.endTurn(e);else{const e=this.props.combat.combatants.filter((e=>"placeholder"!==e.type||io.combatHasLairActions(this.props.combat))).find((e=>e.active));e&&this.props.makeCurrent(e)}}defeatCombatants(e){const t=e.map((e=>e.id));this.setState({selectedItemIDs:this.state.selectedItemIDs.filter((e=>!t.includes(e)))},(()=>{this.props.makeDefeated(e)}))}removeCombatants(e){const t=e.map((e=>e.id));this.setState({selectedItemIDs:this.state.selectedItemIDs.filter((e=>!t.includes(e)))},(()=>{this.props.removeCombatants(e)}))}gridSquareClicked(e,t){if(this.state.addingToMapID){const n=this.props.combat.combatants.find((e=>e.id===this.state.addingToMapID));n&&this.props.mapAdd(n,e,t),this.setAddingToMapID(null)}if(this.state.addingOverlay){const n=so.createMapItem();n.type="token",n.x=e,n.y=t,n.width=1,n.height=1,n.color="#005080",n.opacity=127,n.style="square",this.props.addOverlay(n),this.setState({addingOverlay:!1,selectedItemIDs:[n.id]})}this.state.editFog&&this.gridRectangleSelected(e,t,e,t),this.state.addingLightSource&&this.setState({addingLightSource:!1},(()=>{const n=so.createMapLightSource();n.x=e,n.y=t,this.props.mapAddLightSource(this.props.combat.map,n)}))}gridRectangleSelected(e,t,n,r){if(this.state.addingOverlay){const s=so.createMapItem();s.type="overlay",s.x=e,s.y=t,s.width=n-e+1,s.height=r-t+1,s.color="#005080",s.opacity=127,s.style="square",this.props.addOverlay(s),this.setState({addingOverlay:!1,selectedItemIDs:[s.id]})}if(this.state.editFog){const s=this.props.combat.fog;for(let a=e;a<=n;++a)for(let e=t;e<=r;++e){const t=s.findIndex((t=>t.x===a&&t.y===e));-1===t?s.push({x:a,y:e}):s.splice(t,1)}this.props.setFog(s)}}getPlayerView(){if(!this.state.playerViewOpen)return null;const e=(0,xo.jsx)(tx,{combat:this.props.combat,playerView:!0,selectedText:"selected",showDefeated:!1,help:null,selectedItemIDs:this.state.selectedItemIDs,toggleItemSelection:()=>null});return this.props.combat.map?(0,xo.jsx)(gb,{title:"Encounter",onCloseWindow:()=>this.setPlayerViewOpen(!1),children:(0,xo.jsxs)(Os,{className:"full-height full-width",children:[(0,xo.jsxs)(zs,{span:18,className:"scrollable both-ways",children:[(0,xo.jsx)("div",{className:"heading",children:"encounter map"}),(0,xo.jsx)(my,{map:this.props.combat.map,mode:"interactive-player",options:this.props.options,combatants:this.props.combat.combatants,selectedItemIDs:this.props.combat.combatants.filter((e=>"pc"===e.type)).map((e=>e.id)),selectedAreaID:this.props.combat.mapAreaID,fog:this.props.combat.fog,lighting:this.props.combat.lighting,focussedSquare:this.state.highlightedSquare,itemSelected:(e,t)=>this.toggleItemSelection(e,t)},"map")]}),(0,xo.jsxs)(zs,{span:6,className:"scrollable",children:[(0,xo.jsx)("div",{className:"heading fixed-top",children:"initiative order"}),e]})]})}):(0,xo.jsx)(gb,{title:"Encounter",onCloseWindow:()=>this.setPlayerViewOpen(!1),children:(0,xo.jsxs)("div",{className:"scrollable full-width",children:[(0,xo.jsx)("div",{className:"heading",children:"initiative order"}),e]})})}getOptions(){if(!this.state.showOptions)return null;let e=null;this.props.combat.map&&(e=(0,xo.jsx)(Ef,{onConfirm:()=>{this.setState({showOptions:!1},(()=>{this.props.endCombat(this.props.combat,!0)}))},children:"end combat and start exploring"}));const t=[];this.props.combat.combatants.filter((e=>"pc"===e.type)).forEach((e=>{const n=this.props.parties.find((t=>t.pcs.find((t=>t.id===e.id))));n&&!t.includes(n)&&t.push(n)}));const n=[];t.forEach((e=>{e.pcs.forEach((t=>{this.props.combat.combatants.find((e=>e.id===t.id))||n.push((0,xo.jsxs)("button",{onClick:()=>this.props.addPC(e.id,t.id),children:[t.name," (",e.name,")"]},t.id))}))}));let r=null;n.length>0&&(r=(0,xo.jsx)(kg,{text:"add pcs",children:n}));let s=null;this.props.combat.encounter&&this.props.combat.encounter.waves.length>0&&(s=(0,xo.jsx)("button",{onClick:()=>{this.setState({showOptions:!1},(()=>{this.props.addWave()}))},children:"add wave"}));let a=null;return this.props.combat.map&&(a=(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"heading",children:"map"}),(0,xo.jsx)(ig,{label:"add token / overlay",checked:this.state.addingOverlay,onChecked:()=>this.toggleAddingOverlay()}),(0,xo.jsx)(eg,{display:this.state.addingOverlay,children:(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"click on a map square to add a token, or select a rectangle to add an overlay"})})}),(0,xo.jsx)("button",{onClick:()=>this.props.rotateMap(),children:"rotate the map"})]})),(0,xo.jsxs)("div",{className:"scrollable",children:[(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"heading",children:"combat"}),(0,xo.jsx)("button",{onClick:()=>this.props.pauseCombat(),children:"pause combat"}),(0,xo.jsx)(Ef,{onConfirm:()=>this.props.endCombat(this.props.combat,!1),children:"end combat"}),e]}),(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"heading",children:"combatants"}),(0,xo.jsx)("button",{onClick:()=>{this.setState({showOptions:!1},(()=>{this.props.addCombatants()}))},children:"add monsters"}),r,s,(0,xo.jsx)("button",{onClick:()=>{this.setState({showOptions:!1},(()=>{this.props.addCompanion(null)}))},children:"add a companion"})]}),a,(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"heading",children:"layout"}),(0,xo.jsx)(ig,{label:"show defeated combatants",checked:this.state.showDefeatedCombatants,onChecked:()=>this.toggleShowDefeatedCombatants()}),(0,xo.jsx)(Ug,{value:"middle column size",downEnabled:this.state.middleColumnWidth>4,upEnabled:this.state.middleColumnWidth<14,onNudgeValue:e=>this.nudgeMiddleColumnWidth(2*e)})]})]})}getSelectedCombatants(){const e=this.state.selectedItemIDs.map((e=>this.props.combat.combatants.find((t=>t.id===e)))).filter((e=>!!e));ro.sort(e,[{field:"displayName",dir:"asc"}]);const t=e.filter((e=>"placeholder"===e.type));if(t.length>0)return(0,xo.jsx)("div",{children:this.createCard(t[0])});if(e.length>0&&e.every((e=>e.current)))return(0,xo.jsxs)("div",{children:[(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"you've selected the current initiative holder"})}),this.getCheatSheet()]});if(1===e.length)return(0,xo.jsxs)("div",{children:[this.createControls(e),(0,xo.jsx)("hr",{}),this.createCard(e[0])]});if(e.length>1)return(0,xo.jsxs)("div",{children:[(0,xo.jsxs)(Uf,{children:[(0,xo.jsx)("div",{className:"section",children:"multiple combatants are selected:"}),e.map((e=>(0,xo.jsx)(Sg,{children:(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:e.displayName}),(0,xo.jsx)("div",{className:"icons",children:(0,xo.jsx)(Pe,{title:"deselect",onClick:()=>this.toggleItemSelection(e.id,!0)})})]})},e.id)))]}),this.createControls(e)]});if(this.props.combat.map){const e=this.props.combat.map.items.find((e=>e.id===this.state.selectedItemIDs[0]));if(e)return(0,xo.jsx)(Xb,{item:e,moveMapItem:(e,t,n)=>this.props.mapMove([e.id],t,n),deleteMapItem:e=>this.props.mapRemove([e.id]),changeValue:(e,t,n)=>this.props.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.props.nudgeValue(e,t,n)})}return(0,xo.jsxs)("div",{children:[(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"select a pc or monster from the initiative order (in the middle column) to see its details here"})}),this.getCheatSheet()]})}getCheatSheet(){const e=[];if(this.props.combat.encounter.notes&&e.push((0,xo.jsxs)(Sg,{children:[(0,xo.jsx)("div",{className:"section subheading",children:"encounter notes"}),(0,xo.jsx)(Bf,{children:this.props.combat.encounter.notes})]},"encounter-notes")),this.props.combat.map&&this.props.combat.mapAreaID){const t=this.props.combat.map.areas.find((e=>e.id===this.props.combat.mapAreaID));t&&t.text&&e.push((0,xo.jsxs)(Sg,{children:[(0,xo.jsx)("div",{className:"section subheading",children:"map notes"}),(0,xo.jsx)(Bf,{children:t.text})]},"area-notes"))}const t=[];this.props.combat.combatants.filter((e=>e.active)).filter((e=>"monster"===e.type)).forEach((e=>{const n=e;n.traits.filter((e=>"trait"===e.type||"reaction"===e.type)).forEach((e=>{const r=t.find((t=>t.trait.name===e.name&&t.trait.text===e.text));r?r.combatants.push(n.displayName):t.push({trait:e,combatants:[n.displayName]})}))}));const n=t.filter((e=>"trait"===e.trait.type));n.length>0&&e.push((0,xo.jsxs)(Sg,{children:[(0,xo.jsx)("div",{className:"section subheading",children:"traits"}),n.map((e=>(0,xo.jsxs)("div",{className:"section",children:[e.combatants.sort().join(", ")+" "+(1===e.combatants.length?"has":"have")+" ",(0,xo.jsx)(pc,{content:(0,xo.jsx)(ng,{trait:e.trait}),placement:"bottom",overlayClassName:"combat-info-tooltip",children:(0,xo.jsx)("button",{className:"link",children:e.trait.name})})]},e.trait.id)))]},"traits"));const r=t.filter((e=>"reaction"===e.trait.type));return r.length>0&&e.push((0,xo.jsxs)(Sg,{children:[(0,xo.jsx)("div",{className:"section subheading",children:"reactions"}),r.map((e=>(0,xo.jsxs)("div",{className:"section",children:[e.combatants.sort().join(", ")+" "+(1===e.combatants.length?"has":"have")+" ",(0,xo.jsx)(pc,{content:(0,xo.jsx)(ng,{trait:e.trait}),placement:"bottom",overlayClassName:"combat-info-tooltip",children:(0,xo.jsx)("button",{className:"link",children:e.trait.name})})]},e.trait.id)))]},"reactions")),e}createControls(e){return e.some((e=>"placeholder"===e.type))?null:(0,xo.jsx)(hy,{combatants:e,allCombatants:this.props.combat.combatants,map:this.props.combat.map,options:this.props.options,lighting:this.props.combat.lighting,makeCurrent:e=>this.props.makeCurrent(e),makeActive:e=>this.props.makeActive(e),makeDefeated:e=>this.defeatCombatants(e),nextTurn:()=>this.nextTurn(),toggleTag:(e,t)=>this.props.toggleTag(e,t),toggleCondition:(e,t)=>this.props.toggleCondition(e,t),toggleHidden:e=>this.props.toggleHidden(e),changeHP:e=>this.props.changeHP(e),addCondition:e=>this.props.addCondition(e),editCondition:(e,t)=>this.props.editCondition(e,t),deleteCondition:(e,t)=>this.props.deleteCondition(e,t),mapAdd:e=>this.setAddingToMapID(this.state.addingToMapID?null:e.id),mapMove:(e,t,n)=>this.props.mapMove(e.map((e=>e.id)),t,n),mapRemove:e=>this.props.mapRemove(e.map((e=>e.id))),undoStep:e=>this.props.undoStep(e),removeCombatants:e=>this.removeCombatants(e),addCompanion:e=>this.props.addCompanion(e),changeValue:(e,t,n)=>this.props.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.props.nudgeValue(e,t,n)})}createCard(e){switch(e.type){case"pc":return(0,xo.jsx)(Ey,{pc:e});case"monster":return(0,xo.jsx)(sg,{monster:e,combat:!0,showRollButtons:this.props.options.showMonsterDieRolls,useTrait:e=>this.props.useTrait(e),rechargeTrait:e=>this.props.rechargeTrait(e),onRollDice:(e,t,n,r,s)=>this.props.onRollDice(e,t,n,r,s)});case"companion":{let t=null;const n=e;return n.monsterID&&this.props.library.forEach((e=>{const r=e.monsters.find((e=>e.id===n.monsterID));r&&(t=(0,xo.jsx)(sg,{monster:r,combat:!0,showRollButtons:this.props.options.showMonsterDieRolls,useTrait:e=>this.props.useTrait(e),rechargeTrait:e=>this.props.rechargeTrait(e),onRollDice:(e,t,n,r,s)=>this.props.onRollDice(e,t,n,r,s)}))})),t}case"placeholder":{const e=[];return this.props.combat.combatants.forEach((t=>{const n=t;n&&n.traits&&n.traits.some((e=>"lair"===e.type))&&e.push((0,xo.jsxs)("div",{className:"card monster",children:[(0,xo.jsx)("div",{className:"heading",children:(0,xo.jsx)("div",{className:"title",children:n.name})}),(0,xo.jsx)("div",{className:"card-content",children:(0,xo.jsx)(tg,{combatant:n,mode:"lair",useTrait:e=>this.props.useTrait(e),rechargeTrait:e=>this.props.rechargeTrait(e)})})]},"lair "+n.id))})),e}}return null}render(){try{const e=this.props.combat.combatants.filter((e=>!!e.mountID&&"controlled"===e.mountType)).map((e=>e.mountID||"")),t=this.props.combat.combatants.filter((t=>!e.includes(t.id))).find((e=>e.current)),n=this.props.combat.combatants.filter((t=>!e.includes(t.id))).filter((e=>e.pending)),r=n.map((e=>(0,xo.jsx)($b,{combatant:e,changeValue:(e,t,n)=>this.props.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.props.nudgeValue(e,t,n),makeActive:e=>this.props.makeActive([e]),remove:e=>this.props.removeCombatants([e])},e.id)));0!==n.length&&r.unshift((0,xo.jsxs)(Uf,{children:[(0,xo.jsx)("div",{className:"section",children:"these combatants are not yet part of the encounter"}),(0,xo.jsxs)("div",{className:"section",children:["set initiative on each of them, then press the ",(0,xo.jsx)(Ke,{})," button to add them to the initiative order - or press ",(0,xo.jsx)(Pe,{})," to remove someone from the combat"]}),(0,xo.jsxs)("div",{className:"section",children:["you can hide this section by clicking on the ",(0,xo.jsx)(qb,{})," button above"]})]},"pending-help"));let s=null;t||(s=(0,xo.jsxs)(Uf,{children:[(0,xo.jsxs)("div",{className:"section",children:["these are the combatants taking part in this encounter; you can select them to see their stat blocks (on the right); you can select multiple combatants by holding the ",(0,xo.jsx)("code",{children:"ctrl"})," key"]}),(0,xo.jsx)("div",{className:"section",children:"they are listed in initiative order (with the highest initiative score at the top of the list, and the lowest at the bottom)"}),(0,xo.jsx)("div",{className:"section",children:"this message will go away when combat starts"})]},"init-help"));const a=(0,xo.jsx)(tx,{combat:this.props.combat,playerView:!1,selectedText:"selected",showDefeated:this.state.showDefeatedCombatants,help:s,selectedItemIDs:this.state.selectedItemIDs,toggleItemSelection:(e,t)=>this.toggleItemSelection(e,t)});let i=null,o=null;t?o=(0,xo.jsxs)("div",{children:[this.createControls([t]),(0,xo.jsx)("hr",{}),this.createCard(t)]}):i=(0,xo.jsxs)("div",{children:[(0,xo.jsxs)(Uf,{children:[(0,xo.jsxs)("div",{className:"section",children:["when you're ready to begin, press the ",(0,xo.jsx)("b",{children:"start combat"})," button"]}),(0,xo.jsx)("div",{className:"section",children:"the current initiative holder will be displayed in this column"})]}),(0,xo.jsx)("button",{onClick:()=>this.nextTurn(),children:"start combat"})]});let l=null;if(this.props.combat.map){const e=io.getActiveCombatants(this.props.combat,!1,this.state.showDefeatedCombatants).filter((e=>this.props.combat.map&&!this.props.combat.map.items.find((t=>t.id===e.id))));e.length>0&&(l=(0,xo.jsxs)("div",{children:[(0,xo.jsxs)(Uf,{children:[(0,xo.jsx)("div",{className:"section",children:"these combatants are in the initiative order, but have not yet been placed on the map (shown in the middle column)"}),(0,xo.jsxs)("div",{className:"section",children:["to place one on the map, click the ",(0,xo.jsx)(jv,{})," button and then click on a map square"]}),(0,xo.jsxs)("div",{className:"section",children:["or, click ",(0,xo.jsx)("button",{className:"link",onClick:()=>this.props.scatterCombatants(e,this.props.combat.mapAreaID),children:"here"})," to scatter them randomly"]})]}),e.map((e=>(0,xo.jsx)(ex,{combatant:e,addToMap:e=>this.setAddingToMapID(e.id)},e.id)))]}))}let A=null;this.props.combat.map&&(A=(0,xo.jsx)("div",{className:"scrollable horizontal-only",children:(0,xo.jsx)(my,{map:this.props.combat.map,mode:"interactive-dm",features:{highlight:this.state.highlightMapSquare,editFog:this.state.editFog,lightSource:this.state.addingLightSource},options:this.props.options,showGrid:null!==this.state.addingToMapID||this.state.addingOverlay||this.state.editFog||this.state.highlightMapSquare||this.state.addingLightSource,combatants:this.props.combat.combatants,selectedItemIDs:this.state.selectedItemIDs,selectedAreaID:this.props.combat.mapAreaID,fog:this.props.combat.fog,lighting:this.props.combat.lighting,focussedSquare:this.state.highlightedSquare,itemSelected:(e,t)=>this.toggleItemSelection(e,t),itemRemove:e=>this.props.mapRemove([e]),conditionRemove:(e,t)=>this.props.deleteCondition(e,t),toggleTag:(e,t)=>this.props.toggleTag(e,t),toggleCondition:(e,t)=>this.props.toggleCondition(e,t),toggleHidden:e=>this.props.toggleHidden(e),areaSelected:e=>this.props.changeValue(this.props.combat,"mapAreaID",e),gridSquareEntered:(e,t)=>this.setHighlightedSquare(e,t),gridSquareClicked:(e,t)=>this.gridSquareClicked(e,t),gridRectangleSelected:(e,t,n,r)=>this.gridRectangleSelected(e,t,n,r),changeLighting:e=>this.props.changeValue(this.props.combat,"lighting",e),changeLightSource:(e,t,n,r)=>this.props.mapChangeLightSource(e,t,n,r),removeLightSource:e=>this.props.mapDeleteLightSource(this.props.combat.map,e),toggleFeature:e=>{switch(e){case"highlight":this.toggleHighlightMapSquare();break;case"editFog":this.toggleEditFog();break;case"lightSource":this.toggleAddingLightSource()}},fillFog:()=>this.fillFog(),clearFog:()=>this.clearFog(),changeValue:(e,t,n)=>this.props.changeValue(e,t,n)})},"map"));const c=[];t&&this.props.combat.combatants.filter((e=>!e.pending&&e.active&&!e.defeated)).forEach((e=>{const t=e;t&&t.traits&&t.traits.some((e=>"legendary"===e.type||"mythic"===e.type))&&!t.current&&c.push((0,xo.jsxs)("div",{className:"card monster",children:[(0,xo.jsx)("div",{className:"heading",children:(0,xo.jsx)("div",{className:"title",children:t.name})}),(0,xo.jsx)("div",{className:"card-content",children:(0,xo.jsx)(tg,{combatant:t,mode:"legendary",useTrait:e=>this.props.useTrait(e),rechargeTrait:e=>this.props.rechargeTrait(e)})})]},"leg "+t.id))}));const u=this.state.middleColumnWidth,d=(24-u)/2;return(0,xo.jsxs)("div",{className:"full-height",children:[(0,xo.jsxs)(Os,{align:"middle",className:"combat-top-row",children:[(0,xo.jsx)(zs,{span:d,children:(0,xo.jsxs)("div",{className:"menu",onClick:()=>this.toggleShowOptions(),role:"button",children:[(0,xo.jsx)(Gw,{title:"options"}),(0,xo.jsx)("span",{children:"options"})]})}),(0,xo.jsx)(zs,{span:u,children:this.props.combat.combatants.find((e=>e.current))?(0,xo.jsx)("div",{className:"action",children:(0,xo.jsx)("button",{onClick:()=>this.nextTurn(),children:"next turn"})}):null}),(0,xo.jsx)(zs,{span:d,children:(0,xo.jsxs)(Os,{children:[(0,xo.jsx)(zs,{span:12,children:(0,xo.jsxs)("div",{className:"information",children:[(0,xo.jsx)("div",{children:"round"}),(0,xo.jsx)("div",{className:"information-value",children:this.props.combat.round})]})}),(0,xo.jsx)(zs,{span:12,children:(0,xo.jsxs)("div",{className:"information",children:[(0,xo.jsx)("div",{className:"information-value",children:io.getCombatXP(this.props.combat)}),(0,xo.jsx)("div",{children:"xp"})]})})]})})]}),(0,xo.jsxs)(Os,{className:"combat-main",children:[(0,xo.jsxs)(zs,{span:d,className:"scrollable",children:[(0,xo.jsx)(jy,{heading:"waiting for intiative",content:r,columns:1,showToggle:!0}),(0,xo.jsx)(jy,{heading:"not on the map",content:[l],columns:1,showToggle:!0}),(0,xo.jsx)(jy,{heading:"ready to start",content:[i],columns:1,showToggle:!1}),(0,xo.jsx)(jy,{heading:"initiative holder",content:[o],columns:1,showToggle:!1})]}),(0,xo.jsxs)(zs,{span:u,className:"scrollable",children:[(0,xo.jsx)(jy,{heading:"legendary actions",content:c,columns:1,showToggle:!0}),(0,xo.jsx)(jy,{heading:"encounter map",content:[A],columns:1,showToggle:!0}),(0,xo.jsx)(jy,{heading:"initiative order",content:[a],columns:1,showToggle:!0})]}),(0,xo.jsx)(zs,{span:d,className:"scrollable",children:(0,xo.jsx)(jy,{heading:"selected",content:[this.getSelectedCombatants()],columns:1})})]}),this.getPlayerView(),(0,xo.jsxs)(_i,{className:this.props.options.theme,placement:"left",closable:!1,maskClosable:!0,width:"33%",open:this.state.showOptions,onClose:()=>this.toggleShowOptions(),children:[(0,xo.jsx)("div",{className:"drawer-header",children:(0,xo.jsx)("div",{className:"app-title",children:"options"})}),(0,xo.jsx)("div",{className:"drawer-content",children:this.getOptions()}),(0,xo.jsx)("div",{className:"drawer-footer",children:null})]})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"CombatScreen",error:DB})}}}class rx extends c.Component{constructor(e){super(e),this.state={awardText:"",awardCategory:null,showPending:!0,showGranted:!0}}setAwardText(e){this.setState({awardText:e})}setAwardCategory(e){this.setState({awardCategory:""===e?null:e})}setShowPending(e){this.setState({showPending:e})}setShowGranted(e){this.setState({showGranted:e})}render(){try{var e;const t=ro.arrayToItems(jw.getCategories());t.unshift({id:"",text:"all",disabled:!1});let n=jw.getAwards(),r=null;if(this.props.party){const e=[].concat(this.props.party.awards);if(this.props.party.pcs.forEach((t=>{e.concat(t.awards)})),n=n.filter((t=>{const n=e.includes(t.id);return!(!this.state.showGranted||!n)||!(!this.state.showPending||n)})).filter((e=>!(""!==this.state.awardText&&!ao.matchAward(this.state.awardText,e))&&(!this.state.awardCategory||e.category===this.state.awardCategory))),n.length>0){const t=n.filter((t=>e.includes(t.id)));r=(0,xo.jsxs)("div",{className:"section centered",children:[(0,xo.jsx)(rd,{status:"normal",percent:100*t.length/n.length,type:"circle",format:()=>t.length+" / "+n.length}),(0,xo.jsx)("hr",{})]})}}const s=n.map((e=>{let t=null;if(this.props.party){const n=[];this.props.party.awards.includes(e.id)&&n.push((0,xo.jsx)(Sg,{children:(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:(0,xo.jsx)("div",{className:"section",children:this.props.party.name||"unnamed party"})}),(0,xo.jsx)("div",{className:"icons",children:(0,xo.jsx)(Pe,{onClick:()=>this.props.deleteAward(e.id,this.props.party)})})]})},this.props.party.id));const r=[{id:this.props.party.id,text:this.props.party.name||"unnamed party"}];this.props.party.pcs.filter((e=>e.active)).forEach((t=>{t.awards.includes(e.id)&&n.push((0,xo.jsx)(Sg,{children:(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:(0,xo.jsx)("div",{className:"section",children:t.name||"unnamed pc"})}),(0,xo.jsx)("div",{className:"icons",children:(0,xo.jsx)(Pe,{onClick:()=>this.props.deleteAward(e.id,t)})})]})},t.id)),r.push({id:t.id,text:t.name||"unnamed pc"})})),t=(0,xo.jsxs)("div",{children:[(0,xo.jsx)("hr",{}),n,(0,xo.jsx)(Qf,{placeholder:"award to...",options:r,onSelect:t=>{if(this.props.party)if(t===this.props.party.id)this.props.addAward(e.id,this.props.party);else{const n=this.props.party.pcs.find((e=>e.id===t));n&&this.props.addAward(e.id,n)}}})]})}return(0,xo.jsx)(Mw,{award:e,children:t},e.id)}));return 0===n.length&&s.push((0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"no awards"})})),(0,xo.jsxs)("div",{children:[(0,xo.jsxs)(kg,{text:"filter awards",children:[(0,xo.jsx)(Bo,{text:this.state.awardText,placeholder:"search",noMargins:!0,onChange:e=>this.setAwardText(e)}),(0,xo.jsx)(Ng,{options:t,selectedID:null!==(e=this.state.awardCategory)&&void 0!==e?e:"",itemsPerRow:4,onSelect:e=>this.setAwardCategory(e)}),(0,xo.jsx)(eg,{display:null!==this.props.party,children:(0,xo.jsxs)(Os,{gutter:10,children:[(0,xo.jsx)(zs,{span:12,children:(0,xo.jsx)(ig,{label:"pending awards",checked:this.state.showPending,onChecked:e=>this.setShowPending(e)})}),(0,xo.jsx)(zs,{span:12,children:(0,xo.jsx)(ig,{label:"granted awards",checked:this.state.showGranted,onChecked:e=>this.setShowGranted(e)})})]})})]}),r,s]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"AwardsBreakdownPanel",error:DB})}}}class sx extends c.Component{render(){try{if(!this.props.party)return null;const e=this.props.party.pcs.filter((e=>e.active));if(0===e.length)return(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"no pcs"})});const t=Math.round(e.reduce(((e,t)=>e+t.level),0)/e.length),n=lo.getKnownLanguages(e),r=n.map((t=>{const n=e.filter((e=>e.languages.toLowerCase().includes(t.toLowerCase()))),r=n.length===e.length?"all pcs":n.map((e=>e.name)).join(", "),s=lo.capitalise(t);return(0,xo.jsxs)("div",{className:"table-row",children:[(0,xo.jsx)("div",{className:"table-cell l",children:s}),(0,xo.jsx)("div",{className:"table-cell l wide",children:r})]},s)})),s=lo.getAllLanguages().map((e=>lo.capitalise(e))).filter((e=>!n.includes(e)));let a=null;s.length>0&&(a=(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("b",{children:"unknown languages"}),": ",s.join(", ")]}));const i=e.map((e=>e.darkvision)).reduce(((e,t)=>(-1===e.indexOf(t)&&e.push(t),e)),[]).sort(),o=i.map((t=>{const n=e.filter((e=>e.darkvision===t)),r=n.length===e.length?"all pcs":n.map((e=>e.name)).join(", ");return(0,xo.jsxs)("div",{className:"table-row",children:[(0,xo.jsx)("div",{className:"table-cell l small",children:t>0?t+" ft":"none"}),(0,xo.jsx)("div",{className:"table-cell l",children:r})]},t)})),l={min:Number.MAX_VALUE,max:Number.MIN_VALUE},A={min:Number.MAX_VALUE,max:Number.MIN_VALUE},c={min:Number.MAX_VALUE,max:Number.MIN_VALUE};e.forEach((e=>{l.min=Math.min(l.min,e.passiveInsight),l.max=Math.max(l.max,e.passiveInsight),A.min=Math.min(A.min,e.passiveInvestigation),A.max=Math.max(A.max,e.passiveInvestigation),c.min=Math.min(c.min,e.passivePerception),c.max=Math.max(c.max,e.passivePerception)}));const u=Math.min(l.min,A.min,c.min),d=Math.max(l.max,A.max,c.max),h=[];for(let m=d;m>=u;--m){const t=e.filter((e=>e.passiveInsight===m)).map((e=>e.name)).join(", "),n=e.filter((e=>e.passiveInvestigation===m)).map((e=>e.name)).join(", "),r=e.filter((e=>e.passivePerception===m)).map((e=>e.name)).join(", ");h.push((0,xo.jsxs)("div",{className:"table-row",children:[(0,xo.jsx)("div",{className:"table-cell l small",children:m}),(0,xo.jsx)("div",{className:"table-cell l",children:t}),(0,xo.jsx)("div",{className:"table-cell l",children:n}),(0,xo.jsx)("div",{className:"table-cell l",children:r})]},m))}let p=null;if(this.props.showAwards){const e=jw.getAwards().filter((e=>{var t,n;let r=!1;return null!==(t=this.props.party)&&void 0!==t&&t.awards.includes(e.id)&&(r=!0),null===(n=this.props.party)||void 0===n||n.pcs.forEach((t=>{t.awards.includes(e.id)&&(r=!0)})),r})).map((e=>{var t,n;const r=[];null!==(t=this.props.party)&&void 0!==t&&t.awards.includes(e.id)&&r.push(this.props.party.name||"unnamed party"),null===(n=this.props.party)||void 0===n||n.pcs.forEach((t=>{t.awards.includes(e.id)&&r.push(t.name||"unnamed pc")}));let s=null;return r.length>0&&(s=(0,xo.jsxs)("div",{children:[(0,xo.jsx)("hr",{}),(0,xo.jsxs)("div",{className:"section",children:["awarded to:",r.map((e=>(0,xo.jsx)(Qc,{children:e},e)))]})]})),(0,xo.jsx)(Mw,{award:e,children:s},e.id)}));p=(0,xo.jsxs)("div",{children:[(0,xo.jsx)("hr",{}),(0,xo.jsx)("div",{className:"section subheading",children:"awards"}),(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"no awards yet"})})]}),e.length>0&&(p=(0,xo.jsxs)("div",{children:[(0,xo.jsx)("hr",{}),(0,xo.jsx)("div",{className:"section subheading",children:"awards"}),e]}))}return(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"section subheading",children:"average level"}),(0,xo.jsx)("div",{className:"section",children:(0,xo.jsx)(rd,{status:"normal",percent:5*t,format:()=>t})}),(0,xo.jsx)("hr",{}),(0,xo.jsx)("div",{className:"section subheading",children:"languages"}),(0,xo.jsxs)("div",{className:"table alternating",children:[(0,xo.jsxs)("div",{className:"table-row table-row-header",children:[(0,xo.jsx)("div",{className:"table-cell l",children:"language"}),(0,xo.jsx)("div",{className:"table-cell l wide",children:"spoken by"})]}),r]}),a,(0,xo.jsx)("hr",{}),(0,xo.jsx)("div",{className:"section subheading",children:"darkvision"}),(0,xo.jsxs)("div",{className:"table alternating",children:[(0,xo.jsxs)("div",{className:"table-row table-row-header",children:[(0,xo.jsx)("div",{className:"table-cell l small",children:"range"}),(0,xo.jsx)("div",{className:"table-cell l",children:"pcs"})]}),o]}),(0,xo.jsx)("hr",{}),(0,xo.jsx)("div",{className:"section subheading",children:"passive skills"}),(0,xo.jsxs)("div",{className:"table alternating",children:[(0,xo.jsxs)("div",{className:"table-row table-row-header",children:[(0,xo.jsx)("div",{className:"table-cell l small"}),(0,xo.jsx)("div",{className:"table-cell l",children:"insight"}),(0,xo.jsx)("div",{className:"table-cell l",children:"investigation"}),(0,xo.jsx)("div",{className:"table-cell l",children:"perception"})]}),h]}),(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"remember that advantage / disadvantage grants +/- 5 to passive rolls"})}),p]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"PartyBreakdownPanel",error:DB})}}}class ax extends c.Component{constructor(e){super(e),this.state={leftView:"skills",rightView:null,selectedPartyID:1===e.parties.length?e.parties[0].id:null,generatorType:"names",generatedItems:[],npc:null}}setLeftView(e){this.setState({leftView:e})}setRightView(e){this.setState({rightView:e})}setSelectedPartyID(e){this.setState({selectedPartyID:e})}setGeneratorType(e){this.setState({generatorType:e})}async generate(){const e=[];let t=null;switch(this.state.generatorType){case"names":for(;e.length<10;)e.push(lo.generateName());break;case"potions":for(;e.length<10;)e.push(lo.generatePotion());break;case"treasure":for(;e.length<10;)e.push(lo.generateTreasure());break;case"place names":{const t=await fetch("/dojo/data/places.txt"),n=await t.text();for(lo.initModel([n]);e.length<10;)e.push(lo.generateLine())}break;case"npc":t={age:lo.generateNPCAge(),profession:lo.generateNPCProfession(),height:lo.generateNPCHeight(),weight:lo.generateNPCWeight(),hair:lo.generateNPCHair(),physical:lo.generateNPCPhysical(),mental:lo.generateNPCMental(),speech:lo.generateNPCSpeech(),trait:lo.generateNPCTrait(),ideal:lo.generateNPCIdeal(),bond:lo.generateNPCBond(),flaw:lo.generateNPCFlaw()};break;case"wild surge":e.push(oo.getWildSurge())}this.setState({generatedItems:e.sort(),npc:t})}getPartyHeader(){return this.props.parties.length>1?(0,xo.jsxs)("div",{children:[(0,xo.jsx)(Qf,{options:this.props.parties.map((e=>({id:e.id,text:e.name||"unnamed party"}))),placeholder:"select a party...",selectedID:this.state.selectedPartyID,onSelect:e=>this.setSelectedPartyID(e),onClear:()=>this.setSelectedPartyID(null)}),(0,xo.jsx)(eg,{display:null!==this.state.selectedPartyID,children:(0,xo.jsx)("hr",{})})]}):1===this.props.parties.length?(0,xo.jsx)("div",{className:"heading",children:this.props.parties[0].name||"unnamed party"}):null}getGeneratorsSection(){let e=null;if("npc"===this.state.generatorType)null!==this.state.npc&&(e=(0,xo.jsxs)("div",{children:[(0,xo.jsx)("hr",{}),(0,xo.jsxs)(Sg,{children:[(0,xo.jsxs)("div",{className:"section large",children:[(0,xo.jsx)("b",{children:"age:"})," ",this.state.npc.age]}),(0,xo.jsxs)("div",{className:"section large",children:[(0,xo.jsx)("b",{children:"profession:"})," ",this.state.npc.profession]}),(0,xo.jsxs)("div",{className:"section large",children:[(0,xo.jsx)("b",{children:"height:"})," ",this.state.npc.height]}),(0,xo.jsxs)("div",{className:"section large",children:[(0,xo.jsx)("b",{children:"weight:"})," ",this.state.npc.weight]}),(0,xo.jsxs)("div",{className:"section large",children:[(0,xo.jsx)("b",{children:"hair:"})," ",this.state.npc.hair]}),(0,xo.jsxs)("div",{className:"section large",children:[(0,xo.jsx)("b",{children:"physical:"})," ",this.state.npc.physical]}),(0,xo.jsxs)("div",{className:"section large",children:[(0,xo.jsx)("b",{children:"personality:"})," ",this.state.npc.mental]}),(0,xo.jsxs)("div",{className:"section large",children:[(0,xo.jsx)("b",{children:"speech:"})," ",this.state.npc.speech]}),(0,xo.jsx)("hr",{}),(0,xo.jsxs)("div",{className:"section large",children:[(0,xo.jsx)("b",{children:"trait:"})," ",this.state.npc.trait]}),(0,xo.jsxs)("div",{className:"section large",children:[(0,xo.jsx)("b",{children:"ideal:"})," ",this.state.npc.ideal]}),(0,xo.jsxs)("div",{className:"section large",children:[(0,xo.jsx)("b",{children:"bond:"})," ",this.state.npc.bond]}),(0,xo.jsxs)("div",{className:"section large",children:[(0,xo.jsx)("b",{children:"flaw:"})," ",this.state.npc.flaw]})]})]}));else this.state.generatedItems.length>0&&(e=(0,xo.jsxs)("div",{children:[(0,xo.jsx)("hr",{}),this.state.generatedItems.map(((e,t)=>(0,xo.jsx)(ix,{text:e},t)))]}));return(0,xo.jsxs)("div",{children:[(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:(0,xo.jsx)(Ng,{options:ro.arrayToItems(["names","potions","treasure","place names","npc","wild surge"]),selectedID:this.state.generatorType,itemsPerRow:3,onSelect:e=>this.setGeneratorType(e)})}),(0,xo.jsx)("div",{className:"icons",children:(0,xo.jsx)(Qo,{title:"generate",onClick:()=>this.generate()})})]}),e]})}getAwardsSection(){var e;return(0,xo.jsxs)("div",{children:[this.getPartyHeader(),(0,xo.jsx)(rx,{party:null!==(e=this.props.parties.find((e=>e.id===this.state.selectedPartyID)))&&void 0!==e?e:null,addAward:(e,t)=>this.props.addAward(e,t),deleteAward:(e,t)=>this.props.deleteAward(e,t)})]})}render(){try{var e,t;const n=ro.arrayToItems(["skills","conditions","actions"]),r=[];this.props.parties.length>0&&r.push("party breakdown"),r.push("generators"),this.props.showAwards&&r.push("awards");const s=null!==(e=this.state.rightView)&&void 0!==e?e:r[0];return(0,xo.jsxs)(Os,{gutter:10,className:"full-height",children:[(0,xo.jsxs)(zs,{span:16,className:"full-height",children:[(0,xo.jsx)(Dg,{options:n,selectedID:this.state.leftView,onSelect:e=>this.setLeftView(e)}),(0,xo.jsxs)("div",{className:"scrollable",style:{height:"calc(100% - 52px)"},children:[(0,xo.jsx)(eg,{display:"skills"===this.state.leftView,children:(0,xo.jsx)(hb,{filename:"/dojo/data/skills.md"})}),(0,xo.jsx)(eg,{display:"conditions"===this.state.leftView,children:(0,xo.jsx)(hb,{filename:"/dojo/data/conditions.md"})}),(0,xo.jsx)(eg,{display:"actions"===this.state.leftView,children:(0,xo.jsx)(hb,{filename:"/dojo/data/actions.md"})})]})]}),(0,xo.jsxs)(zs,{span:8,className:"full-height",children:[(0,xo.jsx)(Dg,{options:ro.arrayToItems(r),selectedID:s,onSelect:e=>this.setRightView(e)}),(0,xo.jsxs)("div",{className:"scrollable",style:{height:"calc(100% - 52px)"},children:[(0,xo.jsxs)(eg,{display:"party breakdown"===s,children:[this.getPartyHeader(),(0,xo.jsx)(sx,{party:null!==(t=this.props.parties.find((e=>e.id===this.state.selectedPartyID)))&&void 0!==t?t:null,showAwards:this.props.showAwards})]}),(0,xo.jsx)(eg,{display:"generators"===s,children:this.getGeneratorsSection()}),(0,xo.jsx)(eg,{display:"awards"===s,children:this.getAwardsSection()})]})]})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"DMScreen",error:DB})}}}class ix extends c.Component{copy(e){e.stopPropagation(),navigator.clipboard.writeText(this.props.text)}render(){try{return(0,xo.jsx)(Sg,{children:(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:(0,xo.jsx)("div",{className:"section large",children:this.props.text.toLowerCase()})}),(0,xo.jsx)("div",{className:"icons",children:(0,xo.jsx)(Ed,{title:"copy to clipboard",onClick:e=>this.copy(e)})})]})})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"GeneratedItem",error:DB})}}}class ox extends c.Component{render(){return(0,xo.jsxs)("div",{children:[(0,xo.jsx)("button",{onClick:()=>this.props.resumeCombat(this.props.combat),children:"resume combat"}),(0,xo.jsx)(Ef,{onConfirm:()=>this.props.deleteCombat(this.props.combat),children:"delete combat"})]})}}class lx extends c.Component{getValue(e){switch(e.type){case"pc":return"pc";case"monster":{var t,n,r;const s=null!==(t=e.hpCurrent)&&void 0!==t?t:0,a=null!==(n=e.hpMax)&&void 0!==n?n:0,i=null!==(r=e.hpTemp)&&void 0!==r?r:0;let o=s.toString();return i>0&&(o+="+"+i),s<a&&(o+=" / "+a),o+" hp"}}return null}render(){try{let e=null;this.props.combat.map&&(e=(0,xo.jsx)("div",{className:"section",children:(0,xo.jsx)(my,{map:this.props.combat.map,fog:this.props.combat.fog,combatants:this.props.combat.combatants})}));const t=this.props.combat.combatants.filter((e=>e.active)).filter((e=>"placeholder"!==e.type)).map((e=>(0,xo.jsx)(Sg,{transparent:!0,onClick:()=>this.props.openStatBlock(e),children:(0,xo.jsxs)("div",{className:"content-then-info",children:[(0,xo.jsxs)("div",{className:"content",children:[(0,xo.jsx)(vd,{source:e,inline:!0}),e.displayName]}),(0,xo.jsx)("div",{className:"info",children:this.getValue(e)})]})},e.id)));return(0,xo.jsxs)("div",{className:"card encounter",children:[(0,xo.jsx)("div",{className:"heading",children:(0,xo.jsx)("div",{className:"title",children:this.props.combat.name||"unnamed combat"})}),(0,xo.jsxs)("div",{className:"card-content",children:[(0,xo.jsxs)("div",{className:"fixed-height",children:[(0,xo.jsxs)("div",{className:"section",children:["paused at round ",this.props.combat.round]}),e,(0,xo.jsx)("div",{className:"subheading",children:"initiative order"}),t]}),(0,xo.jsx)("hr",{}),(0,xo.jsx)(ox,{combat:this.props.combat,resumeCombat:e=>this.props.resumeCombat(e),deleteCombat:e=>this.props.deleteCombat(e)})]})]},this.props.combat.id)}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"CombatCard",error:DB})}}}const Ax={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"};var cx=function(e,t){return c.createElement(He,A(A({},e),{},{ref:t,icon:Ax}))};const ux=c.forwardRef(cx);class dx extends c.Component{constructor(e){super(e),this.state={cloneName:e.encounter.name+" copy"}}setCloneName(e){this.setState({cloneName:e})}render(){try{let e=null;return 1===this.props.parties.length&&(e=(0,xo.jsx)("button",{onClick:()=>this.props.startEncounter(this.props.parties[0].id,this.props.encounter.id),children:"start combat"})),this.props.parties.length>1&&(e=(0,xo.jsx)(Qf,{options:this.props.parties.map((e=>({id:e.id,text:e.name||"unnamed party"}))),placeholder:"start combat with...",onSelect:e=>this.props.startEncounter(e,this.props.encounter.id)})),(0,xo.jsxs)("div",{children:[(0,xo.jsx)(kg,{text:"copy encounter",children:(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:(0,xo.jsx)(Bo,{text:this.state.cloneName,placeholder:"name of copy",onChange:e=>this.setCloneName(e)})}),(0,xo.jsx)("div",{className:"icons",children:(0,xo.jsx)(ux,{title:"create copy",className:""===this.state.cloneName?"disabled":"",onClick:()=>this.props.cloneEncounter(this.props.encounter,this.state.cloneName)})})]})}),e,(0,xo.jsx)(Ef,{disabled:this.props.adventures.some((e=>vo.getScenes(e.plot).some((e=>e.resources.some((e=>"encounter"===e.type&&e.content===this.props.encounter.id)))))),onConfirm:()=>this.props.deleteEncounter(this.props.encounter),children:"delete encounter"})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"EncounterOptions",error:DB})}}}class hx extends c.Component{getText(e){let t="";if(""!==e.monsterID){const n=this.props.getMonster(e.monsterID);if(n&&n.name){t=n.name;const r=this.props.getMonster(e.monsterThemeID);r&&r.name&&(t+=" "+r.name)}t=t||"unnamed monster"}else t=e.roles.join(", ");return t}getPortrait(e){const t=this.props.getMonster(e.monsterID);return t&&t.portrait?(0,xo.jsx)(vd,{source:t,inline:!0}):null}getValue(e){let t="";return e.count>1&&(t&&(t+=" "),t+="x"+e.count),"foe"!==e.faction&&(t&&(t+=" "),t+="("+e.faction+")"),t||null}render(){try{const e=this.props.encounter.slots.map((e=>(0,xo.jsx)(Sg,{transparent:!0,onClick:()=>this.props.openStatBlock(e),children:(0,xo.jsxs)("div",{className:"content-then-info",children:[(0,xo.jsxs)("div",{className:"content",children:[this.getPortrait(e),this.getText(e)]}),(0,xo.jsx)("div",{className:"info",children:this.getValue(e)})]})},e.id)));return 0===e.length&&e.push((0,xo.jsx)("div",{className:"section",children:"no monsters"},"empty")),this.props.encounter.waves.forEach((t=>{e.push((0,xo.jsx)("div",{className:"section subheading",children:t.name||"unnamed wave"},"name "+t.id)),t.slots.forEach((t=>{e.push((0,xo.jsx)(Sg,{transparent:!0,onClick:()=>this.props.openStatBlock(t),children:(0,xo.jsxs)("div",{className:"content-then-info",children:[(0,xo.jsxs)("div",{className:"content",children:[this.getPortrait(t),this.getText(t)]}),(0,xo.jsx)("div",{className:"info",children:this.getValue(t)})]})},t.id))})),0===e.length&&e.push((0,xo.jsx)("div",{className:"section",children:"no monsters"},"empty "+t.id))})),(0,xo.jsxs)("div",{className:"card encounter",children:[(0,xo.jsx)("div",{className:"heading",children:(0,xo.jsx)("div",{className:"title",children:this.props.encounter.name||"unnamed encounter"})}),(0,xo.jsxs)("div",{className:"card-content",children:[(0,xo.jsxs)("div",{className:"fixed-height",children:[(0,xo.jsx)("div",{className:"subheading",children:"monsters"}),e,(0,xo.jsx)("div",{className:"subheading",children:"xp"}),io.getEncounterXP(this.props.encounter,null,(e=>this.props.getMonster(e))),(0,xo.jsxs)(eg,{display:!!this.props.encounter.notes,children:[(0,xo.jsx)("div",{className:"subheading",children:"notes"}),(0,xo.jsx)(Bf,{children:this.props.encounter.notes})]})]}),(0,xo.jsx)("hr",{}),(0,xo.jsx)("button",{onClick:()=>this.props.openEncounter(this.props.encounter),children:"open encounter"}),(0,xo.jsx)(kg,{text:"more options",children:(0,xo.jsx)(dx,{encounter:this.props.encounter,parties:this.props.parties,adventures:this.props.adventures,cloneEncounter:(e,t)=>this.props.cloneEncounter(e,t),startEncounter:(e,t)=>this.props.startEncounter(e,t),deleteEncounter:e=>this.props.deleteEncounter(e)})})]})]},this.props.encounter.id)}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"EncounterCard",error:DB})}}}class px extends c.Component{render(){try{return(0,xo.jsxs)("div",{children:[(0,xo.jsx)("button",{onClick:()=>this.props.addEncounter(null),children:"add a new encounter"}),(0,xo.jsxs)(kg,{text:"use an encounter template",children:[(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"these templates give you a good framework for creating an encounter"})}),io.encounterTemplates().map((e=>(0,xo.jsx)("button",{onClick:()=>this.props.addEncounter(e.name),children:e.name},e.name)))]}),(0,xo.jsx)("button",{onClick:()=>this.props.createEncounter(),children:"generate a random encounter"})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"EncounterListOptions",error:DB})}}}class mx extends c.Component{openStatBlock(e){const t=io.slotToMonster(e,(e=>this.props.getMonster(e)));t&&this.props.openStatBlock(t)}render(){try{if(!this.props.hasMonsters)return(0,xo.jsx)(Os,{align:"middle",justify:"center",className:"scrollable",children:(0,xo.jsx)("div",{style:{width:"400px"},children:(0,xo.jsxs)(Uf,{children:[(0,xo.jsx)("div",{className:"section",children:"this screen is for building encounters, but before you can do that you need to do these things first:"}),(0,xo.jsx)("ul",{children:(0,xo.jsxs)("li",{children:[(0,xo.jsxs)("span",{className:this.props.hasMonsters?"strikethrough":"",children:["add some monsters in the ",(0,xo.jsx)("button",{className:"link",onClick:()=>this.props.setView("library"),children:"monsters screen"})]}),this.props.hasMonsters?(0,xo.jsx)(Ke,{title:"done",style:{marginLeft:"5px"}}):null]})})]})})});const e=this.props.combats;ro.sort(e);const t=e.map((e=>(0,xo.jsx)(lx,{combat:e,resumeCombat:e=>this.props.resumeCombat(e),deleteCombat:e=>this.props.deleteCombat(e),openStatBlock:e=>this.props.openStatBlock(e)},e.id))),n=this.props.encounters;ro.sort(n);const r=n.map((e=>(0,xo.jsx)(hx,{encounter:e,parties:this.props.parties,adventures:this.props.adventures,openEncounter:e=>this.props.openEncounter(e),deleteEncounter:e=>this.props.deleteEncounter(e),cloneEncounter:(e,t)=>this.props.cloneEncounter(e,t),startEncounter:(e,t)=>this.props.startEncounter(e,t),openStatBlock:e=>this.openStatBlock(e),getMonster:e=>this.props.getMonster(e)},e.id)));return(0,xo.jsxs)(Os,{className:"full-height",children:[(0,xo.jsxs)(zs,{span:6,className:"scrollable sidebar sidebar-left",children:[(0,xo.jsxs)(Uf,{children:[(0,xo.jsx)("div",{className:"section",children:"on this page you can set up encounters"}),(0,xo.jsx)("div",{className:"section",children:"when you have created an encounter you can add monsters to it, then gauge its difficulty for a party of pcs"}),(0,xo.jsx)("div",{className:"section",children:"when you have set up a party and an encounter you can then run the encounter"}),(0,xo.jsx)("hr",{}),(0,xo.jsx)("div",{className:"section",children:"on the right you will see the encounters that you have created"}),(0,xo.jsxs)("div",{className:"section",children:["press an encounter's ",(0,xo.jsx)("b",{children:"open encounter"})," button to see its details and add monsters to it"]}),(0,xo.jsx)("hr",{}),(0,xo.jsxs)("div",{className:"section",children:["to start building an encounter, press the ",(0,xo.jsx)("b",{children:"add a new encounter"})," button"]})]}),(0,xo.jsx)(px,{createEncounter:()=>this.props.createEncounter(),addEncounter:e=>this.props.addEncounter(e)})]}),(0,xo.jsxs)(zs,{span:18,className:"scrollable",children:[(0,xo.jsx)(jy,{heading:"in progress",content:t}),(0,xo.jsx)(jy,{heading:"encounters",content:r})]})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"EncounterListScreen",error:DB})}}}class fx extends c.Component{constructor(e){super(e),this.state={count:e.slot.count}}setCount(e){this.setState({count:e})}getMoveControl(){if(0===this.props.encounter.waves.length)return null;let e=null;this.props.slot.count>1&&(e=(0,xo.jsx)(iv,{min:1,max:this.props.slot.count,value:this.state.count,tooltipVisible:!1,onChange:e=>this.setCount(e)}));const t=[];this.props.encounter.slots.includes(this.props.slot)||t.push({id:"",text:"main encounter"}),this.props.encounter.waves.forEach((e=>{e.slots.includes(this.props.slot)||t.push({id:e.id,text:e.name})}));let n="move to...";return this.props.slot.count>1&&(n=this.props.slot.count===this.state.count?"move all to...":"move "+this.state.count+" to..."),(0,xo.jsxs)(kg,{text:"move monster",children:[e,(0,xo.jsx)(Qf,{options:t,placeholder:n,onSelect:e=>{const t=this.props.encounter.waves.find((t=>t.id===e))||null;this.props.moveToWave(this.props.slot,this.state.count,t)}})]})}getModifyControl(){return(0,xo.jsxs)(kg,{text:1===this.props.slot.count?"modify this monster":"modify these monsters",children:[(0,xo.jsx)("button",{onClick:()=>this.props.adjustSlot(this.props.slot),children:"modify monster"}),(0,xo.jsx)("hr",{}),(0,xo.jsx)("button",{onClick:()=>this.props.chooseRandomTheme(this.props.slot),children:"apply a random theme"}),(0,xo.jsx)("button",{className:""===this.props.slot.monsterThemeID&&this.props.slot.count>1?"":"disabled",onClick:()=>this.props.splitTheme(this.props.slot),children:"split into themed versions"}),(0,xo.jsx)("hr",{}),(0,xo.jsx)("button",{className:""!==this.props.slot.monsterThemeID||0!==this.props.slot.deltaCR?"":"disabled",onClick:()=>this.props.removeAdjustments(this.props.slot),children:"remove adjustments"})]})}render(){try{let e=this.props.monster;e&&(this.props.theme&&(e=mo.applyTheme(e,this.props.theme)),this.props.slot.deltaCR&&(e=mo.adjustCR(e,this.props.slot.deltaCR)));let t="monster";e&&(t=e.name||"unnamed monster"),this.props.slot.count>1&&(t+=" (x"+this.props.slot.count+")");const n=(0,xo.jsxs)("div",{children:[(0,xo.jsx)(Ug,{value:this.props.slot.count,label:"number",downEnabled:this.props.slot.count>1,onNudgeValue:e=>this.props.nudgeValue(this.props.slot,"count",e)}),(0,xo.jsx)(Ng,{options:ro.arrayToItems(["foe","neutral","ally"]),selectedID:this.props.slot.faction,onSelect:e=>this.props.changeValue(this.props.slot,"faction",e)})]});if(!e)return(0,xo.jsxs)("div",{className:"card "+this.props.slot.faction,children:[(0,xo.jsx)("div",{className:"heading",children:(0,xo.jsx)("div",{className:"title",children:t})}),(0,xo.jsxs)("div",{className:"card-content",children:[(0,xo.jsxs)(Uf,{children:[(0,xo.jsx)("div",{className:"section",children:"this empty slot has been added because you are creating an encounter from a template"}),(0,xo.jsxs)("div",{className:"section",children:["when you press ",(0,xo.jsx)("b",{children:"choose a monster"})," you will be able to select a monster of this type:"]}),(0,xo.jsx)("div",{className:"section centered",children:(0,xo.jsx)("b",{children:this.props.slot.roles.join(", ")})})]}),(0,xo.jsx)("hr",{}),n,(0,xo.jsx)("hr",{}),(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("button",{onClick:()=>this.props.chooseMonster(this.props.slot),children:"choose a monster"}),this.getMoveControl(),(0,xo.jsx)(Ef,{onConfirm:()=>this.props.deleteEncounterSlot(this.props.slot),children:"remove from encounter"})]})]})]},this.props.slot.id);const r=[];let s=(e.size+" "+e.category).toLowerCase();return e.tag&&(s+=" ("+e.tag.toLowerCase()+")"),r.push((0,xo.jsx)(Qc,{children:s},"tag-main")),e.alignment&&r.push((0,xo.jsx)(Qc,{children:e.alignment.toLowerCase()},"tag-align")),r.push((0,xo.jsxs)(Qc,{children:["cr ",oo.challenge(e.challenge)]},"tag-cr")),(0,xo.jsxs)("div",{className:"card "+this.props.slot.faction,children:[(0,xo.jsx)("div",{className:"heading",children:(0,xo.jsx)("div",{className:"title",children:t})}),(0,xo.jsxs)("div",{className:"card-content",children:[(0,xo.jsx)(vd,{source:e}),(0,xo.jsx)("div",{className:"section centered",children:r}),(0,xo.jsx)("hr",{}),n,(0,xo.jsx)("hr",{}),(0,xo.jsx)("button",{onClick:()=>this.props.showStatblock(e),children:"statblock"}),(0,xo.jsx)("button",{onClick:()=>this.props.chooseMonster(this.props.slot),children:"choose a different monster"}),this.getMoveControl(),this.getModifyControl(),(0,xo.jsx)(Ef,{onConfirm:()=>this.props.deleteEncounterSlot(this.props.slot),children:"remove from encounter"})]})]},this.props.slot.id)}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"EncounterSlotCard",error:DB})}}}class gx extends c.Component{getMonsterCards(e){const t=[],n=e?e.slots:this.props.encounter.slots;return n.forEach((n=>{t.push((0,xo.jsx)(fx,{slot:n,monster:this.props.getMonster(n.monsterID),theme:this.props.getMonster(n.monsterThemeID),encounter:this.props.encounter,changeValue:(e,t,n)=>this.props.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.props.nudgeValue(e,t,n),chooseMonster:t=>this.props.chooseMonster(this.props.encounter,t,e),adjustSlot:e=>this.props.adjustSlot(this.props.encounter,e),chooseRandomTheme:e=>this.props.chooseRandomTheme(this.props.encounter,e),splitTheme:t=>this.props.splitTheme(e||this.props.encounter,t),removeAdjustments:e=>this.props.removeAdjustments(this.props.encounter,e),deleteEncounterSlot:t=>this.props.deleteEncounterSlot(this.props.encounter,t,e),moveToWave:(t,n,r)=>this.props.moveEncounterSlot(this.props.encounter,t,n,e,r),showStatblock:e=>this.props.showStatblock(e)}))})),0===n.length&&t.push((0,xo.jsx)(Uf,{children:(0,xo.jsxs)("div",{className:"section",children:["there are no monsters in this ",e?"wave":"encounter"]})})),t}render(){try{const e=this.props.encounter.waves.map((e=>(0,xo.jsx)(Sg,{children:(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:(0,xo.jsx)(Bo,{text:e.name,placeholder:"wave name",onChange:t=>this.props.changeValue(e,"name",t)})}),(0,xo.jsx)("div",{className:"icons",children:(0,xo.jsx)(Ef,{onConfirm:()=>this.props.deleteWave(this.props.encounter,e),children:(0,xo.jsx)(jo,{title:"delete wave"})})})]})},e.id)));let t=null;this.props.encounter.slots.some((e=>e.roles.length>0&&""===e.monsterID))&&(t=(0,xo.jsxs)("div",{children:[(0,xo.jsx)("hr",{}),(0,xo.jsx)("button",{onClick:()=>this.props.populateEncounter(this.props.encounter),children:"choose monsters"})]}));const n=this.props.encounter.waves.map((e=>(0,xo.jsx)(jy,{heading:e.name||"unnamed wave",content:this.getMonsterCards(e),columns:3},e.id)));let r=null;if(0===this.props.encounter.waves.length)r=(0,xo.jsx)("button",{onClick:()=>this.props.chooseMonster(this.props.encounter,null,null),children:"add monsters"});else{const e=[{id:ro.guid(),text:"encounter"}];this.props.encounter.waves.forEach((t=>{e.push({id:t.id,text:t.name||"unnamed wave"})})),r=(0,xo.jsx)(Qf,{placeholder:"add monsters to...",options:e,onSelect:e=>{var t;const n=null!==(t=this.props.encounter.waves.find((t=>t.id===e)))&&void 0!==t?t:null;this.props.chooseMonster(this.props.encounter,null,n)}})}return(0,xo.jsxs)(Os,{className:"full-height",children:[(0,xo.jsxs)(zs,{span:6,className:"scrollable sidebar sidebar-left",children:[(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("div",{className:"subheading",children:"encounter name"}),(0,xo.jsx)(Bo,{text:this.props.encounter.name,placeholder:"encounter name",onChange:e=>this.props.changeValue(this.props.encounter,"name",e)})]}),(0,xo.jsx)("hr",{}),r,(0,xo.jsxs)(kg,{text:"waves",children:[(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"if your encounter is large or occurs in stages, you can split it into waves"})}),e,(0,xo.jsx)("button",{onClick:()=>this.props.addWave(this.props.encounter),children:"add a new wave"})]}),(0,xo.jsx)("button",{onClick:()=>this.props.showMinisChecklist(this.props.encounter),children:"miniatures checklist"}),(0,xo.jsx)(dx,{encounter:this.props.encounter,parties:this.props.parties,adventures:this.props.adventures,cloneEncounter:(e,t)=>this.props.cloneEncounter(e,t),startEncounter:(e,t)=>this.props.startEncounter(e,t),deleteEncounter:e=>this.props.deleteEncounter(e)}),t,(0,xo.jsx)("hr",{}),(0,xo.jsxs)("button",{onClick:()=>this.props.goBack(),children:[(0,xo.jsx)(No,{style:{fontSize:"10px"}})," back to the list"]})]}),(0,xo.jsxs)(zs,{span:12,className:"scrollable",children:[(0,xo.jsx)(jy,{heading:"encounter",content:this.getMonsterCards(null),columns:3}),n]}),(0,xo.jsxs)(zs,{span:6,className:"scrollable",children:[(0,xo.jsx)(jy,{heading:"difficulty",content:[(0,xo.jsx)(Ry,{encounter:this.props.encounter,parties:this.props.parties,getMonster:e=>this.props.getMonster(e)},"diff")],columns:1}),(0,xo.jsx)(jy,{heading:"notes",content:[(0,xo.jsx)($f,{text:this.props.encounter.notes,onChange:e=>this.props.changeValue(this.props.encounter,"notes",e)},"notes"),(0,xo.jsx)("button",{onClick:()=>{const e="**victory condition:** "+io.getVictoryCondition(this.props.encounter,(e=>this.props.getMonster(e)));this.props.changeValue(this.props.encounter,"notes",e)},children:"set a random victory condition"},"vc")],columns:1})]})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"EncounterScreen",error:DB})}}}class vx extends c.Component{constructor(e){super(e),this.state={showOptions:!1,playerViewOpen:!1,addingToMapID:null,addingOverlay:!1,editFog:!1,highlightMapSquare:!1,addingLightSource:!1,highlightedSquare:null,selectedItemIDs:[]}}componentDidMount(){window.addEventListener("beforeunload",(()=>{this.setPlayerViewOpen(!1)}))}componentDidUpdate(){}toggleShowOptions(){this.setState({showOptions:!this.state.showOptions})}setPlayerViewOpen(e){this.setState({playerViewOpen:e})}setAddingToMapID(e){this.setState({addingToMapID:e,addingOverlay:!1,editFog:!1,highlightMapSquare:!1,addingLightSource:!1,highlightedSquare:null})}toggleAddingOverlay(){this.setState({addingOverlay:!this.state.addingOverlay,editFog:!1,selectedItemIDs:[],highlightMapSquare:!1,addingLightSource:!1,highlightedSquare:null})}toggleEditFog(){this.setState({addingOverlay:!1,editFog:!this.state.editFog,selectedItemIDs:[],highlightMapSquare:!1,addingLightSource:!1,highlightedSquare:null})}toggleHighlightMapSquare(){this.setState({addingOverlay:!1,editFog:!1,selectedItemIDs:[],highlightMapSquare:!this.state.highlightMapSquare,addingLightSource:!1,highlightedSquare:null})}toggleAddingLightSource(){this.setState({addingOverlay:!1,editFog:!1,selectedItemIDs:[],highlightMapSquare:!1,addingLightSource:!this.state.addingLightSource,highlightedSquare:null})}setHighlightedSquare(e,t,n){this.state.highlightMapSquare&&!n&&this.setState({highlightedSquare:{x:e,y:t}})}setSelectedItemIDs(e){this.setState({editFog:!(e.length>0)&&this.state.editFog,selectedItemIDs:e})}addCompanion(e){this.setState({selectedItemIDs:[e.id]},(()=>this.props.addCompanion(e)))}toggleItemSelection(e,t){if(e&&t){const t=this.state.selectedItemIDs;if(t.includes(e)){const n=t.indexOf(e);t.splice(n,1)}else t.push(e);this.setSelectedItemIDs(t)}else this.setSelectedItemIDs(e?[e]:[])}mapRemove(e){this.setState({selectedItemIDs:[]},(()=>this.props.mapRemove(e.map((e=>e.id)))))}nudgeValue(e,t,n){let r=null;switch(t){case"challenge":r=oo.nudgeChallenge(e[t],n),this.props.changeValue(e,t,r);break;case"size":case"displaySize":r=oo.nudgeSize(e[t],n),this.props.changeValue(e,t,r);break;default:this.props.nudgeValue(e,t,n)}}fillFog(){if(this.props.exploration.map){const e=[],t=wo.mapDimensions(this.props.exploration.map.items);if(t){for(let n=t.minX;n<=t.maxX;++n)for(let r=t.minY;r<=t.maxY;++r)e.push({x:n,y:r});this.props.setFog(e)}}}clearFog(){this.props.setFog([])}gridSquareClicked(e,t,n){if(this.state.addingToMapID){const n=this.props.exploration.combatants.find((e=>e.id===this.state.addingToMapID));n&&this.props.mapAdd(n,e,t),this.setAddingToMapID(null)}if(this.state.addingOverlay&&!n){const n=so.createMapItem();n.type="token",n.x=e,n.y=t,n.width=1,n.height=1,n.color="#005080",n.opacity=127,n.style="square",this.setState({addingOverlay:!1,selectedItemIDs:[n.id]},(()=>{this.props.addOverlay(n)}))}this.state.editFog&&!n&&this.gridRectangleSelected(e,t,e,t),this.state.addingLightSource&&!n&&this.setState({addingLightSource:!1},(()=>{const n=so.createMapLightSource();n.x=e,n.y=t,this.props.mapAddLightSource(this.props.exploration.map,n)}))}gridRectangleSelected(e,t,n,r){if(this.state.addingOverlay){const s=so.createMapItem();s.type="overlay",s.x=e,s.y=t,s.width=n-e+1,s.height=r-t+1,s.color="#005080",s.opacity=127,s.style="square",this.setState({addingOverlay:!1,selectedItemIDs:[s.id]},(()=>{this.props.addOverlay(s)}))}if(this.state.editFog){const s=this.props.exploration.fog;for(let a=e;a<=n;++a)for(let e=t;e<=r;++e){const t=s.findIndex((t=>t.x===a&&t.y===e));-1===t?s.push({x:a,y:e}):s.splice(t,1)}this.props.setFog(s)}}getPlayerView(){return this.state.playerViewOpen?(0,xo.jsx)(gb,{title:"Map",onCloseWindow:()=>this.setPlayerViewOpen(!1),children:(0,xo.jsx)("div",{className:"scrollable both-ways",children:this.getMap(!0)})}):null}getOptions(){if(!this.state.showOptions)return null;const e=[];this.props.exploration.combatants.filter((e=>"pc"===e.type)).forEach((t=>{const n=this.props.parties.find((e=>e.pcs.find((e=>e.id===t.id))));n&&!e.includes(n)&&e.push(n)}));const t=[];e.forEach((e=>{e.pcs.forEach((n=>{this.props.exploration.combatants.find((e=>e.id===n.id))||t.push((0,xo.jsxs)("button",{onClick:()=>this.props.addPC(e.id,n.id),children:[n.name," (",e.name,")"]},n.id))}))}));let n=null;return t.length>0&&(n=(0,xo.jsx)(kg,{text:"add pcs",children:t})),(0,xo.jsxs)("div",{className:"scrollable",children:[(0,xo.jsx)("div",{className:"heading",children:"exploration"}),(0,xo.jsx)("button",{onClick:()=>this.props.pauseExploration(),children:"pause exploration"}),(0,xo.jsx)(Ef,{onConfirm:()=>this.props.endExploration(this.props.exploration),children:"end exploration"}),(0,xo.jsx)(Ef,{onConfirm:()=>{this.setState({showOptions:!1},(()=>{this.props.startCombat(this.props.exploration)}))},children:"end exploration and start combat"}),(0,xo.jsx)("div",{className:"heading",children:"explorers"}),n,(0,xo.jsx)("button",{onClick:()=>{this.setState({showOptions:!1},(()=>{this.props.addCompanion(null)}))},children:"add a companion"}),(0,xo.jsx)("div",{className:"heading",children:"map"}),(0,xo.jsx)(ig,{label:"add token / overlay",checked:this.state.addingOverlay,onChecked:()=>this.toggleAddingOverlay()}),(0,xo.jsx)(eg,{display:this.state.addingOverlay,children:(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"click on a map square to add a token, or select a rectangle to add an overlay"})})}),(0,xo.jsx)("button",{onClick:()=>this.props.rotateMap(),children:"rotate the map"}),(0,xo.jsx)("div",{className:"heading",children:"sharing"}),(0,xo.jsx)(ig,{label:"share in player view",checked:this.state.playerViewOpen,onChecked:e=>this.setPlayerViewOpen(e)})]})}getMap(e){return(0,xo.jsx)(my,{map:this.props.exploration.map,mode:e?"interactive-player":"interactive-dm",features:{highlight:this.state.highlightMapSquare,editFog:this.state.editFog,lightSource:this.state.addingLightSource},options:this.props.options,combatants:this.props.exploration.combatants,showGrid:(null!==this.state.addingToMapID||this.state.addingOverlay||this.state.editFog||this.state.highlightMapSquare||this.state.addingLightSource)&&!e,selectedItemIDs:e?this.props.exploration.combatants.filter((e=>"pc"===e.type)).map((e=>e.id)):this.state.selectedItemIDs,selectedAreaID:this.props.exploration.mapAreaID,fog:this.props.exploration.fog,lighting:this.props.exploration.lighting,focussedSquare:this.state.highlightedSquare,gridSquareEntered:(t,n)=>this.setHighlightedSquare(t,n,e),gridSquareClicked:(t,n)=>this.gridSquareClicked(t,n,e),gridRectangleSelected:(e,t,n,r)=>this.gridRectangleSelected(e,t,n,r),itemSelected:(e,t)=>this.toggleItemSelection(e,t),itemRemove:e=>this.props.mapRemove([e]),conditionRemove:(e,t)=>this.props.deleteCondition(e,t),toggleTag:(e,t)=>this.props.toggleTag(e,t),toggleCondition:(e,t)=>this.props.toggleCondition(e,t),toggleHidden:e=>this.props.toggleHidden(e),areaSelected:e=>this.props.changeValue(this.props.exploration,"mapAreaID",e),changeLighting:e=>this.props.changeValue(this.props.exploration,"lighting",e),changeLightSource:(e,t,n,r)=>this.props.mapChangeLightSource(e,t,n,r),removeLightSource:e=>this.props.mapDeleteLightSource(this.props.exploration.map,e),toggleFeature:e=>{switch(e){case"highlight":this.toggleHighlightMapSquare();break;case"editFog":this.toggleEditFog();break;case"lightSource":this.toggleAddingLightSource()}},fillFog:()=>this.fillFog(),clearFog:()=>this.clearFog(),changeValue:(e,t,n)=>this.props.changeValue(e,t,n)})}getSelectedCombatants(){const e=this.state.selectedItemIDs.map((e=>this.props.exploration.combatants.find((t=>t.id===e)))).filter((e=>!!e));ro.sort(e,[{field:"displayName",dir:"asc"}]);const t=e.filter((e=>"placeholder"===e.type));if(t.length>0)return(0,xo.jsx)("div",{children:this.createCard(t[0])});if(1===e.length)return(0,xo.jsxs)("div",{children:[this.createControls(e),(0,xo.jsx)("hr",{}),this.createCard(e[0])]});if(e.length>1)return(0,xo.jsxs)("div",{children:[(0,xo.jsxs)(Uf,{children:[(0,xo.jsx)("div",{className:"section",children:"multiple combatants are selected:"}),e.map((e=>(0,xo.jsx)(Sg,{children:(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:e.displayName}),(0,xo.jsx)("div",{className:"icons",children:(0,xo.jsx)(Pe,{title:"deselect",onClick:()=>this.toggleItemSelection(e.id,!0)})})]})},e.id)))]}),this.createControls(e)]});if(this.props.exploration.map){const e=this.props.exploration.map.items.find((e=>e.id===this.state.selectedItemIDs[0]));if(e)return(0,xo.jsx)(Xb,{item:e,moveMapItem:(e,t,n)=>this.props.mapMove([e.id],t,n),deleteMapItem:e=>this.props.mapRemove([e.id]),changeValue:(e,t,n)=>this.props.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.nudgeValue(e,t,n)})}return(0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"select a map token to see its details here"})})}createControls(e){return e.some((e=>"placeholder"===e.type))?null:(0,xo.jsx)(hy,{combatants:e,allCombatants:this.props.exploration.combatants,map:this.props.exploration.map,options:this.props.options,lighting:this.props.exploration.lighting,defaultTab:"map",toggleTag:(e,t)=>this.props.toggleTag(e,t),toggleCondition:(e,t)=>this.props.toggleCondition(e,t),toggleHidden:e=>this.props.toggleHidden(e),addCondition:e=>this.props.addCondition(e),editCondition:(e,t)=>this.props.editCondition(e,t),deleteCondition:(e,t)=>this.props.deleteCondition(e,t),mapAdd:e=>this.setAddingToMapID(this.state.addingToMapID?null:e.id),mapMove:(e,t,n)=>this.props.mapMove(e.map((e=>e.id)),t,n),mapRemove:e=>this.mapRemove(e),undoStep:()=>null,removeCombatants:null,addCompanion:e=>this.addCompanion(e),changeValue:(e,t,n)=>this.props.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.nudgeValue(e,t,n)})}createCard(e){switch(e.type){case"pc":return(0,xo.jsx)(Ey,{pc:e});case"monster":return(0,xo.jsx)(sg,{monster:e,combat:!0,showRollButtons:this.props.options.showMonsterDieRolls,useTrait:e=>this.props.useTrait(e),rechargeTrait:e=>this.props.rechargeTrait(e),onRollDice:(e,t,n,r,s)=>this.props.onRollDice(e,t,n,r,s)});case"companion":{let t=null;const n=e;return n.monsterID&&this.props.library.forEach((e=>{const r=e.monsters.find((e=>e.id===n.monsterID));r&&(t=(0,xo.jsx)(sg,{monster:r,combat:!0,showRollButtons:this.props.options.showMonsterDieRolls,useTrait:e=>this.props.useTrait(e),rechargeTrait:e=>this.props.rechargeTrait(e),onRollDice:(e,t,n,r,s)=>this.props.onRollDice(e,t,n,r,s)}))})),t}case"placeholder":{const e=[];return this.props.exploration.combatants.forEach((t=>{const n=t;n&&n.traits&&n.traits.some((e=>"lair"===e.type))&&e.push((0,xo.jsxs)("div",{className:"card monster",children:[(0,xo.jsx)("div",{className:"heading",children:(0,xo.jsx)("div",{className:"title",children:n.name})}),(0,xo.jsx)("div",{className:"card-content",children:(0,xo.jsx)(tg,{combatant:n,mode:"lair",useTrait:e=>this.props.useTrait(e),rechargeTrait:e=>this.props.rechargeTrait(e)})})]},"lair "+n.id))})),e}}return null}render(){try{let e=null;const t=this.props.exploration.combatants.filter((e=>!this.props.exploration.map.items.find((t=>t.id===e.id))));return t.length>0&&(e=(0,xo.jsxs)("div",{children:[(0,xo.jsxs)(Uf,{children:[(0,xo.jsx)("div",{className:"section",children:"these pcs have not yet been placed on the map"}),(0,xo.jsxs)("div",{className:"section",children:["to place one on the map, click the ",(0,xo.jsx)(jv,{})," button and then click on a map square"]}),(0,xo.jsxs)("div",{className:"section",children:["or click ",(0,xo.jsx)("button",{className:"link",onClick:()=>this.props.scatterCombatants(t,this.props.exploration.mapAreaID),children:"here"})," to scatter them randomly"]})]}),t.map((e=>(0,xo.jsx)(ex,{combatant:e,addToMap:()=>this.setAddingToMapID(e.id)},e.id)))]})),(0,xo.jsxs)("div",{className:"full-height",children:[(0,xo.jsxs)(Os,{align:"middle",className:"combat-top-row",children:[(0,xo.jsx)(zs,{span:6,children:(0,xo.jsxs)("div",{className:"menu",onClick:()=>this.toggleShowOptions(),role:"button",children:[(0,xo.jsx)(Gw,{title:"options"}),(0,xo.jsx)("span",{children:"options"})]})}),(0,xo.jsx)(zs,{span:18})]}),(0,xo.jsxs)(Os,{className:"combat-main",children:[(0,xo.jsx)(zs,{span:18,className:"scrollable both-ways",children:this.getMap(!1)}),(0,xo.jsxs)(zs,{span:6,className:"scrollable",children:[(0,xo.jsx)(jy,{heading:"not on the map",content:[e],columns:1,showToggle:!0}),(0,xo.jsx)(jy,{heading:"selected",content:[this.getSelectedCombatants()],columns:1})]})]}),this.getPlayerView(),(0,xo.jsxs)(_i,{className:this.props.options.theme,placement:"left",closable:!1,maskClosable:!0,width:"33%",open:this.state.showOptions,onClose:()=>this.toggleShowOptions(),children:[(0,xo.jsx)("div",{className:"drawer-header",children:(0,xo.jsx)("div",{className:"app-title",children:"options"})}),(0,xo.jsx)("div",{className:"drawer-content",children:this.getOptions()}),(0,xo.jsx)("div",{className:"drawer-footer",children:null})]})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"ExplorationScreen",error:DB})}}}const yx={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};function wx(e,t,n){var r=(n||{}).atBegin;return function(e,t,n){var r,s=n||{},a=s.noTrailing,i=void 0!==a&&a,o=s.noLeading,l=void 0!==o&&o,A=s.debounceMode,c=void 0===A?void 0:A,u=!1,d=0;function h(){r&&clearTimeout(r)}function p(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];var o=this,A=Date.now()-d;function p(){d=Date.now(),t.apply(o,s)}function m(){r=void 0}u||(l||!c||r||p(),h(),void 0===c&&A>e?l?(d=Date.now(),i||(r=setTimeout(c?m:p,e))):p():!0!==i&&(r=setTimeout(c?m:p,void 0===c?e-A:e)))}return p.cancel=function(e){var t=(e||{}).upcomingOnly,n=void 0!==t&&t;h(),u=!n},p}(e,t,{debounceMode:!1!==(void 0!==r&&r)})}function bx(e,t,n){return Math.max(t,Math.min(e,n))}var xx=function(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()},Bx=function(e){for(var t=[],n=Cx(e),r=kx(e),s=n;s<r;s++)e.lazyLoadedList.indexOf(s)<0&&t.push(s);return t},Cx=function(e){return e.currentSlide-Sx(e)},kx=function(e){return e.currentSlide+Ex(e)},Sx=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},Ex=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},jx=function(e){return e&&e.offsetWidth||0},Fx=function(e){return e&&e.offsetHeight||0},Ix=function(e){var t,n,r,s,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,n=e.startY-e.curY,r=Math.atan2(n,t),(s=Math.round(180*r/Math.PI))<0&&(s=360-Math.abs(s)),s<=45&&s>=0||s<=360&&s>=315?"left":s>=135&&s<=225?"right":!0===a?s>=35&&s<=135?"up":"down":"vertical"},Qx=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t},Mx=function(e,t){var n={};return t.forEach((function(t){return n[t]=e[t]})),n},Ux=function(e,t){var n=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,n=e.infinite?-1*e.slidesToShow:0,r=e.infinite?-1*e.slidesToShow:0,s=[];n<t;)s.push(n),n=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return s}(e),r=0;if(t>n[n.length-1])t=n[n.length-1];else for(var s in n){if(t<n[s]){t=r;break}r=n[s]}return t},Nx=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n,r=e.listRef,s=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(s).every((function(r){if(e.vertical){if(r.offsetTop+Fx(r)/2>-1*e.swipeLeft)return n=r,!1}else if(r.offsetLeft-t+jx(r)/2>-1*e.swipeLeft)return n=r,!1;return!0})),!n)return 0;var a=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(n.dataset.index-a)||1}return e.slidesToScroll},Tx=function(e,t){return t.reduce((function(t,n){return t&&e.hasOwnProperty(n)}),!0)?null:console.error("Keys Missing:",e)},Dx=function(e){var t,n;Tx(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r=e.slideCount+2*e.slidesToShow;e.vertical?n=r*e.slideHeight:t=Rx(e)*e.slideWidth;var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",i=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",o=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=A(A({},s),{},{WebkitTransform:a,transform:i,msTransform:o})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),t&&(s.width=t),n&&(s.height=n),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s},Hx=function(e){Tx(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=Dx(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t},Lx=function(e){if(e.unslick)return 0;Tx(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,n,r=e.slideIndex,s=e.trackRef,a=e.infinite,i=e.centerMode,o=e.slideCount,l=e.slidesToShow,A=e.slidesToScroll,c=e.slideWidth,u=e.listWidth,d=e.variableWidth,h=e.slideHeight,p=e.fade,m=e.vertical;if(p||1===e.slideCount)return 0;var f=0;if(a?(f=-Px(e),o%A!==0&&r+A>o&&(f=-(r>o?l-(r-o):o%A)),i&&(f+=parseInt(l/2))):(o%A!==0&&r+A>o&&(f=l-o%A),i&&(f=parseInt(l/2))),t=m?r*h*-1+f*h:r*c*-1+f*c,!0===d){var g,v=s&&s.node;if(g=r+Px(e),t=(n=v&&v.childNodes[g])?-1*n.offsetLeft:0,!0===i){g=a?r+Px(e):r,n=v&&v.children[g],t=0;for(var y=0;y<g;y++)t-=v&&v.children[y]&&v.children[y].offsetWidth;t-=parseInt(e.centerPadding),t+=n&&(u-n.offsetWidth)/2}}return t},Px=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},Ox=function(e){return e.unslick||!e.infinite?0:e.slideCount},Rx=function(e){return 1===e.slideCount?1:Px(e)+e.slideCount+Ox(e)},Vx=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+Kx(e)?"left":"right":e.targetSlide<e.currentSlide-zx(e)?"right":"left"},Kx=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,s=e.centerPadding;if(n){var a=(t-1)/2+1;return parseInt(s)>0&&(a+=1),r&&t%2===0&&(a+=1),a}return r?0:t-1},zx=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,s=e.centerPadding;if(n){var a=(t-1)/2+1;return parseInt(s)>0&&(a+=1),r||t%2!==0||(a+=1),a}return r?t-1:0},_x=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)},Gx=function(e){var t,n,r,s,a;return r=(a=e.rtl?e.slideCount-1-e.index:e.index)<0||a>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),n=(a-e.currentSlide)%e.slideCount===0,a>e.currentSlide-s-1&&a<=e.currentSlide+s&&(t=!0)):t=e.currentSlide<=a&&a<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":n,"slick-cloned":r,"slick-current":a===(e.targetSlide<0?e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?e.targetSlide-e.slideCount:e.targetSlide)}},Wx=function(e,t){return e.key+"-"+t},Yx=function(e){var t,n=[],r=[],s=[],a=c.Children.count(e.children),i=Cx(e),o=kx(e);return c.Children.forEach(e.children,(function(l,u){var d,h={message:"children",index:u,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};d=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(u)>=0?l:c.createElement("div",null);var p=function(e){var t={};return void 0!==e.variableWidth&&!1!==e.variableWidth||(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical&&e.slideHeight?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t}(A(A({},e),{},{index:u})),m=d.props.className||"",f=Gx(A(A({},e),{},{index:u}));if(n.push(c.cloneElement(d,{key:"original"+Wx(d,u),"data-index":u,className:y()(f,m),tabIndex:"-1","aria-hidden":!f["slick-active"],style:A(A({outline:"none"},d.props.style||{}),p),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(h)}})),e.infinite&&!1===e.fade){var g=a-u;g<=Px(e)&&a!==e.slidesToShow&&((t=-g)>=i&&(d=l),f=Gx(A(A({},e),{},{index:t})),r.push(c.cloneElement(d,{key:"precloned"+Wx(d,t),"data-index":t,tabIndex:"-1",className:y()(f,m),"aria-hidden":!f["slick-active"],style:A(A({},d.props.style||{}),p),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(h)}}))),a!==e.slidesToShow&&((t=a+u)<o&&(d=l),f=Gx(A(A({},e),{},{index:t})),s.push(c.cloneElement(d,{key:"postcloned"+Wx(d,t),"data-index":t,tabIndex:"-1",className:y()(f,m),"aria-hidden":!f["slick-active"],style:A(A({},d.props.style||{}),p),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(h)}})))}})),e.rtl?r.concat(n,s).reverse():r.concat(n,s)},qx=function(e){rt(n,e);var t=lt(n);function n(){var e;$e(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return o(it(e=t.call.apply(t,[this].concat(s))),"node",null),o(it(e),"handleRef",(function(t){e.node=t})),e}return tt(n,[{key:"render",value:function(){var e=Yx(this.props),t=this.props,n={onMouseEnter:t.onMouseEnter,onMouseOver:t.onMouseOver,onMouseLeave:t.onMouseLeave};return c.createElement("div",Oe({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},n),e)}}]),n}(c.PureComponent),Xx=function(e){rt(n,e);var t=lt(n);function n(){return $e(this,n),t.apply(this,arguments)}return tt(n,[{key:"clickHandler",value:function(e,t){t.preventDefault(),this.props.clickHandler(e)}},{key:"render",value:function(){for(var e,t=this.props,n=t.onMouseEnter,r=t.onMouseOver,s=t.onMouseLeave,a=t.infinite,i=t.slidesToScroll,o=t.slidesToShow,l=t.slideCount,u=t.currentSlide,d=(e={slideCount:l,slidesToScroll:i,slidesToShow:o,infinite:a}).infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,h={onMouseEnter:n,onMouseOver:r,onMouseLeave:s},p=[],m=0;m<d;m++){var f=(m+1)*i-1,g=a?f:bx(f,0,l-1),v=g-(i-1),w=a?v:bx(v,0,l-1),b=y()({"slick-active":a?u>=w&&u<=g:u===w}),x={message:"dots",index:m,slidesToScroll:i,currentSlide:u},B=this.clickHandler.bind(this,x);p=p.concat(c.createElement("li",{key:m,className:b},c.cloneElement(this.props.customPaging(m),{onClick:B})))}return c.cloneElement(this.props.appendDots(p),A({className:this.props.dotsClass},h))}}]),n}(c.PureComponent),Jx=function(e){rt(n,e);var t=lt(n);function n(){return $e(this,n),t.apply(this,arguments)}return tt(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var n={key:"0","data-role":"none",className:y()(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?c.cloneElement(this.props.prevArrow,A(A({},n),r)):c.createElement("button",Oe({key:"0",type:"button"},n)," ","Previous")}}]),n}(c.PureComponent),Zx=function(e){rt(n,e);var t=lt(n);function n(){return $e(this,n),t.apply(this,arguments)}return tt(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});Qx(this.props)||(e["slick-disabled"]=!0,t=null);var n={key:"1","data-role":"none",className:y()(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?c.cloneElement(this.props.nextArrow,A(A({},n),r)):c.createElement("button",Oe({key:"1",type:"button"},n)," ","Next")}}]),n}(c.PureComponent),$x=["animating"],eB=function(e){rt(n,e);var t=lt(n);function n(e){var r;$e(this,n),o(it(r=t.call(this,e)),"listRefHandler",(function(e){return r.list=e})),o(it(r),"trackRefHandler",(function(e){return r.track=e})),o(it(r),"adaptHeight",(function(){if(r.props.adaptiveHeight&&r.list){var e=r.list.querySelector('[data-index="'.concat(r.state.currentSlide,'"]'));r.list.style.height=Fx(e)+"px"}})),o(it(r),"componentDidMount",(function(){if(r.props.onInit&&r.props.onInit(),r.props.lazyLoad){var e=Bx(A(A({},r.props),r.state));e.length>0&&(r.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),r.props.onLazyLoad&&r.props.onLazyLoad(e))}var t=A({listRef:r.list,trackRef:r.track},r.props);r.updateState(t,!0,(function(){r.adaptHeight(),r.props.autoplay&&r.autoPlay("playing")})),"progressive"===r.props.lazyLoad&&(r.lazyLoadTimer=setInterval(r.progressiveLazyLoad,1e3)),r.ro=new CA((function(){r.state.animating?(r.onWindowResized(!1),r.callbackTimers.push(setTimeout((function(){return r.onWindowResized()}),r.props.speed))):r.onWindowResized()})),r.ro.observe(r.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),(function(e){e.onfocus=r.props.pauseOnFocus?r.onSlideFocus:null,e.onblur=r.props.pauseOnFocus?r.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",r.onWindowResized):window.attachEvent("onresize",r.onWindowResized)})),o(it(r),"componentWillUnmount",(function(){r.animationEndCallback&&clearTimeout(r.animationEndCallback),r.lazyLoadTimer&&clearInterval(r.lazyLoadTimer),r.callbackTimers.length&&(r.callbackTimers.forEach((function(e){return clearTimeout(e)})),r.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",r.onWindowResized):window.detachEvent("onresize",r.onWindowResized),r.autoplayTimer&&clearInterval(r.autoplayTimer),r.ro.disconnect()})),o(it(r),"componentDidUpdate",(function(e){if(r.checkImagesLoad(),r.props.onReInit&&r.props.onReInit(),r.props.lazyLoad){var t=Bx(A(A({},r.props),r.state));t.length>0&&(r.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(t)}})),r.props.onLazyLoad&&r.props.onLazyLoad(t))}r.adaptHeight();var n=A(A({listRef:r.list,trackRef:r.track},r.props),r.state),s=r.didPropsChange(e);s&&r.updateState(n,s,(function(){r.state.currentSlide>=c.Children.count(r.props.children)&&r.changeSlide({message:"index",index:c.Children.count(r.props.children)-r.props.slidesToShow,currentSlide:r.state.currentSlide}),e.autoplay===r.props.autoplay&&e.autoplaySpeed===r.props.autoplaySpeed||(!e.autoplay&&r.props.autoplay?r.autoPlay("playing"):r.props.autoplay?r.autoPlay("update"):r.pause("paused"))}))})),o(it(r),"onWindowResized",(function(e){r.debouncedResize&&r.debouncedResize.cancel(),r.debouncedResize=wx(50,(function(){return r.resizeWindow(e)})),r.debouncedResize()})),o(it(r),"resizeWindow",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(Boolean(r.track&&r.track.node)){var t=A(A({listRef:r.list,trackRef:r.track},r.props),r.state);r.updateState(t,e,(function(){r.props.autoplay?r.autoPlay("update"):r.pause("paused")})),r.setState({animating:!1}),clearTimeout(r.animationEndCallback),delete r.animationEndCallback}})),o(it(r),"updateState",(function(e,t,n){var s=function(e){var t,n=c.Children.count(e.children),r=e.listRef,s=Math.ceil(jx(r)),a=e.trackRef&&e.trackRef.node,i=Math.ceil(jx(a));if(e.vertical)t=s;else{var o=e.centerMode&&2*parseInt(e.centerPadding);"string"===typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(o*=s/100),t=Math.ceil((s-o)/e.slidesToShow)}var l=r&&Fx(r.querySelector('[data-index="0"]')),u=l*e.slidesToShow,d=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(d=n-1-e.initialSlide);var h=e.lazyLoadedList||[],p=Bx(A(A({},e),{},{currentSlide:d,lazyLoadedList:h})),m={slideCount:n,slideWidth:t,listWidth:s,trackWidth:i,currentSlide:d,slideHeight:l,listHeight:u,lazyLoadedList:h=h.concat(p)};return null===e.autoplaying&&e.autoplay&&(m.autoplaying="playing"),m}(e);e=A(A(A({},e),s),{},{slideIndex:s.currentSlide});var a=Lx(e);e=A(A({},e),{},{left:a});var i=Dx(e);(t||c.Children.count(r.props.children)!==c.Children.count(e.children))&&(s.trackStyle=i),r.setState(s,n)})),o(it(r),"ssrInit",(function(){if(r.props.variableWidth){var e=0,t=0,n=[],s=Px(A(A(A({},r.props),r.state),{},{slideCount:r.props.children.length})),a=Ox(A(A(A({},r.props),r.state),{},{slideCount:r.props.children.length}));r.props.children.forEach((function(t){n.push(t.props.style.width),e+=t.props.style.width}));for(var i=0;i<s;i++)t+=n[n.length-1-i],e+=n[n.length-1-i];for(var o=0;o<a;o++)e+=n[o];for(var l=0;l<r.state.currentSlide;l++)t+=n[l];var u={width:e+"px",left:-t+"px"};if(r.props.centerMode){var d="".concat(n[r.state.currentSlide],"px");u.left="calc(".concat(u.left," + (100% - ").concat(d,") / 2 ) ")}return{trackStyle:u}}var h=c.Children.count(r.props.children),p=A(A(A({},r.props),r.state),{},{slideCount:h}),m=Px(p)+Ox(p)+h,f=100/r.props.slidesToShow*m,g=100/m,v=-g*(Px(p)+r.state.currentSlide)*f/100;return r.props.centerMode&&(v+=(100-g*f/100)/2),{slideWidth:g+"%",trackStyle:{width:f+"%",left:v+"%"}}})),o(it(r),"checkImagesLoad",(function(){var e=r.list&&r.list.querySelectorAll&&r.list.querySelectorAll(".slick-slide img")||[],t=e.length,n=0;Array.prototype.forEach.call(e,(function(e){var s=function(){return++n&&n>=t&&r.onWindowResized()};if(e.onclick){var a=e.onclick;e.onclick=function(t){a(t),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(r.props.lazyLoad?e.onload=function(){r.adaptHeight(),r.callbackTimers.push(setTimeout(r.onWindowResized,r.props.speed))}:(e.onload=s,e.onerror=function(){s(),r.props.onLazyLoadError&&r.props.onLazyLoadError()}))}))})),o(it(r),"progressiveLazyLoad",(function(){for(var e=[],t=A(A({},r.props),r.state),n=r.state.currentSlide;n<r.state.slideCount+Ox(t);n++)if(r.state.lazyLoadedList.indexOf(n)<0){e.push(n);break}for(var s=r.state.currentSlide-1;s>=-Px(t);s--)if(r.state.lazyLoadedList.indexOf(s)<0){e.push(s);break}e.length>0?(r.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),r.props.onLazyLoad&&r.props.onLazyLoad(e)):r.lazyLoadTimer&&(clearInterval(r.lazyLoadTimer),delete r.lazyLoadTimer)})),o(it(r),"slideHandler",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=r.props,s=n.asNavFor,a=n.beforeChange,i=n.onLazyLoad,o=n.speed,l=n.afterChange,c=r.state.currentSlide,u=function(e){var t=e.waitForAnimate,n=e.animating,r=e.fade,s=e.infinite,a=e.index,i=e.slideCount,o=e.lazyLoad,l=e.currentSlide,c=e.centerMode,u=e.slidesToScroll,d=e.slidesToShow,h=e.useCSS,p=e.lazyLoadedList;if(t&&n)return{};var m,f,g,v=a,y={},w={},b=s?a:bx(a,0,i-1);if(r){if(!s&&(a<0||a>=i))return{};a<0?v=a+i:a>=i&&(v=a-i),o&&p.indexOf(v)<0&&(p=p.concat(v)),y={animating:!0,currentSlide:v,lazyLoadedList:p,targetSlide:v},w={animating:!1,targetSlide:v}}else m=v,v<0?(m=v+i,s?i%u!==0&&(m=i-i%u):m=0):!Qx(e)&&v>l?v=m=l:c&&v>=i?(v=s?i:i-1,m=s?0:i-1):v>=i&&(m=v-i,s?i%u!==0&&(m=0):m=i-d),!s&&v+d>=i&&(m=i-d),f=Lx(A(A({},e),{},{slideIndex:v})),g=Lx(A(A({},e),{},{slideIndex:m})),s||(f===g&&(v=m),f=g),o&&(p=p.concat(Bx(A(A({},e),{},{currentSlide:v})))),h?(y={animating:!0,currentSlide:m,trackStyle:Hx(A(A({},e),{},{left:f})),lazyLoadedList:p,targetSlide:b},w={animating:!1,currentSlide:m,trackStyle:Dx(A(A({},e),{},{left:g})),swipeLeft:null,targetSlide:b}):y={currentSlide:m,trackStyle:Dx(A(A({},e),{},{left:g})),lazyLoadedList:p,targetSlide:b};return{state:y,nextState:w}}(A(A(A({index:e},r.props),r.state),{},{trackRef:r.track,useCSS:r.props.useCSS&&!t})),d=u.state,h=u.nextState;if(d){a&&a(c,d.currentSlide);var p=d.lazyLoadedList.filter((function(e){return r.state.lazyLoadedList.indexOf(e)<0}));i&&p.length>0&&i(p),!r.props.waitForAnimate&&r.animationEndCallback&&(clearTimeout(r.animationEndCallback),l&&l(c),delete r.animationEndCallback),r.setState(d,(function(){s&&r.asNavForIndex!==e&&(r.asNavForIndex=e,s.innerSlider.slideHandler(e)),h&&(r.animationEndCallback=setTimeout((function(){var e=h.animating,t=g(h,$x);r.setState(t,(function(){r.callbackTimers.push(setTimeout((function(){return r.setState({animating:e})}),10)),l&&l(d.currentSlide),delete r.animationEndCallback}))}),o))}))}})),o(it(r),"changeSlide",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(e,t){var n,r,s,a,i=e.slidesToScroll,o=e.slidesToShow,l=e.slideCount,c=e.currentSlide,u=e.targetSlide,d=e.lazyLoad,h=e.infinite;if(n=l%i!==0?0:(l-c)%i,"previous"===t.message)a=c-(s=0===n?i:o-n),d&&!h&&(a=-1===(r=c-s)?l-1:r),h||(a=u-i);else if("next"===t.message)a=c+(s=0===n?i:n),d&&!h&&(a=(c+i)%l+n),h||(a=u+i);else if("dots"===t.message)a=t.index*t.slidesToScroll;else if("children"===t.message){if(a=t.index,h){var p=Vx(A(A({},e),{},{targetSlide:a}));a>t.currentSlide&&"left"===p?a-=l:a<t.currentSlide&&"right"===p&&(a+=l)}}else"index"===t.message&&(a=Number(t.index));return a}(A(A({},r.props),r.state),e);if((0===n||n)&&(!0===t?r.slideHandler(n,t):r.slideHandler(n),r.props.autoplay&&r.autoPlay("update"),r.props.focusOnSelect)){var s=r.list.querySelectorAll(".slick-current");s[0]&&s[0].focus()}})),o(it(r),"clickHandler",(function(e){!1===r.clickable&&(e.stopPropagation(),e.preventDefault()),r.clickable=!0})),o(it(r),"keyHandler",(function(e){var t=function(e,t,n){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?n?"next":"previous":39===e.keyCode?n?"previous":"next":""}(e,r.props.accessibility,r.props.rtl);""!==t&&r.changeSlide({message:t})})),o(it(r),"selectHandler",(function(e){r.changeSlide(e)})),o(it(r),"disableBodyScroll",(function(){window.ontouchmove=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}})),o(it(r),"enableBodyScroll",(function(){window.ontouchmove=null})),o(it(r),"swipeStart",(function(e){r.props.verticalSwiping&&r.disableBodyScroll();var t=function(e,t,n){return"IMG"===e.target.tagName&&xx(e),!t||!n&&-1!==e.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}}(e,r.props.swipe,r.props.draggable);""!==t&&r.setState(t)})),o(it(r),"swipeMove",(function(e){var t=function(e,t){var n=t.scrolling,r=t.animating,s=t.vertical,a=t.swipeToSlide,i=t.verticalSwiping,o=t.rtl,l=t.currentSlide,c=t.edgeFriction,u=t.edgeDragged,d=t.onEdge,h=t.swiped,p=t.swiping,m=t.slideCount,f=t.slidesToScroll,g=t.infinite,v=t.touchObject,y=t.swipeEvent,w=t.listHeight,b=t.listWidth;if(!n){if(r)return xx(e);s&&a&&i&&xx(e);var x,B={},C=Lx(t);v.curX=e.touches?e.touches[0].pageX:e.clientX,v.curY=e.touches?e.touches[0].pageY:e.clientY,v.swipeLength=Math.round(Math.sqrt(Math.pow(v.curX-v.startX,2)));var k=Math.round(Math.sqrt(Math.pow(v.curY-v.startY,2)));if(!i&&!p&&k>10)return{scrolling:!0};i&&(v.swipeLength=k);var S=(o?-1:1)*(v.curX>v.startX?1:-1);i&&(S=v.curY>v.startY?1:-1);var E=Math.ceil(m/f),j=Ix(t.touchObject,i),F=v.swipeLength;return g||(0===l&&("right"===j||"down"===j)||l+1>=E&&("left"===j||"up"===j)||!Qx(t)&&("left"===j||"up"===j))&&(F=v.swipeLength*c,!1===u&&d&&(d(j),B.edgeDragged=!0)),!h&&y&&(y(j),B.swiped=!0),x=s?C+F*(w/b)*S:o?C-F*S:C+F*S,i&&(x=C+F*S),B=A(A({},B),{},{touchObject:v,swipeLeft:x,trackStyle:Dx(A(A({},t),{},{left:x}))}),Math.abs(v.curX-v.startX)<.8*Math.abs(v.curY-v.startY)||v.swipeLength>10&&(B.swiping=!0,xx(e)),B}}(e,A(A(A({},r.props),r.state),{},{trackRef:r.track,listRef:r.list,slideIndex:r.state.currentSlide}));t&&(t.swiping&&(r.clickable=!1),r.setState(t))})),o(it(r),"swipeEnd",(function(e){var t=function(e,t){var n=t.dragging,r=t.swipe,s=t.touchObject,a=t.listWidth,i=t.touchThreshold,o=t.verticalSwiping,l=t.listHeight,c=t.swipeToSlide,u=t.scrolling,d=t.onSwipe,h=t.targetSlide,p=t.currentSlide,m=t.infinite;if(!n)return r&&xx(e),{};var f=o?l/i:a/i,g=Ix(s,o),v={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(u)return v;if(!s.swipeLength)return v;if(s.swipeLength>f){var y,w;xx(e),d&&d(g);var b=m?p:h;switch(g){case"left":case"up":w=b+Nx(t),y=c?Ux(t,w):w,v.currentDirection=0;break;case"right":case"down":w=b-Nx(t),y=c?Ux(t,w):w,v.currentDirection=1;break;default:y=b}v.triggerSlideHandler=y}else{var x=Lx(t);v.trackStyle=Hx(A(A({},t),{},{left:x}))}return v}(e,A(A(A({},r.props),r.state),{},{trackRef:r.track,listRef:r.list,slideIndex:r.state.currentSlide}));if(t){var n=t.triggerSlideHandler;delete t.triggerSlideHandler,r.setState(t),void 0!==n&&(r.slideHandler(n),r.props.verticalSwiping&&r.enableBodyScroll())}})),o(it(r),"touchEnd",(function(e){r.swipeEnd(e),r.clickable=!0})),o(it(r),"slickPrev",(function(){r.callbackTimers.push(setTimeout((function(){return r.changeSlide({message:"previous"})}),0))})),o(it(r),"slickNext",(function(){r.callbackTimers.push(setTimeout((function(){return r.changeSlide({message:"next"})}),0))})),o(it(r),"slickGoTo",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";r.callbackTimers.push(setTimeout((function(){return r.changeSlide({message:"index",index:e,currentSlide:r.state.currentSlide},t)}),0))})),o(it(r),"play",(function(){var e;if(r.props.rtl)e=r.state.currentSlide-r.props.slidesToScroll;else{if(!Qx(A(A({},r.props),r.state)))return!1;e=r.state.currentSlide+r.props.slidesToScroll}r.slideHandler(e)})),o(it(r),"autoPlay",(function(e){r.autoplayTimer&&clearInterval(r.autoplayTimer);var t=r.state.autoplaying;if("update"===e){if("hovered"===t||"focused"===t||"paused"===t)return}else if("leave"===e){if("paused"===t||"focused"===t)return}else if("blur"===e&&("paused"===t||"hovered"===t))return;r.autoplayTimer=setInterval(r.play,r.props.autoplaySpeed+50),r.setState({autoplaying:"playing"})})),o(it(r),"pause",(function(e){r.autoplayTimer&&(clearInterval(r.autoplayTimer),r.autoplayTimer=null);var t=r.state.autoplaying;"paused"===e?r.setState({autoplaying:"paused"}):"focused"===e?"hovered"!==t&&"playing"!==t||r.setState({autoplaying:"focused"}):"playing"===t&&r.setState({autoplaying:"hovered"})})),o(it(r),"onDotsOver",(function(){return r.props.autoplay&&r.pause("hovered")})),o(it(r),"onDotsLeave",(function(){return r.props.autoplay&&"hovered"===r.state.autoplaying&&r.autoPlay("leave")})),o(it(r),"onTrackOver",(function(){return r.props.autoplay&&r.pause("hovered")})),o(it(r),"onTrackLeave",(function(){return r.props.autoplay&&"hovered"===r.state.autoplaying&&r.autoPlay("leave")})),o(it(r),"onSlideFocus",(function(){return r.props.autoplay&&r.pause("focused")})),o(it(r),"onSlideBlur",(function(){return r.props.autoplay&&"focused"===r.state.autoplaying&&r.autoPlay("blur")})),o(it(r),"render",(function(){var e,t,n,s=y()("slick-slider",r.props.className,{"slick-vertical":r.props.vertical,"slick-initialized":!0}),a=A(A({},r.props),r.state),i=Mx(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),o=r.props.pauseOnHover;if(i=A(A({},i),{},{onMouseEnter:o?r.onTrackOver:null,onMouseLeave:o?r.onTrackLeave:null,onMouseOver:o?r.onTrackOver:null,focusOnSelect:r.props.focusOnSelect&&r.clickable?r.selectHandler:null}),!0===r.props.dots&&r.state.slideCount>=r.props.slidesToShow){var l=Mx(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),u=r.props.pauseOnDotsHover;l=A(A({},l),{},{clickHandler:r.changeSlide,onMouseEnter:u?r.onDotsLeave:null,onMouseOver:u?r.onDotsOver:null,onMouseLeave:u?r.onDotsLeave:null}),e=c.createElement(Xx,l)}var d=Mx(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);d.clickHandler=r.changeSlide,r.props.arrows&&(t=c.createElement(Jx,d),n=c.createElement(Zx,d));var h=null;r.props.vertical&&(h={height:r.state.listHeight});var p=null;!1===r.props.vertical?!0===r.props.centerMode&&(p={padding:"0px "+r.props.centerPadding}):!0===r.props.centerMode&&(p={padding:r.props.centerPadding+" 0px"});var m=A(A({},h),p),f=r.props.touchMove,g={className:"slick-list",style:m,onClick:r.clickHandler,onMouseDown:f?r.swipeStart:null,onMouseMove:r.state.dragging&&f?r.swipeMove:null,onMouseUp:f?r.swipeEnd:null,onMouseLeave:r.state.dragging&&f?r.swipeEnd:null,onTouchStart:f?r.swipeStart:null,onTouchMove:r.state.dragging&&f?r.swipeMove:null,onTouchEnd:f?r.touchEnd:null,onTouchCancel:r.state.dragging&&f?r.swipeEnd:null,onKeyDown:r.props.accessibility?r.keyHandler:null},v={className:s,dir:"ltr",style:r.props.style};return r.props.unslick&&(g={className:"slick-list"},v={className:s,style:r.props.style}),c.createElement("div",v,r.props.unslick?"":t,c.createElement("div",Oe({ref:r.listRefHandler},g),c.createElement(qx,Oe({ref:r.trackRefHandler},i),r.props.children)),r.props.unslick?"":n,r.props.unslick?"":e)})),r.list=null,r.track=null,r.state=A(A({},yx),{},{currentSlide:r.props.initialSlide,slideCount:c.Children.count(r.props.children)}),r.callbackTimers=[],r.clickable=!0,r.debouncedResize=null;var s=r.ssrInit();return r.state=A(A({},r.state),s),r}return tt(n,[{key:"didPropsChange",value:function(e){for(var t=!1,n=0,r=Object.keys(this.props);n<r.length;n++){var s=r[n];if(!e.hasOwnProperty(s)){t=!0;break}if("object"!==a(e[s])&&"function"!==typeof e[s]&&e[s]!==this.props[s]){t=!0;break}}return t||c.Children.count(this.props.children)!==c.Children.count(e.children)}}]),n}(c.Component),tB=n(3191),nB=n.n(tB),rB={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return c.createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return c.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0};const sB=rB;var aB=function(e){rt(n,e);var t=lt(n);function n(e){var r;return $e(this,n),o(it(r=t.call(this,e)),"innerSliderRefHandler",(function(e){return r.innerSlider=e})),o(it(r),"slickPrev",(function(){return r.innerSlider.slickPrev()})),o(it(r),"slickNext",(function(){return r.innerSlider.slickNext()})),o(it(r),"slickGoTo",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.innerSlider.slickGoTo(e,t)})),o(it(r),"slickPause",(function(){return r.innerSlider.pause("paused")})),o(it(r),"slickPlay",(function(){return r.innerSlider.autoPlay("play")})),r.state={breakpoint:null},r._responsiveMediaHandlers=[],r}return tt(n,[{key:"media",value:function(e,t){var n=window.matchMedia(e),r=function(e){e.matches&&t()};n.addListener(r),r(n),this._responsiveMediaHandlers.push({mql:n,query:e,listener:r})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map((function(e){return e.breakpoint}));t.sort((function(e,t){return e-t})),t.forEach((function(n,r){var s;s=0===r?nB()({minWidth:0,maxWidth:n}):nB()({minWidth:t[r-1]+1,maxWidth:n}),_x()&&e.media(s,(function(){e.setState({breakpoint:n})}))}));var n=nB()({minWidth:t.slice(-1)[0]});_x()&&this.media(n,(function(){e.setState({breakpoint:null})}))}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach((function(e){e.mql.removeListener(e.listener)}))}},{key:"render",value:function(){var e,t,n=this;(e=this.state.breakpoint?"unslick"===(t=this.props.responsive.filter((function(e){return e.breakpoint===n.state.breakpoint})))[0].settings?"unslick":A(A(A({},sB),this.props),t[0].settings):A(A({},sB),this.props)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var r=c.Children.toArray(this.props.children);r=r.filter((function(e){return"string"===typeof e?!!e.trim():!!e})),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),e.variableWidth=!1);for(var s=[],a=null,i=0;i<r.length;i+=e.rows*e.slidesPerRow){for(var o=[],l=i;l<i+e.rows*e.slidesPerRow;l+=e.slidesPerRow){for(var u=[],d=l;d<l+e.slidesPerRow&&(e.variableWidth&&r[d].props.style&&(a=r[d].props.style.width),!(d>=r.length));d+=1)u.push(c.cloneElement(r[d],{key:100*i+10*l+d,tabIndex:-1,style:{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}}));o.push(c.createElement("div",{key:10*i+l},u))}e.variableWidth?s.push(c.createElement("div",{key:i,style:{width:a}},o)):s.push(c.createElement("div",{key:i},o))}if("unslick"===e){var h="regular slider "+(this.props.className||"");return c.createElement("div",{className:h},r)}return s.length<=e.slidesToShow&&(e.unslick=!0),c.createElement(eB,Oe({style:this.props.style,ref:this.innerSliderRefHandler},e),s)}}]),n}(c.Component);const iB=aB;var oB=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n};const lB=c.forwardRef((function(e,t){var n=e.dots,r=void 0===n||n,s=e.arrows,a=void 0!==s&&s,i=e.draggable,l=void 0!==i&&i,A=e.dotPosition,u=void 0===A?"bottom":A,d=e.vertical,h=void 0===d?"left"===u||"right"===u:d,p=oB(e,["dots","arrows","draggable","dotPosition","vertical"]),m=c.useContext(jr),f=m.getPrefixCls,g=m.direction,v=c.useRef(),w=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];v.current.slickGoTo(e,t)};c.useImperativeHandle(t,(function(){return{goTo:w,autoPlay:v.current.innerSlider.autoPlay,innerSlider:v.current.innerSlider,prev:v.current.slickPrev,next:v.current.slickNext}}),[v.current]);var b=c.useRef(c.Children.count(p.children));c.useEffect((function(){b.current!==c.Children.count(p.children)&&(w(p.initialSlide||0,!1),b.current=c.Children.count(p.children))}),[p.children]);var x=Oe({vertical:h},p);"fade"===x.effect&&(x.fade=!0);var B=f("carousel",x.prefixCls),C="slick-dots",k=!!r,S=y()(C,"".concat(C,"-").concat(u),"boolean"!==typeof r&&(null===r||void 0===r?void 0:r.className)),E=y()(B,o(o({},"".concat(B,"-rtl"),"rtl"===g),"".concat(B,"-vertical"),"left"===u||"right"===u));return c.createElement("div",{className:E},c.createElement(iB,Oe({ref:v},x,{dots:k,dotsClass:S,arrows:a,draggable:l})))}));class AB extends c.Component{render(){try{const e=(0,xo.jsxs)(lB,{autoplay:!0,autoplaySpeed:1e4,children:[(0,xo.jsxs)("div",{children:[(0,xo.jsxs)("div",{className:"heading",children:["welcome to ",(0,xo.jsx)("span",{className:"app-name",children:"dojo"})]}),(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("span",{className:"app-name",children:"dojo"})," is an app for dms of ",(0,xo.jsx)("a",{href:"https://www.wizards.com/dnd",target:"_blank",rel:"noopener noreferrer",children:"dungeons and dragons fifth edition"})]}),(0,xo.jsxs)("div",{className:"section",children:["with ",(0,xo.jsx)("span",{className:"app-name",children:"dojo"})," you can..."]})]},"prologue"),(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"heading",children:"build unique, challenging monsters"}),(0,xo.jsxs)("ul",{children:[(0,xo.jsx)("li",{children:"watch the stat block change as you design your monster"}),(0,xo.jsx)("li",{children:"build an entirely random monster with a single click"}),(0,xo.jsxs)("li",{children:["easily import any monster from ",(0,xo.jsx)("a",{href:"https://dnd.wizards.com/articles/features/basicrules",target:"_blank",rel:"noopener noreferrer",children:"the basic rules"})," or from ",(0,xo.jsx)("a",{href:"https://www.dndbeyond.com",target:"_blank",rel:"noopener noreferrer",children:"d&d beyond"})]}),(0,xo.jsx)("li",{children:"apply a theme to your monster to make it extra unique"}),(0,xo.jsx)("li",{children:"use legendary and mythic monsters"})]})]},"monster"),(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"heading",children:"create rewarding encounters"}),(0,xo.jsxs)("ul",{children:[(0,xo.jsx)("li",{children:"quickly add monsters to your encounter and see its difficulty level change"}),(0,xo.jsx)("li",{children:"add themes to your monsters to make them more unique"}),(0,xo.jsx)("li",{children:"split your encounter into multiple waves"}),(0,xo.jsx)("li",{children:"set specific victory conditions"}),(0,xo.jsxs)("li",{children:["let ",(0,xo.jsx)("span",{className:"app-name",children:"dojo"})," build a random encounter on the fly - or use one of its encounter templates to get started"]})]})]},"encounter"),(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"heading",children:"design intricate tactical maps"}),(0,xo.jsxs)("ul",{children:[(0,xo.jsx)("li",{children:"create a dungeon map by quickly adding rooms, doors, corridors, and stairs"}),(0,xo.jsx)("li",{children:"for something a little more fancy, you can upload your own battlemap images - even animated images"}),(0,xo.jsx)("li",{children:"generate an entire random dungeon map with one click"}),(0,xo.jsx)("li",{children:"add fog of war and then show your maps to your players"})]})]},"map"),(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"heading",children:"run combat without the book-keeping"}),(0,xo.jsxs)("ul",{children:[(0,xo.jsx)("li",{children:"see the initiative list at a glance - and share it with players in a separate window"}),(0,xo.jsx)("li",{children:"track monster hit points, rechargable actions, and legendary actions"}),(0,xo.jsx)("li",{children:"track conditions, their durations, and the effects they impose"}),(0,xo.jsx)("li",{children:"easily handle mounted combat"}),(0,xo.jsx)("li",{children:"keep track of everyone's location, if you're using a tactical map"})]})]},"combat"),(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"heading",children:"devise adventures"}),(0,xo.jsxs)("ul",{children:[(0,xo.jsx)("li",{children:"keep track of all the information you need to run an adventure"}),(0,xo.jsx)("li",{children:"see the structure of a scenario as a flow chart - or as a map if you're running a dungeon delve"}),(0,xo.jsx)("li",{children:"add encounters and check their difficulty for your pcs"}),(0,xo.jsx)("li",{children:"keep handouts ready to show to your players"}),(0,xo.jsx)("li",{children:"generate an entire dungeon delve with a single click"})]})]},"adventure"),(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"heading",children:"keep on top of things"}),(0,xo.jsxs)("ul",{children:[(0,xo.jsx)("li",{children:"check references for skill usage, condition effects, and action rules"}),(0,xo.jsx)("li",{children:"see your party's passive skills, known languages, and darkvision ranges"}),(0,xo.jsx)("li",{children:"come up with npc names and descriptions, place names, and descriptions of potions or art objects"})]})]},"dm-screen"),(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"heading",children:"to get started"}),(0,xo.jsxs)("div",{className:"section",children:["use the buttons at the bottom of this screen to explore ",(0,xo.jsx)("span",{className:"app-name",children:"dojo"}),"'s main features"]}),(0,xo.jsx)("div",{className:"section",children:"the arrow at the top right gives you additional tools like a die roller and a handout manager"})]},"epilogue")]});return(0,xo.jsx)(Os,{align:"middle",justify:"center",className:"full-height",children:e})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"HomeScreen",error:DB})}}}class cB extends c.Component{render(){return(0,xo.jsxs)("div",{children:[(0,xo.jsx)("button",{onClick:()=>this.props.resumeExploration(this.props.exploration),children:"resume exploration"}),(0,xo.jsx)(Ef,{onConfirm:()=>this.props.deleteExploration(this.props.exploration),children:"delete exploration"})]})}}class uB extends c.Component{render(){try{return(0,xo.jsxs)("div",{className:"card map",children:[(0,xo.jsx)("div",{className:"heading",children:(0,xo.jsx)("div",{className:"title",children:this.props.exploration.name||"unnamed exploration"})}),(0,xo.jsxs)("div",{className:"card-content",children:[(0,xo.jsx)("div",{className:"fixed-height",children:(0,xo.jsx)(my,{map:this.props.exploration.map,fog:this.props.exploration.fog,combatants:this.props.exploration.combatants})}),(0,xo.jsx)("hr",{}),(0,xo.jsx)(cB,{exploration:this.props.exploration,resumeExploration:e=>this.props.resumeExploration(e),deleteExploration:e=>this.props.deleteExploration(e)})]})]},this.props.exploration.id)}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"ExplorationCard",error:DB})}}}class dB extends c.Component{constructor(e){super(e),this.state={cloneName:e.map.name+" copy"}}setCloneName(e){this.setState({cloneName:e})}render(){try{let e=null,t=null;return 1===this.props.parties.length&&(e=(0,xo.jsx)("button",{onClick:()=>this.props.startEncounter(this.props.parties[0].id,this.props.map.id),children:"start combat"}),t=(0,xo.jsx)("button",{onClick:()=>this.props.startExploration(this.props.parties[0].id,this.props.map.id),children:"start exploration"})),this.props.parties.length>1&&(e=(0,xo.jsx)(Qf,{options:this.props.parties.map((e=>({id:e.id,text:e.name||"unnamed party"}))),placeholder:"start combat with...",onSelect:e=>this.props.startEncounter(e,this.props.map.id)}),t=(0,xo.jsx)(Qf,{options:this.props.parties.map((e=>({id:e.id,text:e.name||"unnamed party"}))),placeholder:"start exploration with...",onSelect:e=>this.props.startExploration(e,this.props.map.id)})),(0,xo.jsxs)("div",{children:[(0,xo.jsx)(kg,{text:"copy map",children:(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:(0,xo.jsx)(Bo,{text:this.state.cloneName,placeholder:"name of copy",onChange:e=>this.setCloneName(e)})}),(0,xo.jsx)("div",{className:"icons",children:(0,xo.jsx)(ux,{title:"create copy",className:""===this.state.cloneName?"disabled":"",onClick:()=>this.props.cloneMap(this.props.map,this.state.cloneName)})})]})}),e,t,(0,xo.jsx)(Ef,{onConfirm:()=>this.props.deleteMap(this.props.map),children:"delete map"})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"MapOptions",error:DB})}}}class hB extends c.Component{render(){try{return(0,xo.jsxs)("div",{className:"card map",children:[(0,xo.jsx)("div",{className:"heading",children:(0,xo.jsx)("div",{className:"title",children:this.props.map.name||"unnamed map"})}),(0,xo.jsxs)("div",{className:"card-content",children:[(0,xo.jsx)("div",{className:"fixed-height",children:(0,xo.jsx)(my,{map:this.props.map})}),(0,xo.jsx)("hr",{}),(0,xo.jsx)("button",{onClick:()=>this.props.openMap(this.props.map),children:"open map"}),(0,xo.jsx)(kg,{text:"more options",children:(0,xo.jsx)(dB,{map:this.props.map,parties:this.props.parties,cloneMap:(e,t)=>this.props.cloneMap(e,t),startEncounter:(e,t)=>this.props.startEncounter(e,t),startExploration:(e,t)=>this.props.startExploration(e,t),deleteMap:e=>this.props.deleteMap(e)})})]})]},this.props.map.id)}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"MapCard",error:DB})}}}class pB extends c.Component{render(){return(0,xo.jsxs)("div",{children:[(0,xo.jsx)("button",{onClick:()=>this.props.addMap(),children:"add a new map"}),(0,xo.jsx)("button",{onClick:()=>this.props.importMap(),children:"import a map image"}),(0,xo.jsx)("button",{onClick:()=>this.props.generateMap(),children:"generate a random map"})]})}}class mB extends c.Component{render(){try{const e=this.props.explorations;ro.sort(e);const t=e.map((e=>(0,xo.jsx)(uB,{exploration:e,resumeExploration:e=>this.props.resumeExploration(e),deleteExploration:e=>this.props.deleteExploration(e)},e.id))),n=this.props.maps;ro.sort(n);const r=n.map((e=>(0,xo.jsx)(hB,{map:e,parties:this.props.parties,openMap:e=>this.props.openMap(e),cloneMap:(e,t)=>this.props.cloneMap(e,t),deleteMap:e=>this.props.deleteMap(e),startEncounter:(e,t)=>this.props.startEncounter(e,t),startExploration:(e,t)=>this.props.startExploration(e,t)},e.id)));return(0,xo.jsxs)(Os,{className:"full-height",children:[(0,xo.jsxs)(zs,{span:6,className:"scrollable sidebar sidebar-left",children:[(0,xo.jsxs)(Uf,{children:[(0,xo.jsx)("div",{className:"section",children:"on this page you can set up tactical maps"}),(0,xo.jsx)("div",{className:"section",children:"when you have created a map you can explore it with a party of pcs, or use it in the combat manager"}),(0,xo.jsx)("hr",{}),(0,xo.jsx)("div",{className:"section",children:"on the right you will see the maps you have created"}),(0,xo.jsxs)("div",{className:"section",children:["press a map's ",(0,xo.jsx)("b",{children:"open map"})," button to modify it"]}),(0,xo.jsx)("hr",{}),(0,xo.jsxs)("div",{className:"section",children:["to design a new map, press the ",(0,xo.jsx)("b",{children:"add a new map"})," button"]})]}),(0,xo.jsx)(pB,{addMap:()=>this.props.addMap(),importMap:()=>this.props.importMap(),generateMap:()=>this.props.generateMap()})]}),(0,xo.jsxs)(zs,{span:18,className:"scrollable",children:[(0,xo.jsx)(jy,{heading:"in progress",content:t}),(0,xo.jsx)(jy,{heading:"maps",content:r})]})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"MapListScreen",error:DB})}}}const fB=["default","cavern","dirt","flagstone","floorboard","grassland","pit","sand","snow","water","custom","link"];class gB extends c.Component{constructor(e){super(e),this.state={sidebarView:"tiles",lighting:"bright light",selectedTileID:null,selectedWallID:null,selectedAreaID:null,addingTile:!1,addingWall:!1,addingArea:!1,addingLightSource:!1}}setSidebarView(e){this.setState({sidebarView:e})}setLighting(e){this.setState({lighting:e})}setSelectedTileID(e){this.setState({selectedTileID:e,selectedWallID:null,selectedAreaID:null})}setSelectedWallID(e){this.setState({selectedTileID:null,selectedWallID:e,selectedAreaID:null})}setSelectedAreaID(e){this.setState({selectedTileID:null,selectedWallID:null,selectedAreaID:e})}toggleAddingTile(){this.setState({addingTile:!this.state.addingTile,addingWall:!1,addingArea:!1,addingLightSource:!1})}toggleAddingWall(){this.setState({addingTile:!1,addingWall:!this.state.addingWall,addingArea:!1,addingLightSource:!1})}toggleAddingArea(){this.setState({addingTile:!1,addingWall:!1,addingArea:!this.state.addingArea,addingLightSource:!1})}toggleAddingLightSource(){this.setState({addingTile:!1,addingWall:!1,addingArea:!1,addingLightSource:!this.state.addingLightSource})}gridSquareClicked(e,t){this.state.addingLightSource&&this.setState({addingLightSource:!1},(()=>{const n=so.createMapLightSource();n.x=e,n.y=t,this.props.addMapLightSource(this.props.map,n)}))}rectangleSelected(e,t,n,r){if(this.state.addingTile){const s=so.createMapItem();s.x=e,s.y=t,s.width=n-e+1,s.height=r-t+1,s.terrain="default",this.setState({selectedTileID:s.id,addingTile:!1},(()=>{this.props.addMapTile(this.props.map,s)}))}if(this.state.addingArea){const s=so.createMapArea();s.x=e,s.y=t,s.width=n-e+1,s.height=r-t+1,this.setState({selectedAreaID:s.id,addingArea:!1},(()=>{this.props.addMapArea(this.props.map,s)}))}}verticesSelected(e,t,n,r){if(this.state.addingWall){const s=so.createMapWall();s.pointA={x:e,y:t,z:0},s.pointB={x:n,y:r,z:0},this.setState({selectedWallID:s.id,addingWall:!1},(()=>{this.props.addMapWall(this.props.map,s)}))}}render(){try{let e=null;if(this.state.selectedTileID){const t=this.props.map.items.find((e=>e.id===this.state.selectedTileID));t&&(e=(0,xo.jsxs)("div",{children:[(0,xo.jsx)(vB,{tile:t,toggleImageSelection:()=>this.props.selectMapTileImage(this.props.map,t),changeValue:(e,t,n)=>this.props.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.props.nudgeValue(e,t,n),moveMapTile:(e,t,n)=>this.props.moveMapTile(this.props.map,e,t,n),cloneMapTile:e=>this.props.cloneMapTile(this.props.map,e),deleteMapTile:e=>this.props.deleteMapTile(this.props.map,e),rotateMapTile:e=>this.props.rotateMapTile(this.props.map,e),sendToBack:e=>this.props.sendToBack(this.props.map,e),bringToFront:e=>this.props.bringToFront(this.props.map,e)}),(0,xo.jsx)("hr",{}),(0,xo.jsxs)("button",{onClick:()=>this.setSelectedTileID(null),children:[(0,xo.jsx)(No,{style:{fontSize:"10px"}})," back to the editor"]})]}))}if(this.state.selectedWallID){const t=this.props.map.walls.find((e=>e.id===this.state.selectedWallID));t&&(e=(0,xo.jsxs)("div",{children:[(0,xo.jsx)(yB,{wall:t,changeValue:(e,t,n)=>this.props.changeValue(e,t,n),nudgeWallLength:(e,t)=>this.props.nudgeWallLength(this.props.map,e,t),moveMapWall:(e,t,n)=>this.props.moveMapWall(this.props.map,e,t,n),deleteMapWall:e=>this.props.deleteMapWall(this.props.map,e)}),(0,xo.jsx)("hr",{}),(0,xo.jsxs)("button",{onClick:()=>this.setSelectedTileID(null),children:[(0,xo.jsx)(No,{style:{fontSize:"10px"}})," back to the editor"]})]}))}e||(e=(0,xo.jsxs)("div",{children:[(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("div",{className:"subheading",children:"map name"}),(0,xo.jsx)(Bo,{text:this.props.map.name,placeholder:"map name",onChange:e=>this.props.changeValue(this.props.map,"name",e)})]}),(0,xo.jsx)("hr",{}),(0,xo.jsx)(Dg,{options:ro.arrayToItems(["tiles","walls","areas"]),selectedID:this.state.sidebarView,onSelect:e=>this.setSidebarView(e)}),(0,xo.jsx)(eg,{display:"tiles"===this.state.sidebarView,children:(0,xo.jsxs)(Sg,{transparent:!0,children:[(0,xo.jsx)(eg,{display:0===this.props.map.items.length,children:(0,xo.jsxs)(Uf,{children:[(0,xo.jsx)("div",{className:"section",children:"maps are made out of map tiles, arranged together"}),(0,xo.jsxs)("div",{className:"section",children:["to add a new tile to the map, click on ",(0,xo.jsx)("b",{children:"add a map tile"})," below"]}),(0,xo.jsx)("div",{className:"section",children:"to edit an existing tile, click on it to select it"})]})}),(0,xo.jsx)("button",{onClick:()=>this.toggleAddingTile(),children:this.state.addingTile?"click and drag on the map to select a rectangle, or click here to cancel":"add a map tile"}),(0,xo.jsx)(Ef,{onConfirm:()=>this.props.clearMapTiles(this.props.map),children:"clear all tiles"})]})}),(0,xo.jsx)(eg,{display:"walls"===this.state.sidebarView,children:(0,xo.jsxs)(Sg,{transparent:!0,children:[(0,xo.jsx)(eg,{display:0===this.props.map.walls.length,children:(0,xo.jsxs)(Uf,{children:[(0,xo.jsx)("div",{className:"section",children:"tiles usually need walls around them"}),(0,xo.jsxs)("div",{className:"section",children:["to add a new wall to the map, click on ",(0,xo.jsx)("b",{children:"add a wall"})," below"]}),(0,xo.jsx)("div",{className:"section",children:"to edit an existing wall, click on it to select it"})]})}),(0,xo.jsx)("button",{onClick:()=>this.toggleAddingWall(),children:this.state.addingWall?"click and drag a corner circle on the map, or click here to cancel":"add a wall"}),(0,xo.jsx)(eg,{display:0===this.props.map.walls.length,children:(0,xo.jsx)("button",{onClick:()=>this.props.fillInMapWalls(this.props.map),children:"add walls around tiles"})}),(0,xo.jsx)(Ef,{onConfirm:()=>this.props.clearMapWalls(this.props.map),children:"clear all walls"})]})}),(0,xo.jsx)(eg,{display:"areas"===this.state.sidebarView,children:(0,xo.jsxs)(Sg,{transparent:!0,children:[(0,xo.jsx)(eg,{display:0===this.props.map.areas.length,children:(0,xo.jsxs)(Uf,{children:[(0,xo.jsx)("div",{className:"section",children:"if your map is large, you might want to designate different areas (such as rooms in a dungeon, or floors of a building)"}),(0,xo.jsxs)("div",{className:"section",children:["to add a new area to the map, click on ",(0,xo.jsx)("b",{children:"add a map area"})," below"]}),(0,xo.jsx)("div",{className:"section",children:"to edit an existing area, click on it to select it"})]})}),this.props.map.areas.map((e=>(0,xo.jsx)("div",{onMouseEnter:()=>this.setSelectedAreaID(e.id),onMouseLeave:()=>this.setSelectedAreaID(null),children:(0,xo.jsx)(kg,{text:e.name||"unnamed area",children:(0,xo.jsx)(wB,{area:e,changeValue:(e,t,n)=>this.props.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.props.nudgeValue(e,t,n),moveMapArea:(e,t,n)=>this.props.moveMapArea(this.props.map,e,t,n),deleteMapArea:e=>this.props.deleteMapArea(this.props.map,e)})})},e.id))),(0,xo.jsx)("hr",{}),(0,xo.jsx)("button",{onClick:()=>this.toggleAddingArea(),children:this.state.addingArea?"click and drag on the map to create a map area, or click here to cancel":"add a map area"}),(0,xo.jsx)(Ef,{onConfirm:()=>this.props.clearMapAreas(this.props.map),children:"clear all areas"})]})}),(0,xo.jsx)("hr",{}),(0,xo.jsx)("button",{onClick:()=>this.props.rotateMap(this.props.map),children:"rotate the map"}),(0,xo.jsx)("button",{onClick:()=>this.props.generateRoom(this.props.map),children:"add a random room"}),(0,xo.jsx)("button",{onClick:()=>yo.takeScreenshot(this.props.map.id),children:"export map image"}),(0,xo.jsx)(dB,{map:this.props.map,parties:this.props.parties,cloneMap:(e,t)=>this.props.cloneMap(e,t),startEncounter:(e,t)=>this.props.startEncounter(e,t,this.state.lighting),startExploration:(e,t)=>this.props.startExploration(e,t,this.state.lighting),deleteMap:e=>this.props.deleteMap(e)}),(0,xo.jsx)("hr",{}),(0,xo.jsxs)("button",{onClick:()=>this.props.goBack(),children:[(0,xo.jsx)(No,{style:{fontSize:"10px"}})," back to the list"]})]}));const t=[];return this.state.selectedTileID&&t.push(this.state.selectedTileID),this.state.selectedWallID&&t.push(this.state.selectedWallID),this.state.selectedAreaID&&t.push(this.state.selectedAreaID),(0,xo.jsxs)(Os,{className:"full-height",children:[(0,xo.jsx)(zs,{span:6,className:"scrollable sidebar sidebar-left",children:e}),(0,xo.jsx)(zs,{span:18,className:"scrollable both-ways",children:(0,xo.jsx)(my,{map:this.props.map,mode:"edit",features:{highlight:!1,editFog:!1,lightSource:this.state.addingLightSource},paddingSquares:this.state.addingTile?5:0,selectedItemIDs:t,showGrid:this.state.addingTile||this.state.addingArea||this.state.addingLightSource,showWallVertices:this.state.addingWall,showAreaNames:!0,lighting:this.state.lighting,itemSelected:e=>this.setSelectedTileID(e),wallSelected:e=>this.setSelectedWallID(e),areaSelected:e=>this.setSelectedAreaID(e),gridSquareClicked:(e,t)=>this.gridSquareClicked(e,t),gridRectangleSelected:(e,t,n,r)=>this.rectangleSelected(e,t,n,r),verticesSelected:(e,t,n,r)=>this.verticesSelected(e,t,n,r),changeLighting:e=>this.setLighting(e),changeLightSource:(e,t,n,r)=>this.props.changeLightSource(e,t,n,r),removeLightSource:e=>this.props.deleteMapLightSource(this.props.map,e),toggleFeature:e=>{if("lightSource"===e)this.toggleAddingLightSource()},changeValue:(e,t,n)=>this.props.changeValue(e,t,n)})})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"MapScreen",error:DB})}}}class vB extends c.Component{render(){try{let e=null;return"custom"===this.props.tile.terrain&&(e=(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"subheading",children:"custom image"}),(0,xo.jsx)("button",{onClick:()=>this.props.toggleImageSelection(),children:"select image"}),(0,xo.jsx)("button",{onClick:()=>this.props.changeValue(this.props.tile,"customBackground",""),children:"clear image"})]})),"link"===this.props.tile.terrain&&(e=(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"subheading",children:"link to custom image"}),(0,xo.jsx)(Bo,{text:this.props.tile.customLink,placeholder:"https://...",onChange:e=>this.props.changeValue(this.props.tile,"customLink",e)})]})),(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"heading",children:(0,xo.jsx)("div",{className:"title",children:"map tile"})}),(0,xo.jsxs)("div",{children:[(0,xo.jsx)(dy,{onMove:(e,t)=>this.props.moveMapTile(this.props.tile,e,t)}),(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("div",{className:"subheading",children:"size"}),(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)(Ug,{value:this.props.tile.width+" sq / "+5*this.props.tile.width+" ft",label:"width",downEnabled:this.props.tile.width>1,onNudgeValue:e=>this.props.nudgeValue(this.props.tile,"width",e)}),(0,xo.jsx)(Ug,{value:this.props.tile.height+" sq / "+5*this.props.tile.height+" ft",label:"height",downEnabled:this.props.tile.height>1,onNudgeValue:e=>this.props.nudgeValue(this.props.tile,"height",e)})]})]}),(0,xo.jsx)("hr",{}),(0,xo.jsxs)(kg,{text:"advanced options",children:[(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("div",{className:"subheading",children:"terrain"}),(0,xo.jsx)(Ng,{options:ro.arrayToItems(fB),selectedID:this.props.tile.terrain,itemsPerRow:3,onSelect:e=>this.props.changeValue(this.props.tile,"terrain",e)}),e]}),(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("div",{className:"subheading",children:"shape"}),(0,xo.jsx)(Ng,{options:ro.arrayToItems(["square","rounded","circle"]),selectedID:this.props.tile.style,onSelect:e=>this.props.changeValue(this.props.tile,"style",e)})]}),(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("div",{className:"subheading",children:"content"}),(0,xo.jsx)(zv,{items:[{id:"none",text:"none"},{id:"stairway",text:"stairway",details:(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{children:(0,xo.jsx)("b",{children:"style"})}),(0,xo.jsx)(Ng,{options:ro.arrayToItems(["stairs","spiral","ladder"]),selectedID:this.props.tile.content?this.props.tile.content.style:null,onSelect:e=>this.props.changeValue(this.props.tile.content,"style",e)}),(0,xo.jsx)("div",{children:(0,xo.jsx)("b",{children:"orientation"})}),(0,xo.jsx)(Ng,{options:ro.arrayToItems(["horizontal","vertical"]),selectedID:this.props.tile.content?this.props.tile.content.orientation:null,onSelect:e=>this.props.changeValue(this.props.tile.content,"orientation",e)})]})}],selectedItemID:this.props.tile.content?this.props.tile.content.type:"none",onSelect:e=>{let t=null;if("none"!==e){let n="";if("stairway"===e)n="stairs";t={type:e,orientation:"horizontal",style:n}}this.props.changeValue(this.props.tile,"content",t)}})]}),(0,xo.jsx)("hr",{}),(0,xo.jsx)("button",{onClick:()=>this.props.bringToFront(this.props.tile),children:"bring to front"}),(0,xo.jsx)("button",{onClick:()=>this.props.sendToBack(this.props.tile),children:"send to back"}),(0,xo.jsx)("hr",{}),(0,xo.jsx)("button",{onClick:()=>this.props.rotateMapTile(this.props.tile),children:"rotate tile"}),(0,xo.jsx)("button",{onClick:()=>this.props.cloneMapTile(this.props.tile),children:"copy tile"})]}),(0,xo.jsx)("hr",{}),(0,xo.jsx)(Ef,{onConfirm:()=>this.props.deleteMapTile(this.props.tile),children:"delete tile"})]})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"MapTilePanel",error:DB})}}}class yB extends c.Component{render(){try{const e=wo.getWallLength(this.props.wall);return(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"heading",children:(0,xo.jsx)("div",{className:"title",children:"map wall"})}),(0,xo.jsxs)("div",{children:[(0,xo.jsx)(dy,{onMove:(e,t)=>this.props.moveMapWall(this.props.wall,e,t)}),(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("div",{className:"subheading",children:"size"}),(0,xo.jsx)("div",{className:"section",children:(0,xo.jsx)(Ug,{value:e+" sq / "+5*e+" ft",label:"length",downEnabled:e>1,onNudgeValue:e=>this.props.nudgeWallLength(this.props.wall,e)})}),(0,xo.jsx)("div",{className:"subheading",children:"details"}),(0,xo.jsx)(ig,{label:"this is a doorway",checked:"wall"!==this.props.wall.display,onChecked:e=>this.props.changeValue(this.props.wall,"display",e?"door":"wall")}),(0,xo.jsx)(eg,{display:"wall"===this.props.wall.display,children:(0,xo.jsx)(ig,{label:"blocks movement",checked:this.props.wall.blocksMovement,onChecked:e=>this.props.changeValue(this.props.wall,"blocksMovement",e)})}),(0,xo.jsxs)(eg,{display:"wall"!==this.props.wall.display,children:[(0,xo.jsx)(Ng,{options:ro.arrayToItems(["door","double-door","bars"]),selectedID:this.props.wall.display,onSelect:e=>this.props.changeValue(this.props.wall,"display",e)}),(0,xo.jsx)(Ng,{options:ro.arrayToItems(["open","closed"]),selectedID:this.props.wall.blocksMovement?"closed":"open",onSelect:e=>this.props.changeValue(this.props.wall,"blocksMovement","closed"===e)}),(0,xo.jsx)(ig,{label:"blocks line-of-sight",checked:this.props.wall.blocksLineOfSight,onChecked:e=>this.props.changeValue(this.props.wall,"blocksLineOfSight",e)}),(0,xo.jsx)(ig,{label:"concealed",checked:this.props.wall.isConcealed,onChecked:e=>this.props.changeValue(this.props.wall,"isConcealed",e)})]})]}),(0,xo.jsx)("hr",{}),(0,xo.jsx)(Ef,{onConfirm:()=>this.props.deleteMapWall(this.props.wall),children:"delete wall"})]})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"MapTilePanel",error:DB})}}}class wB extends c.Component{randomName(){const e=lo.capitalise(lo.generateRoomName());this.props.changeValue(this.props.area,"name",e)}render(){try{return(0,xo.jsxs)("div",{children:[(0,xo.jsx)("div",{className:"subheading",children:"name"}),(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:(0,xo.jsx)(Bo,{text:this.props.area.name,onChange:e=>this.props.changeValue(this.props.area,"name",e)})}),(0,xo.jsx)("div",{className:"icons",children:(0,xo.jsx)(Qo,{onClick:()=>this.randomName(),title:"generate a random name"})})]}),(0,xo.jsx)("div",{className:"subheading",children:"move"}),(0,xo.jsx)(dy,{onMove:(e,t)=>this.props.moveMapArea(this.props.area,e,t)}),(0,xo.jsx)("div",{className:"subheading",children:"size"}),(0,xo.jsx)(Ug,{value:this.props.area.width+" sq / "+5*this.props.area.width+" ft",label:"width",downEnabled:this.props.area.width>1,onNudgeValue:e=>this.props.nudgeValue(this.props.area,"width",e)}),(0,xo.jsx)(Ug,{value:this.props.area.height+" sq  /"+5*this.props.area.width+" ft",label:"height",downEnabled:this.props.area.height>1,onNudgeValue:e=>this.props.nudgeValue(this.props.area,"height",e)}),(0,xo.jsx)("hr",{}),(0,xo.jsxs)(kg,{text:"notes",children:[(0,xo.jsx)($f,{text:this.props.area.text,onChange:e=>this.props.changeValue(this.props.area,"text",e)}),(0,xo.jsx)("button",{onClick:()=>{const e=lo.generateRoomDescription();this.props.changeValue(this.props.area,"text",e)},children:"set a random description"})]}),(0,xo.jsx)("hr",{}),(0,xo.jsx)(Ef,{onConfirm:()=>this.props.deleteMapArea(this.props.area),children:"delete area"})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"MapAreaPanel",error:DB})}}}class bB extends c.Component{render(){try{return(0,xo.jsxs)("div",{children:[(0,xo.jsx)("button",{onClick:()=>this.props.addMonster(),children:"add a new monster"}),(0,xo.jsx)("button",{onClick:()=>this.props.importMonster(),children:"import a monster"}),(0,xo.jsx)("button",{onClick:()=>this.props.generateMonster(),children:"generate a random monster"}),(0,xo.jsx)("button",{onClick:()=>this.props.openDemographics(this.props.monsterGroup),children:"show demographics"}),(0,xo.jsx)("button",{onClick:()=>this.props.createEncounter(this.props.monsterGroup.monsters.map((e=>e.id))),children:"create an encounter"}),(0,xo.jsx)(Ef,{disabled:this.props.monsterGroup.monsters.some((e=>this.props.encounters.some((t=>io.encounterHasMonster(t,e.id))))),onConfirm:()=>this.props.deleteMonsterGroup(this.props.monsterGroup),children:"delete group"})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"MonsterGroupOptions",error:DB})}}}class xB extends c.Component{getMonsters(){return 0===this.props.group.monsters.length?(0,xo.jsx)("div",{className:"section",children:"no monsters"}):this.props.group.monsters.map((e=>(0,xo.jsx)(Sg,{transparent:!0,onClick:()=>this.props.openStatBlock(e),children:(0,xo.jsxs)("div",{className:"content-then-info",children:[(0,xo.jsxs)("div",{className:"content",children:[(0,xo.jsx)(vd,{source:e,inline:!0}),e.name||"unnamed monster"]}),(0,xo.jsxs)("div",{className:"info",children:["cr ",oo.challenge(e.challenge)]})]})},e.id)))}render(){try{return(0,xo.jsxs)("div",{className:"card monster",children:[(0,xo.jsx)("div",{className:"heading",children:(0,xo.jsx)("div",{className:"title",children:this.props.group.name||"unnamed group"})}),(0,xo.jsxs)("div",{className:"card-content",children:[(0,xo.jsx)("div",{className:"fixed-height",children:this.getMonsters()}),(0,xo.jsx)("hr",{}),(0,xo.jsx)("button",{onClick:()=>this.props.openMonsterGroup(this.props.group),children:"open group"}),(0,xo.jsx)(kg,{text:"more options",children:(0,xo.jsx)(bB,{monsterGroup:this.props.group,library:this.props.library,encounters:this.props.encounters,addMonster:()=>this.props.addMonster(),importMonster:()=>this.props.importMonster(),generateMonster:()=>this.props.generateMonster(),openDemographics:e=>this.props.openDemographics(e),createEncounter:e=>this.props.createEncounter(e),deleteMonsterGroup:e=>this.props.deleteMonsterGroup(e)})})]})]},this.props.group.id)}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"MonsterGroupCard",error:DB})}}}class BB extends c.Component{render(){return(0,xo.jsxs)("div",{children:[(0,xo.jsx)("button",{onClick:()=>this.props.addMonsterGroup(),children:"add a new monster group"}),(0,xo.jsx)("button",{onClick:()=>this.props.openDemographics(),children:"show demographics"})]})}}class CB extends c.Component{render(){try{if(!this.props.hasMonsters)return(0,xo.jsx)(Os,{align:"middle",justify:"center",className:"scrollable",children:(0,xo.jsx)("div",{style:{width:"400px"},children:(0,xo.jsxs)(Uf,{children:[(0,xo.jsxs)("div",{className:"section",children:["to kickstart your monster collection, let's import all the monsters from the ",(0,xo.jsx)("a",{href:"https://dnd.wizards.com/articles/features/systems-reference-document-srd",target:"_blank",rel:"noopener noreferrer",children:"d&d system reference document"})]}),(0,xo.jsx)("hr",{}),(0,xo.jsx)("button",{onClick:()=>this.props.addOpenGameContent(),children:"import monsters"})]})})});const e=this.props.library;ro.sort(e);const t=e.map((e=>(0,xo.jsx)(xB,{group:e,library:this.props.library,encounters:this.props.encounters,openMonsterGroup:e=>this.props.openMonsterGroup(e),addMonster:()=>this.props.addMonster(),importMonster:()=>this.props.importMonster(),generateMonster:()=>this.props.generateMonster(),openDemographics:e=>this.props.openDemographics(e),deleteMonsterGroup:e=>this.props.deleteMonsterGroup(e),openStatBlock:e=>this.props.openStatBlock(e),createEncounter:e=>this.props.createEncounter(e)},e.id)));return(0,xo.jsxs)(Os,{className:"full-height",children:[(0,xo.jsxs)(zs,{span:6,className:"scrollable sidebar sidebar-left",children:[(0,xo.jsxs)(Uf,{children:[(0,xo.jsx)("div",{className:"section",children:"you can maintain your menagerie of monsters here"}),(0,xo.jsx)("div",{className:"section",children:"you can then use these monsters to design combat encounters in the encounter builder"}),(0,xo.jsx)("hr",{}),(0,xo.jsx)("div",{className:"section",children:"on the right you will see your monster groups"}),(0,xo.jsx)("div",{className:"section",children:"select a monster group from the list to see stat blocks for monsters in that group"}),(0,xo.jsxs)("div",{className:"section",children:["press a group's ",(0,xo.jsx)("b",{children:"open group"})," button to see monster details"]}),(0,xo.jsx)("hr",{}),(0,xo.jsxs)("div",{className:"section",children:["to start adding monsters, press the ",(0,xo.jsx)("b",{children:"add a new monster group"})," button"]})]}),(0,xo.jsx)(BB,{addMonsterGroup:()=>this.props.addMonsterGroup(),openDemographics:()=>this.props.openDemographics(null)})]}),(0,xo.jsx)(zs,{span:18,className:"scrollable",children:(0,xo.jsx)(jy,{heading:"monster groups",content:t})})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"MonsterGroupListScreen",error:DB})}}}class kB extends c.Component{constructor(e){super(e),this.state={cloneName:e.monster.name+" copy"}}setCloneName(e){this.setState({cloneName:e})}render(){try{const e=[];return this.props.library.forEach((t=>{-1===t.monsters.indexOf(this.props.monster)&&e.push({id:t.id,text:t.name||"unnamed group"})})),(0,xo.jsxs)("div",{children:[(0,xo.jsx)("button",{onClick:()=>this.props.viewMonster(this.props.monster),children:"statblock"}),(0,xo.jsx)("button",{onClick:()=>this.props.editMonster(this.props.monster),children:"edit monster"}),(0,xo.jsx)(kg,{text:"copy monster",children:(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:(0,xo.jsx)(Bo,{text:this.state.cloneName,placeholder:"name of copy",onChange:e=>this.setCloneName(e)})}),(0,xo.jsx)("div",{className:"icons",children:(0,xo.jsx)(ux,{title:"create copy",className:""===this.state.cloneName?"disabled":"",onClick:()=>this.props.cloneMonster(this.props.monster,this.state.cloneName)})})]})}),(0,xo.jsx)(Qf,{options:e,placeholder:"move to group...",onSelect:e=>this.props.moveToGroup(this.props.monster,e)}),(0,xo.jsx)("button",{onClick:()=>this.props.createEncounter(this.props.monster.id),children:"create an encounter"}),(0,xo.jsx)(Ef,{disabled:this.props.encounters.some((e=>io.encounterHasMonster(e,this.props.monster.id))),onConfirm:()=>this.props.deleteMonster(this.props.monster),children:"delete monster"})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"MonsterOptions",error:DB})}}}class SB extends c.Component{getTags(){const e=[];let t=(this.props.monster.size+" "+this.props.monster.category).toLowerCase();return this.props.monster.tag&&(t+=" ("+this.props.monster.tag.toLowerCase()+")"),e.push((0,xo.jsx)(Qc,{children:t},"tag-main")),this.props.monster.alignment&&e.push((0,xo.jsx)(Qc,{children:this.props.monster.alignment.toLowerCase()},"tag-align")),e}render(){try{const e=this.props.monster.name||"unnamed monster";return(0,xo.jsxs)("div",{className:"card monster",children:[(0,xo.jsx)("div",{className:"heading",children:(0,xo.jsx)("div",{className:"title",title:e,children:e})}),(0,xo.jsxs)("div",{className:"card-content",children:[(0,xo.jsx)(vd,{source:this.props.monster}),(0,xo.jsx)("div",{className:"section centered",children:this.getTags()}),(0,xo.jsx)("hr",{}),(0,xo.jsx)(kB,{monster:this.props.monster,library:this.props.library,encounters:this.props.encounters,viewMonster:e=>this.props.viewMonster(e),editMonster:e=>this.props.editMonster(e),deleteMonster:e=>this.props.deleteMonster(e),cloneMonster:(e,t)=>this.props.cloneMonster(e,t),moveToGroup:(e,t)=>this.props.moveToGroup(e,t),createEncounter:e=>this.props.createEncounter(e)})]})]},this.props.monster.id)}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"MonsterCard",error:DB})}}}class EB extends c.Component{getSummary(){if(0===this.props.monsterGroup.monsters.length)return(0,xo.jsx)("div",{className:"section centered",children:(0,xo.jsx)("i",{children:"no monsters"})});const e={min:30,max:0};this.props.monsterGroup.monsters.forEach((t=>{e.min=Math.min(e.min,t.challenge),e.max=Math.max(e.max,t.challenge)}));const t=e.min===e.max?oo.challenge(e.min):oo.challenge(e.min)+" - "+oo.challenge(e.max);return(0,xo.jsxs)(Os,{gutter:10,children:[(0,xo.jsx)(zs,{span:12,children:(0,xo.jsx)(Mc,{label:"monsters",value:this.props.monsterGroup.monsters.length})}),(0,xo.jsx)(zs,{span:12,children:(0,xo.jsx)(Mc,{label:"challenge rating",value:t})})]})}render(){try{const e=[];return 0!==this.props.monsterGroup.monsters.length?this.props.monsterGroup.monsters.forEach((t=>{e.push((0,xo.jsx)(SB,{monster:t,library:this.props.library,encounters:this.props.encounters,moveToGroup:(e,t)=>this.props.moveToGroup(e,t),deleteMonster:e=>this.props.deleteMonster(e),viewMonster:e=>this.props.viewMonster(e),editMonster:e=>this.props.editMonster(e),cloneMonster:(e,t)=>this.props.cloneMonster(e,t),createEncounter:e=>this.props.createEncounter([e])}))})):e.push((0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"there are no monsters in this group"})})),(0,xo.jsxs)(Os,{className:"full-height",children:[(0,xo.jsxs)(zs,{span:6,className:"scrollable sidebar sidebar-left",children:[(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("div",{className:"subheading",children:"monster group name"}),(0,xo.jsx)(Bo,{text:this.props.monsterGroup.name,placeholder:"monster group name",onChange:e=>this.props.changeValue(this.props.monsterGroup,"name",e)})]}),(0,xo.jsx)("hr",{}),this.getSummary(),(0,xo.jsx)("hr",{}),(0,xo.jsx)(bB,{monsterGroup:this.props.monsterGroup,library:this.props.library,encounters:this.props.encounters,addMonster:()=>this.props.addMonster(),importMonster:()=>this.props.importMonster(),generateMonster:()=>this.props.generateMonster(),openDemographics:e=>this.props.openDemographics(e),createEncounter:e=>this.props.createEncounter(e),deleteMonsterGroup:e=>this.props.deleteMonsterGroup(e)}),(0,xo.jsx)("hr",{}),(0,xo.jsxs)("button",{onClick:()=>this.props.goBack(),children:[(0,xo.jsx)(No,{style:{fontSize:"10px"}})," back to the list"]})]}),(0,xo.jsx)(zs,{span:18,className:"scrollable",children:(0,xo.jsx)(jy,{content:e,heading:this.props.monsterGroup.name||"unnamed group"})})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"MonsterGroupScreen",error:DB})}}}class jB extends c.Component{render(){try{const e=this.props.party.pcs.filter((e=>e.active));let t=null;1===this.props.encounters.length&&(t=(0,xo.jsx)("button",{onClick:()=>this.props.startEncounter(this.props.party.id,this.props.encounters[0].id),children:"start combat"})),this.props.encounters.length>1&&(t=(0,xo.jsx)(Qf,{options:this.props.encounters.map((e=>({id:e.id,text:e.name||"unnamed encounter"}))),placeholder:"start combat...",onSelect:e=>this.props.startEncounter(this.props.party.id,e)}));let n=null;1===this.props.maps.length&&(n=(0,xo.jsx)("button",{onClick:()=>this.props.startExploration(this.props.party.id,this.props.maps[0].id),children:"start exploration"})),this.props.maps.length>1&&(n=(0,xo.jsx)(Qf,{options:this.props.maps.map((e=>({id:e.id,text:e.name||"unnamed map"}))),placeholder:"start exploration...",onSelect:e=>this.props.startExploration(this.props.party.id,e)}));let r=null;this.props.party.pcs.length>0&&(r=(0,xo.jsx)("button",{onClick:()=>this.props.createEncounter(this.props.party.id),children:"create a random encounter"}));let s=null;if(this.props.party.pcs.length>0){const t=Math.round(e.reduce(((e,t)=>e+t.level),0)/e.length);s=(0,xo.jsxs)("button",{onClick:()=>this.props.setLevel(this.props.party,t+1),children:["level up to ",t+1]})}return(0,xo.jsxs)("div",{children:[(0,xo.jsx)("button",{onClick:()=>this.props.addPC(),children:"add a new pc"}),(0,xo.jsx)("button",{onClick:()=>this.props.importPC(),children:"import a pc"}),t,n,r,s,(0,xo.jsx)(Ef,{onConfirm:()=>this.props.deleteParty(this.props.party),children:"delete party"})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"PartyOptions",error:DB})}}}class FB extends c.Component{getText(e){let t=e.name||"unnamed pc";return e.player&&(t+=" ("+e.player+")"),t}getPCs(){return 0===this.props.party.pcs.length?(0,xo.jsx)("div",{className:"section",children:"no pcs"}):this.props.party.pcs.map((e=>(0,xo.jsx)(Sg,{transparent:!0,onClick:()=>this.props.openStatBlock(e),children:(0,xo.jsxs)("div",{className:"content-then-info",children:[(0,xo.jsxs)("div",{className:e.active?"content":"content strikethrough",children:[(0,xo.jsx)(vd,{source:e,inline:!0}),this.getText(e)]}),(0,xo.jsxs)("div",{className:"info",children:["lvl ",e.level]})]})},e.id)))}render(){try{return(0,xo.jsxs)("div",{className:"card pc",children:[(0,xo.jsx)("div",{className:"heading",children:(0,xo.jsx)("div",{className:"title",children:this.props.party.name||"unnamed party"})}),(0,xo.jsxs)("div",{className:"card-content",children:[(0,xo.jsx)("div",{className:"fixed-height",children:this.getPCs()}),(0,xo.jsx)("hr",{}),(0,xo.jsx)("button",{onClick:()=>this.props.openParty(this.props.party),children:"open party"}),(0,xo.jsx)(kg,{text:"more options",children:(0,xo.jsx)(jB,{party:this.props.party,encounters:this.props.encounters,maps:this.props.maps,addPC:()=>this.props.addPC(),importPC:()=>this.props.importPC(),createEncounter:e=>this.props.createEncounter(e),startEncounter:(e,t)=>this.props.startEncounter(e,t),startExploration:(e,t)=>this.props.startExploration(e,t),setLevel:(e,t)=>this.props.setLevel(e,t),deleteParty:e=>this.props.deleteParty(e)})})]})]},this.props.party.id)}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"PartyCard",error:DB})}}}class IB extends c.Component{render(){return(0,xo.jsxs)("div",{children:[(0,xo.jsx)("button",{onClick:()=>this.props.addParty(),children:"add a new party"}),(0,xo.jsx)("button",{onClick:()=>this.props.importParty(),children:"import a party"})]})}}class QB extends c.Component{componentDidUpdate(){}render(){try{const e=this.props.parties;ro.sort(e);const t=e.map((e=>(0,xo.jsx)(FB,{party:e,encounters:this.props.encounters,maps:this.props.maps,openParty:e=>this.props.openParty(e),addPC:()=>this.props.addPC(),importPC:()=>this.props.importPC(),createEncounter:e=>this.props.createEncounter(e),startEncounter:(e,t)=>this.props.startEncounter(e,t),startExploration:(e,t)=>this.props.startExploration(e,t),setLevel:(e,t)=>this.props.setLevel(e,t),openStatBlock:e=>this.props.openStatBlock(e),deleteParty:e=>this.props.deleteParty(e)},e.id)));return(0,xo.jsxs)(Os,{className:"full-height",children:[(0,xo.jsxs)(zs,{span:6,className:"scrollable sidebar sidebar-left",children:[(0,xo.jsxs)(Uf,{children:[(0,xo.jsx)("div",{className:"section",children:"this page is where you can tell dojo all about your pcs"}),(0,xo.jsx)("div",{className:"section",children:"you can add a party for each of your gaming groups"}),(0,xo.jsx)("div",{className:"section",children:"when you have set up a party and an encounter you can run the encounter in the combat manager"}),(0,xo.jsx)("hr",{}),(0,xo.jsx)("div",{className:"section",children:"on the right you will see the parties that you have created"}),(0,xo.jsxs)("div",{className:"section",children:["press a party's ",(0,xo.jsx)("b",{children:"open party"})," button to see details of its pcs"]}),(0,xo.jsx)("hr",{}),(0,xo.jsxs)("div",{className:"section",children:["to start adding a party, press the ",(0,xo.jsx)("b",{children:"add a new party"})," button"]})]}),(0,xo.jsx)(IB,{addParty:()=>this.props.addParty(),importParty:()=>this.props.importParty()})]}),(0,xo.jsx)(zs,{span:18,className:"scrollable",children:(0,xo.jsx)(jy,{heading:"parties",content:t})})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"PartyListScreen",error:DB})}}}class MB extends c.Component{constructor(e){super(e),this.state={cloneName:e.pc.name+" copy"}}setCloneName(e){this.setState({cloneName:e})}render(){try{let e=null;e=this.props.pc.active?(0,xo.jsx)("button",{onClick:()=>this.props.changeValue(this.props.pc,"active",!1),children:"mark pc as inactive"},"toggle-active"):(0,xo.jsx)("button",{onClick:()=>this.props.changeValue(this.props.pc,"active",!0),children:"mark pc as active"},"toggle-active");const t=[];return this.props.parties.forEach((e=>{-1===e.pcs.indexOf(this.props.pc)&&t.push({id:e.id,text:e.name||"unnamed party"})})),(0,xo.jsxs)("div",{children:[(0,xo.jsx)("button",{onClick:()=>this.props.editPC(this.props.pc),children:"edit pc"},"edit"),e,(0,xo.jsx)(kg,{text:"copy pc",children:(0,xo.jsxs)("div",{className:"content-then-icons",children:[(0,xo.jsx)("div",{className:"content",children:(0,xo.jsx)(Bo,{text:this.state.cloneName,placeholder:"name of copy",onChange:e=>this.setCloneName(e)})}),(0,xo.jsx)("div",{className:"icons",children:(0,xo.jsx)(ux,{title:"create copy",className:""===this.state.cloneName?"disabled":"",onClick:()=>this.props.clonePC(this.props.pc,this.state.cloneName)})})]})}),(0,xo.jsx)(Qf,{options:t,placeholder:"move to party...",onSelect:e=>this.props.moveToParty(this.props.pc,e)}),(0,xo.jsx)(Ef,{onConfirm:()=>this.props.removePC(this.props.pc),children:"delete pc"})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"PCOptions",error:DB})}}}class UB extends c.Component{render(){try{const e=(this.props.pc?this.props.pc.displayName:null)||this.props.pc.name||"unnamed pc";return(0,xo.jsxs)("div",{className:"card pc",children:[(0,xo.jsx)("div",{className:"heading",children:(0,xo.jsx)("div",{className:"title",title:e,children:e})}),(0,xo.jsxs)("div",{className:"card-content",children:[(0,xo.jsxs)("div",{className:"stats",children:[(0,xo.jsx)(vd,{source:this.props.pc}),(0,xo.jsxs)("div",{className:"section centered lowercase",children:[(0,xo.jsx)(Qc,{children:this.props.pc.race||"unknown race"}),(0,xo.jsx)(Qc,{children:this.props.pc.classes||"unknown class"}),(0,xo.jsx)(Qc,{children:"level "+this.props.pc.level})]}),(0,xo.jsx)(eg,{display:!!this.props.pc.url,children:(0,xo.jsx)("div",{className:"section centered",children:(0,xo.jsx)("a",{href:this.props.pc.url,target:"_blank",rel:"noopener noreferrer",children:"d&d beyond sheet"})})})]}),(0,xo.jsx)("hr",{}),(0,xo.jsx)(MB,{pc:this.props.pc,parties:this.props.parties,editPC:e=>this.props.editPC(e),removePC:e=>this.props.deletePC(e),clonePC:(e,t)=>this.props.clonePC(e,t),moveToParty:(e,t)=>this.props.moveToParty(e,t),changeValue:(e,t,n)=>this.props.changeValue(e,t,n)})]})]},this.props.pc.id)}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"PCCard",error:DB})}}}class NB extends c.Component{componentDidUpdate(){}render(){try{const e=this.props.party.pcs.filter((e=>e.active)),t=[];e.forEach((e=>{t.push((0,xo.jsx)(UB,{pc:e,parties:this.props.parties,changeValue:(e,t,n)=>this.props.changeValue(e,t,n),editPC:e=>this.props.editPC(e),deletePC:e=>this.props.deletePC(e),clonePC:(e,t)=>this.props.clonePC(e,t),moveToParty:(e,t)=>this.props.moveToParty(e,t)}))}));const n=this.props.party.pcs.filter((e=>!e.active)),r=[];return n.forEach((e=>{r.push((0,xo.jsx)(UB,{pc:e,parties:this.props.parties,changeValue:(e,t,n)=>this.props.changeValue(e,t,n),editPC:e=>this.props.editPC(e),deletePC:e=>this.props.deletePC(e),clonePC:(e,t)=>this.props.clonePC(e,t),moveToParty:(e,t)=>this.props.moveToParty(e,t)}))})),0===e.length&&t.push((0,xo.jsx)(Uf,{children:(0,xo.jsx)("div",{className:"section",children:"there are no pcs in this party"})})),(0,xo.jsxs)(Os,{className:"full-height",children:[(0,xo.jsxs)(zs,{span:6,className:"scrollable sidebar sidebar-left",children:[(0,xo.jsxs)("div",{className:"section",children:[(0,xo.jsx)("div",{className:"subheading",children:"party name"}),(0,xo.jsx)(Bo,{text:this.props.party.name,placeholder:"party name",onChange:e=>this.props.changeValue(this.props.party,"name",e)})]}),(0,xo.jsx)("hr",{}),(0,xo.jsx)(jB,{party:this.props.party,encounters:this.props.encounters,maps:this.props.maps,addPC:()=>this.props.addPC(),importPC:()=>this.props.importPC(),createEncounter:e=>this.props.createEncounter(e),startEncounter:(e,t)=>this.props.startEncounter(e,t),startExploration:(e,t)=>this.props.startExploration(e,t),setLevel:(e,t)=>this.props.setLevel(e,t),deleteParty:e=>this.props.deleteParty(e)}),(0,xo.jsx)("hr",{}),(0,xo.jsxs)("button",{onClick:()=>this.props.goBack(),children:[(0,xo.jsx)(No,{style:{fontSize:"10px"}})," back to the list"]})]}),(0,xo.jsxs)(zs,{span:18,className:"scrollable",children:[(0,xo.jsx)(jy,{content:t,heading:this.props.party.name||"unnamed party"}),(0,xo.jsx)(jy,{content:r,heading:"inactive pcs"})]})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"PartyScreen",error:DB})}}}class TB extends c.Component{constructor(e){super(e),this.monsterIdToGroup={},this.saveAfterDelay=ro.debounce((()=>this.saveAll()),5e3);let t=[];try{const e=window.localStorage.getItem("data-parties");e&&(t=JSON.parse(e),t.forEach((e=>{void 0===e.awards&&(e.awards=[]),e.pcs.forEach((e=>{void 0===e.darkvision&&(e.darkvision=0),void 0===e.awards&&(e.awards=[])}))})))}catch(c){console.error("Could not parse JSON: ",c)}let n=[];try{const e=window.localStorage.getItem("data-library");e&&(n=JSON.parse(e),n.forEach((e=>{e.monsters.forEach((e=>{if(void 0===e.acInfo&&(e.acInfo=""),void 0===e.legendaryActions){const t=e.traits.some((e=>"legendary"===e.type||"mythic"===e.type))?3:0;e.legendaryActions=t}e.role=mo.getRole(e)}))})))}catch(c){console.error("Could not parse JSON: ",c)}let r=[];try{const e=window.localStorage.getItem("data-encounters");e&&(r=JSON.parse(e),r.forEach((e=>{e.slots.forEach((e=>{void 0===e.roles&&(e.roles=[]),void 0===e.faction&&(e.faction="foe"),void 0===e.deltaCR&&(e.deltaCR=0)})),e.waves.forEach((e=>{e.slots.forEach((e=>{void 0===e.roles&&(e.roles=[]),void 0===e.faction&&(e.faction="foe"),void 0===e.deltaCR&&(e.deltaCR=0)}))}))})))}catch(c){console.error("Could not parse JSON: ",c)}let s=[];try{const e=window.localStorage.getItem("data-maps");e&&(s=JSON.parse(e),s.forEach((e=>{e.items.forEach((e=>{void 0===e.customLink&&(e.customLink=""),void 0===e.z&&(e.z=0),void 0===e.depth&&(e.depth=1)})),void 0===e.walls&&(e.walls=[]),void 0===e.areas&&(e.areas=[]),e.areas.forEach((e=>{void 0===e.z&&(e.z=0),void 0===e.depth&&(e.depth=1)})),void 0===e.lightSources&&(e.lightSources=[])})))}catch(c){console.error("Could not parse JSON: ",c)}let a=[];try{const e=window.localStorage.getItem("data-adventures");e&&(a=JSON.parse(e))}catch(c){console.error("Could not parse JSON: ",c)}let i=[];try{const e=window.localStorage.getItem("data-combats");e&&(i=JSON.parse(e),i.forEach((e=>{e.combatants.forEach((e=>{if(void 0===e.faction)switch(e.type){case"pc":case"companion":e.faction="ally";break;case"monster":e.faction="foe";break;default:e.faction="neutral"}void 0===e.note&&(e.note=""),void 0===e.mountID&&(e.mountID=null),void 0===e.mountType&&(e.mountType="controlled"),void 0===e.darkvision&&(e.darkvision=0),void 0===e.lightSource&&(e.lightSource=null),void 0===e.path&&(e.path=null)})),e.encounter&&(e.encounter.slots.forEach((e=>{void 0===e.roles&&(e.roles=[]),void 0===e.faction&&(e.faction="foe")})),e.encounter.waves.forEach((e=>{e.slots.forEach((e=>{void 0===e.roles&&(e.roles=[]),void 0===e.faction&&(e.faction="foe")}))}))),e.map&&(e.map.items.forEach((e=>{void 0===e.customLink&&(e.customLink=""),void 0===e.z&&(e.z=0),void 0===e.depth&&(e.depth=1)})),void 0===e.map.walls&&(e.map.walls=[]),void 0===e.map.areas&&(e.map.areas=[]),e.map.areas.forEach((e=>{void 0===e.z&&(e.z=0),void 0===e.depth&&(e.depth=1)})),void 0===e.map.lightSources&&(e.map.lightSources=[])),void 0===e.fog&&(e.fog=[]),void 0===e.lighting&&(e.lighting="bright light")})))}catch(c){console.error("Could not parse JSON: ",c)}let o=[];try{const e=window.localStorage.getItem("data-explorations");e&&(o=JSON.parse(e),o.forEach((e=>{e.map.items.forEach((e=>{void 0===e.customLink&&(e.customLink="")})),void 0===e.map.walls&&(e.map.walls=[]),void 0===e.map.areas&&(e.map.areas=[]),e.map.areas.forEach((e=>{void 0===e.z&&(e.z=0),void 0===e.depth&&(e.depth=1)})),void 0===e.map.lightSources&&(e.map.lightSources=[]),e.combatants.forEach((e=>{void 0===e.darkvision&&(e.darkvision=0),void 0===e.lightSource&&(e.lightSource=null),void 0===e.path&&(e.path=null)})),void 0===e.lighting&&(e.lighting="bright light")})))}catch(c){console.error("Could not parse JSON: ",c)}let l={showMonsterDieRolls:!1,showAwards:!1,theme:"light",diagonals:"onepointfive",featureFlags:[]};try{const e=window.localStorage.getItem("data-options");e&&(l=JSON.parse(e),void 0===l.showAwards&&(l.showAwards=!1),void 0===l.theme&&(l.theme="light"),void 0===l.diagonals&&(l.diagonals="onepointfive"),void 0===l.featureFlags&&(l.featureFlags=[]))}catch(c){console.error("Could not parse JSON: ",c)}const A={};[4,6,8,10,12,20,100].forEach((e=>A[e]=0)),A[20]=1,this.state={view:"home",drawer:null,sidebar:{visible:!1,type:"tools",subtype:"die",dice:A,constant:0,dieRolls:[],handout:null,languageMode:"common",languagePreset:lo.getLanguagePresets()[0].name,selectedLanguages:lo.getLanguagePresets()[0].languages,languageOutput:[],draws:[],selectedPartyID:null},parties:t,library:n,encounters:r,maps:s,adventures:a,combats:i,explorations:o,options:l,selectedPartyID:null,selectedMonsterGroupID:null,selectedEncounterID:null,selectedMapID:null,selectedAdventureID:null,selectedCombatID:null,selectedExplorationID:null},yo.clearUnusedImages(s,a,i,o)}componentDidMount(){Yi().bind("ctrl+f",(e=>{e.preventDefault(),this.setSidebar("search")}))}componentWillUnmount(){Yi().unbind("ctrl+f")}componentDidUpdate(){this.saveAfterDelay()}setView(e){this.save(),this.setState({view:e})}setSidebar(e){let t="";switch(e){case"tools":t="die";break;case"reference":t="skills";break;case"about":t="dojo"}const n=this.state.sidebar;n.visible=!0,n.type=e,n.subtype=t,this.setState({sidebar:n})}openDice(){const e=this.state.sidebar;e.visible=!0,e.type="tools",e.subtype="die",e.dice={},[4,6,8,10,12,20,100].forEach((t=>e.dice[t]=0)),e.dice[6]=1,this.setState({sidebar:e})}openSceneResource(e){let t=e.content;if("image"===e.type){const n=yo.getImage(e.content);n&&(t=n.data)}const n=this.state.sidebar;n.visible=!0,n.type="tools",n.subtype="handout",n.handout={type:e.type,src:t},this.setState({sidebar:n})}toggleSidebar(){const e=this.state.sidebar;e.visible=!e.visible,this.setState({sidebar:e})}closeDrawer(){this.setState({drawer:null})}selectParty(e){this.setState({view:"parties",selectedPartyID:e?e.id:null})}selectMonsterGroup(e){this.setState({view:"library",selectedMonsterGroupID:e?e.id:null})}selectEncounter(e){this.setState({view:"encounters",selectedEncounterID:e?e.id:null})}selectMap(e){this.setState({view:"maps",selectedMapID:e?e.id:null})}selectAdventure(e){this.setState({view:"adventures",selectedAdventureID:e?e.id:null})}selectPartyByID(e){this.save(),this.setState({view:"parties",selectedPartyID:e})}selectMonsterGroupByID(e){this.save(),this.setState({view:"library",selectedMonsterGroupID:e})}selectEncounterByID(e){this.save(),this.setState({view:"encounters",selectedEncounterID:e,selectedCombatID:null})}selectMapByID(e){this.save(),this.setState({view:"maps",selectedMapID:e,selectedExplorationID:null})}selectAdventureByID(e){this.save(),this.setState({view:"adventures",selectedAdventureID:e})}selectCombatByID(e){this.save(),this.setState({view:"encounters",selectedEncounterID:null,selectedCombatID:e})}selectExplorationByID(e){this.save(),this.setState({view:"maps",selectedMapID:null,selectedExplorationID:e})}rollDice(e,t,n,r,s){const a={};[4,6,8,10,12,20,100].forEach((e=>a[e]=0)),a[n]=t;const i=oo.rollDice(e,a,r,s),o=this.state.sidebar;o.dieRolls.unshift(i),this.setState({sidebar:o},(()=>{Ss.open({key:i.id,message:(0,xo.jsx)(Dw,{result:i}),closeIcon:(0,xo.jsx)(Pe,{}),duration:5})}))}showMarkdown(e,t){this.setState({drawer:{type:"markdown",title:e,content:t}})}getMonster(e){let t=this.monsterIdToGroup[e];if(!t){t=this.state.library.reduce(((e,t)=>e.concat(t.monsters)),[]).find((t=>t.id===e))||null,t&&(this.monsterIdToGroup[e]=t)}return t}changeValue(e,t,n){const r=t.split(".");let s=e;for(let a=0;a!==r.length;++a){const e=r[a];a===r.length-1?s[e]=n:s=s[e]}if(ro.sort(this.state.parties),ro.sort(this.state.library),ro.sort(this.state.encounters),ro.sort(this.state.maps),ro.sort(this.state.adventures),ro.sort(this.state.combats),ro.sort(this.state.explorations),"initiative"===t&&!e.pending){const e=this.state.combats.find((e=>e.id===this.state.selectedCombatID));io.sortCombatants(e)}if("hpCurrent"===t){const t=e;t.hpCurrent=Math.min(t.hpCurrent||0,t.hpMax||0),t.hpCurrent=Math.max(t.hpCurrent||0,0)}if("hpTemp"===t){const t=e;t.hpTemp=Math.max(t.hpTemp||0,0)}if("mountID"===t){const e=this.state.combats.find((e=>e.id===this.state.selectedCombatID));e&&e.map&&io.setMountPositions(e.combatants,e.map)}this.setState({parties:this.state.parties,library:this.state.library,encounters:this.state.encounters,maps:this.state.maps,adventures:this.state.adventures,combats:this.state.combats,explorations:this.state.explorations,selectedPartyID:this.state.selectedPartyID,selectedMonsterGroupID:this.state.selectedMonsterGroupID,selectedEncounterID:this.state.selectedEncounterID,selectedMapID:this.state.selectedMapID,selectedCombatID:this.state.selectedCombatID,selectedExplorationID:this.state.selectedExplorationID,drawer:this.state.drawer,sidebar:this.state.sidebar})}nudgeValue(e,t,n){const r=t.split(".");let s=e;for(let a=0;a!==r.length;++a){const i=r[a];if(a===r.length-1){let r=null;switch(i){case"challenge":r=oo.nudgeChallenge(s[i],n);break;case"size":case"displaySize":r=oo.nudgeSize(s[i],n);break;default:r=s[i]+n}this.changeValue(e,t,r)}else s=s[i]}}addParty(){const e=so.createParty();let t=this.state.parties;t.push(e),t=ro.sort(t),this.setState({parties:t,selectedPartyID:e.id})}deleteParty(e){const t=this.state.parties.indexOf(e);this.state.parties.splice(t,1),this.setState({parties:this.state.parties,selectedPartyID:null})}importParty(){this.setState({drawer:{type:"import-party",party:so.createParty()}})}acceptImportedParty(){this.state.parties.push(this.state.drawer.party),this.setState({parties:this.state.parties,drawer:null})}setPartyLevel(e,t){e.pcs.filter((e=>e.active)).forEach((e=>e.level=t)),this.setState({parties:this.state.parties})}clonePC(e,t){const n=this.state.parties.find((t=>t.pcs.includes(e)));if(n){const r=JSON.parse(JSON.stringify(e));r.id=ro.guid(),r.name=t,n.pcs.push(r),ro.sort(n.pcs),this.setState({parties:this.state.parties})}}moveToParty(e,t){const n=this.state.parties.find((t=>t.pcs.includes(e)));if(n){const r=n.pcs.indexOf(e);n.pcs.splice(r,1);const s=this.state.parties.find((e=>e.id===t));s&&(s.pcs.push(e),ro.sort(s.pcs),this.setState({parties:this.state.parties}))}}deletePC(e){const t=this.state.parties.find((e=>e.id===this.state.selectedPartyID));if(t){const n=t.pcs.indexOf(e);t.pcs.splice(n,1),this.setState({parties:this.state.parties})}}editPC(e){e||(e=so.createPC());const t=JSON.parse(JSON.stringify(e));this.setState({drawer:{type:"pc",pc:t}})}importPC(){this.setState({drawer:{type:"import-pc",pc:so.createPC()}})}acceptImportedPC(){const e=this.state.parties.find((e=>e.id===this.state.selectedPartyID));e&&(e.pcs.push(this.state.drawer.pc),ro.sort(e.pcs),this.setState({parties:this.state.parties,drawer:null}))}savePC(){ro.sort(this.state.drawer.pc.companions);const e=this.state.parties.find((e=>e.id===this.state.selectedPartyID));if(e){const t=e.pcs.find((e=>e.id===this.state.drawer.pc.id));if(t){const n=e.pcs.indexOf(t);e.pcs[n]=this.state.drawer.pc}else e.pcs.push(this.state.drawer.pc);ro.sort(e.pcs),this.setState({parties:this.state.parties,drawer:null})}}addMonsterGroup(){const e=so.createMonsterGroup();let t=this.state.library;t.push(e),t=ro.sort(t),this.setState({library:t,selectedMonsterGroupID:e.id})}deleteMonsterGroup(e){const t=this.state.library.indexOf(e);this.state.library.splice(t,1),this.setState({library:this.state.library,selectedMonsterGroupID:null})}deleteMonster(e){const t=this.state.library.find((e=>e.id===this.state.selectedMonsterGroupID));if(t){const n=t.monsters.indexOf(e);t.monsters.splice(n,1),this.setState({library:this.state.library})}}importMonster(){this.setState({drawer:{type:"import-monster",monster:so.createMonster()}})}acceptImportedMonster(){const e=this.state.library.find((e=>e.id===this.state.selectedMonsterGroupID));e&&(e.monsters.push(this.state.drawer.monster),ro.sort(e.monsters),this.setState({library:this.state.library,drawer:null}))}moveToGroup(e,t){const n=this.state.library.find((t=>t.monsters.includes(e)));if(n){const r=n.monsters.indexOf(e);n.monsters.splice(r,1);const s=this.state.library.find((e=>e.id===t));s&&(s.monsters.push(e),ro.sort(s.monsters),this.setState({library:this.state.library}))}}addMonster(){this.setState({drawer:{type:"monster",monster:so.createMonster()}})}generateMonster(){const e=this.state.library.find((e=>e.id===this.state.selectedMonsterGroupID));if(e){let t=1,n=[],r=[],s=[];e.monsters.length>0&&(t=Math.round(e.monsters.map((e=>e.challenge)).reduce(((e,t)=>e+t),0)/e.monsters.length),n=e.monsters.map((e=>e.size)).filter(((e,t,n)=>n.indexOf(e)===t)),r=e.monsters.map((e=>e.category)).filter(((e,t,n)=>n.indexOf(e)===t)),s=e.monsters.map((e=>e.role)).filter(((e,t,n)=>n.indexOf(e)===t))),this.setState({drawer:{type:"random-monster",data:{cr:t,size:1===n.length?n[0]:null,type:1===r.length?r[0]:null,role:1===s.length?s[0]:null},canAccept:()=>{const e=this.state.drawer.data;return mo.filterMonsters(this.state.library,e.cr,e.size,e.type,e.role).length>=2},onAccept:()=>{const t=this.state.drawer.data,n=mo.filterMonsters(this.state.library,t.cr,t.size,t.type,t.role),r=so.createMonster();mo.spliceMonsters(r,n),r.name=lo.capitalise(lo.generateName()),r.challenge=t.cr,e.monsters.push(r),ro.sort(e.monsters),this.setState({view:"library",library:this.state.library,drawer:{type:"statblock",source:r}})}}})}}editMonster(e){const t=JSON.parse(JSON.stringify(e));this.setState({drawer:{type:"monster",monster:t}})}saveMonster(){const e=this.state.library.find((e=>e.id===this.state.selectedMonsterGroupID));if(e){const t=e.monsters.find((e=>e.id===this.state.drawer.monster.id));if(t){const n=e.monsters.indexOf(t);e.monsters[n]=this.state.drawer.monster}else e.monsters.push(this.state.drawer.monster);ro.sort(e.monsters),this.setState({library:this.state.library,drawer:null})}}cloneMonster(e,t){const n=this.state.library.find((t=>t.monsters.includes(e)));if(n){const r=JSON.parse(JSON.stringify(e));r.id=ro.guid(),r.name=t,r.traits.forEach((e=>e.id=ro.guid())),n.monsters.push(r),ro.sort(n.monsters),this.setState({library:this.state.library})}}addOpenGameContent(){fetch("/dojo/data/monsters.json").then((e=>e.json())).then((e=>{e.forEach((e=>{try{if(e.name){const t=mo.createFromJSON(e);let n=t.tag||t.category;0===n.indexOf("swarm")&&(n="swarm"),"any race"===n&&(n="npc");let r=this.state.library.find((e=>e.name===n));r||(r={id:ro.guid(),name:n,monsters:[]},this.state.library.push(r)),r.monsters.push(t)}}catch(DB){console.error(DB)}})),ro.sort(this.state.library),this.setState({library:this.state.library})}))}openDemographics(e){this.setState({drawer:{type:"monster-demographics",group:e}})}addEncounter(e){const t=so.createEncounter();if(e){const n=io.encounterTemplates().find((t=>t.name===e));n&&(t.slots=n.slots.map((e=>{const t=so.createEncounterSlot();return t.roles=e.roles,t.count=e.count,t})))}let n=this.state.encounters;n.push(t),n=ro.sort(n),this.setState({view:"encounters",encounters:n,selectedEncounterID:t.id})}createEncounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e||1!==this.state.parties.length||(e=this.state.parties[0].id);let n=1e3;if(e){const t=this.state.parties.find((t=>t.id===e));t&&(n=io.getXPForDifficulty(t,"medium"))}this.setState({drawer:{type:"random-encounter",data:{type:null===e?"xp":"party",xp:n,partyID:e,difficulty:"medium",template:"",filter:so.createMonsterFilter()},canAccept:()=>"party"!==this.state.drawer.data.type||null!==this.state.drawer.data.partyID,onAccept:()=>{const e=so.createEncounter();if(io.buildEncounter(e,this.state.drawer.data.xp,this.state.drawer.data.template,this.state.drawer.data.filter,this.state.library,(e=>this.getMonster(e))),io.sortEncounter(e,(e=>this.getMonster(e))),ro.randomBoolean()&&(e.notes="**victory condition:** "+io.getVictoryCondition(e,(e=>this.getMonster(e)))),t){e.name=t.name;const n=so.createSceneResource();n.type="encounter",n.name=e.name,n.content=e.id,t.resources.push(n)}let n=this.state.encounters;n.push(e),n=ro.sort(n),this.setState({view:t?"adventures":"encounters",encounters:n,adventures:this.state.adventures,selectedEncounterID:t?this.state.selectedEncounterID:e.id,drawer:null})}}})}cloneEncounter(e,t){const n=JSON.parse(JSON.stringify(e));n.id=ro.guid(),n.slots.forEach((e=>e.id=ro.guid())),n.waves.forEach((e=>{e.id=ro.guid(),e.slots.forEach((e=>e.id=ro.guid()))})),n.name=t,this.state.encounters.push(n),ro.sort(this.state.encounters),this.setState({encounters:this.state.encounters})}deleteEncounter(e){const t=this.state.encounters.indexOf(e);this.state.encounters.splice(t,1),this.setState({encounters:this.state.encounters,selectedEncounterID:null})}addToEncounterSlot(e,t,n,r,s){const a=t?t.slots:e.slots;n||(n=so.createEncounterSlot(),a.push(n));if(this.state.library.find((e=>e.monsters.includes(r)))){n.monsterID=r.id,io.sortEncounter(e,(e=>this.getMonster(e)));let t=this.state.drawer;s?t=null:t.monster=null,this.setState({encounters:this.state.encounters,drawer:t})}}createEncounterFromMonsters(e){const t=so.createEncounter();e.forEach((e=>{const n=so.createEncounterSlot();n.monsterID=e,t.slots.push(n)})),this.state.encounters.push(t),this.setState({view:"encounters",encounters:this.state.encounters,selectedEncounterID:t.id})}addMap(){const e=so.createMap();let t=this.state.maps;t.push(e),t=ro.sort(t),ro.sort(t),this.setState({maps:t,selectedMapID:e.id})}generateMap(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.setState({drawer:{type:"random-map",data:{areas:5},canAccept:()=>!0,onAccept:()=>{const t=so.createMap();wo.generate(this.state.drawer.data.areas,t),t.areas.forEach((e=>{e.text=lo.generateRoomDescription()})),e?(e.map=t,t.areas.forEach((t=>{const n=so.createScene();n.id=t.id,n.name=t.name,t.text&&(n.content="> "+t.text),e.scenes.push(n),t.text=""}))):this.state.maps.push(t),this.setState({view:e?"adventures":"maps",maps:this.state.maps,adventures:this.state.adventures,selectedMapID:e?this.state.selectedMapID:t.id,drawer:null})}}})}cloneMap(e,t){const n=JSON.parse(JSON.stringify(e));n.id=ro.guid(),n.items.forEach((e=>e.id=ro.guid())),n.areas.forEach((e=>e.id=ro.guid())),n.name=t,this.state.maps.push(n),ro.sort(this.state.maps),this.setState({maps:this.state.maps})}importMap(){const e=so.createMap();this.setState({drawer:{type:"import-map",map:e}})}acceptImportedMap(){this.state.maps.push(this.state.drawer.map),this.setState({maps:this.state.maps,drawer:null})}declineImportedMap(){if(this.state.drawer.map.items.length>0){const e=this.state.drawer.map.items[0].customBackground;window.localStorage.removeItem("image-"+e)}this.closeDrawer()}deleteMap(e){const t=this.state.maps.indexOf(e);this.state.maps.splice(t,1),this.setState({maps:this.state.maps,selectedMapID:null})}selectMapTileImage(e,t){this.setState({drawer:{type:"select-image",onAccept:e=>{this.changeValue(t,"customBackground",e),this.closeDrawer()}}})}cloneMapTile(e,t){const n=JSON.parse(JSON.stringify(t));n.id=ro.guid(),n.x+=1,n.y+=1,e.items.push(n),this.setState({maps:this.state.maps})}rotateMapTile(e,t){const n=t.width;t.width=t.height,t.height=n;const r=Math.floor((t.width-t.height)/2);t.x-=r,t.y+=r,t.content&&(t.content.orientation="horizontal"===t.content.orientation?"vertical":"horizontal"),this.setState({maps:this.state.maps})}deleteMapTile(e,t){const n=e.items.indexOf(t);e.items.splice(n,1),this.setState({maps:this.state.maps})}clearMapTiles(e){e.items=[],this.setState({maps:this.state.maps})}bringToFront(e,t){const n=e.items.indexOf(t);e.items.splice(n,1),e.items.push(t),this.setState({maps:this.state.maps})}sendToBack(e,t){const n=e.items.indexOf(t);e.items.splice(n,1),e.items.unshift(t),this.setState({maps:this.state.maps})}addMapWall(e,t){e.walls.push(t),this.setState({maps:this.state.maps})}moveMapWall(e,t,n,r){wo.moveWall(t,n,r),this.setState({maps:this.state.maps})}nudgeWallLength(e,t,n){wo.nudgeWallLength(t,n),this.setState({maps:this.state.maps})}deleteMapWall(e,t){const n=e.walls.indexOf(t);e.walls.splice(n,1),this.setState({maps:this.state.maps})}fillInMapWalls(e){wo.addWalls(e,!0,!1),this.setState({maps:this.state.maps})}clearMapWalls(e){e.walls=[],this.setState({maps:this.state.maps})}moveMapTileOrArea(e,t,n,r){wo.move(e,t.id,n,r),this.setState({maps:this.state.maps})}addMapArea(e,t){e.areas.push(t),ro.sort(e.areas),this.setState({maps:this.state.maps})}deleteMapArea(e,t){const n=e.areas.indexOf(t);e.areas.splice(n,1),this.setState({maps:this.state.maps})}clearMapAreas(e){e.areas=[],this.setState({maps:this.state.maps})}addMapLightSource(e,t){e.lightSources.push(t),ro.sort(e.lightSources),this.setState({maps:this.state.maps,combats:this.state.combats,explorations:this.state.explorations})}deleteMapLightSource(e,t){const n=e.lightSources.indexOf(t);e.lightSources.splice(n,1),this.setState({maps:this.state.maps,combats:this.state.combats,explorations:this.state.explorations})}changeLightSource(e,t,n,r){e.name=t,e.bright=n,e.dim=r,this.setState({maps:this.state.maps,combats:this.state.combats,explorations:this.state.explorations})}generateRoom(e){wo.addRoom(e),this.setState({maps:this.state.maps})}addAdventure(){const e=so.createAdventure();e.plot.scenes.push(so.createScene());let t=this.state.adventures;t.push(e),t=ro.sort(t),this.setState({adventures:t,selectedAdventureID:e.id})}generateAdventure(){let e=null;1===this.state.parties.length&&(e=this.state.parties[0].id);let t=1e3;if(e){const n=this.state.parties.find((t=>t.id===e));n&&(t=io.getXPForDifficulty(n,"medium"))}this.setState({drawer:{type:"random-adventure",mapData:{areas:5},encounterData:{type:null===e?"xp":"party",xp:t,partyID:e,difficulty:"medium",template:"",filter:so.createMonsterFilter()},canAccept:()=>"party"!==this.state.drawer.encounterData.type||null!==this.state.drawer.encounterData.partyID,onAccept:()=>{const e=so.createAdventure(),t=so.createMap();wo.generate(this.state.drawer.mapData.areas,t),e.plot.map=t;let n=this.state.encounters,r=this.state.adventures;t.areas.forEach((t=>{const r=so.createScene();r.id=t.id,r.name=t.name,r.content="> "+lo.generateRoomDescription(),e.plot.scenes.push(r);const s=so.createEncounter();s.name=t.name;const a=this.state.drawer.encounterData;io.buildEncounter(s,a.xp,a.template,a.filter,this.state.library,(e=>this.getMonster(e))),io.sortEncounter(s,(e=>this.getMonster(e))),ro.randomBoolean()&&(s.notes="**victory condition:** "+io.getVictoryCondition(s,(e=>this.getMonster(e)))),n.push(s);const i=so.createSceneResource();i.type="encounter",i.name=s.name,i.content=s.id,r.resources.push(i)})),n=ro.sort(n),r.push(e),r=ro.sort(r),this.setState({view:"adventures",encounters:n,adventures:r,selectedAdventureID:e.id,drawer:null})}}})}deleteAdventure(e){const t=this.state.adventures.indexOf(e);this.state.adventures.splice(t,1),this.setState({adventures:this.state.adventures,selectedAdventureID:null})}addScene(e,t,n){const r=so.createScene();if(e.scenes.push(r),t){const e=so.createSceneLink();e.sceneID=r.id,t.links.push(e)}if(n){const e=so.createSceneLink();e.sceneID=n.id,r.links.push(e)}return this.setState({adventures:this.state.adventures}),r}moveScene(e,t,n){vo.moveScene(e,t,n),this.setState({adventures:this.state.adventures})}deleteScene(e,t){e.scenes=e.scenes.filter((e=>e.id!==t.id)),e.scenes.forEach((e=>{e.links=e.links.filter((e=>e.sceneID!==t.id))})),this.setState({adventures:this.state.adventures})}addLink(e,t){const n=so.createSceneLink();n.sceneID=t,e.links.push(n),this.setState({adventures:this.state.adventures})}deleteLink(e,t){e.links=e.links.filter((e=>e.id!==t.id)),this.setState({adventures:this.state.adventures})}addMapToPlot(e,t){t?this.generateMap(e):this.setState({drawer:{type:"add-map-to-plot",plot:e,accept:t=>{const n=JSON.parse(JSON.stringify(t));n.areas.forEach((e=>e.text="")),e.map=n,n.areas.forEach((t=>{const n=so.createScene();n.id=t.id,n.name=t.name,e.scenes.push(n)})),this.setState({adventures:this.state.adventures,drawer:null})}}})}removeMapFromPlot(e){e.map=null,this.setState({adventures:this.state.adventures})}addResourceToScene(e,t){if("image"===t)this.setState({drawer:{type:"select-image",onAccept:n=>{const r=so.createSceneResource();r.type=t,r.content=n,r.data=null,e.resources.push(r),this.setState({adventures:this.state.adventures,drawer:null})}}});else{const n=so.createSceneResource();n.type=t,e.resources.push(n),this.setState({adventures:this.state.adventures})}}addEncounterToScene(e,t,n){n?this.createEncounter(null,e):this.setState({drawer:{type:"add-encounter-to-scene",scene:e,party:t,accept:t=>{const n=so.createSceneResource();n.type="encounter",n.name=t.name,n.content=t.id,n.data={map:null,mapAreaID:null,lighting:"bright light",fog:[],slotInfo:oo.getCombatSlotData(t,(e=>this.getMonster(e)))},e.resources.push(n),this.setState({adventures:this.state.adventures,drawer:null})}}})}removeResourceFromScene(e,t){e.resources=e.resources.filter((e=>e.id!==t)),this.setState({adventures:this.state.adventures})}createCombat(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"bright light",i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[],l=1===this.state.parties.length?this.state.parties[0]:null;if(e){const t=this.state.parties.find((t=>t.id===e));t&&(l=t)}let A=1===this.state.encounters.length?this.state.encounters[0]:null;t&&(A=t);const c=so.createCombatSetup();c.party=JSON.parse(JSON.stringify(l)),c.encounter=JSON.parse(JSON.stringify(A)),o.length>0?c.slotInfo=JSON.parse(JSON.stringify(o)):A&&(c.slotInfo=oo.getCombatSlotData(A,(e=>this.getMonster(e)))),n&&(c.map=n,c.mapAreaID=r,c.fog=s,c.lighting=a),c.combatants=i,this.setState({drawer:{type:"combat-start",combatSetup:c}})}startCombat(){const e=this.state.drawer.combatSetup;if(e.party&&e.encounter){const t=e.party.name||"unnamed party",n=e.encounter.name||"unnamed encounter",r=so.createCombat();r.name=t+" vs "+n,r.encounter=JSON.parse(JSON.stringify(e.encounter)),e.combatants.forEach((e=>{r.combatants.push(e)})),e.party.pcs.filter((e=>e.active)).forEach((e=>{r.combatants.find((t=>t.id===e.id))||r.combatants.push(io.convertPCToCombatant(e))}));const s=[];r.encounter.slots.forEach((t=>{const n=io.slotToMonster(t,(e=>this.getMonster(e)));if(n){const a=e.slotInfo.find((e=>e.id===t.id));a&&a.members.forEach((e=>{const a=io.convertMonsterToCombatant(n,e.init,e.hp,e.name,t.faction);r.combatants.push(a),e.location&&s.push({combatant:a,x:e.location.x,y:e.location.y})}))}})),r.combatants.push(io.convertPlaceholderToCombatant()),io.sortCombatants(r),e.map&&(r.map=JSON.parse(JSON.stringify(e.map)),r.mapAreaID=e.mapAreaID,r.fog=e.fog,r.lighting=e.lighting,s.forEach((e=>{wo.add(r.map,e.combatant,r.combatants,e.x,e.y)})));let a=this.state.combats;a.push(r),a=ro.sort(a),this.setState({view:"encounters",combats:a,explorations:this.state.explorations,selectedCombatID:r.id,selectedExplorationID:null,drawer:null})}}openAddWaveModal(){const e=this.state.combats.find((e=>e.id===this.state.selectedCombatID));if(e){const t=so.createCombatSetup();t.encounter=e.encounter,t.slotInfo=oo.getCombatSlotData(e.encounter,(e=>this.getMonster(e))),this.setState({drawer:{type:"combat-wave",combatSetup:t}})}}addWaveToCombat(){const e=this.state.drawer.combatSetup,t=this.state.combats.find((e=>e.id===this.state.selectedCombatID));if(e&&e.encounter&&t){const n=e.encounter.waves.find((t=>t.id===e.waveID));n&&(n.slots.forEach((n=>{const r=io.slotToMonster(n,(e=>this.getMonster(e)));if(r){const s=e.slotInfo.find((e=>e.id===n.id));s&&s.members.forEach((e=>{const s=io.convertMonsterToCombatant(r,e.init,e.hp,e.name,n.faction);t.combatants.push(s)}))}})),io.sortCombatants(t),this.setState({combats:this.state.combats,drawer:null}))}}openAddCombatantModal(){if(this.state.combats.find((e=>e.id===this.state.selectedCombatID))){const e=so.createCombatSetup();e.encounter=so.createEncounter(),e.slotInfo=oo.getCombatSlotData(e.encounter,(e=>this.getMonster(e))),this.setState({drawer:{type:"combat-add-combatants",combatSetup:e}})}}addMonsterToAddCombatantsModal(e){const t=this.state.drawer.combatSetup;if(t&&t.encounter){if(this.state.library.find((t=>t.monsters.find((t=>t.id===e.id))))){const n=so.createEncounterSlot();n.monsterID=e.id,t.encounter.slots.push(n),t.slotInfo=oo.getCombatSlotData(t.encounter,(e=>this.getMonster(e))),this.setState({drawer:this.state.drawer})}}}addCombatantsToCombat(){const e=this.state.combats.find((e=>e.id===this.state.selectedCombatID)),t=this.state.drawer.combatSetup;e&&t&&t.encounter&&(t.encounter.slots.forEach((n=>{const r=io.slotToMonster(n,(e=>this.getMonster(e)));if(r){const s=t.slotInfo.find((e=>e.id===n.id));s&&s.members.forEach((t=>{const s=io.convertMonsterToCombatant(r,t.init,t.hp,t.name,n.faction);e.combatants.push(s)}))}})),io.sortCombatants(e),this.setState({combats:this.state.combats,drawer:null}))}addPCToEncounter(e,t){const n=this.state.combats.find((e=>e.id===this.state.selectedCombatID));if(n){const r=this.state.parties.find((t=>t.id===e));if(r){const e=r.pcs.find((e=>e.id===t));e&&(n.combatants.push(io.convertPCToCombatant(e)),ro.sort(n.combatants,[{field:"displayName",dir:"asc"}]),this.setState({combats:this.state.combats}))}}}addCompanionToEncounter(e){const t=this.state.combats.find((e=>e.id===this.state.selectedCombatID));t&&(t.combatants.push(io.convertCompanionToCombatant(e)),ro.sort(t.combatants,[{field:"displayName",dir:"asc"}]),this.setState({combats:this.state.combats}))}pauseCombat(){this.state.combats.find((e=>e.id===this.state.selectedCombatID))&&this.setState({view:"encounters",combats:this.state.combats,selectedCombatID:null})}resumeCombat(e){this.setState({view:"encounters",combats:this.state.combats,selectedCombatID:e.id})}endCombat(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.state.combats.indexOf(e);this.state.combats.splice(n,1),this.setState({view:"encounters",combats:this.state.combats,selectedCombatID:null},(()=>{if(e&&e.map&&t){const t=e.combatants.filter((e=>"pc"===e.type||"companion"===e.type));t.forEach((e=>{e.current=!1,e.pending=!0,e.active=!1,e.defeated=!1,e.initiative=10,e.path=null}));let n=null;const r=t.filter((e=>"pc"===e.type));if(r.length>0){const e=this.state.parties.find((e=>e.pcs.find((e=>e.id===r[0].id))));e&&(n=e.id,e.pcs.filter((e=>e.active)).forEach((e=>{t.find((t=>t.id===e.id))||t.push(io.convertPCToCombatant(e))})))}if(ro.sort(t,[{field:"displayName",dir:"asc"}]),n){const r=e.map.id;let s=this.state.explorations.find((e=>e.map.id===r&&e.partyID===n));s||(s=so.createExploration(),s.name=e.name+"in "+e.map.name,s.partyID=n,this.state.explorations.push(s)),s.map=e.map,s.mapAreaID=e.mapAreaID,s.fog=e.fog,s.lighting=e.lighting,s.combatants=t,s.map.items=s.map.items.filter((e=>"tile"===e.type||"pc"===e.type||"companion"===e.type)),this.setState({view:"maps",combats:this.state.combats,explorations:this.state.explorations,selectedCombatID:null,selectedExplorationID:s.id})}}}))}makeCurrent(e,t){const n=this.state.combats.find((e=>e.id===this.state.selectedCombatID));n&&(n.combatants.filter((e=>e.conditions)).forEach((t=>{t.conditions.forEach((r=>{if(r.duration)switch(r.duration.type){case"saves":if(e&&t.id===e.id&&"start"===r.duration.point){const e={id:ro.guid(),type:"condition-save",data:r,combatant:t};Ss.open({key:e.id,message:(0,xo.jsx)(Nw,{notification:e,close:(e,t)=>this.closeNotification(e,t)}),closeIcon:(0,xo.jsx)(Pe,{}),duration:null})}break;case"combatant":if(e&&(r.duration.combatantID===e.id||null===r.duration.combatantID)&&"start"===r.duration.point){const e=t.conditions.indexOf(r);t.conditions.splice(e,1);const n={id:ro.guid(),type:"condition-end",data:r,combatant:t};Ss.open({key:n.id,message:(0,xo.jsx)(Nw,{notification:n,close:(e,t)=>this.closeNotification(e,t)}),closeIcon:(0,xo.jsx)(Pe,{}),duration:null})}break;case"rounds":if(e&&t.id===e.id&&(r.duration.count-=1),0===r.duration.count){const e=t.conditions.indexOf(r);if(t.conditions.splice(e,1),n){const e={id:ro.guid(),type:"condition-end",data:r,combatant:t};Ss.open({key:e.id,message:(0,xo.jsx)(Nw,{notification:e,close:(e,t)=>this.closeNotification(e,t)}),closeIcon:(0,xo.jsx)(Pe,{}),duration:null})}}}}))})),e&&"monster"===e.type&&(e.traits.filter((e=>e.uses>0&&e.usage.toLowerCase().startsWith("recharge"))).forEach((t=>{const n={id:ro.guid(),type:"trait-recharge",data:t,combatant:e};Ss.open({key:n.id,message:(0,xo.jsx)(Nw,{notification:n,openSidebar:()=>this.openDice(),close:(e,t)=>this.closeNotification(e,t)}),closeIcon:(0,xo.jsx)(Pe,{}),duration:null})})),e.traits.filter((e=>"legendary"===e.type||"mythic"===e.type)).forEach((e=>{e.uses=0}))),n.combatants.forEach((e=>{e.current=!1,e.path=null})),e&&(e.current=!0,e.path=[]),t&&(n.round+=1),this.setState({combats:this.state.combats}))}makeActive(e){const t=this.state.combats.find((e=>e.id===this.state.selectedCombatID));if(t){const n=e.some((e=>e.pending));e.forEach((e=>{e.pending=!1,e.active=!0,e.defeated=!1})),n&&io.sortCombatants(t),this.setState({combats:this.state.combats})}}makeDefeated(e){const t=this.state.combats.find((e=>e.id===this.state.selectedCombatID));if(t){const n=t.combatants.find((e=>e.current));e.forEach((e=>{e.pending=!1,e.active=!1,e.defeated=!0,e.mountID=null,e.mountType="controlled",t.combatants.forEach((t=>{t.mountID===e.id&&(t.mountID=null,t.mountType="controlled")})),t.combatants.forEach((t=>{t.tags=t.tags.filter((t=>t!=="engaged:"+e.displayName))})),t.map&&(t.map.items=t.map.items.filter((t=>t.id!==e.id)))})),n&&e.find((e=>e.id===n.id))?this.endTurn(n):this.setState({combats:this.state.combats})}}removeCombatants(e){const t=this.state.combats.find((e=>e.id===this.state.selectedCombatID));t&&(e.forEach((e=>{const n=t.combatants.indexOf(e);if(t.combatants.splice(n,1),t.combatants.forEach((t=>{t.mountID===e.id&&(t.mountID=null,t.mountType="controlled")})),t.combatants.forEach((t=>{t.tags=t.tags.filter((t=>t!=="engaged:"+e.displayName))})),t.map){const n=t.map.items.find((t=>t.id===e.id));if(n){const e=t.map.items.indexOf(n);t.map.items.splice(e,1)}}})),this.setState({combats:this.state.combats}))}endTurn(e){const t=this.state.combats.find((e=>e.id===this.state.selectedCombatID));if(t){t.combatants.filter((e=>e.conditions)).forEach((t=>{t.conditions.forEach((n=>{if(n.duration)switch(n.duration.type){case"saves":if(t.id===e.id&&"end"===n.duration.point){const e=so.createNotification();e.type="condition-save",e.data=n,e.combatant=t,Ss.open({key:e.id,message:(0,xo.jsx)(Nw,{notification:e,close:(e,t)=>this.closeNotification(e,t)}),closeIcon:(0,xo.jsx)(Pe,{}),duration:null})}break;case"combatant":if((n.duration.combatantID===e.id||null===n.duration.combatantID)&&"end"===n.duration.point){const e=t.conditions.indexOf(n);t.conditions.splice(e,1);const r=so.createNotification();r.type="condition-end",r.data=n,r.combatant=t,Ss.open({key:r.id,message:(0,xo.jsx)(Nw,{notification:r,close:(e,t)=>this.closeNotification(e,t)}),closeIcon:(0,xo.jsx)(Pe,{}),duration:null})}}}))}));const n=t.combatants.filter((e=>!!e.mountID&&"controlled"===e.mountType)).map((e=>e.mountID||"")),r=t.combatants.filter((e=>!n.includes(e.id))).filter((e=>e.current||!e.pending&&e.active&&!e.defeated)).filter((e=>"placeholder"!==e.type||io.combatHasLairActions(t)));if(0===r.length)this.makeCurrent(null,!1);else if(1===r.length&&r[0].defeated)this.makeCurrent(null,!1);else{let t=r.indexOf(e)+1,n=!1;t>=r.length&&(t=0,n=!0),this.makeCurrent(r[t],n)}}}changeHP(e){const t=this.state.combats.find((e=>e.id===this.state.selectedCombatID));t&&(e.forEach((e=>{const n=t.combatants.find((t=>t.id===e.id));n&&(n.hpCurrent=e.hp,n.hpTemp=e.temp)})),this.setState({combats:this.state.combats}))}closeNotification(e,t){if(Ss.close(e.id),t&&e.combatant&&e.data){const t=e.combatant.conditions.indexOf(e.data);e.combatant.conditions.splice(t,1)}this.setState({combats:this.state.combats})}startExploration(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bright light";const r=this.state.parties.find((e=>e.id===t));if(r){const s=JSON.parse(JSON.stringify(e)),a=so.createExploration();a.name=(r.name||"unnamed party")+" in "+(e.name||"unnamed map"),a.map=s,a.partyID=t,a.lighting=n,r.pcs.filter((e=>e.active)).forEach((e=>{const t=io.convertPCToCombatant(e);a.combatants.push(t)}));let i=this.state.explorations;i.push(a),i=ro.sort(i),this.setState({view:"maps",explorations:i,selectedExplorationID:a.id})}}pauseExploration(){this.setState({view:"maps",explorations:this.state.explorations,selectedExplorationID:null})}resumeExploration(e){this.setState({view:"maps",explorations:this.state.explorations,selectedExplorationID:e.id})}endExploration(e){const t=this.state.explorations.indexOf(e);this.state.explorations.splice(t,1),this.setState({view:"maps",explorations:this.state.explorations,selectedExplorationID:null})}addPCToExploration(e,t){const n=this.state.explorations.find((e=>e.id===this.state.selectedExplorationID));if(n){const r=this.state.parties.find((t=>t.id===e));if(r){const e=r.pcs.find((e=>e.id===t));e&&(n.combatants.push(io.convertPCToCombatant(e)),ro.sort(n.combatants,[{field:"displayName",dir:"asc"}]),this.setState({explorations:this.state.explorations}))}}}addCompanionToExploration(e){const t=this.state.explorations.find((e=>e.id===this.state.selectedExplorationID));t&&(t.combatants.push(io.convertCompanionToCombatant(e)),ro.sort(t.combatants,[{field:"displayName",dir:"asc"}]),this.setState({explorations:this.state.explorations}))}toggleTag(e,t){e.forEach((e=>{e.tags.includes(t)?e.tags=e.tags.filter((e=>e!==t)):e.tags.push(t)})),this.setState({combats:this.state.combats,explorations:this.state.explorations})}toggleCondition(e,t){e.forEach((e=>{if(e.conditions.some((e=>e.name===t)))e.conditions=e.conditions.filter((e=>e.name!==t));else{const n=so.createCondition();n.name=t,e.conditions.push(n),e.conditions=ro.sort(e.conditions,[{field:"name",dir:"asc"}])}})),this.setState({combats:this.state.combats,explorations:this.state.explorations})}toggleHidden(e){e.forEach((e=>e.showOnMap=!e.showOnMap)),this.setState({combats:this.state.combats,explorations:this.state.explorations})}addCondition(e,t){const n=so.createCondition();n.name="blinded",this.setState({drawer:{type:"condition-add",condition:n,combatants:e,allCombatants:t}})}addConditionFromModal(){this.state.drawer.combatants.forEach((e=>{const t=JSON.parse(JSON.stringify(this.state.drawer.condition));t.id=ro.guid(),e.conditions.push(t),ro.sort(e.conditions,[{field:"name",dir:"asc"}])})),this.setState({combats:this.state.combats,explorations:this.state.explorations,drawer:null})}editCondition(e,t,n){this.setState({drawer:{type:"condition-edit",condition:t,combatants:[e],allCombatants:n}})}editConditionFromModal(){this.state.drawer.combatants.forEach((e=>{const t=e.conditions.find((e=>e.id===this.state.drawer.condition.id));if(t){const n=e.conditions.indexOf(t);e.conditions[n]=this.state.drawer.condition,ro.sort(e.conditions,[{field:"name",dir:"asc"}])}})),this.setState({combats:this.state.combats,explorations:this.state.explorations,drawer:null})}deleteCondition(e,t){e.conditions=e.conditions.filter((e=>e.name!==t.name)),this.setState({combats:this.state.combats,explorations:this.state.explorations})}scatterCombatants(e,t,n,r){wo.scatterCombatants(n,e,r),io.setMountPositions(t,n),this.setState({combats:this.state.combats,explorations:this.state.explorations})}rotateMap(e){wo.rotateMap(e),this.setState({combats:this.state.combats,maps:this.state.maps,explorations:this.state.explorations})}mapAdd(e,t,n,r,s){io.getMountsAndRiders([e.id],r).forEach((e=>wo.add(s,e,r,t,n))),this.setState({combats:this.state.combats,explorations:this.state.explorations})}mapMove(e,t,n,r,s){wo.moveCombatants(e,t,n,r,s),this.setState({combats:this.state.combats,explorations:this.state.explorations})}mapRemove(e,t,n){const r=io.getMountsAndRiders(e,t).map((e=>e.id));e.forEach((e=>{r.includes(e)||r.push(e)})),r.forEach((e=>wo.remove(n,e))),this.setState({combats:this.state.combats,explorations:this.state.explorations})}addMapItem(e,t){t.items.push(e),this.setState({combats:this.state.combats,maps:this.state.maps,explorations:this.state.explorations})}useTrait(e){e.uses+=1,this.setState({combats:this.state.combats,explorations:this.state.explorations})}rechargeTrait(e){e.uses=0,this.setState({combats:this.state.combats,explorations:this.state.explorations})}save(){switch(this.state.view){case"parties":this.saveKey(this.state.parties,"data-parties");break;case"library":this.saveKey(this.state.library,"data-library");break;case"encounters":this.saveKey(this.state.encounters,"data-encounters"),this.saveKey(this.state.combats,"data-combats");break;case"maps":this.saveKey(this.state.maps,"data-maps"),this.saveKey(this.state.explorations,"data-explorations");break;case"adventures":this.saveKey(this.state.adventures,"data-adventures")}this.saveKey(this.state.options,"data-options")}saveAll(){this.saveKey(this.state.parties,"data-parties"),this.saveKey(this.state.library,"data-library"),this.saveKey(this.state.encounters,"data-encounters"),this.saveKey(this.state.maps,"data-maps"),this.saveKey(this.state.adventures,"data-adventures"),this.saveKey(this.state.combats,"data-combats"),this.saveKey(this.state.explorations,"data-explorations"),this.saveKey(this.state.options,"data-options")}saveKey(e,t){try{const n=JSON.stringify(e);window.localStorage.setItem(t,n)}catch(n){console.error("Could not stringify data: ",n)}}exportAll(){const e={parties:this.state.parties,library:this.state.library,encounters:this.state.encounters,maps:this.state.maps,adventures:this.state.adventures,combats:this.state.combats,explorations:this.state.explorations,options:this.state.options,images:yo.allImages()};ro.saveFile("data.dojo",e)}importAll(e){const t=JSON.parse(e);t.images.forEach((e=>{yo.saveImage(e.id,e.name,e.data)}));this.state.sidebar.visible=!1,this.setState({view:"home",drawer:null,sidebar:this.state.sidebar,parties:t.parties,library:t.library,encounters:t.encounters,maps:t.maps,adventures:t.adventures,combats:t.combats,explorations:t.explorations,options:t.options,selectedPartyID:null,selectedMonsterGroupID:null,selectedEncounterID:null,selectedMapID:null,selectedAdventureID:null,selectedCombatID:null,selectedExplorationID:null},(()=>{this.saveAll()}))}getBreadcrumbs(){const e=[];switch(e.push({id:"home",text:"dojo",onClick:()=>this.setView("home")}),this.state.view){case"parties":if(e.push({id:"parties",text:"pcs",onClick:()=>this.selectPartyByID(null)}),this.state.selectedPartyID){const t=this.state.parties.find((e=>e.id===this.state.selectedPartyID));e.push({id:t.id,text:t.name||"unnamed party",onClick:()=>this.selectPartyByID(this.state.selectedPartyID)})}break;case"library":if(e.push({id:"library",text:"monsters",onClick:()=>this.selectMonsterGroupByID(null)}),this.state.selectedMonsterGroupID){const t=this.state.library.find((e=>e.id===this.state.selectedMonsterGroupID));e.push({id:t.id,text:t.name||"unnamed group",onClick:()=>this.selectMonsterGroupByID(this.state.selectedMonsterGroupID)})}break;case"encounters":if(e.push({id:"encounters",text:"encounters",onClick:()=>this.selectEncounterByID(null)}),this.state.selectedEncounterID){const t=this.state.encounters.find((e=>e.id===this.state.selectedEncounterID));e.push({id:t.id,text:t.name||"unnamed encounter",onClick:()=>this.selectEncounterByID(this.state.selectedEncounterID)})}if(this.state.selectedCombatID){const t=this.state.combats.find((e=>e.id===this.state.selectedCombatID));e.push({id:t.id,text:t.name||"unnamed combat",onClick:()=>this.selectCombatByID(this.state.selectedCombatID)})}break;case"maps":if(e.push({id:"maps",text:"maps",onClick:()=>this.selectMapByID(null)}),this.state.selectedMapID){const t=this.state.maps.find((e=>e.id===this.state.selectedMapID));e.push({id:t.id,text:t.name||"unnamed map",onClick:()=>this.selectMapByID(this.state.selectedMapID)})}if(this.state.selectedExplorationID){const t=this.state.explorations.find((e=>e.id===this.state.selectedExplorationID));e.push({id:t.id,text:t.name||"unnamed exploration",onClick:()=>this.selectExplorationByID(this.state.selectedExplorationID)})}break;case"adventures":if(e.push({id:"adventures",text:"adventures",onClick:()=>this.selectAdventureByID(null)}),this.state.selectedAdventureID){const t=this.state.adventures.find((e=>e.id===this.state.selectedAdventureID));e.push({id:t.id,text:t.name||"unnamed adventure",onClick:()=>this.selectAdventureByID(this.state.selectedAdventureID)})}break;case"dm":e.push({id:"dm screen",text:"dm screen",onClick:()=>null})}return e}getContent(){let e=!1;this.state.parties.forEach((t=>e=e||t.pcs.length>0));let t=!1;switch(this.state.library.forEach((e=>t=t||e.monsters.length>0)),this.state.view){case"home":return(0,xo.jsx)(AB,{});case"parties":return this.state.selectedPartyID?(0,xo.jsx)(NB,{party:this.state.parties.find((e=>e.id===this.state.selectedPartyID)),parties:this.state.parties,encounters:this.state.encounters,maps:this.state.maps,goBack:()=>this.selectParty(null),deleteParty:e=>this.deleteParty(e),addPC:()=>this.editPC(null),importPC:()=>this.importPC(),editPC:e=>this.editPC(e),deletePC:e=>this.deletePC(e),clonePC:(e,t)=>this.clonePC(e,t),moveToParty:(e,t)=>this.moveToParty(e,t),createEncounter:e=>this.createEncounter(e),startEncounter:(e,t)=>{const n=this.state.encounters.find((e=>e.id===t));this.createCombat(e,n)},startExploration:(e,t)=>{const n=this.state.maps.find((e=>e.id===t));this.startExploration(n,e)},setLevel:(e,t)=>this.setPartyLevel(e,t),changeValue:(e,t,n)=>this.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.nudgeValue(e,t,n)}):(0,xo.jsx)(QB,{parties:this.state.parties,encounters:this.state.encounters,maps:this.state.maps,addParty:()=>this.addParty(),importParty:()=>this.importParty(),openParty:e=>this.selectParty(e),addPC:()=>this.editPC(null),importPC:()=>this.importPC(),createEncounter:e=>this.createEncounter(e),startEncounter:(e,t)=>{const n=this.state.encounters.find((e=>e.id===t));this.createCombat(e,n)},startExploration:(e,t)=>{const n=this.state.maps.find((e=>e.id===t));this.startExploration(n,e)},setLevel:(e,t)=>this.setPartyLevel(e,t),deleteParty:e=>this.deleteParty(e),openStatBlock:e=>this.setState({drawer:{type:"statblock",source:e}})});case"library":return this.state.selectedMonsterGroupID?(0,xo.jsx)(EB,{monsterGroup:this.state.library.find((e=>e.id===this.state.selectedMonsterGroupID)),library:this.state.library,encounters:this.state.encounters,goBack:()=>this.selectMonsterGroup(null),deleteMonsterGroup:e=>this.deleteMonsterGroup(e),openDemographics:e=>this.openDemographics(e),addMonster:()=>this.addMonster(),generateMonster:()=>this.generateMonster(),importMonster:()=>this.importMonster(),deleteMonster:e=>this.deleteMonster(e),changeValue:(e,t,n)=>this.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.nudgeValue(e,t,n),viewMonster:e=>this.setState({drawer:{type:"statblock",source:e}}),editMonster:e=>this.editMonster(e),cloneMonster:(e,t)=>this.cloneMonster(e,t),moveToGroup:(e,t)=>this.moveToGroup(e,t),createEncounter:e=>this.createEncounterFromMonsters(e)}):(0,xo.jsx)(CB,{library:this.state.library,encounters:this.state.encounters,hasMonsters:t,addMonsterGroup:()=>this.addMonsterGroup(),openMonsterGroup:e=>this.selectMonsterGroup(e),deleteMonsterGroup:e=>this.deleteMonsterGroup(e),addOpenGameContent:()=>this.addOpenGameContent(),openStatBlock:e=>this.setState({drawer:{type:"statblock",source:e}}),openDemographics:e=>this.openDemographics(e),addMonster:()=>this.addMonster(),importMonster:()=>this.importMonster(),generateMonster:()=>this.generateMonster(),createEncounter:e=>this.createEncounterFromMonsters(e)});case"encounters":return this.state.selectedCombatID?(0,xo.jsx)(nx,{combat:this.state.combats.find((e=>e.id===this.state.selectedCombatID)),parties:this.state.parties,library:this.state.library,encounters:this.state.encounters,options:this.state.options,pauseCombat:()=>this.pauseCombat(),endCombat:(e,t)=>this.endCombat(e,t),nudgeValue:(e,t,n)=>this.nudgeValue(e,t,n),changeValue:(e,t,n)=>this.changeValue(e,t,n),makeCurrent:e=>this.makeCurrent(e,!1),makeActive:e=>this.makeActive(e),makeDefeated:e=>this.makeDefeated(e),useTrait:e=>this.useTrait(e),rechargeTrait:e=>this.rechargeTrait(e),removeCombatants:e=>this.removeCombatants(e),addCombatants:()=>this.openAddCombatantModal(),addCompanion:e=>this.addCompanionToEncounter(e),addPC:(e,t)=>this.addPCToEncounter(e,t),addWave:()=>this.openAddWaveModal(),addCondition:e=>{const t=this.state.combats.find((e=>e.id===this.state.selectedCombatID));this.addCondition(e,t.combatants)},editCondition:(e,t)=>{const n=this.state.combats.find((e=>e.id===this.state.selectedCombatID));this.editCondition(e,t,n.combatants)},deleteCondition:(e,t)=>this.deleteCondition(e,t),mapAdd:(e,t,n)=>{const r=this.state.combats.find((e=>e.id===this.state.selectedCombatID));this.mapAdd(e,t,n,r.combatants,r.map)},mapMove:(e,t,n)=>{const r=this.state.combats.find((e=>e.id===this.state.selectedCombatID));this.mapMove(e,t,r.combatants,r.map,n)},mapRemove:e=>{const t=this.state.combats.find((e=>e.id===this.state.selectedCombatID));this.mapRemove(e,t.combatants,t.map)},mapAddLightSource:(e,t)=>this.addMapLightSource(e,t),mapDeleteLightSource:(e,t)=>this.deleteMapLightSource(e,t),mapChangeLightSource:(e,t,n,r)=>this.changeLightSource(e,t,n,r),undoStep:e=>{if(e.path&&e.path.length>0){const t=this.state.combats.find((e=>e.id===this.state.selectedCombatID)).map.items.find((t=>t.id===e.id));if(t){e.path=e.path.filter((e=>!!e));const n=e.path.pop();n&&(t.x=n.x,t.y=n.y,t.z=n.z),this.setState({combats:this.state.combats})}}},endTurn:e=>this.endTurn(e),changeHP:e=>this.changeHP(e),toggleTag:(e,t)=>this.toggleTag(e,t),toggleCondition:(e,t)=>this.toggleCondition(e,t),toggleHidden:e=>this.toggleHidden(e),scatterCombatants:(e,t)=>{const n=this.state.combats.find((e=>e.id===this.state.selectedCombatID));this.scatterCombatants(e,n.combatants,n.map,t)},rotateMap:()=>{const e=this.state.combats.find((e=>e.id===this.state.selectedCombatID));this.rotateMap(e.map)},setFog:e=>{this.state.combats.find((e=>e.id===this.state.selectedCombatID)).fog=e,this.setState({combats:this.state.combats})},addOverlay:e=>{const t=this.state.combats.find((e=>e.id===this.state.selectedCombatID));this.addMapItem(e,t.map)},onRollDice:(e,t,n,r,s)=>this.rollDice(e,t,n,r,s)}):this.state.selectedEncounterID?(0,xo.jsx)(gx,{encounter:this.state.encounters.find((e=>e.id===this.state.selectedEncounterID)),parties:this.state.parties,adventures:this.state.adventures,cloneEncounter:(e,t)=>this.cloneEncounter(e,t),deleteEncounter:e=>this.deleteEncounter(e),startEncounter:(e,t)=>{const n=this.state.encounters.find((e=>e.id===t));this.createCombat(e,n)},populateEncounter:e=>{const t=[];this.state.library.forEach((n=>{n.monsters.forEach((n=>{e.slots.some((e=>e.monsterID===n.id))||t.push(n)}))})),e.slots.filter((e=>e.roles.length>0)).forEach((e=>{const n=t.filter((t=>e.roles.includes(t.role)));if(n.length>0){const t=n[ro.randomNumber(n.length)];this.state.library.find((e=>e.monsters.includes(t)))&&(e.monsterID=t.id)}})),io.sortEncounter(e,(e=>this.getMonster(e))),this.setState({encounters:this.state.encounters})},addWave:e=>{const t=so.createEncounterWave();t.name="wave "+(e.waves.length+2),e.waves.push(t),this.setState({encounters:this.state.encounters})},deleteWave:(e,t)=>{const n=e.waves.indexOf(t);e.waves.splice(n,1),this.setState({encounters:this.state.encounters})},moveEncounterSlot:(e,t,n,r,s)=>{if(t.count=Math.max(t.count-n,0),0===t.count)if(r){const e=r.slots.indexOf(t);r.slots.splice(e,1)}else{const n=e.slots.indexOf(t);e.slots.splice(n,1)}const a=(s?s.slots:e.slots).find((e=>e.monsterID===t.monsterID));if(a)a.count+=n;else{const r=so.createEncounterSlot();r.monsterID=t.monsterID,r.monsterThemeID=t.monsterThemeID,r.deltaCR=t.deltaCR,r.roles=[...t.roles],r.count=n,r.faction=t.faction,s?s.slots.push(r):e.slots.push(r)}io.sortEncounter(e,(e=>this.getMonster(e))),this.setState({encounters:this.state.encounters})},deleteEncounterSlot:(e,t,n)=>{if(n){const e=n.slots.indexOf(t);n.slots.splice(e,1)}else{const n=e.slots.indexOf(t);e.slots.splice(n,1)}this.setState({encounters:this.state.encounters})},chooseMonster:(e,t,n)=>{if(t){let r=null;t.monsterID&&(r=this.getMonster(t.monsterID)),this.setState({drawer:{type:"encounter-slot-template",encounter:e,slot:t,wave:n,originalMonster:r,monster:r}})}else this.setState({drawer:{type:"encounter-slot",encounter:e,slot:t,wave:n,originalMonster:null,monster:null}})},adjustSlot:(e,t)=>{const n=[];this.state.library.forEach((e=>{e.monsters.forEach((e=>{e.id!==t.monsterID&&"any race"===e.tag&&n.push(e)}))})),this.setState({drawer:{type:"encounter-slot-adjust",monster:this.getMonster(t.monsterID),themes:n,selectedThemeID:t.monsterThemeID,deltaCR:t.deltaCR,onAccept:()=>{t.monsterThemeID=this.state.drawer.selectedThemeID,t.deltaCR=this.state.drawer.deltaCR,io.sortEncounter(e,(e=>this.getMonster(e))),this.setState({encounters:this.state.encounters,drawer:null})}}})},chooseRandomTheme:(e,t)=>{const n=mo.getThemes(this.state.library,t),r=n[ro.randomNumber(n.length)];t.monsterThemeID=r.id,io.sortEncounter(e,(e=>this.getMonster(e))),this.setState({encounters:this.state.encounters})},splitTheme:(e,t)=>{const n=mo.getThemes(this.state.library,t);e.slots=e.slots.filter((e=>e.id!==t.id));for(let r=0;r!==t.count;++r){const r=JSON.parse(JSON.stringify(t));r.id=ro.guid(),r.count=1;const s=n[ro.randomNumber(n.length)];r.monsterThemeID=s.id,e.slots.push(r)}io.sortEncounterSlots(e,(e=>this.getMonster(e))),this.setState({encounters:this.state.encounters})},removeAdjustments:(e,t)=>{t.monsterThemeID="",t.deltaCR=0,io.sortEncounter(e,(e=>this.getMonster(e))),this.setState({encounters:this.state.encounters,drawer:null})},showStatblock:e=>this.setState({drawer:{type:"statblock",source:e}}),showMinisChecklist:e=>this.setState({drawer:{type:"minis-checklist",encounter:e}}),getMonster:e=>this.getMonster(e),changeValue:(e,t,n)=>this.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.nudgeValue(e,t,n),goBack:()=>this.selectEncounter(null)}):(0,xo.jsx)(mx,{encounters:this.state.encounters,combats:this.state.combats,parties:this.state.parties,adventures:this.state.adventures,hasMonsters:t,createEncounter:()=>this.createEncounter(null),addEncounter:e=>this.addEncounter(e),openEncounter:e=>this.selectEncounter(e),cloneEncounter:(e,t)=>this.cloneEncounter(e,t),deleteEncounter:e=>this.deleteEncounter(e),startEncounter:(e,t)=>{const n=this.state.encounters.find((e=>e.id===t));this.createCombat(e,n)},getMonster:e=>this.getMonster(e),setView:e=>this.setView(e),openStatBlock:e=>this.setState({drawer:{type:"statblock",source:e}}),resumeCombat:e=>this.resumeCombat(e),deleteCombat:e=>this.endCombat(e)});case"maps":return this.state.selectedExplorationID?(0,xo.jsx)(vx,{exploration:this.state.explorations.find((e=>e.id===this.state.selectedExplorationID)),parties:this.state.parties,library:this.state.library,options:this.state.options,startCombat:e=>this.createCombat(e.partyID,null,e.map,e.mapAreaID,e.fog,e.lighting,e.combatants),toggleTag:(e,t)=>this.toggleTag(e,t),toggleCondition:(e,t)=>this.toggleCondition(e,t),toggleHidden:e=>this.toggleHidden(e),addCondition:e=>{const t=this.state.explorations.find((e=>e.id===this.state.selectedExplorationID));this.addCondition(e,t.combatants)},editCondition:(e,t)=>{const n=this.state.explorations.find((e=>e.id===this.state.selectedExplorationID));this.editCondition(e,t,n.combatants)},deleteCondition:(e,t)=>this.deleteCondition(e,t),changeValue:(e,t,n)=>this.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.nudgeValue(e,t,n),addPC:(e,t)=>this.addPCToExploration(e,t),addCompanion:e=>this.addCompanionToExploration(e),mapAdd:(e,t,n)=>{const r=this.state.explorations.find((e=>e.id===this.state.selectedExplorationID));this.mapAdd(e,t,n,r.combatants,r.map)},mapMove:(e,t,n)=>{const r=this.state.explorations.find((e=>e.id===this.state.selectedExplorationID));this.mapMove(e,t,r.combatants,r.map,n)},mapRemove:e=>{const t=this.state.explorations.find((e=>e.id===this.state.selectedExplorationID));this.mapRemove(e,t.combatants,t.map)},mapAddLightSource:(e,t)=>this.addMapLightSource(e,t),mapDeleteLightSource:(e,t)=>this.deleteMapLightSource(e,t),mapChangeLightSource:(e,t,n,r)=>this.changeLightSource(e,t,n,r),scatterCombatants:(e,t)=>{const n=this.state.explorations.find((e=>e.id===this.state.selectedExplorationID));this.scatterCombatants(e,n.combatants,n.map,t)},rotateMap:()=>{const e=this.state.explorations.find((e=>e.id===this.state.selectedExplorationID));this.rotateMap(e.map)},getMonster:e=>this.getMonster(e),useTrait:e=>this.useTrait(e),rechargeTrait:e=>this.rechargeTrait(e),setFog:e=>{this.state.explorations.find((e=>e.id===this.state.selectedExplorationID)).fog=e,this.setState({explorations:this.state.explorations})},addOverlay:e=>{const t=this.state.explorations.find((e=>e.id===this.state.selectedExplorationID));this.addMapItem(e,t.map)},onRollDice:(e,t,n,r,s)=>this.rollDice(e,t,n,r,s),pauseExploration:()=>this.pauseExploration(),endExploration:e=>this.endExploration(e)}):this.state.selectedMapID?(0,xo.jsx)(gB,{map:this.state.maps.find((e=>e.id===this.state.selectedMapID)),parties:this.state.parties,cloneMap:(e,t)=>this.cloneMap(e,t),rotateMap:e=>this.rotateMap(e),deleteMap:e=>this.deleteMap(e),addMapTile:(e,t)=>this.addMapItem(t,e),selectMapTileImage:(e,t)=>this.selectMapTileImage(e,t),moveMapTile:(e,t,n,r)=>this.moveMapTileOrArea(e,t,n,r),cloneMapTile:(e,t)=>this.cloneMapTile(e,t),rotateMapTile:(e,t)=>this.rotateMapTile(e,t),deleteMapTile:(e,t)=>this.deleteMapTile(e,t),clearMapTiles:e=>this.clearMapTiles(e),bringToFront:(e,t)=>this.bringToFront(e,t),sendToBack:(e,t)=>this.sendToBack(e,t),addMapWall:(e,t)=>this.addMapWall(e,t),moveMapWall:(e,t,n,r)=>this.moveMapWall(e,t,n,r),nudgeWallLength:(e,t,n)=>this.nudgeWallLength(e,t,n),deleteMapWall:(e,t)=>this.deleteMapWall(e,t),fillInMapWalls:e=>this.fillInMapWalls(e),clearMapWalls:e=>this.clearMapWalls(e),addMapArea:(e,t)=>this.addMapArea(e,t),moveMapArea:(e,t,n,r)=>this.moveMapTileOrArea(e,t,n,r),deleteMapArea:(e,t)=>this.deleteMapArea(e,t),clearMapAreas:e=>this.clearMapAreas(e),addMapLightSource:(e,t)=>this.addMapLightSource(e,t),deleteMapLightSource:(e,t)=>this.deleteMapLightSource(e,t),changeLightSource:(e,t,n,r)=>this.changeLightSource(e,t,n,r),generateRoom:e=>this.generateRoom(e),startEncounter:(e,t,n)=>{const r=this.state.maps.find((e=>e.id===t));this.createCombat(e,null,r,null,[],n)},startExploration:(e,t,n)=>{const r=this.state.maps.find((e=>e.id===t));this.startExploration(r,e,n)},changeValue:(e,t,n)=>this.changeValue(e,t,n),nudgeValue:(e,t,n)=>this.nudgeValue(e,t,n),goBack:()=>this.selectMap(null)}):(0,xo.jsx)(mB,{maps:this.state.maps,parties:this.state.parties,explorations:this.state.explorations,addMap:()=>this.addMap(),importMap:()=>this.importMap(),generateMap:()=>this.generateMap(),openMap:e=>this.selectMap(e),cloneMap:(e,t)=>this.cloneMap(e,t),deleteMap:e=>this.deleteMap(e),startEncounter:(e,t)=>{const n=this.state.maps.find((e=>e.id===t));this.createCombat(e,null,n)},startExploration:(e,t)=>{const n=this.state.maps.find((e=>e.id===t));this.startExploration(n,e)},resumeExploration:e=>this.resumeExploration(e),deleteExploration:e=>this.endExploration(e)});case"adventures":return this.state.selectedAdventureID?(0,xo.jsx)(Gb,{adventure:this.state.adventures.find((e=>e.id===this.state.selectedAdventureID)),parties:this.state.parties,encounters:this.state.encounters,maps:this.state.maps,options:this.state.options,goBack:()=>this.selectAdventure(null),addScene:(e,t,n)=>this.addScene(e,t,n),moveScene:(e,t,n)=>this.moveScene(e,t,n),deleteScene:(e,t)=>this.deleteScene(e,t),addLink:(e,t)=>this.addLink(e,t),deleteLink:(e,t)=>this.deleteLink(e,t),deleteAdventure:e=>this.deleteAdventure(e),exploreMap:(e,t)=>this.startExploration(e,t),addMapToPlot:(e,t)=>this.addMapToPlot(e,t),removeMapFromPlot:e=>this.removeMapFromPlot(e),addResourceToScene:(e,t)=>this.addResourceToScene(e,t),addEncounterToScene:(e,t,n)=>this.addEncounterToScene(e,t,n),removeResourceFromScene:(e,t)=>this.removeResourceFromScene(e,t),openEncounter:e=>this.selectEncounterByID(e.content),setupEncounterMap:e=>{this.setState({drawer:{type:"combat-map",data:e.data}})},runEncounter:(e,t,n,r,s,a)=>{const i=this.state.encounters.find((t=>t.id===e.content));i&&this.createCombat("",i,t,n,r,s,[],a)},rotateMap:e=>{wo.rotateMap(e.map),this.setState({adventures:this.state.adventures})},showNotes:e=>this.showMarkdown(e.name||"unnamed scene",e.content),showMonster:e=>this.setState({drawer:{type:"statblock",source:e}}),showResource:e=>this.openSceneResource(e),getMonster:e=>this.getMonster(e),changeValue:(e,t,n)=>this.changeValue(e,t,n)}):(0,xo.jsx)(Db,{adventures:this.state.adventures,parties:this.state.parties,addAdventure:()=>this.addAdventure(),generateAdventure:()=>this.generateAdventure(),openAdventure:e=>this.selectAdventure(e),exploreMap:(e,t)=>this.startExploration(e,t),deleteAdventure:e=>this.deleteAdventure(e)});case"dm":return(0,xo.jsx)(ax,{parties:this.state.parties,showAwards:this.state.options.showAwards,addAward:(e,t)=>{t.awards.push(e),this.setState({parties:this.state.parties})},deleteAward:(e,t)=>{t.awards=t.awards.filter((t=>t!==e)),this.setState({parties:this.state.parties})}})}return(0,xo.jsx)("div",{children:this.state.view})}getTabs(){return[{id:"parties",text:"pcs",selected:"parties"===this.state.view,onSelect:()=>this.setView("parties")},{id:"library",text:"monsters",selected:"library"===this.state.view,onSelect:()=>this.setView("library")},{id:"encounters",text:"encounters",selected:"encounters"===this.state.view,onSelect:()=>this.setView("encounters")},{id:"maps",text:"maps",selected:"maps"===this.state.view,onSelect:()=>this.setView("maps")},{id:"adventures",text:"adventures",selected:"adventures"===this.state.view,onSelect:()=>this.setView("adventures")},{id:"dm",text:"dm screen",selected:"dm"===this.state.view,onSelect:()=>this.setView("dm")}]}getDrawer(){let e=null,t=null,n=null,r="50%",s=!1;if(this.state.drawer)switch(this.state.drawer.type){case"statblock":e=(0,xo.jsx)(Uw,{source:this.state.drawer.source,options:this.state.options}),t="statblock",s=!0;break;case"image":e=(0,xo.jsx)("img",{className:"nonselectable-image",src:this.state.drawer.data,alt:"shared"}),t="image",s=!0;break;case"import-party":e=(0,xo.jsx)(Fy,{party:this.state.drawer.party}),t="import party",n=(0,xo.jsx)("button",{onClick:()=>this.acceptImportedParty(),children:"accept party"}),s=!0;break;case"pc":e=(0,xo.jsx)(fv,{pc:this.state.drawer.pc,library:this.state.library}),t="pc editor",n=(0,xo.jsxs)(Os,{gutter:20,children:[(0,xo.jsx)(zs,{span:12,children:(0,xo.jsx)("button",{onClick:()=>this.savePC(),children:"save changes"})}),(0,xo.jsx)(zs,{span:12,children:(0,xo.jsx)("button",{onClick:()=>this.closeDrawer(),children:"discard changes"})})]});break;case"import-pc":e=(0,xo.jsx)(Iy,{pc:this.state.drawer.pc}),t="import pc",n=(0,xo.jsx)("button",{onClick:()=>this.acceptImportedPC(),children:"accept pc"}),s=!0;break;case"monster":e=(0,xo.jsx)(lv,{monster:this.state.drawer.monster,library:this.state.library,options:this.state.options}),t="monster designer",n=(0,xo.jsxs)(Os,{gutter:20,children:[(0,xo.jsx)(zs,{span:6,children:(0,xo.jsx)("button",{onClick:()=>this.saveMonster(),children:"save changes"})}),(0,xo.jsx)(zs,{span:6,children:(0,xo.jsx)("button",{onClick:()=>this.closeDrawer(),children:"discard changes"})}),(0,xo.jsx)(zs,{span:12})]}),r="85%";break;case"import-monster":e=(0,xo.jsx)(ky,{monster:this.state.drawer.monster}),t="import monster",n=(0,xo.jsx)("button",{onClick:()=>this.acceptImportedMonster(),children:"accept monster"}),s=!0;break;case"monster-demographics":e=(0,xo.jsx)(Zy,{groups:this.state.drawer.group?[this.state.drawer.group]:this.state.library}),t="demographics",s=!0;break;case"random-monster":e=(0,xo.jsx)(Ew,{parties:[],library:this.state.library,monsterData:this.state.drawer.data,mapData:null,encounterData:null,onUpdated:()=>this.forceUpdate()}),t="generate a random monster",n=(0,xo.jsx)("button",{className:this.state.drawer.canAccept()?"":"disabled",onClick:()=>this.state.drawer.onAccept(),children:"create the monster"}),s=!0;break;case"random-encounter":e=(0,xo.jsx)(Ew,{parties:this.state.parties,library:[],monsterData:null,mapData:null,encounterData:this.state.drawer.data,onUpdated:()=>this.forceUpdate()}),t="generate a random encounter",n=(0,xo.jsx)("button",{className:this.state.drawer.canAccept()?"":"disabled",onClick:()=>this.state.drawer.onAccept(),children:"create the encounter"}),s=!0;break;case"encounter-slot":e=(0,xo.jsx)(Ty,{slot:this.state.drawer.slot,originalMonster:this.state.drawer.originalMonster,monster:this.state.drawer.monster,library:this.state.library,setMonster:e=>{const t=this.state.drawer;t.monster=e,this.setState({encounters:this.state.encounters,drawer:t})}}),t="choose a monster",n=(0,xo.jsxs)(Os,{gutter:10,children:[(0,xo.jsx)(zs,{span:12,children:(0,xo.jsx)("button",{className:this.state.drawer.monster?"":"disabled",onClick:()=>this.addToEncounterSlot(this.state.drawer.encounter,this.state.drawer.wave,this.state.drawer.slot,this.state.drawer.monster,!1),children:"add this monster to the encounter"})}),(0,xo.jsx)(zs,{span:12,children:(0,xo.jsx)("button",{onClick:()=>this.closeDrawer(),children:"close"})})]}),r="75%",s=!0;break;case"encounter-slot-adjust":e=(0,xo.jsx)(Dy,{monster:this.state.drawer.monster,themes:this.state.drawer.themes,selectedThemeID:this.state.drawer.selectedThemeID,selectTheme:e=>{const t=this.state.drawer;t.selectedThemeID=e,this.setState({drawer:t})},deltaCR:this.state.drawer.deltaCR,setDeltaCR:e=>{const t=this.state.drawer;t.deltaCR=e,this.setState({drawer:t})}}),t="modify monster",n=(0,xo.jsxs)(Os,{gutter:10,children:[(0,xo.jsx)(zs,{span:12,children:(0,xo.jsx)("button",{onClick:()=>this.state.drawer.onAccept(),children:"accept"})}),(0,xo.jsx)(zs,{span:12,children:(0,xo.jsx)("button",{onClick:()=>this.closeDrawer(),children:"cancel"})})]}),r="75%",s=!0;break;case"encounter-slot-template":e=(0,xo.jsx)(Ty,{slot:this.state.drawer.slot,originalMonster:this.state.drawer.originalMonster,monster:this.state.drawer.monster,library:this.state.library,setMonster:e=>{const t=this.state.drawer;t.monster=e,this.setState({encounters:this.state.encounters,drawer:t})}}),t="choose a monster",n=(0,xo.jsxs)(Os,{gutter:10,children:[(0,xo.jsx)(zs,{span:12,children:(0,xo.jsx)("button",{className:this.state.drawer.monster?"":"disabled",onClick:()=>this.addToEncounterSlot(this.state.drawer.encounter,this.state.drawer.wave,this.state.drawer.slot,this.state.drawer.monster,!0),children:"add this monster to the encounter"})}),(0,xo.jsx)(zs,{span:12,children:(0,xo.jsx)("button",{onClick:()=>this.closeDrawer(),children:"cancel"})})]}),r="75%",s=!0;break;case"import-map":e=(0,xo.jsx)(Cy,{map:this.state.drawer.map}),t="import map",n=(0,xo.jsxs)(Os,{gutter:20,children:[(0,xo.jsx)(zs,{span:12,children:(0,xo.jsx)("button",{onClick:()=>this.acceptImportedMap(),children:"save changes"})}),(0,xo.jsx)(zs,{span:12,children:(0,xo.jsx)("button",{onClick:()=>this.declineImportedMap(),children:"discard changes"})})]}),r="75%",s=!1;break;case"random-map":e=(0,xo.jsx)(Ew,{parties:[],library:[],monsterData:null,mapData:this.state.drawer.data,encounterData:null,onUpdated:()=>this.forceUpdate()}),t="generate a random map",n=(0,xo.jsx)("button",{className:this.state.drawer.canAccept()?"":"disabled",onClick:()=>this.state.drawer.onAccept(),children:"create the map"}),s=!0;break;case"random-adventure":e=(0,xo.jsx)(Ew,{parties:this.state.parties,library:[],monsterData:null,mapData:this.state.drawer.mapData,encounterData:this.state.drawer.encounterData,onUpdated:()=>this.forceUpdate()}),t="generate a random adventure",n=(0,xo.jsx)("button",{className:this.state.drawer.canAccept()?"":"disabled",onClick:()=>this.state.drawer.onAccept(),children:"create the adventure"}),s=!0;break;case"combat-start":e=(0,xo.jsx)(Vy,{type:"start",combatSetup:this.state.drawer.combatSetup,library:this.state.library,encounters:this.state.encounters,maps:this.state.maps,options:this.state.options,getMonster:e=>this.getMonster(e),notify:()=>this.setState({drawer:this.state.drawer})}),t="start combat",n=(0,xo.jsx)("button",{className:this.state.drawer.combatSetup.party&&this.state.drawer.combatSetup.encounter?"":"disabled",onClick:()=>this.startCombat(),children:"start combat"}),s=!0;break;case"combat-wave":e=(0,xo.jsx)(Vy,{type:"add-wave",combatSetup:this.state.drawer.combatSetup,library:this.state.library,options:this.state.options,getMonster:e=>this.getMonster(e),notify:()=>this.setState({drawer:this.state.drawer})}),t="add a wave",n=(0,xo.jsx)("button",{className:null!==this.state.drawer.combatSetup.waveID?"":"disabled",onClick:()=>this.addWaveToCombat(),children:"add wave"}),s=!0;break;case"combat-add-combatants":e=(0,xo.jsx)(Vy,{type:"add-combatants",combatSetup:this.state.drawer.combatSetup,library:this.state.library,options:this.state.options,getMonster:e=>this.getMonster(e),addMonster:e=>this.addMonsterToAddCombatantsModal(e),notify:()=>this.setState({drawer:this.state.drawer})}),t="add combatants",n=(0,xo.jsx)("button",{className:null!==this.state.drawer.combatSetup.encounter?"":"disabled",onClick:()=>this.addCombatantsToCombat(),children:"add combatants"}),s=!0;break;case"combat-map":e=(0,xo.jsx)(Hy,{maps:this.state.maps,map:this.state.drawer.data.map,setMap:e=>{this.state.drawer.data.map=e,this.setState({drawer:this.state.drawer})},areaID:this.state.drawer.data.mapAreaID,setAreaID:e=>{this.state.drawer.data.mapAreaID=e,this.setState({drawer:this.state.drawer})},lighting:this.state.drawer.data.lighting,setLighting:e=>{this.state.drawer.data.lighting=e,this.setState({drawer:this.state.drawer})},fog:this.state.drawer.data.fog,setFog:e=>{this.state.drawer.data.fog=e,this.setState({drawer:this.state.drawer})},slotInfo:this.state.drawer.data.slotInfo,setSlotInfo:e=>{this.state.drawer.data.slotInfo=e,this.setState({drawer:this.state.drawer})},getMonster:e=>this.getMonster(e)}),t="setup encounter map",s=!0;break;case"condition-add":e=(0,xo.jsx)(Xy,{condition:this.state.drawer.condition,combatants:this.state.drawer.combatants,allCombatants:this.state.drawer.allCombatants}),t="add a condition",n=(0,xo.jsx)("button",{onClick:()=>this.addConditionFromModal(),children:"add"}),r="75%",s=!0;break;case"condition-edit":e=(0,xo.jsx)(Xy,{condition:this.state.drawer.condition,combatants:this.state.drawer.combatants,allCombatants:this.state.drawer.allCombatants}),t="edit condition",n=(0,xo.jsxs)(Os,{gutter:20,children:[(0,xo.jsx)(zs,{span:12,children:(0,xo.jsx)("button",{onClick:()=>this.editConditionFromModal(),children:"save changes"})}),(0,xo.jsx)(zs,{span:12,children:(0,xo.jsx)("button",{onClick:()=>this.closeDrawer(),children:"discard changes"})})]}),r="75%";break;case"select-image":e=(0,xo.jsx)(Uy,{select:e=>this.state.drawer.onAccept(e)}),t="choose an image",r="25%";break;case"markdown":e=(0,xo.jsx)($y,{content:this.state.drawer.content}),t=this.state.drawer.title,s=!0;break;case"add-map-to-plot":e=(0,xo.jsx)(Ny,{maps:this.state.maps.filter((e=>e.areas.length>0)),onSelect:e=>this.state.drawer.accept(e)}),t="choose a map",s=!0;break;case"add-encounter-to-scene":e=(0,xo.jsx)(My,{encounters:this.state.encounters,party:this.state.drawer.party,getMonster:e=>this.getMonster(e),onSelect:e=>this.state.drawer.accept(e)}),t="choose an encounter",s=!0;break;case"minis-checklist":e=(0,xo.jsx)(ew,{encounter:this.state.drawer.encounter,getMonster:e=>this.getMonster(e)}),t="miniatures checklist",s=!0}return{content:e,header:t,footer:n,width:r,closable:s}}render(){try{var e,t;const n=this.getBreadcrumbs(),r=this.getContent(),s=this.getTabs(),a=this.getDrawer();return(0,xo.jsxs)("div",{className:"dojo "+this.state.options.theme,children:[(0,xo.jsxs)("div",{className:this.state.sidebar.visible?"app with-sidebar":"app",children:[(0,xo.jsx)(Co,{children:(0,xo.jsx)(Ww,{breadcrumbs:n,sidebarVisible:this.state.sidebar.visible,onToggleSidebar:()=>this.toggleSidebar()})}),(0,xo.jsx)(Co,{children:(0,xo.jsx)("div",{className:"page-content",children:r})}),(0,xo.jsx)(Co,{children:(0,xo.jsx)(Hw,{tabs:s})})]}),(0,xo.jsx)(Co,{children:(0,xo.jsx)(Cb,{sidebar:this.state.sidebar,user:"dm",parties:this.state.parties,library:this.state.library,encounters:this.state.encounters,maps:this.state.maps,adventures:this.state.adventures,options:this.state.options,currentCombat:null!==(e=this.state.combats.find((e=>e.id===this.state.selectedCombatID)))&&void 0!==e?e:null,currentExploration:null!==(t=this.state.explorations.find((e=>e.id===this.state.selectedExplorationID)))&&void 0!==t?t:null,onSelectSidebar:e=>this.setSidebar(e),onUpdateSidebar:e=>this.setState({sidebar:e}),selectParty:e=>this.selectPartyByID(e),selectMonsterGroup:e=>this.selectMonsterGroupByID(e),selectEncounter:e=>this.selectEncounterByID(e),selectMap:e=>this.selectMapByID(e),selectAdventure:e=>this.selectAdventureByID(e),openImage:e=>this.setState({drawer:{type:"image",data:e}}),setOption:(e,t)=>{const n=this.state.options;n[e]=t,this.setState({options:n})},clearUnusedImages:()=>yo.clearUnusedImages(this.state.maps,this.state.adventures,this.state.combats,this.state.explorations),exportAll:()=>this.exportAll(),importAll:e=>this.importAll(e),addFlag:e=>{const t=this.state.options;t.featureFlags.push(e),t.featureFlags.sort(),this.setState({options:t})},removeFlag:e=>{const t=this.state.options;t.featureFlags=t.featureFlags.filter((t=>t!==e)),this.setState({options:t})},getMonster:e=>this.getMonster(e)})}),(0,xo.jsx)(Co,{children:(0,xo.jsxs)(_i,{className:this.state.options.theme,closable:!1,maskClosable:a.closable,width:a.width,open:null!==a.content,onClose:()=>this.closeDrawer(),children:[(0,xo.jsx)("div",{className:"drawer-header",children:(0,xo.jsx)("div",{className:"app-title",children:a.header})}),(0,xo.jsx)("div",{className:"drawer-content",children:a.content}),(0,xo.jsx)("div",{className:"drawer-footer",children:a.footer})]})})]})}catch(DB){return console.error(DB),(0,xo.jsx)(ko,{context:"Main",error:DB})}}}r.render((0,xo.jsx)(TB,{}),document.getElementById("root"))})()})();